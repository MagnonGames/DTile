<!DOCTYPE html>

<html>
    <head>
        <title>state helpers test</title>
        <meta charset="utf-8">
        <script src="../../node_modules/web-component-tester/browser.js"></script>

        <link rel="import" href="../../src/dtile-state/import.html">
    </head>
    <body>
        <script>
            /* eslint-env mocha */
            /* globals expect */
            describe("state helpers", () => {
                describe("freeId", () => {
                    it("returns the correct id", () => {
                        expect(DTile.stateHelpers.freeId({
                            "0": undefined,
                            "1": null,
                            "2": {},
                            "3": "hi",
                            "5": 123
                        })).to.equal(4);
                    });
                });

                describe("lastId", () => {
                    it("returns the last id + 1", () => {
                        expect(DTile.stateHelpers.lastId({
                            "0": true,
                            "10": false
                        })).to.equal(11);
                    });

                    it("returns 0 when object is empty", () => {
                        expect(DTile.stateHelpers.lastId({})).to.equal(0);
                    });
                });
            });
        </script>
    </body>
</html>
