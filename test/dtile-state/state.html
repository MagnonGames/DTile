<!DOCTYPE html>

<html>
    <head>
        <title>state test</title>
        <meta charset="utf-8">
        <script src="../../node_modules/web-component-tester/browser.js"></script>

        <link rel="import" href="../../src/dtile-state/import.html">
    </head>
    <body>
        <script>
            const action = (type, payload) => ({ type, payload });

            /* eslint-env mocha */
            /* globals expect */
            describe("state", () => {
                beforeEach(() => {
                    DTile.createStore();
                });

                describe("REPLACE", () => {
                    it("replaces the entire state", () => {
                        const state = { entities: { maps: {}, tilesets: {}, projects: {} }, ui: { foo: true } };
                        DTile.store.dispatch(action("REPLACE", state));
                        expect(DTile.store.getState()).to.deep.equal(state);
                    });
                });
            });
        </script>
    </body>
</html>
