<!DOCTYPE html><html><head><title>DTile</title><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="theme-color" content="#000000"><link rel="icon" type="image/png" href="/img/icon/16.png" sizes="16x16"><link rel="icon" type="image/png" href="/img/icon/192.png" sizes="192x192"><link rel="manifest" href="/manifest.json"><script>(function(){"use strict";function e(){e=function(){},p.Symbol||(p.Symbol=vn)}function t(){e();var n=p.Symbol.iterator;n||(n=p.Symbol.iterator=p.Symbol("iterator")),"function"!=typeof Array.prototype[n]&&q(Array.prototype,n,{configurable:!0,writable:!0,value:function(){return o(this)}}),t=function(){}}function o(e){var t=0;return n(function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}})}function n(e){return t(),e={next:e},e[p.Symbol.iterator]=function(){return this},e}function l(e){t();var n=e[Symbol.iterator];return n?n.call(e):o(e)}function i(e){for(var t,o=[];!(t=e.next()).done;)o.push(t.value);return o}function a(){return"undefined"==typeof Tn?c():function(){Tn(h)}}function d(){var e=0,t=new wn(h),o=document.createTextNode("");return t.observe(o,{characterData:!0}),function(){o.data=e=++e%2}}function s(){var e=new MessageChannel;return e.port1.onmessage=h,function(){return e.port2.postMessage(0)}}function c(){var e=setTimeout;return function(){return e(h,1)}}function h(){for(var e=0;e<Mn;e+=2)(0,Pn[e])(Pn[e+1]),Pn[e]=void 0,Pn[e+1]=void 0;Mn=0}function m(e,t){Pn[Mn]=e,Pn[Mn+1]=t,Mn+=2,2==Mn&&xn()}function g(t,o){var n=this,l=new this.constructor(C);void 0===l[Fn]&&nt(l);var r=n.h;if(r){var e=arguments[r-1];m(function(){return tt(r,l,e,n.f)})}else u(n,l,t,o);return l}function f(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(C);return $(t,e),t}function C(){}function _(e){try{return e.then}catch(e){return qn.error=e,qn}}function k(e,t,o,n){try{e.call(t,o,n)}catch(t){return t}}function P(e,t,o){m(function(e){var n=!1,l=k(o,t,function(o){n||(n=!0,t===o?_e(e,o):$(e,o))},function(t){n||(n=!0,r(e,t))});!n&&l&&(n=!0,r(e,l))},e)}function j(e,t){1===t.h?_e(e,t.f):2===t.h?r(e,t.f):u(t,void 0,function(t){return $(e,t)},function(t){return r(e,t)})}function B(e,t,o){t.constructor===e.constructor&&o===g&&t.constructor.resolve===f?j(e,t):o===qn?(r(e,qn.error),qn.error=null):void 0===o?_e(e,t):"function"==typeof o?P(e,t,o):_e(e,t)}function $(e,t){if(e===t)r(e,new TypeError("You cannot resolve a promise with itself"));else{var o=typeof t;null===t||"object"!=o&&"function"!=o?_e(e,t):B(e,t,_(t))}}function Z(e){e.qa&&e.qa(e.f),et(e)}function _e(e,t){void 0===e.h&&(e.f=t,e.h=1,0!==e.L.length&&m(et,e))}function r(e,t){void 0===e.h&&(e.h=2,e.f=t,m(Z,e))}function u(t,o,n,l){var r=t.L,e=r.length;t.qa=null,r[e]=o,r[e+1]=n,r[e+2]=l,0===e&&t.h&&m(et,t)}function et(t){var o=t.L,n=t.h;if(0!==o.length){for(var l,r,e=t.f,a=0;a<o.length;a+=3)l=o[a],r=o[a+n],l?tt(n,l,r,e):r(e);t.L.length=0}}function b(){this.error=null}function tt(t,o,n,l){var a="function"==typeof n;if(a){try{var e=n(l)}catch(t){Un.error=t,e=Un}if(e===Un){var i=!0,d=e.error;e.error=null}else var s=!0;if(o===e)return void r(o,new TypeError("A promises callback cannot return that same promise."))}else e=l,s=!0;void 0===o.h&&(a&&s?$(o,e):r(o,d))}function ot(e,t){try{t(function(t){$(e,t)},function(t){r(e,t)})}catch(t){r(e,t)}}function nt(e){e[Fn]=Vn++,e.h=void 0,e.f=void 0,e.L=[]}function lt(e,t){if(this.Ha=e,this.D=new e(C),this.D[Fn]||nt(this.D),!Dn(t))r(this.D,Error("Array Methods must be provided an Array"));else if(this.U=this.length=t.length,this.f=Array(this.length),0===this.length)_e(this.D,this.f);else{for(this.length=this.length||0,e=0;void 0===this.h&&e<t.length;e++)rt(this,t[e],e);0===this.U&&_e(this.D,this.f)}}function rt(t,o,n){var l=t.Ha,r=l.resolve;r===f?(r=_(o),r===g&&void 0!==o.h?at(t,o.h,n,o.f):"function"==typeof r?l===dt?(l=new l(C),B(l,o,r),it(t,l,n)):it(t,new l(function(e){return e(o)}),n):(t.U--,t.f[n]=o)):it(t,r(o),n)}function at(t,o,n,l){var a=t.D;void 0===a.h&&(t.U--,2===o?r(a,l):t.f[n]=l),0===t.U&&_e(a,t.f)}function it(e,t,o){u(t,void 0,function(t){return at(e,1,o,t)},function(t){return at(e,2,o,t)})}function dt(e){if(this[Fn]=Vn++,this.f=this.h=void 0,this.L=[],C!==e){if("function"!=typeof e)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof dt)ot(this,e);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}}function st(){this.wa=this.root=null,this.Y=!1,this.C=this.T=this.ka=this.assignedSlot=this.assignedNodes=this.J=null,this.childNodes=this.nextSibling=this.previousSibling=this.lastChild=this.firstChild=this.parentNode=this.O=void 0,this.Ca=this.pa=!1}function pt(e){return e.da||(e.da=new st),e.da}function x(e){return e&&e.da}function y(e){return(e=x(e))&&void 0!==e.firstChild}function ct(e){return"ShadyRoot"===e.Ia}function ht(e){if(e=e.getRootNode(),ct(e))return e}function ut(t,o){if(t&&o)for(var n,e,l=Object.getOwnPropertyNames(o),r=0;r<l.length&&(n=l[r]);r++)e=Object.getOwnPropertyDescriptor(o,n),e&&Object.defineProperty(t,n,e)}function mt(e){for(var t=[],o=1;o<arguments.length;++o)t[o-1]=arguments[o];for(o=0;o<t.length;o++)ut(e,t[o]);return e}function gt(e,t){for(var o in t)e[o]=t[o]}function yt(e){ll.push(e),ol.textContent=nl++}function ft(e,t){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function bt(e){rl||(rl=!0,yt(Et)),il.push(e)}function Et(){rl=!1;for(var e=!!il.length;il.length;)il.shift()();return e}function Ct(){this.a=!1,this.addedNodes=[],this.removedNodes=[],this.X=new Set}function Nt(e){e.a||(e.a=!0,yt(function(){_t(e)}))}function _t(e){if(e.a){e.a=!1;var t=e.takeRecords();t.length&&e.X.forEach(function(e){e(t)})}}function St(e,t){var o=pt(e);o.J||(o.J=new Ct),o.J.X.add(t);var n=o.J;return{Fa:t,G:n,Ja:e,takeRecords:function(){return n.takeRecords()}}}function vt(e){var t=e&&e.G;t&&(t.X.delete(e.Fa),t.X.size||(pt(e.Ja).J=null))}function Tt(e,t){var o=t.getRootNode();return e.map(function(e){var t=o===e.target.getRootNode();if(t&&e.addedNodes){if(t=Array.from(e.addedNodes).filter(function(e){return o===e.getRootNode()}),t.length)return e=Object.create(e),Object.defineProperty(e,"addedNodes",{value:t,configurable:!0}),e;}else if(t)return e}).filter(function(e){return e})}function xt(e){return"&"===e?"&amp;":"<"===e?"&lt;":">"===e?"&gt;":"\""===e?"&quot;":"\xA0"===e?"&nbsp;":void 0}function Ot(e){for(var t={},o=0;o<e.length;o++)t[e[o]]=!0;return t}function Dt(o,l){"template"===o.localName&&(o=o.content);for(var r,a="",i=l?l(o):o.childNodes,d=0,e=i.length;d<e&&(r=i[d]);d++){a:{var s=r,p=o;switch(s.nodeType){case Node.ELEMENT_NODE:for(var c=s.localName,h="<"+c,n=s.attributes,t=0;p=n[t];t++)h+=" "+p.name+"=\""+p.value.replace(Dl,xt)+"\"";h+=">",s=Al[c]?h:h+Dt(s,l)+"</"+c+">";break a;case Node.TEXT_NODE:s=s.data,s=p&&Ll[p.localName]?s:s.replace(Ml,xt);break a;case Node.COMMENT_NODE:s="\x3c!--"+s.data+"--\x3e";break a;default:throw window.console.error(s),Error("not implemented");}}a+=s}return a}function Mt(e){var t=[];for(E.currentNode=e,e=E.firstChild();e;)t.push(e),e=E.nextSibling();return t}function At(e){var t;a:{for(t=0;t<kl.length;t++){var o=kl[t];if(o.hasOwnProperty(e)){t=o;break a}}t=void 0}if(!t)throw Error("Could not find descriptor for "+e);return Object.getOwnPropertyDescriptor(t,e)}function I(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Lt(t,o,n){for(var l in o){var r=Object.getOwnPropertyDescriptor(t,l);r&&r.configurable||!r&&n?Object.defineProperty(t,l,o[l]):n&&console.warn("Could not define",l,"on",t)}}function L(e){Lt(e,Vl),Lt(e,Bl),Lt(e,Wl),Lt(e,Kl)}function wt(){var e=so.prototype;e.__proto__=DocumentFragment.prototype,Lt(e,Vl,!0),Lt(e,Wl,!0),Lt(e,Kl,!0),Object.defineProperties(e,{nodeType:{value:Node.DOCUMENT_FRAGMENT_NODE,configurable:!0},nodeName:{value:"#document-fragment",configurable:!0},nodeValue:{value:null,configurable:!0}}),["localName","namespaceURI","prefix"].forEach(function(t){Object.defineProperty(e,t,{value:void 0,configurable:!0})}),["ownerDocument","baseURI","isConnected"].forEach(function(t){Object.defineProperty(e,t,{get:function(){return this.host[t]},configurable:!0})})}function kt(t,o,n){Xl(t),n=n||null;var l=pt(t),r=pt(o),e=n?pt(n):null;l.previousSibling=n?e.previousSibling:o.lastChild,(e=x(l.previousSibling))&&(e.nextSibling=t),(e=x(l.nextSibling=n))&&(e.previousSibling=t),l.parentNode=o,n?n===r.firstChild&&(r.firstChild=t):(r.lastChild=t,r.firstChild||(r.firstChild=t)),r.childNodes=null}function Pt(t,o){var n=pt(t);if(void 0===n.firstChild)for(o=o||Jl(t),n.firstChild=o[0]||null,n.lastChild=o[o.length-1]||null,Yl(t),n=0;n<o.length;n++){var l=o[n],r=pt(l);r.parentNode=t,r.nextSibling=o[n+1]||null,r.previousSibling=o[n-1]||null,Xl(l)}}function Rt(t,o,n){if(o===t)throw Error("Failed to execute 'appendChild' on 'Node': The new child element contains the parent.");if(n){var r=x(n);if(r=r&&r.parentNode,void 0!==r&&r!==t||void 0===r&&$l(n)!==t)throw Error("Failed to execute 'insertBefore' on 'Node': The node before which the new node is to be inserted is not a child of this node.")}if(n===o)return o;o.parentNode&&Ht(o.parentNode,o);var a,e;if(!o.__noInsertionPoint){if(e=a=ht(t)){var d;"slot"===o.localName?d=[o]:o.querySelectorAll&&(d=o.querySelectorAll("slot")),e=d&&d.length?d:void 0}e&&(d=a,r=e,d.v=d.v||[],d.g=d.g||[],d.j=d.j||{},d.v.push.apply(d.v,[].concat(r instanceof Array?r:i(l(r)))))}if(("slot"===t.localName||e)&&(a=a||ht(t))&&po(a),y(t)){if(a=n,Yl(t),e=pt(t),void 0!==e.firstChild&&(e.childNodes=null),o.nodeType===Node.DOCUMENT_FRAGMENT_NODE){for(e=o.childNodes,d=0;d<e.length;d++)kt(e[d],t,a);a=pt(o),e=void 0===a.firstChild?void 0:null,a.firstChild=a.lastChild=e,a.childNodes=e}else kt(o,t,a);if(a=x(t),Ft(t)){po(a.root);var s=!0}else a.root&&(s=!0)}return s||(s=ct(t)?t.host:t,n?(n=It(n),dl.insertBefore.call(s,o,n)):dl.appendChild.call(s,o)),Ut(t,o),o}function Ht(o,r){if(r.parentNode!==o)throw Error("The node to be removed is not a child of this node: "+r);var a=ht(r),i=x(o);if(y(o)){var d=pt(r),e=pt(o);r===e.firstChild&&(e.firstChild=d.nextSibling),r===e.lastChild&&(e.lastChild=d.previousSibling);var s=d.previousSibling,p=d.nextSibling;if(s&&(pt(s).nextSibling=p),p&&(pt(p).previousSibling=s),d.parentNode=d.previousSibling=d.nextSibling=void 0,void 0!==e.childNodes&&(e.childNodes=null),Ft(o)){po(i.root);var c=!0}}if(jt(r),a){if((d=o&&"slot"===o.localName)&&(c=!0),a.g){for(m in go(a),e=a.j,e)for(s=e[m],p=0;p<s.length;p++){var h=s[p];if(ft(r,h)){s.splice(p,1);var l=a.g.indexOf(h);if(0<=l&&a.g.splice(l,1),p--,l=x(h),h=l.C)for(var u=0;u<h.length;u++){var n=h[u],t=rr(n);t&&dl.removeChild.call(t,n)}l.C=[],l.assignedNodes=[],l=!0}}var m=l}else m=void 0;(m||d)&&po(a)}return c||(c=ct(o)?o.host:o,(!i.root&&"slot"!==r.localName||c===$l(r))&&dl.removeChild.call(c,r)),Ut(o,null,r),r}function jt(t){var o=x(t);if(o&&void 0!==o.O){o=t.childNodes;for(var n,e=0,l=o.length;e<l&&(n=o[e]);e++)jt(n)}(t=x(t))&&(t.O=void 0)}function It(e){var t=e;return e&&"slot"===e.localName&&(t=(t=(t=x(e))&&t.C)&&t.length?t[0]:It(e.nextSibling)),t}function Ft(e){return(e=(e=x(e))&&e.root)&&bo(e)}function qt(t,o){if("slot"===o)t=t.parentNode,Ft(t)&&po(x(t).root);else if("slot"===t.localName&&"name"===o&&(o=ht(t))){if(o.g){var n=t.Da,l=yo(t);if(l!==n){n=o.j[n];var r=n.indexOf(t);0<=r&&n.splice(r,1),n=o.j[l]||(o.j[l]=[]),n.push(t),1<n.length&&(o.j[l]=fo(n))}}po(o)}}function Ut(e,t,o){(e=(e=x(e))&&e.J)&&(t&&e.addedNodes.push(t),o&&e.removedNodes.push(o),Nt(e))}function Vt(e){if(e&&e.nodeType){var t=pt(e),o=t.O;return void 0===o&&(ct(e)?(o=e,t.O=o):(o=(o=e.parentNode)?Vt(o):e,dl.contains.call(document.documentElement,e)&&(t.O=o))),o}}function Bt(e,t,o){var n=[];return Wt(e.childNodes,t,o,n),n}function Wt(t,o,r,a){for(var i,d=0,e=t.length;d<e&&(i=t[d]);d++){var s;if(s=i.nodeType===Node.ELEMENT_NODE){s=i;var p=o,c=r,l=a,h=p(s);h&&l.push(s),c&&c(h)?s=h:(Wt(s.childNodes,p,c,l),s=void 0)}if(s)break}}function Gt(e,t,o){Zl||(Zl=window.ShadyCSS&&window.ShadyCSS.ScopingShim),Zl&&"class"===t?Zl.setElementClass(e,o):(dl.setAttribute.call(e,t,o),qt(e,t))}function Kt(e,t){if(e.ownerDocument!==document)return dl.importNode.call(document,e,t);var o=dl.importNode.call(document,e,!1);if(t){e=e.childNodes,t=0;for(var n;t<e.length;t++)n=Kt(e[t],!0),o.appendChild(n)}return o}function Xt(e,t){var o=[],n=e;for(e=e===window?window:e.getRootNode();n;)o.push(n),n=n.assignedSlot?n.assignedSlot:n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&n.host&&(t||n!==e)?n.host:n.parentNode;return o[o.length-1]===document&&o.push(window),o}function Yt(t,o){if(!ct)return t;t=Xt(t,!0);for(var n,l,e,r,a=0;a<o.length;a++)if(n=o[a],e=n===window?window:n.getRootNode(),e!==l&&(r=t.indexOf(e),l=e),!ct(e)||-1<r)return n}function Jt(e){function t(t,o){return t=new e(t,o),t.ba=o&&!!o.composed,t}return gt(t,e),t.prototype=e.prototype,t}function $t(e){return e.__target!==e.target||e.ca!==e.relatedTarget}function Zt(t,o,n){if(n=o.__handlers&&o.__handlers[t.type]&&o.__handlers[t.type][n])for(var l,e=0;(l=n[e])&&(!$t(t)||t.target!==t.relatedTarget)&&(l.call(o,t),!t.i);e++);}function zt(t){var o=t.composedPath();Object.defineProperty(t,"currentTarget",{get:function(){return n},configurable:!0});for(var n,l=o.length-1;0<=l;l--)if(n=o[l],Zt(t,n,"capture"),t.a)return;Object.defineProperty(t,"eventPhase",{get:function(){return Event.AT_TARGET}});var r;for(l=0;l<o.length;l++){n=o[l];var e=x(n);if(e=e&&e.root,(0===l||e&&e===r)&&(Zt(t,n,"bubble"),n!==window&&(r=n.getRootNode()),t.a))break}}function Qt(t,o,r,a,i,e){for(var d=0;d<t.length;d++){var s=t[d],p=s.type,c=s.capture,l=s.once,h=s.passive;if(o===s.node&&r===p&&a===c&&i===l&&e===h)return d}return-1}function eo(t,o,n){if(o){var l=typeof o;if(("function"==l||"object"==l)&&("object"!=l||o.handleEvent&&"function"==typeof o.handleEvent)){if(n&&"object"==typeof n)var r=!!n.capture,i=!!n.once,d=!!n.passive;else r=!!n,d=i=!1;var s=n&&n.ea||this,p=o[zl];if(!p)o[zl]=[];else if(-1<Qt(p,s,t,r,i,d))return;p=function(r){if(i&&this.removeEventListener(t,o,n),r.__target||no(r),s!==this){var e=Object.getOwnPropertyDescriptor(r,"currentTarget");Object.defineProperty(r,"currentTarget",{get:function(){return s},configurable:!0})}if(r.composed||-1<r.composedPath().indexOf(s))if($t(r)&&r.target===r.relatedTarget)r.eventPhase===Event.BUBBLING_PHASE&&r.stopImmediatePropagation();else if(r.eventPhase===Event.CAPTURING_PHASE||r.bubbles||r.target===s||s instanceof Window){var a="function"==l?o.call(s,r):o.handleEvent&&o.handleEvent(r);return s!==this&&(e?(Object.defineProperty(r,"currentTarget",e),e=null):delete r.currentTarget),a}},o[zl].push({node:s,type:t,capture:r,once:i,passive:d,fb:p}),tr[t]?(this.__handlers=this.__handlers||{},this.__handlers[t]=this.__handlers[t]||{capture:[],bubble:[]},this.__handlers[t][r?"capture":"bubble"].push(p)):(this instanceof Window?dl.cb:dl.addEventListener).call(this,t,p,n)}}}function to(t,o,n){if(o){if(n&&"object"==typeof n)var l=!!n.capture,r=!!n.once,e=!!n.passive;else l=!!n,e=r=!1;var a,i=n&&n.ea||this,d=null;try{d=o[zl]}catch(e){}d&&(r=Qt(d,i,t,l,r,e),-1<r&&(a=d.splice(r,1)[0].fb,d.length||(o[zl]=void 0))),(this instanceof Window?dl.eb:dl.removeEventListener).call(this,t,a||o,n),a&&tr[t]&&this.__handlers&&this.__handlers[t]&&(t=this.__handlers[t][l?"capture":"bubble"],a=t.indexOf(a),-1<a&&t.splice(a,1))}}function oo(){for(var e in tr)window.addEventListener(e,function(e){e.__target||(no(e),zt(e))},!0)}function no(e){if(e.__target=e.target,e.ca=e.relatedTarget,$n.w){var t=Object.getPrototypeOf(e);if(!t.hasOwnProperty("__patchProto")){var o=Object.create(t);o.hb=t,ut(o,er),t.__patchProto=o}e.__proto__=t.__patchProto}else ut(e,er)}function lo(e,t){return{index:e,P:[],W:t}}function ro(o,r,a,i){var d=0,e=0,s=0,p=0,c=Math.min(r-d,i-e);if(0==d&&0==e)a:{for(s=0;s<c;s++)if(o[s]!==a[s])break a;s=c}if(r==o.length&&i==a.length){p=o.length;for(var h=a.length,l=0;l<c-s&&ao(o[--p],a[--h]);)l++;p=l}if(d+=s,e+=s,r-=p,i-=p,0==r-d&&0==i-e)return[];if(d==r){for(r=lo(d,0);e<i;)r.P.push(a[e++]);return[r]}if(e==i)return[lo(d,r-d)];for(c=d,s=e,i=i-s+1,p=r-c+1,r=Array(i),h=0;h<i;h++)r[h]=Array(p),r[h][0]=h;for(h=0;h<p;h++)r[0][h]=h;for(h=1;h<i;h++)for(l=1;l<p;l++)if(o[c+l-1]===a[s+h-1])r[h][l]=r[h-1][l-1];else{var u=r[h-1][l]+1,n=r[h][l-1]+1;r[h][l]=u<n?u:n}for(c=r.length-1,s=r[0].length-1,i=r[c][s],o=[];0<c||0<s;)0==c?(o.push(2),s--):0==s?(o.push(3),c--):(p=r[c-1][s-1],h=r[c-1][s],l=r[c][s-1],u=h<l?h<p?h:p:l<p?l:p,u==p?(p==i?o.push(0):(o.push(1),i=p),c--,s--):u==h?(o.push(3),c--,i=h):(o.push(2),s--,i=l));for(o.reverse(),r=void 0,c=[],s=0;s<o.length;s++)switch(o[s]){case 0:r&&(c.push(r),r=void 0),d++,e++;break;case 1:r||(r=lo(d,0)),r.W++,d++,r.P.push(a[e]),e++;break;case 2:r||(r=lo(d,0)),r.W++,d++;break;case 3:r||(r=lo(d,0)),r.P.push(a[e]),e++;}return r&&c.push(r),c}function ao(e,t){return e===t}function io(e){var t=[];do t.unshift(e);while(e=e.parentNode);return t}function so(e,t,o){if(e!==ir)throw new TypeError("Illegal constructor");this.Ia="ShadyRoot",e=ar(t),this.host=t,this.a=o&&o.mode,Pt(t,e),o=x(t),o.root=this,o.wa="closed"===this.a?null:this,o=pt(this),o.firstChild=o.lastChild=o.parentNode=o.nextSibling=o.previousSibling=null,o.childNodes=[],this.V=!1,this.v=this.j=this.g=null,o=0;for(var n=e.length;o<n;o++)dl.removeChild.call(t,e[o])}function po(e){e.V||(e.V=!0,bt(function(){return co(e)}))}function co(t){for(var o;t;){t.V&&(o=t);a:{var n=t;if(t=n.host.getRootNode(),ct(t))for(var l=n.host.childNodes,r=0;r<l.length;r++)if(n=l[r],"slot"==n.localName)break a;t=void 0}}o&&o._renderRoot()}function ho(t,o,n){var l=pt(o),r=l.T;l.T=null,n||(n=(t=t.j[o.slot||"__catchall"])&&t[0]),n?(pt(n).assignedNodes.push(o),l.assignedSlot=n):l.assignedSlot=void 0,r!==l.assignedSlot&&l.assignedSlot&&(pt(l.assignedSlot).Y=!0)}function uo(t,o,n){for(var l,e=0;e<n.length&&(l=n[e]);e++)if("slot"==l.localName){var r=x(l).assignedNodes;r&&r.length&&uo(t,o,r)}else o.push(n[e])}function mo(e,t){dl.dispatchEvent.call(t,new Event("slotchange")),t=x(t),t.assignedSlot&&mo(e,t.assignedSlot)}function go(t){if(t.v&&t.v.length){for(var o,n,e=t.v,l=0;l<e.length;l++){n=e[l],Pt(n),Pt(n.parentNode);var r=yo(n);t.j[r]?(o=o||{},o[r]=!0,t.j[r].push(n)):t.j[r]=[n],t.g.push(n)}if(o)for(var a in o)t.j[a]=fo(t.j[a]);t.v=[]}}function yo(e){var t=e.name||e.getAttribute("name")||"__catchall";return e.Da=t}function fo(e){return e.sort(function(t,o){t=io(t);for(var n=io(o),l=0;l<t.length;l++){o=t[l];var e=n[l];if(o!==e)return t=Array.from(o.parentNode.childNodes),t.indexOf(o)-t.indexOf(e)}})}function bo(e){return go(e),e.g&&e.g.length}function Eo(e){var t=e.getRootNode();return ct(t)&&co(t),(e=x(e))&&e.assignedSlot||null}function Co(t,o){for(var n=Object.getOwnPropertyNames(o),l=0;l<n.length;l++){var r=n[l],e=Object.getOwnPropertyDescriptor(o,r);e.value?t[r]=e.value:Object.defineProperty(t,r,e)}}function M(e){var t=Cr.has(e);return e=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(e),!t&&e}function be(e){var t=e.isConnected;if(void 0!==t)return t;for(;e&&!(e.__CE_isImportDocument||e instanceof Document);)e=e.parentNode||(window.ShadowRoot&&e instanceof ShadowRoot?e.host:void 0);return e&&(e.__CE_isImportDocument||e instanceof Document)}function N(e,t){for(;t&&t!==e&&!t.nextSibling;)t=t.parentNode;return t&&t!==e?t.nextSibling:null}function ce(t,o,n){n=void 0===n?new Set:n;for(var l=t;l;){if(l.nodeType===Node.ELEMENT_NODE){var r=l;o(r);var e=r.localName;if("link"===e&&"import"===r.getAttribute("rel")){if(l=r.import,l instanceof Node&&!n.has(l))for(n.add(l),l=l.firstChild;l;l=l.nextSibling)ce(l,o,n);l=N(t,r);continue}else if("template"===e){l=N(t,r);continue}if(r=r.__CE_shadowRoot)for(r=r.firstChild;r;r=r.nextSibling)ce(r,o,n)}l=l.firstChild?l.firstChild:N(t,l)}}function de(e,t,o){e[t]=o}function O(){this.a=new Map,this.s=new Map,this.i=[],this.c=!1}function ee(e,t,o){e.a.set(t,o),e.s.set(o.constructor,o)}function fe(e,t){e.c=!0,e.i.push(t)}function ge(e,t){e.c&&ce(t,function(t){return e.b(t)})}function he(e,t){var o=[];for(ce(t,function(e){return o.push(e)}),t=0;t<o.length;t++){var n=o[t];1===n.__CE_state?e.connectedCallback(n):je(e,n)}}function Q(e,t){var o=[];for(ce(t,function(e){return o.push(e)}),t=0;t<o.length;t++){var n=o[t];1===n.__CE_state&&e.disconnectedCallback(n)}}function R(t,o,n){n=void 0===n?{}:n;var l=n.bb||new Set,r=n.za||function(e){return je(t,e)},a=[];if(ce(o,function(o){if("link"===o.localName&&"import"===o.getAttribute("rel")){var n=o.import;n instanceof Node&&(n.__CE_isImportDocument=!0,n.__CE_hasRegistry=!0),n&&"complete"===n.readyState?n.__CE_documentLoadHandled=!0:o.addEventListener("load",function(){var n=o.import;if(!n.__CE_documentLoadHandled){n.__CE_documentLoadHandled=!0;var a=new Set(l);a.delete(n),R(t,n,{bb:a,za:r})}})}else a.push(o)},l),t.c)for(o=0;o<a.length;o++)t.b(a[o]);for(o=0;o<a.length;o++)r(a[o])}function je(t,o){if(void 0===o.__CE_state){var n=o.ownerDocument;if((n.defaultView||n.__CE_isImportDocument&&n.__CE_hasRegistry)&&(n=t.a.get(o.localName))){n.constructionStack.push(o);var l=n.constructor;try{try{if(new l!==o)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{n.constructionStack.pop()}}catch(e){throw o.__CE_state=2,e}if(o.__CE_state=1,o.__CE_definition=n,n.attributeChangedCallback)for(n=n.observedAttributes,l=0;l<n.length;l++){var r=n[l],e=o.getAttribute(r);null!==e&&t.attributeChangedCallback(o,r,null,e,null)}be(o)&&t.connectedCallback(o)}}}function ie(e){var t=document;this.m=e,this.a=t,this.G=void 0,R(this.m,this.a),"loading"===this.a.readyState&&(this.G=new MutationObserver(this.b.bind(this)),this.G.observe(this.a,{childList:!0,subtree:!0}))}function ke(){var e=this;this.b=this.a=void 0,this.c=new Promise(function(t){e.b=t,e.a&&t(e.a)})}function le(e){this.ha=!1,this.m=e,this.la=new Map,this.ia=function(e){return e()},this.S=!1,this.ja=[],this.Ga=new ie(e)}function S(t){if(!1!==t.S){t.S=!1;for(var o=t.ja,n=[],l=new Map,r=0;r<o.length;r++)l.set(o[r].localName,[]);for(R(t.m,document,{za:function(o){if(void 0===o.__CE_state){var r=o.localName,e=l.get(r);e?e.push(o):t.m.a.get(r)&&n.push(o)}}}),r=0;r<n.length;r++)je(t.m,n[r]);for(;0<o.length;){var e=o.shift();r=e.localName,e=l.get(e.localName);for(var a=0;a<e.length;a++)je(t.m,e[a]);(r=t.la.get(r))&&r.resolve(void 0)}}}function me(){var t=Or;window.HTMLElement=function(){function e(){var o=this.constructor,n=t.s.get(o);if(!n)throw Error("The custom element being constructed was not registered with `customElements`.");var l=n.constructionStack;if(0===l.length)return l=ae.call(document,n.localName),Object.setPrototypeOf(l,o.prototype),l.__CE_state=1,l.__CE_definition=n,t.b(l),l;n=l.length-1;var e=l[n];if(e===Te)throw Error("The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.");return l[n]=Te,Object.setPrototypeOf(e,o.prototype),t.b(e),e}return e.prototype=Pe.prototype,e}()}function Ve(t,e,o){function n(e){return function(){for(var o=[],n=0;n<arguments.length;++n)o[n-0]=arguments[n];n=[];for(var r,a=[],i=0;i<o.length;i++)if(r=o[i],r instanceof Element&&be(r)&&a.push(r),r instanceof DocumentFragment)for(r=r.firstChild;r;r=r.nextSibling)n.push(r);else n.push(r);for(e.apply(this,o),o=0;o<a.length;o++)Q(t,a[o]);if(be(this))for(o=0;o<n.length;o++)a=n[o],a instanceof Element&&he(t,a)}}void 0!==o.$&&(e.prepend=n(o.$)),void 0!==o.append&&(e.append=n(o.append))}function Xe(){var e=Or;de(Document.prototype,"createElement",function(t){if(this.__CE_hasRegistry){var o=e.a.get(t);if(o)return new o.constructor}return t=ae.call(this,t),e.b(t),t}),de(Document.prototype,"importNode",function(t,o){return t=oe.call(this,t,o),this.__CE_hasRegistry?R(e,t):ge(e,t),t}),de(Document.prototype,"createElementNS",function(t,o){if(this.__CE_hasRegistry&&(null===t||"http://www.w3.org/1999/xhtml"===t)){var n=e.a.get(o);if(n)return new n.constructor}return t=ne.call(this,t,o),e.b(t),t}),Ve(e,Document.prototype,{$:pe,append:Nr})}function Ye(){function e(e,o){Object.defineProperty(e,"textContent",{enumerable:o.enumerable,configurable:!0,get:o.get,set:function(n){if(this.nodeType===Node.TEXT_NODE)o.set.call(this,n);else{var l;if(this.firstChild){var r=this.childNodes,e=r.length;if(0<e&&be(this)){l=Array(e);for(var a=0;a<e;a++)l[a]=r[a]}}if(o.set.call(this,n),l)for(n=0;n<l.length;n++)Q(t,l[n])}}})}var t=Or;de(Node.prototype,"insertBefore",function(e,o){if(e instanceof DocumentFragment){var n=Array.prototype.slice.apply(e.childNodes);if(e=ve.call(this,e,o),be(this))for(o=0;o<n.length;o++)he(t,n[o]);return e}return n=be(e),o=ve.call(this,e,o),n&&Q(t,e),be(this)&&he(t,e),o}),de(Node.prototype,"appendChild",function(o){if(o instanceof DocumentFragment){var n=Array.prototype.slice.apply(o.childNodes);if(o=ue.call(this,o),be(this))for(var l=0;l<n.length;l++)he(t,n[l]);return o}return n=be(o),l=ue.call(this,o),n&&Q(t,o),be(this)&&he(t,o),l}),de(Node.prototype,"cloneNode",function(e){return e=vr.call(this,e),this.ownerDocument.__CE_hasRegistry?R(t,e):ge(t,e),e}),de(Node.prototype,"removeChild",function(o){var n=be(o),l=we.call(this,o);return n&&Q(t,o),l}),de(Node.prototype,"replaceChild",function(e,o){if(e instanceof DocumentFragment){var n=Array.prototype.slice.apply(e.childNodes);if(e=xe.call(this,e,o),be(this))for(Q(t,o),o=0;o<n.length;o++)he(t,n[o]);return e}n=be(e);var l=xe.call(this,e,o),r=be(this);return r&&Q(t,o),n&&Q(t,e),r&&he(t,e),l}),ye&&ye.get?e(Node.prototype,ye):fe(t,function(t){e(t,{enumerable:!0,configurable:!0,get:function(){for(var e=[],t=0;t<this.childNodes.length;t++)e.push(this.childNodes[t].textContent);return e.join("")},set:function(e){for(;this.firstChild;)we.call(this,this.firstChild);ue.call(this,document.createTextNode(e))}})})}function Ze(t){function e(e){return function(){for(var o=[],n=0;n<arguments.length;++n)o[n-0]=arguments[n];n=[];for(var r,l=[],a=0;a<o.length;a++)if(r=o[a],r instanceof Element&&be(r)&&l.push(r),r instanceof DocumentFragment)for(r=r.firstChild;r;r=r.nextSibling)n.push(r);else n.push(r);for(e.apply(this,o),o=0;o<l.length;o++)Q(t,l[o]);if(be(this))for(o=0;o<n.length;o++)l=n[o],l instanceof Element&&he(t,l)}}var o=Element.prototype;void 0!==xr&&(o.before=e(xr)),void 0!==xr&&(o.after=e(Me)),void 0!==Ne&&de(o,"replaceWith",function(){for(var e=[],o=0;o<arguments.length;++o)e[o-0]=arguments[o];o=[];for(var n,l=[],r=0;r<e.length;r++)if(n=e[r],n instanceof Element&&be(n)&&l.push(n),n instanceof DocumentFragment)for(n=n.firstChild;n;n=n.nextSibling)o.push(n);else o.push(n);for(r=be(this),Ne.apply(this,e),e=0;e<l.length;e++)Q(t,l[e]);if(r)for(Q(t,this),e=0;e<o.length;e++)l=o[e],l instanceof Element&&he(t,l)}),void 0!==Oe&&de(o,"remove",function(){var e=be(this);Oe.call(this),e&&Q(t,this)})}function $e(){function e(e,t){Object.defineProperty(e,"innerHTML",{enumerable:t.enumerable,configurable:!0,get:t.get,set:function(o){var l,e=this;if(be(this)&&(l=[],ce(this,function(t){t!==e&&l.push(t)})),t.set.call(this,o),l)for(var r,a=0;a<l.length;a++)r=l[a],1===r.__CE_state&&n.disconnectedCallback(r);return this.ownerDocument.__CE_hasRegistry?R(n,this):ge(n,this),o}})}function t(e,t){de(e,"insertAdjacentElement",function(o,l){var r=be(l);return o=t.call(this,o,l),r&&Q(n,l),be(o)&&he(n,l),o})}function o(e,t){function o(e,t){for(var o=[];e!==t;e=e.nextSibling)o.push(e);for(t=0;t<o.length;t++)R(n,o[t])}de(e,"insertAdjacentHTML",function(n,l){if(n=n.toLowerCase(),"beforebegin"===n){var r=this.previousSibling;t.call(this,n,l),o(r||this.parentNode.firstChild,this)}else if("afterbegin"===n)r=this.firstChild,t.call(this,n,l),o(this.firstChild,r);else if("beforeend"===n)r=this.lastChild,t.call(this,n,l),o(r||this.firstChild,null);else if("afterend"===n)r=this.nextSibling,t.call(this,n,l),o(this.nextSibling,r);else throw new SyntaxError("The value provided ("+(n+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'."))})}var n=Or;ze&&de(Element.prototype,"attachShadow",function(e){return this.__CE_shadowRoot=e=ze.call(this,e)}),Ae&&Ae.get?e(Element.prototype,Ae):Qe&&Qe.get?e(HTMLElement.prototype,Qe):fe(n,function(t){e(t,{enumerable:!0,configurable:!0,get:function(){return vr.call(this,!0).innerHTML},set:function(e){var t="template"===this.localName,o=t?this.content:this,n=ae.call(document,this.localName);for(n.innerHTML=e;0<o.childNodes.length;)we.call(o,o.childNodes[0]);for(e=t?n.content:n;0<e.childNodes.length;)ue.call(o,e.childNodes[0])}})}),de(Element.prototype,"setAttribute",function(e,t){if(1!==this.__CE_state)return Ce.call(this,e,t);var o=Be.call(this,e);Ce.call(this,e,t),t=Be.call(this,e),n.attributeChangedCallback(this,e,o,t,null)}),de(Element.prototype,"setAttributeNS",function(t,o,l){if(1!==this.__CE_state)return Fe.call(this,t,o,l);var r=Ee.call(this,t,o);Fe.call(this,t,o,l),l=Ee.call(this,t,o),n.attributeChangedCallback(this,o,r,l,t)}),de(Element.prototype,"removeAttribute",function(e){if(1!==this.__CE_state)return De.call(this,e);var t=Be.call(this,e);De.call(this,e),null!==t&&n.attributeChangedCallback(this,e,t,null,null)}),de(Element.prototype,"removeAttributeNS",function(t,o){if(1!==this.__CE_state)return Ge.call(this,t,o);var l=Ee.call(this,t,o);Ge.call(this,t,o);var r=Ee.call(this,t,o);l!==r&&n.attributeChangedCallback(this,o,l,r,t)}),Re?t(HTMLElement.prototype,Re):He?t(Element.prototype,He):console.warn("Custom Elements: `Element#insertAdjacentElement` was not patched."),Se?o(HTMLElement.prototype,Se):Ie?o(Element.prototype,Ie):console.warn("Custom Elements: `Element#insertAdjacentHTML` was not patched."),Ve(n,Element.prototype,{$:Je,append:Tr}),Ze(n)}function No(){this.end=this.start=0,this.rules=this.parent=this.previous=null,this.cssText=this.parsedCssText="",this.atRule=!1,this.type=0,this.parsedSelector=this.selector=this.keyframesName=""}function _o(t){t=t.replace(kr,"").replace(Pr,"");var o=t,n=new No;n.start=0,n.end=o.length;for(var l=n,e=0,r=o.length;e<r;e++)if("{"===o[e]){l.rules||(l.rules=[]);var a=l,i=a.rules[a.rules.length-1]||null;l=new No,l.start=e+1,l.parent=a,l.previous=i,a.rules.push(l)}else"}"===o[e]&&(l.end=e+1,l=l.parent||n);return So(n,t)}function So(t,o){var n=o.substring(t.start,t.end-1);if(t.parsedCssText=t.cssText=n.trim(),t.parent&&(n=o.substring(t.previous?t.previous.end:t.parent.start,t.start-1),n=vo(n),n=n.replace(qr," "),n=n.substring(n.lastIndexOf(";")+1),n=t.parsedSelector=t.selector=n.trim(),t.atRule=0===n.indexOf("@"),t.atRule?0===n.indexOf("@media")?t.type=Lr:n.match(Fr)&&(t.type=Ar,t.keyframesName=t.selector.split(qr).pop()):t.type=0===n.indexOf("--")?wr:Mr),n=t.rules)for(var l,r=0,a=n.length;r<a&&(l=n[r]);r++)So(l,o);return t}function vo(e){return e.replace(/\\([0-9a-f]{1,6})\s/gi,function(e,t){for(e=t,t=6-e.length;t--;)e="0"+e;return"\\"+e})}function To(t,o,n){n=void 0===n?"":n;var l="";if(t.cssText||t.rules){var r,a=t.rules;if((r=a)&&(r=a[0],r=!(r&&r.selector&&0===r.selector.indexOf("--"))),r){r=0;for(var e,i=a.length;r<i&&(e=a[r]);r++)l=To(e,o,l)}else o?o=t.cssText:(o=t.cssText,o=o.replace(Rr,"").replace(Hr,""),o=o.replace(jr,"").replace(Ir,"")),(l=o.trim())&&(l="  "+l+"\n")}return l&&(t.selector&&(n+=t.selector+" {\n"),n+=l,t.selector&&(n+="}\n\n")),n}function xo(e){Dr=e&&e.shimcssproperties?!1:Ur||!navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)")}function Oo(e,t){return e?("string"==typeof e&&(e=_o(e)),t&&Ao(e,t),To(e,Vr)):""}function Do(e){return!e.__cssRules&&e.textContent&&(e.__cssRules=_o(e.textContent)),e.__cssRules||null}function Mo(e){return!!e.parent&&e.parent.type===Ar}function Ao(t,o,n,l){if(t){var r=!1,a=t.type;if(l&&a===Lr){var i=t.selector.match(Xr);i&&(window.matchMedia(i[1]).matches||(r=!0))}if(a===Mr?o(t):n&&a===Ar?n(t):a==wr&&(r=!0),(t=t.rules)&&!r){r=0,a=t.length;for(var d;r<a&&(d=t[r]);r++)Ao(d,o,n,l)}}}function Lo(t,o,n,l){var r=document.createElement("style");return o&&r.setAttribute("scope",o),r.textContent=t,wo(r,n,l),r}function wo(e,t,o){t=t||document.head,t.insertBefore(e,o&&o.nextSibling||t.firstChild),$r?e.compareDocumentPosition($r)===Node.DOCUMENT_POSITION_PRECEDING&&($r=e):$r=e}function ko(t,o){var n=t.indexOf("var(");if(-1===n)return o(t,"","","");a:{for(var l=0,r=n+3,e=t.length;r<e;r++)if("("===t[r])l++;else if(")"===t[r]&&0==--l)break a;r=-1}return l=t.substring(n+4,r),n=t.substring(0,n),t=ko(t.substring(r+1),o),r=l.indexOf(","),-1===r?o(n,l.trim(),"",t):o(n,l.substring(0,r).trim(),l.substring(r+1).trim(),t)}function Po(e,t){Ur?e.setAttribute("class",t):window.ShadyDOM.nativeMethods.setAttribute.call(e,"class",t)}function Ro(e){var t=e.localName,o="";return t?-1<t.indexOf("-")||(o=t,t=e.getAttribute&&e.getAttribute("is")||""):(t=e.is,o=e.extends),{is:t,R:o}}function Ho(){}function jo(e,t,o){e.__styleScoped?e.__styleScoped=null:Io(ma,e,t||"",o)}function Io(t,o,n,l){if(o.nodeType===Node.ELEMENT_NODE&&Fo(o,n,l),o="template"===o.localName?(o.content||o.ib).childNodes:o.children||o.childNodes)for(var r=0;r<o.length;r++)Io(t,o[r],n,l)}function Fo(e,t,o){if(t)if(e.classList)o?(e.classList.remove("style-scope"),e.classList.remove(t)):(e.classList.add("style-scope"),e.classList.add(t));else if(e.getAttribute){var n=e.getAttribute(ha);o?n&&(t=n.replace("style-scope","").replace(t,""),Po(e,t)):Po(e,(n?n+" ":"")+"style-scope "+t)}}function qo(t,o,n){var l=t.__cssBuild;return Ur||"shady"===l?o=Oo(o,n):(t=Ro(t),o=Uo(ma,o,t.is,t.R,n)+"\n\n"),o.trim()}function Uo(t,o,n,l,r){var e=Vo(n,l);return n=n?sa+n:"",Oo(o,function(o){o.c||(o.selector=o.o=Bo(t,o,t.b,n,e),o.c=!0),r&&r(o,n,e)})}function Vo(e,t){return t?"[is="+e+"]":e}function Bo(t,o,n,l,r){var e=o.selector.split(Qr);if(!Mo(o)){o=0;for(var a,i=e.length;o<i&&(a=e[o]);o++)e[o]=n.call(t,a,l,r)}return e.join(Qr)}function Wo(e){return e.replace(Zr,function(e,t,o){return-1<o.indexOf("+")?o=o.replace(/\+/g,"___"):-1<o.indexOf("___")&&(o=o.replace(/___/g,"+")),":"+t+"("+o+")"})}function Go(t,o,n,l){var r=t.indexOf(la);if(0<=t.indexOf(oa)?t=Xo(t,l):0!==r&&(t=n?Ko(t,n):t),n=!1,0<=r&&(o="",n=!0),n){var e=!0;n&&(t=t.replace(ia,function(e,t){return" > "+t}))}return t=t.replace(da,function(e,t,o){return"[dir=\""+o+"\"] "+t+", "+t+"[dir=\""+o+"\"]"}),{value:t,Na:o,stop:e}}function Ko(e,t){return e=e.split(ca),e[0]+=t,e.join(ca)}function Xo(e,t){var o=e.match(aa);return(o=o&&o[2].trim()||"")?o[0].match(ta)?e.replace(aa,function(e,o,n){return t+n}):o.split(ta)[0]===t?o:ua:e.replace(oa,t)}function Yo(e){e.selector===na&&(e.selector="html")}function Jo(e,t,o,n){this.B=e||null,this.b=t||null,this.ma=o||[],this.K=null,this.R=n||"",this.a=this.u=this.F=null}function $o(e){return e?e.__styleInfo:null}function W(e,t){return e.__styleInfo=t}function Zo(e){var t=this.matches||this.matchesSelector||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector;return t&&t.call(this,e)}function zo(){}function Qo(t){var o={},n=[],l=0;for(var r in Ao(t,function(t){en(t),t.index=l++,t=t.l.cssText;for(var n,r;n=Gr.exec(t);)r=n[1],":"!==n[2]&&(o[r]=!0)},function(e){n.push(e)}),t.b=n,t=[],o)t.push(r);return t}function en(e){if(!e.l){var t={},o={};tn(e,o)&&(t.A=o,e.rules=null),t.cssText=e.parsedCssText.replace(Yr,"").replace(Br,""),e.l=t}}function tn(e,t){var o=e.l;if(!o){o=e.parsedCssText;for(var n;e=Br.exec(o);)n=(e[2]||e[3]).trim(),("inherit"!==n||"unset"!==n)&&(t[e[1].trim()]=n),n=!0;return n}return o.A?(Object.assign(t,o.A),!0):void 0}function on(t,e,o){return e&&(e=0<=e.indexOf(";")?nn(t,e,o):ko(e,function(n,l,e,r){return l?((l=on(t,o[l],o))&&"initial"!==l?"apply-shim-inherit"===l&&(l="inherit"):l=on(t,o[e]||e,o)||e,n+(l||"")+r):n+r})),e&&e.trim()||""}function nn(t,o,n){o=o.split(";");for(var l,e,r=0;r<o.length;r++)if(l=o[r]){if(Wr.lastIndex=0,e=Wr.exec(l))l=on(t,n[e[1]],n);else if(e=l.indexOf(":"),-1!==e){var a=l.substring(e);a=a.trim(),a=on(t,a,n)||a,l=l.substring(0,e)+a}o[r]=l&&l.lastIndexOf(";")===l.length-1?l.slice(0,-1):l||""}return o.join(";")}function ln(e,t){var o={},n=[];return Ao(e,function(l){l.l||en(l);var r=l.o||l.parsedSelector;t&&l.l.A&&r&&Zo.call(t,r)&&(tn(l,o),l=l.index,r=parseInt(l/32,10),n[r]=(n[r]||0)|1<<l%32)},null,!0),{A:o,key:n}}function rn(t,o,n,l){if(o.l||en(o),o.l.A){var r=Ro(t);t=r.is,r=r.R,r=t?Vo(t,r):"html";var e=o.parsedSelector,a=":host > *"===e||"html"===e,i=0===e.indexOf(":host")&&!a;"shady"===n&&(a=e===r+" > *."+r||-1!==e.indexOf("html"),i=!a&&0===e.indexOf(r)),"shadow"===n&&(a=":host > *"===e||"html"===e,i=i&&!a),(a||i)&&(n=r,i&&(o.o||(o.o=Bo(ma,o,ma.b,t?sa+t:"",r)),n=o.o||r),l({Za:n,Ta:i,rb:a}))}}function an(t,o){var n={},l={},r=o&&o.__cssBuild;return Ao(o,function(o){rn(t,o,r,function(r){Zo.call(t.b||t,r.Za)&&(r.Ta?tn(o,n):tn(o,l))})},null,!0),{Ya:l,Ra:n}}function dn(o,t,l,r){var n=Ro(t),a=Vo(n.is,n.R),i=new RegExp("(?:^|[^.#[:])"+(t.extends?"\\"+a.slice(0,-1)+"\\]":a)+"($|[.:[\\s>+~])");n=$o(t).B;var d=sn(n,r);return qo(t,n,function(s){var p="";if(s.l||en(s),s.l.cssText&&(p=nn(o,s.l.cssText,l)),s.cssText=p,!Ur&&!Mo(s)&&s.cssText){var e=p=s.cssText;if(null==s.ta&&(s.ta=Kr.test(p)),s.ta)if(null==s.Z)for(var c in s.Z=[],d)e=d[c],e=e(p),p!==e&&(p=e,s.Z.push(c));else{for(c=0;c<s.Z.length;++c)e=d[s.Z[c]],p=e(p);e=p}s.cssText=e,s.o=s.o||s.selector,p="."+r,c=s.o.split(","),e=0;for(var n,h=c.length;e<h&&(n=c[e]);e++)c[e]=n.match(i)?n.replace(a,p):p+" "+n;s.selector=c.join(",")}})}function sn(t,o){t=t.b;var n={};if(!Ur&&t)for(var l=0,r=t[l];l<t.length;r=t[++l]){var e=r;e.i=new RegExp("\\b"+e.keyframesName+"(?!\\B|-)","g"),e.a=e.keyframesName+"-"+o,e.o=e.o||e.selector,e.selector=e.o.replace(e.keyframesName,e.a),n[r.keyframesName]=pn(r)}return n}function pn(e){return function(t){return t.replace(e.i,e.a)}}function cn(e,t){var o=Do(e);e.textContent=Oo(o,function(e){var o=e.cssText=e.parsedCssText;e.l&&e.l.cssText&&(o=o.replace(Rr,"").replace(Hr,""),e.cssText=nn(ga,o,t))})}function hn(){this.cache={}}function un(){}function mn(t){for(var o,n=0;n<t.length;n++)if(o=t[n],o.target!==document.documentElement&&o.target!==document.head)for(var l,e=0;e<o.addedNodes.length;e++)if(l=o.addedNodes[e],l.nodeType===Node.ELEMENT_NODE){var r=l.getRootNode(),a=l,i=[];if(a.classList?i=Array.from(a.classList):a instanceof window.SVGElement&&a.hasAttribute("class")&&(i=a.getAttribute("class").split(/\s+/)),a=i,i=a.indexOf(ma.a),(a=-1<i?a[i+1]:"")&&r===l.ownerDocument)jo(l,a,!0);else if(r.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(r=r.host))if(r=Ro(r).is,a===r)for(l=window.ShadyDOM.nativeMethods.querySelectorAll.call(l,":not(."+ma.a+")"),r=0;r<l.length;r++)Fo(l[r],a);else a&&jo(l,a,!0),jo(l,r)}}function gn(e){(e=va[e])&&(e._applyShimCurrentVersion=e._applyShimCurrentVersion||0,e._applyShimValidatingVersion=e._applyShimValidatingVersion||0,e._applyShimNextVersion=(e._applyShimNextVersion||0)+1)}function yn(e){return e._applyShimCurrentVersion===e._applyShimNextVersion}function fn(e){e._applyShimValidatingVersion=e._applyShimNextVersion,e.sa||(e.sa=!0,Ta.then(function(){e._applyShimCurrentVersion=e._applyShimNextVersion,e.sa=!1}))}function bn(e){requestAnimationFrame(function(){Da?Da(e):(xa||(xa=new Promise(function(e){_a=e}),"complete"===document.readyState?_a():document.addEventListener("readystatechange",function(){"complete"===document.readyState&&_a()})),xa.then(function(){e&&e()}))})}function En(){var e=this;this.N={},this.c=document.documentElement;var t=new No;t.rules=[],this.i=W(this.c,new Jo(t)),this.s=!1,this.b=this.a=null,bn(function(){Cn(e)})}function X(e){!e.b&&window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface&&(e.b=window.ShadyCSS.CustomStyleInterface,e.b.transformCallback=function(t){e.ya(t)},e.b.validateCallback=function(){requestAnimationFrame(function(){(e.b.enqueued||e.s)&&e.I()})})}function Cn(e){!e.a&&window.ShadyCSS&&window.ShadyCSS.ApplyShim&&(e.a=window.ShadyCSS.ApplyShim,e.a.invalidCallback=gn),X(e)}function Nn(e,t){return(t=t.getRootNode().host)?$o(t)?t:Nn(e,t):e.c}function _n(t,o,n){t=Nn(t,o);var l=$o(t);t=Object.create(l.F||null);var r=an(o,n.B);for(var e in o=ln(l.B,o).A,Object.assign(t,r.Ra,o,r.Ya),o=n.K,o)((r=o[e])||0===r)&&(t[e]=r);for(e=ga,o=Object.getOwnPropertyNames(t),r=0;r<o.length;r++)l=o[r],t[l]=on(e,t[l],t);n.F=t}var Sn,p="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,q="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,o){e!=Array.prototype&&e!=Object.prototype&&(e[t]=o.value)},vn=function(){var e=0;return function(t){return"jscomp_symbol_"+(t||"")+e++}}();(function(){if(!function(){var e=document.createEvent("Event");return e.initEvent("foo",!0,!0),e.preventDefault(),e.defaultPrevented}()){var e=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(e.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var t=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||t&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(e,t){t=t||{};var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail),o},window.CustomEvent.prototype=window.Event.prototype),!window.Event||t&&"function"!=typeof window.Event){var o=window.Event;if(window.Event=function(e,t){t=t||{};var o=document.createEvent("Event");return o.initEvent(e,!!t.bubbles,!!t.cancelable),o},o)for(var n in o)window.Event[n]=o[n];window.Event.prototype=o.prototype}if(!window.MouseEvent||t&&"function"!=typeof window.MouseEvent){if(t=window.MouseEvent,window.MouseEvent=function(e,t){t=t||{};var o=document.createEvent("MouseEvent");return o.initMouseEvent(e,!!t.bubbles,!!t.cancelable,t.view||window,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),o},t)for(n in t)window.MouseEvent[n]=t[n];window.MouseEvent.prototype=t.prototype}Array.from||(Array.from=function(e){return[].slice.call(e)}),Object.assign||(Object.assign=function(o){for(var l,e=[].slice.call(arguments,1),r=0;r<e.length;r++)if(l=e[r])for(var a=l,i=Object.getOwnPropertyNames(a),n=0;n<i.length;n++)l=i[n],o[l]=a[l];return o})})(window.WebComponents),function(){function o(){}function r(e,o){if(!e.childNodes.length)return[];switch(e.nodeType){case Node.DOCUMENT_NODE:return n.call(e,o);case Node.DOCUMENT_FRAGMENT_NODE:return t.call(e,o);default:return l.call(e,o);}}var i="undefined"==typeof HTMLTemplateElement,s=!(document.createDocumentFragment().cloneNode()instanceof DocumentFragment),p=!1;/Trident/.test(navigator.userAgent)&&function(){function e(e,t){if(e instanceof DocumentFragment)for(var n;n=e.firstChild;)o.call(this,n,t);else o.call(this,e,t);return e}p=!0;var t=Node.prototype.cloneNode;Node.prototype.cloneNode=function(e){return e=t.call(this,e),this instanceof DocumentFragment&&(e.__proto__=DocumentFragment.prototype),e},DocumentFragment.prototype.querySelectorAll=HTMLElement.prototype.querySelectorAll,DocumentFragment.prototype.querySelector=HTMLElement.prototype.querySelector,Object.defineProperties(DocumentFragment.prototype,{nodeType:{get:function(){return Node.DOCUMENT_FRAGMENT_NODE},configurable:!0},localName:{get:function(){},configurable:!0},nodeName:{get:function(){return"#document-fragment"},configurable:!0}});var o=Node.prototype.insertBefore;Node.prototype.insertBefore=e;var n=Node.prototype.appendChild;Node.prototype.appendChild=function(t){return t instanceof DocumentFragment?e.call(this,t,null):n.call(this,t),t};var l=Node.prototype.removeChild,r=Node.prototype.replaceChild;Node.prototype.replaceChild=function(t,o){return t instanceof DocumentFragment?(e.call(this,t,o),l.call(this,o)):r.call(this,t,o),o},Document.prototype.createDocumentFragment=function(){var e=this.createElement("df");return e.__proto__=DocumentFragment.prototype,e};var i=Document.prototype.importNode;Document.prototype.importNode=function(e,t){return t=i.call(this,e,t||!1),e instanceof DocumentFragment&&(t.__proto__=DocumentFragment.prototype),t}}();var d=Node.prototype.cloneNode,a=Document.prototype.createElement,h=Document.prototype.importNode,u=Node.prototype.removeChild,g=Node.prototype.appendChild,y=Node.prototype.replaceChild,l=Element.prototype.querySelectorAll,n=Document.prototype.querySelectorAll,t=DocumentFragment.prototype.querySelectorAll,m=function(){if(!i){var e=document.createElement("template"),t=document.createElement("template");return t.content.appendChild(document.createElement("div")),e.content.appendChild(t),e=e.cloneNode(!0),0===e.content.childNodes.length||0===e.content.firstChild.content.childNodes.length||s}}();if(i){var f=document.implementation.createHTMLDocument("template"),E=!0,b=document.createElement("style");b.textContent="template{display:none;}";var N=document.head;N.insertBefore(b,N.firstElementChild),o.prototype=Object.create(HTMLElement.prototype);var _=!document.createElement("div").hasOwnProperty("innerHTML");o.H=function(e){if(!e.content){e.content=f.createDocumentFragment();for(var t;t=e.firstChild;)g.call(e.content,t);if(_)e.__proto__=o.prototype;else if(e.cloneNode=function(e){return o.ga(this,e)},E)try{C(e),S(e)}catch(e){E=!1}o.M(e.content)}};var C=function(e){Object.defineProperty(e,"innerHTML",{get:function(){return M(this)},set:function(e){for(f.body.innerHTML=e,o.M(f);this.content.firstChild;)u.call(this.content,this.content.firstChild);for(;f.body.firstChild;)g.call(this.content,f.body.firstChild)},configurable:!0})},S=function(e){Object.defineProperty(e,"outerHTML",{get:function(){return"<template>"+this.innerHTML+"</template>"},set:function(e){if(this.parentNode){for(f.body.innerHTML=e,e=this.ownerDocument.createDocumentFragment();f.body.firstChild;)g.call(e,f.body.firstChild);y.call(this.parentNode,e,this)}else throw Error("Failed to set the 'outerHTML' property on 'Element': This element has no parent node.")},configurable:!0})};C(o.prototype),S(o.prototype),o.M=function(t){t=r(t,"template");for(var n,l=0,a=t.length;l<a&&(n=t[l]);l++)o.H(n)},document.addEventListener("DOMContentLoaded",function(){o.M(document)}),Document.prototype.createElement=function(){var e=a.apply(this,arguments);return"template"===e.localName&&o.H(e),e};var v=/[&\u00A0"]/g,T=/[&\u00A0<>]/g,x=function(e){return"&"===e?"&amp;":"<"===e?"&lt;":">"===e?"&gt;":"\""===e?"&quot;":"\xA0"===e?"&nbsp;":void 0};b=function(e){for(var t={},o=0;o<e.length;o++)t[e[o]]=!0;return t};var O=b(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),D=b(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]),M=function(t,o){"template"===t.localName&&(t=t.content);for(var l,r="",a=o?o(t):t.childNodes,i=0,e=a.length;i<e&&(l=a[i]);i++){a:{var d=l,s=t;switch(d.nodeType){case Node.ELEMENT_NODE:for(var p=d.localName,c="<"+p,n=d.attributes,h=0;s=n[h];h++)c+=" "+s.name+"=\""+s.value.replace(v,x)+"\"";c+=">",d=O[p]?c:c+M(d,o)+"</"+p+">";break a;case Node.TEXT_NODE:d=d.data,d=s&&D[s.localName]?d:d.replace(T,x);break a;case Node.COMMENT_NODE:d="\x3c!--"+d.data+"--\x3e";break a;default:throw window.console.error(d),Error("not implemented");}}r+=d}return r}}if(i||m){o.ga=function(e,t){var o=d.call(e,!1);return this.H&&this.H(o),t&&(g.call(o.content,d.call(e.content,!0)),A(o.content,e.content)),o};var A=function(t,n){if(n.querySelectorAll&&(n=r(n,"template"),0!==n.length)){t=r(t,"template");for(var l,a,i=0,e=t.length;i<e;i++)a=n[i],l=t[i],o&&o.H&&o.H(a),y.call(l.parentNode,L.call(a,!0),l)}},L=Node.prototype.cloneNode=function(t){if(!(!p&&s&&this instanceof DocumentFragment))n=this.nodeType===Node.ELEMENT_NODE&&"template"===this.localName?o.ga(this,t):d.call(this,t);else if(t)var n=w.call(this.ownerDocument,this,!0);else return this.ownerDocument.createDocumentFragment();return t&&A(n,this),n},w=Document.prototype.importNode=function(t,n){if(n=n||!1,"template"===t.localName)return o.ga(t,n);var i=h.call(this,t,n);if(n){A(i,t),t=r(i,"script:not([type]),script[type=\"application/javascript\"],script[type=\"text/javascript\"]");for(var e,d=0;d<t.length;d++){e=t[d],n=a.call(document,"script"),n.textContent=e.textContent;for(var s,p=e.attributes,l=0;l<p.length;l++)s=p[l],n.setAttribute(s.name,s.value);y.call(e.parentNode,n,e)}}return i}}i&&(window.HTMLTemplateElement=o)}();var Tn,xn,On,Dn=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},Mn=0,An="undefined"==typeof window?void 0:window,Ln=An||{},wn=Ln.MutationObserver||Ln.WebKitMutationObserver,kn="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Pn=Array(1E3);if("undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process))On=function(){return process.sb(h)};else{var Rn;if(wn)Rn=d();else{var Hn;if(kn)Hn=s();else{var jn;if(void 0===An&&"function"==typeof require)try{var In=require("vertx");Tn=In.ub||In.tb,jn=a()}catch(e){jn=c()}else jn=c();Hn=jn}Rn=Hn}On=Rn}xn=On;var Fn=Math.random().toString(36).substring(16),qn=new b,Un=new b,Vn=0;dt.prototype={constructor:dt,then:g,a:function(e){return this.then(null,e)}},window.Promise||(window.Promise=dt,dt.prototype["catch"]=dt.prototype.a,dt.prototype.then=dt.prototype.then,dt.all=function(e){return new lt(this,e).D},dt.race=function(t){var o=this;return Dn(t)?new o(function(n,l){for(var r=t.length,e=0;e<r;e++)o.resolve(t[e]).then(n,l)}):new o(function(e,t){return t(new TypeError("You must pass an array to race."))})},dt.resolve=f,dt.reject=function(e){var t=new this(C);return r(t,e),t}),function(o){function r(e,t){if("function"==typeof window.CustomEvent)return new CustomEvent(e,t);var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail),o}function i(e){if(t)return e.ownerDocument===document?null:e.ownerDocument;var o=e.__importDoc;if(!o&&e.parentNode){if(o=e.parentNode,"function"==typeof o.closest)o=o.closest("link[rel=import]");else for(;!c(o)&&(o=o.parentNode););e.__importDoc=o}return o}function s(e){var t=l(document,"link[rel=import]:not([import-dependency])"),o=t.length;o?u(t,function(t){return p(t,function(){0==--o&&e()})}):e()}function d(e){function t(){"loading"!==document.readyState&&document.body&&(document.removeEventListener("readystatechange",t),e())}document.addEventListener("readystatechange",t),t()}function e(e){d(function(){return s(function(){return e&&e()})})}function p(e,t){if(e.__loaded)t&&t();else if("script"===e.localName&&!e.src||"style"===e.localName&&!e.firstChild)e.__loaded=!0,t&&t();else{var o=function(n){e.removeEventListener(n.type,o),e.__loaded=!0,t&&t()};e.addEventListener("load",o),_&&"style"===e.localName||e.addEventListener("error",o)}}function c(e){return e.nodeType===Node.ELEMENT_NODE&&"link"===e.localName&&"import"===e.rel}function a(){var e=this;this.a={},this.b=0,this.c=new MutationObserver(function(t){return e.Ua(t)}),this.c.observe(document.head,{childList:!0,subtree:!0}),this.loadImports(document)}function h(e){u(l(e,"template"),function(e){u(l(e.content,"script:not([type]),script[type=\"application/javascript\"],script[type=\"text/javascript\"]"),function(e){var t=document.createElement("script");u(e.attributes,function(e){return t.setAttribute(e.name,e.value)}),t.textContent=e.textContent,e.parentNode.replaceChild(t,e)}),h(e.content)})}function l(e,t){return e.childNodes.length?e.querySelectorAll(t):m}function u(t,o,n){var l=t?t.length:0,r=n?-1:1;for(n=n?l-1:0;n<l&&0<=n;n+=r)o(t[n],n)}var n=document.createElement("link"),t="import"in n,m=n.querySelectorAll("*"),y=null;!1=="currentScript"in document&&Object.defineProperty(document,"currentScript",{get:function(){return y||("complete"===document.readyState?null:document.scripts[document.scripts.length-1])},configurable:!0});var g=/(url\()([^)]*)(\))/g,f=/(@import[\s]+(?!url\())([^;]*)(;)/g,E=/(<link[^>]*)(rel=['|"]?stylesheet['|"]?[^>]*>)/g,N={Oa:function(e,t){if(e.href&&e.setAttribute("href",N.aa(e.getAttribute("href"),t)),e.src&&e.setAttribute("src",N.aa(e.getAttribute("src"),t)),"style"===e.localName){var o=N.xa(e.textContent,t,g);e.textContent=N.xa(o,t,f)}},xa:function(e,t,o){return e.replace(o,function(o,n,l,r){return o=l.replace(/["']/g,""),t&&(o=N.aa(o,t)),n+"'"+o+"'"+r})},aa:function(e,t){if(void 0===N.fa){N.fa=!1;try{var o=new URL("b","http://a");o.pathname="c%20d",N.fa="http://a/c%20d"===o.href}catch(e){}}return N.fa?new URL(e,t).href:(o=N.Ea,o||(o=document.implementation.createHTMLDocument("temp"),N.Ea=o,o.oa=o.createElement("base"),o.head.appendChild(o.oa),o.na=o.createElement("a")),o.oa.href=t,o.na.href=e,o.na.href||e)}},C={async:!0,load:function(t,o,n){if(!t)n("error: href must be specified");else if(t.match(/^data:/)){t=t.split(",");var l=t[1];l=-1<t[0].indexOf(";base64")?atob(l):decodeURIComponent(l),o(l)}else{var r=new XMLHttpRequest;r.open("GET",t,C.async),r.onload=function(){var e=r.responseURL||r.getResponseHeader("Location");e&&0===e.indexOf("/")&&(e=(location.origin||location.protocol+"//"+location.host)+e);var t=r.response||r.responseText;304===r.status||0===r.status||200<=r.status&&300>r.status?o(t,e):n(t)},r.send()}}},_=/Trident/.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent);a.prototype.loadImports=function(e){var t=this;e=l(e,"link[rel=import]"),u(e,function(e){return t.s(e)})},a.prototype.s=function(e){var t=this,o=e.href;if(void 0!==this.a[o]){var n=this.a[o];n&&n.__loaded&&(e.__import=n,this.i(e))}else this.b++,this.a[o]="pending",C.load(o,function(e,n){e=t.Va(e,n||o),t.a[o]=e,t.b--,t.loadImports(e),t.N()},function(){t.a[o]=null,t.b--,t.N()})},a.prototype.Va=function(e,t){if(!e)return document.createDocumentFragment();_&&(e=e.replace(E,function(e,t,o){return-1===e.indexOf("type=")?t+" type=import-disable "+o:e}));var o=document.createElement("template");if(o.innerHTML=e,o.content)e=o.content,h(e);else for(e=document.createDocumentFragment();o.firstChild;)e.appendChild(o.firstChild);(o=e.querySelector("base"))&&(t=N.aa(o.getAttribute("href"),t),o.removeAttribute("href")),o=l(e,"link[rel=import],link[rel=stylesheet][href][type=import-disable],style:not([type]),link[rel=stylesheet][href]:not([type]),script:not([type]),script[type=\"application/javascript\"],script[type=\"text/javascript\"]");var n=0;return u(o,function(e){p(e),N.Oa(e,t),e.setAttribute("import-dependency",""),"script"===e.localName&&!e.src&&e.textContent&&(e.setAttribute("src","data:text/javascript;charset=utf-8,"+encodeURIComponent(e.textContent+("\n//# sourceURL="+t+(n?"-"+n:"")+".js\n"))),e.textContent="",n++)}),e},a.prototype.N=function(){var e=this;if(!this.b){this.c.disconnect(),this.flatten(document);var t=!1,o=!1,n=function(){o&&t&&(e.loadImports(document),e.b||(e.c.observe(document.head,{childList:!0,subtree:!0}),e.Sa()))};this.Xa(function(){o=!0,n()}),this.Wa(function(){t=!0,n()})}},a.prototype.flatten=function(e){var t=this;e=l(e,"link[rel=import]"),u(e,function(e){var o=t.a[e.href];(e.__import=o)&&o.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(t.a[e.href]=e,e.readyState="loading",e.__import=e,t.flatten(o),e.appendChild(o))})},a.prototype.Wa=function(t){function o(l){if(l<r){var e=n[l],i=document.createElement("script");e.removeAttribute("import-dependency"),u(e.attributes,function(e){return i.setAttribute(e.name,e.value)}),y=i,e.parentNode.replaceChild(i,e),p(i,function(){y=null,o(l+1)})}else t()}var n=l(document,"script[import-dependency]"),r=n.length;o(0)},a.prototype.Xa=function(t){var o=l(document,"style[import-dependency],link[rel=stylesheet][import-dependency]"),n=o.length;if(n){var r=_&&!!document.querySelector("link[rel=stylesheet][href][type=import-disable]");u(o,function(e){if(p(e,function(){e.removeAttribute("import-dependency"),0==--n&&t()}),r&&e.parentNode!==document.head){var o=document.createElement(e.localName);for(o.__appliedElement=e,o.setAttribute("type","import-placeholder"),e.parentNode.insertBefore(o,e.nextSibling),o=i(e);o&&i(o);)o=i(o);o.parentNode!==document.head&&(o=null),document.head.insertBefore(e,o),e.removeAttribute("type")}})}else t()},a.prototype.Sa=function(){var e=this,t=l(document,"link[rel=import]");u(t,function(t){return e.i(t)},!0)},a.prototype.i=function(e){e.__loaded||(e.__loaded=!0,e.import&&(e.import.readyState="complete"),e.dispatchEvent(r(e.import?"load":"error",{bubbles:!1,cancelable:!1,detail:void 0})))},a.prototype.Ua=function(e){var t=this;u(e,function(e){return u(e.addedNodes,function(e){e&&e.nodeType===Node.ELEMENT_NODE&&(c(e)?t.s(e):t.loadImports(e))})})};var b=null;if(t)n=l(document,"link[rel=import]"),u(n,function(e){e.import&&"loading"===e.import.readyState||(e.__loaded=!0)}),n=function(e){e=e.target,c(e)&&(e.__loaded=!0)},document.addEventListener("load",n,!0),document.addEventListener("error",n,!0);else{var S=Object.getOwnPropertyDescriptor(Node.prototype,"baseURI");Object.defineProperty((!S||S.configurable?Node:Element).prototype,"baseURI",{get:function(){var e=c(this)?this:i(this);return e?e.href:S&&S.get?S.get.call(this):(document.querySelector("base")||window.location).href},configurable:!0,enumerable:!0}),Object.defineProperty(HTMLLinkElement.prototype,"import",{get:function(){return this.__import||null},configurable:!0,enumerable:!0}),d(function(){b=new a})}e(function(){return document.dispatchEvent(r("HTMLImportsLoaded",{cancelable:!0,bubbles:!0,detail:void 0}))}),o.useNative=t,o.whenReady=e,o.importForElement=i,o.loadImports=function(e){b&&b.loadImports(e)}}(window.HTMLImports=window.HTMLImports||{}),window.WebComponents=window.WebComponents||{flags:{}};var Bn=document.querySelector("script[src*=\"webcomponents-lite.js\"]"),Wn=/wc-(.+)/,Gn={};if(!Gn.noOpts){if(location.search.slice(1).split("&").forEach(function(e){e=e.split("=");var t;e[0]&&(t=e[0].match(Wn))&&(Gn[t[1]]=e[1]||!0)}),Bn)for(var w,Kn=0;w=Bn.attributes[Kn];Kn++)"src"!==w.name&&(Gn[w.name]=w.value||!0);if(Gn.log&&Gn.log.split){var Xn=Gn.log.split(",");Gn.log={},Xn.forEach(function(e){Gn.log[e]=!0})}else Gn.log={}}window.WebComponents.flags=Gn;var Yn=Gn.shadydom;Yn&&(window.ShadyDOM=window.ShadyDOM||{},window.ShadyDOM.force=Yn);var Jn=Gn.register||Gn.ce;Jn&&window.customElements&&(window.customElements.forcePolyfill=Jn);var $n=window.ShadyDOM||{};$n.Qa=Element.prototype.attachShadow&&Node.prototype.getRootNode;var Zn=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild");$n.w=!!(Zn&&Zn.configurable&&Zn.get),$n.ua=$n.force||!$n.Qa;var zn=navigator.userAgent.match("Trident"),Qn=navigator.userAgent.match("Edge");void 0===$n.Aa&&($n.Aa=$n.w&&(zn||Qn));var el=Element.prototype,tl=el.matches||el.matchesSelector||el.mozMatchesSelector||el.msMatchesSelector||el.oMatchesSelector||el.webkitMatchesSelector,ol=document.createTextNode(""),nl=0,ll=[];new MutationObserver(function(){for(;ll.length;)try{ll.shift()()}catch(e){throw ol.textContent=nl++,e}}).observe(ol,{characterData:!0});var rl,al=!!document.contains,il=[];Et.list=il,Ct.prototype.takeRecords=function(){if(this.addedNodes.length||this.removedNodes.length){var e=[{addedNodes:this.addedNodes,removedNodes:this.removedNodes}];return this.addedNodes=[],this.removedNodes=[],e}return[]};var dl={},sl=Element.prototype.insertBefore,pl=Element.prototype.replaceChild,cl=Element.prototype.removeChild,hl=Element.prototype.setAttribute,ul=Element.prototype.removeAttribute,ml=Element.prototype.cloneNode,gl=Document.prototype.importNode,yl=Element.prototype.addEventListener,fl=Element.prototype.removeEventListener,bl=Window.prototype.addEventListener,El=Window.prototype.removeEventListener,Cl=Element.prototype.dispatchEvent,Nl=Node.prototype.contains||HTMLElement.prototype.contains,_l=Element.prototype.querySelector,Sl=DocumentFragment.prototype.querySelector,vl=Document.prototype.querySelector,Tl=Element.prototype.querySelectorAll,xl=DocumentFragment.prototype.querySelectorAll,Ol=Document.prototype.querySelectorAll;dl.appendChild=Element.prototype.appendChild,dl.insertBefore=sl,dl.replaceChild=pl,dl.removeChild=cl,dl.setAttribute=hl,dl.removeAttribute=ul,dl.cloneNode=ml,dl.importNode=gl,dl.addEventListener=yl,dl.removeEventListener=fl,dl.cb=bl,dl.eb=El,dl.dispatchEvent=Cl,dl.contains=Nl,dl.mb=_l,dl.pb=Sl,dl.kb=vl,dl.querySelector=function(e){switch(this.nodeType){case Node.ELEMENT_NODE:return _l.call(this,e);case Node.DOCUMENT_NODE:return vl.call(this,e);default:return Sl.call(this,e);}},dl.nb=Tl,dl.qb=xl,dl.lb=Ol,dl.querySelectorAll=function(e){switch(this.nodeType){case Node.ELEMENT_NODE:return Tl.call(this,e);case Node.DOCUMENT_NODE:return Ol.call(this,e);default:return xl.call(this,e);}};var Dl=/[&\u00A0"]/g,Ml=/[&\u00A0<>]/g,Al=Ot(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),Ll=Ot(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]),wl={},E=document.createTreeWalker(document,NodeFilter.SHOW_ALL,null,!1),F=document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,null,!1);wl.parentNode=function(e){return E.currentNode=e,E.parentNode()},wl.firstChild=function(e){return E.currentNode=e,E.firstChild()},wl.lastChild=function(e){return E.currentNode=e,E.lastChild()},wl.previousSibling=function(e){return E.currentNode=e,E.previousSibling()},wl.nextSibling=function(e){return E.currentNode=e,E.nextSibling()},wl.childNodes=Mt,wl.parentElement=function(e){return F.currentNode=e,F.parentNode()},wl.firstElementChild=function(e){return F.currentNode=e,F.firstChild()},wl.lastElementChild=function(e){return F.currentNode=e,F.lastChild()},wl.previousElementSibling=function(e){return F.currentNode=e,F.previousSibling()},wl.nextElementSibling=function(e){return F.currentNode=e,F.nextSibling()},wl.children=function(e){var t=[];for(F.currentNode=e,e=F.firstChild();e;)t.push(e),e=F.nextSibling();return t},wl.innerHTML=function(e){return Dt(e,function(e){return Mt(e)})},wl.textContent=function(e){switch(e.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:e=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1);for(var t,o="";t=e.nextNode();)o+=t.nodeValue;return o;default:return e.nodeValue;}};var G={},H=$n.w,kl=[Node.prototype,Element.prototype,HTMLElement.prototype],Pl=H?{parentNode:At("parentNode"),firstChild:At("firstChild"),lastChild:At("lastChild"),previousSibling:At("previousSibling"),nextSibling:At("nextSibling"),childNodes:At("childNodes"),parentElement:At("parentElement"),previousElementSibling:At("previousElementSibling"),nextElementSibling:At("nextElementSibling"),innerHTML:At("innerHTML"),textContent:At("textContent"),firstElementChild:At("firstElementChild"),lastElementChild:At("lastElementChild"),children:At("children")}:{},J=H?{firstElementChild:Object.getOwnPropertyDescriptor(DocumentFragment.prototype,"firstElementChild"),lastElementChild:Object.getOwnPropertyDescriptor(DocumentFragment.prototype,"lastElementChild"),children:Object.getOwnPropertyDescriptor(DocumentFragment.prototype,"children")}:{},Rl=H?{firstElementChild:Object.getOwnPropertyDescriptor(Document.prototype,"firstElementChild"),lastElementChild:Object.getOwnPropertyDescriptor(Document.prototype,"lastElementChild"),children:Object.getOwnPropertyDescriptor(Document.prototype,"children")}:{};G.va=Pl,G.ob=J,G.jb=Rl,G.parentNode=function(e){return Pl.parentNode.get.call(e)},G.firstChild=function(e){return Pl.firstChild.get.call(e)},G.lastChild=function(e){return Pl.lastChild.get.call(e)},G.previousSibling=function(e){return Pl.previousSibling.get.call(e)},G.nextSibling=function(e){return Pl.nextSibling.get.call(e)},G.childNodes=function(e){return Array.prototype.slice.call(Pl.childNodes.get.call(e))},G.parentElement=function(e){return Pl.parentElement.get.call(e)},G.previousElementSibling=function(e){return Pl.previousElementSibling.get.call(e)},G.nextElementSibling=function(e){return Pl.nextElementSibling.get.call(e)},G.innerHTML=function(e){return Pl.innerHTML.get.call(e)},G.textContent=function(e){return Pl.textContent.get.call(e)},G.children=function(e){switch(e.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:e=J.children.get.call(e);break;case Node.DOCUMENT_NODE:e=Rl.children.get.call(e);break;default:e=Pl.children.get.call(e);}return Array.prototype.slice.call(e)},G.firstElementChild=function(e){switch(e.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:return J.firstElementChild.get.call(e);case Node.DOCUMENT_NODE:return Rl.firstElementChild.get.call(e);default:return Pl.firstElementChild.get.call(e);}},G.lastElementChild=function(e){switch(e.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:return J.lastElementChild.get.call(e);case Node.DOCUMENT_NODE:return Rl.lastElementChild.get.call(e);default:return Pl.lastElementChild.get.call(e);}};var Hl=$n.Aa?G:wl,jl=$n.w,Il=document.implementation.createHTMLDocument("inert"),Fl=Object.getOwnPropertyDescriptor(Node.prototype,"isConnected"),ql=Fl&&Fl.get,Ul=Object.getOwnPropertyDescriptor(Document.prototype,"activeElement"),Vl={parentElement:{get:function(){var e=x(this);return(e=e&&e.parentNode)&&e.nodeType!==Node.ELEMENT_NODE&&(e=null),void 0===e?Hl.parentElement(this):e},configurable:!0},parentNode:{get:function(){var e=x(this);return e=e&&e.parentNode,void 0===e?Hl.parentNode(this):e},configurable:!0},nextSibling:{get:function(){var e=x(this);return e=e&&e.nextSibling,void 0===e?Hl.nextSibling(this):e},configurable:!0},previousSibling:{get:function(){var e=x(this);return e=e&&e.previousSibling,void 0===e?Hl.previousSibling(this):e},configurable:!0},nextElementSibling:{get:function(){var e=x(this);if(e&&void 0!==e.nextSibling){for(e=this.nextSibling;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.nextSibling;return e}return Hl.nextElementSibling(this)},configurable:!0},previousElementSibling:{get:function(){var e=x(this);if(e&&void 0!==e.previousSibling){for(e=this.previousSibling;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.previousSibling;return e}return Hl.previousElementSibling(this)},configurable:!0}},Bl={className:{get:function(){return this.getAttribute("class")||""},set:function(e){this.setAttribute("class",e)},configurable:!0}},Wl={childNodes:{get:function(){if(y(this)){var e=x(this);if(!e.childNodes){e.childNodes=[];for(var t=this.firstChild;t;t=t.nextSibling)e.childNodes.push(t)}var o=e.childNodes}else o=Hl.childNodes(this);return o.item=function(e){return o[e]},o},configurable:!0},childElementCount:{get:function(){return this.children.length},configurable:!0},firstChild:{get:function(){var e=x(this);return e=e&&e.firstChild,void 0===e?Hl.firstChild(this):e},configurable:!0},lastChild:{get:function(){var e=x(this);return e=e&&e.lastChild,void 0===e?Hl.lastChild(this):e},configurable:!0},textContent:{get:function(){if(y(this)){for(var e,t=[],o=0,n=this.childNodes;e=n[o];o++)e.nodeType!==Node.COMMENT_NODE&&t.push(e.textContent);return t.join("")}return Hl.textContent(this)},set:function(e){switch(("undefined"==typeof e||null===e)&&(e=""),this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:if(!y(this)&&jl){var t=this.firstChild;(t!=this.lastChild||t&&t.nodeType!=Node.TEXT_NODE)&&I(this),G.va.textContent.set.call(this,e)}else I(this),(0<e.length||this.nodeType===Node.ELEMENT_NODE)&&this.appendChild(document.createTextNode(e));break;default:this.nodeValue=e;}},configurable:!0},firstElementChild:{get:function(){var e=x(this);if(e&&void 0!==e.firstChild){for(e=this.firstChild;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.nextSibling;return e}return Hl.firstElementChild(this)},configurable:!0},lastElementChild:{get:function(){var e=x(this);if(e&&void 0!==e.lastChild){for(e=this.lastChild;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.previousSibling;return e}return Hl.lastElementChild(this)},configurable:!0},children:{get:function(){var e=y(this)?Array.prototype.filter.call(this.childNodes,function(e){return e.nodeType===Node.ELEMENT_NODE}):Hl.children(this);return e.item=function(t){return e[t]},e},configurable:!0},innerHTML:{get:function(){return y(this)?Dt("template"===this.localName?this.content:this):Hl.innerHTML(this)},set:function(e){var t="template"===this.localName?this.content:this;I(t);var o=this.localName;for(o&&"template"!==o||(o="div"),o=Il.createElement(o),jl?G.va.innerHTML.set.call(o,e):o.innerHTML=e;o.firstChild;)t.appendChild(o.firstChild)},configurable:!0}},Gl={shadowRoot:{get:function(){var e=x(this);return e&&e.wa||null},configurable:!0}},Kl={activeElement:{get:function(){var e=Ul&&Ul.get?Ul.get.call(document):$n.w?void 0:document.activeElement;if(e&&e.nodeType){var t=!!ct(this);if(this===document||t&&this.host!==e&&dl.contains.call(this.host,e)){for(t=ht(e);t&&t!==this;)e=t.host,t=ht(e);e=this===document?t?null:e:t===this?e:null}else e=null}else e=null;return e},set:function(){},configurable:!0}},Xl=$n.w?function(){}:function(e){var t=pt(e);t.pa||(t.pa=!0,Lt(e,Vl,!0),Lt(e,Bl,!0))},Yl=$n.w?function(){}:function(e){pt(e).Ca||(Lt(e,Wl,!0),Lt(e,Gl,!0))},Jl=Hl.childNodes,$l=Hl.parentNode,Zl=null,zl="__eventWrappers"+Date.now(),Ql={blur:!0,focus:!0,focusin:!0,focusout:!0,click:!0,dblclick:!0,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,wheel:!0,beforeinput:!0,input:!0,keydown:!0,keyup:!0,compositionstart:!0,compositionupdate:!0,compositionend:!0,touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0,pointerover:!0,pointerenter:!0,pointerdown:!0,pointermove:!0,pointerup:!0,pointercancel:!0,pointerout:!0,pointerleave:!0,gotpointercapture:!0,lostpointercapture:!0,dragstart:!0,drag:!0,dragenter:!0,dragleave:!0,dragover:!0,drop:!0,dragend:!0,DOMActivate:!0,DOMFocusIn:!0,DOMFocusOut:!0,keypress:!0},er={get composed(){return!1!==this.isTrusted&&void 0===this.ba&&(this.ba=Ql[this.type]),this.ba||!1},composedPath:function(){return this.b||(this.b=Xt(this.__target,this.composed)),this.b},get target(){return Yt(this.currentTarget,this.composedPath())},get relatedTarget(){return this.ca?(this.c||(this.c=Xt(this.ca,!0)),Yt(this.currentTarget,this.c)):null},stopPropagation:function(){Event.prototype.stopPropagation.call(this),this.a=!0},stopImmediatePropagation:function(){Event.prototype.stopImmediatePropagation.call(this),this.a=this.i=!0}},tr={focus:!0,blur:!0},or=Jt(window.Event),nr=Jt(window.CustomEvent),lr=Jt(window.MouseEvent),rr=Hl.parentNode,ar=Hl.childNodes,ir={};so.prototype._renderRoot=function(){if(this.V=!1,this.g){go(this);for(var t,o=0;o<this.g.length;o++){t=this.g[o];var n=x(t),r=n.assignedNodes;if(n.assignedNodes=[],n.C=[],n.ka=r)for(n=0;n<r.length;n++){var a=x(r[n]);a.T=a.assignedSlot,a.assignedSlot===t&&(a.assignedSlot=null)}}for(t=this.host.firstChild;t;t=t.nextSibling)ho(this,t);for(o=0;o<this.g.length;o++){if(t=this.g[o],r=x(t),!r.assignedNodes.length)for(n=t.firstChild;n;n=n.nextSibling)ho(this,n,t);if((n=(n=x(t.parentNode))&&n.root)&&bo(n)&&n._renderRoot(),uo(this,r.C,r.assignedNodes),n=r.ka){for(a=0;a<n.length;a++)x(n[a]).T=null;r.ka=null,n.length>r.assignedNodes.length&&(r.Y=!0)}r.Y&&(r.Y=!1,mo(this,t))}for(o=this.g,t=[],r=0;r<o.length;r++)n=o[r].parentNode,(a=x(n))&&a.root||!(0>t.indexOf(n))||t.push(n);for(o=0;o<t.length;o++){r=t[o],n=r===this?this.host:r,a=[],r=r.childNodes;for(var e,i=0;i<r.length;i++)if(e=r[i],"slot"==e.localName){e=x(e).C;for(var d=0;d<e.length;d++)a.push(e[d])}else a.push(e);r=void 0,i=ar(n),e=ro(a,a.length,i,i.length);for(var s=d=0;d<e.length&&(r=e[d]);d++){for(var p,c=0;c<r.P.length&&(p=r.P[c]);c++)rr(p)===n&&dl.removeChild.call(n,p),i.splice(r.index+s,1);s-=r.W}for(s=0;s<e.length&&(r=e[s]);s++)for(d=i[r.index],c=r.index;c<r.index+r.W;c++)p=a[c],dl.insertBefore.call(n,p,d),i.splice(c,0,p)}}};var dr={addEventListener:eo.bind(window),removeEventListener:to.bind(window)},sr={addEventListener:eo,removeEventListener:to,appendChild:function(e){return Rt(this,e)},insertBefore:function(e,t){return Rt(this,e,t)},removeChild:function(e){return Ht(this,e)},replaceChild:function(e,t){return Rt(this,e,t),Ht(this,t),e},cloneNode:function(e){if("template"==this.localName)var t=dl.cloneNode.call(this,e);else if(t=dl.cloneNode.call(this,!1),e){e=this.childNodes;for(var o,n=0;n<e.length;n++)o=e[n].cloneNode(!0),t.appendChild(o)}return t},getRootNode:function(){return Vt(this)},contains:function(e){return ft(this,e)},dispatchEvent:function(e){return Et(),dl.dispatchEvent.call(this,e)}};Object.defineProperties(sr,{isConnected:{get:function(){if(ql&&ql.call(this))return!0;if(this.nodeType==Node.DOCUMENT_FRAGMENT_NODE)return!1;var e=this.ownerDocument;if(al){if(dl.contains.call(e,this))return!0;}else if(e.documentElement&&dl.contains.call(e.documentElement,this))return!0;for(e=this;e&&!(e instanceof Document);)e=e.parentNode||(ct(e)?e.host:void 0);return!!(e&&e instanceof Document)},configurable:!0}});var pr={get assignedSlot(){return Eo(this)}},cr={querySelector:function(e){return Bt(this,function(t){return tl.call(t,e)},function(e){return!!e})[0]||null},querySelectorAll:function(e,t){if(t){t=Array.prototype.slice.call(dl.querySelectorAll(this,e));var o=this.getRootNode();return t.filter(function(e){return e.getRootNode()==o})}return Bt(this,function(t){return tl.call(t,e)})}},hr={assignedNodes:function(e){if("slot"===this.localName){var t=this.getRootNode();return ct(t)&&co(t),(t=x(this))?(e&&e.flatten?t.C:t.assignedNodes)||[]:[]}}},ur=mt({setAttribute:function(e,t){Gt(this,e,t)},removeAttribute:function(e){dl.removeAttribute.call(this,e),qt(this,e)},attachShadow:function(e){if(!this)throw"Must provide a host.";if(!e)throw"Not enough arguments.";return new so(ir,this,e)},get slot(){return this.getAttribute("slot")},set slot(e){Gt(this,"slot",e)},get assignedSlot(){return Eo(this)}},cr,hr);Object.defineProperties(ur,Gl);var mr=mt({importNode:function(e,t){return Kt(e,t)},getElementById:function(e){return Bt(this,function(t){return t.id==e},function(e){return!!e})[0]||null}},cr);Object.defineProperties(mr,{_activeElement:Kl.activeElement});var gr=HTMLElement.prototype.blur,yr=mt({blur:function(){var e=x(this);(e=(e=e&&e.root)&&e.activeElement)?e.blur():gr.call(this)}}),fr={addEventListener:function(e,t,o){"object"!=typeof o&&(o={capture:!!o}),o.ea=this,this.host.addEventListener(e,t,o)},removeEventListener:function(e,t,o){"object"!=typeof o&&(o={capture:!!o}),o.ea=this,this.host.removeEventListener(e,t,o)},getElementById:function(e){return Bt(this,function(t){return t.id==e},function(e){return!!e})[0]||null}};if($n.ua){var br={inUse:$n.ua,patch:function(e){return Yl(e),Xl(e),e},isShadyRoot:ct,enqueue:bt,flush:Et,settings:$n,filterMutations:Tt,observeChildren:St,unobserveChildren:vt,nativeMethods:dl,nativeTree:Hl};window.ShadyDOM=br,window.Event=or,window.CustomEvent=nr,window.MouseEvent=lr,oo();var Er=window.customElements&&window.customElements.nativeHTMLElement||HTMLElement;Co(so.prototype,fr),Co(window.Node.prototype,sr),Co(window.Window.prototype,dr),Co(window.Text.prototype,pr),Co(window.DocumentFragment.prototype,cr),Co(window.Element.prototype,ur),Co(window.Document.prototype,mr),window.HTMLSlotElement&&Co(window.HTMLSlotElement.prototype,hr),Co(Er.prototype,yr),$n.w&&(L(window.Node.prototype),L(window.Text.prototype),L(window.DocumentFragment.prototype),L(window.Element.prototype),L(Er.prototype),L(window.Document.prototype),window.HTMLSlotElement&&L(window.HTMLSlotElement.prototype)),wt(),window.ShadowRoot=so}var Cr=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);O.prototype.b=function(e){if(this.c&&!e.__CE_patched){e.__CE_patched=!0;for(var t=0;t<this.i.length;t++)this.i[t](e)}},O.prototype.connectedCallback=function(e){var t=e.__CE_definition;t.connectedCallback&&t.connectedCallback.call(e)},O.prototype.disconnectedCallback=function(e){var t=e.__CE_definition;t.disconnectedCallback&&t.disconnectedCallback.call(e)},O.prototype.attributeChangedCallback=function(t,o,n,l,r){var e=t.__CE_definition;e.attributeChangedCallback&&-1<e.observedAttributes.indexOf(o)&&e.attributeChangedCallback.call(t,o,n,l,r)},ie.prototype.disconnect=function(){this.G&&this.G.disconnect()},ie.prototype.b=function(e){var t=this.a.readyState;for("interactive"!==t&&"complete"!==t||this.disconnect(),t=0;t<e.length;t++)for(var o=e[t].addedNodes,n=0;n<o.length;n++)R(this.m,o[n])},ke.prototype.resolve=function(e){if(this.a)throw Error("Already resolved.");this.a=e,this.b&&this.b(e)},le.prototype.define=function(t,o){var n=this;if(!(o instanceof Function))throw new TypeError("Custom element constructors must be functions.");if(!M(t))throw new SyntaxError("The element name '"+t+"' is not valid.");if(this.m.a.get(t))throw Error("A custom element with name '"+t+"' has already been defined.");if(this.ha)throw Error("A custom element is already being defined.");this.ha=!0;try{var r=function(e){var t=i[e];if(void 0!==t&&!(t instanceof Function))throw Error("The '"+e+"' callback must be a function.");return t},i=o.prototype;if(!(i instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var e=r("connectedCallback"),d=r("disconnectedCallback"),s=r("adoptedCallback"),p=r("attributeChangedCallback"),c=o.observedAttributes||[]}catch(e){return}finally{this.ha=!1}o={localName:t,constructor:o,connectedCallback:e,disconnectedCallback:d,adoptedCallback:s,attributeChangedCallback:p,observedAttributes:c,constructionStack:[]},ee(this.m,t,o),this.ja.push(o),this.S||(this.S=!0,this.ia(function(){return S(n)}))},le.prototype.get=function(e){if(e=this.m.a.get(e))return e.constructor},le.prototype.a=function(e){if(!M(e))return Promise.reject(new SyntaxError("'"+e+"' is not a valid custom element name."));var t=this.la.get(e);return t?t.c:(t=new ke,this.la.set(e,t),this.m.a.get(e)&&!this.ja.some(function(t){return t.localName===e})&&t.resolve(void 0),t.c)},le.prototype.b=function(e){this.Ga.disconnect();var t=this.ia;this.ia=function(o){return e(function(){return t(o)})}},window.CustomElementRegistry=le,le.prototype.define=le.prototype.define,le.prototype.get=le.prototype.get,le.prototype.whenDefined=le.prototype.a,le.prototype.polyfillWrapFlushCallback=le.prototype.b;var ae=window.Document.prototype.createElement,ne=window.Document.prototype.createElementNS,oe=window.Document.prototype.importNode,pe=window.Document.prototype.prepend,Nr=window.Document.prototype.append,_r=window.DocumentFragment.prototype.prepend,Sr=window.DocumentFragment.prototype.append,vr=window.Node.prototype.cloneNode,ue=window.Node.prototype.appendChild,ve=window.Node.prototype.insertBefore,we=window.Node.prototype.removeChild,xe=window.Node.prototype.replaceChild,ye=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),ze=window.Element.prototype.attachShadow,Ae=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),Be=window.Element.prototype.getAttribute,Ce=window.Element.prototype.setAttribute,De=window.Element.prototype.removeAttribute,Ee=window.Element.prototype.getAttributeNS,Fe=window.Element.prototype.setAttributeNS,Ge=window.Element.prototype.removeAttributeNS,He=window.Element.prototype.insertAdjacentElement,Ie=window.Element.prototype.insertAdjacentHTML,Je=window.Element.prototype.prepend,Tr=window.Element.prototype.append,xr=window.Element.prototype.before,Me=window.Element.prototype.after,Ne=window.Element.prototype.replaceWith,Oe=window.Element.prototype.remove,Pe=window.HTMLElement,Qe=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),Re=window.HTMLElement.prototype.insertAdjacentElement,Se=window.HTMLElement.prototype.insertAdjacentHTML,Te=new function(){},Ue=window.customElements;if(!Ue||Ue.forcePolyfill||"function"!=typeof Ue.define||"function"!=typeof Ue.get){var Or=new O;me(),Xe(),Ve(Or,DocumentFragment.prototype,{$:_r,append:Sr}),Ye(),$e(),document.__CE_hasRegistry=!0;var We=new le(Or);Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:We})}var Dr,Mr=1,Ar=7,Lr=4,wr=1E3,kr=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,Pr=/@import[^;]*;/gim,Rr=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,Hr=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,jr=/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,Ir=/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,Fr=/^@[^\s]*keyframes/,qr=/\s+/g,Ur=!(window.ShadyDOM&&window.ShadyDOM.inUse);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?Dr=window.ShadyCSS.nativeCss:window.ShadyCSS?(xo(window.ShadyCSS),window.ShadyCSS=void 0):xo(window.WebComponents&&window.WebComponents.flags);var Vr=Dr,Br=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,Wr=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,Gr=/(--[\w-]+)\s*([:,;)]|$)/gi,Kr=/(animation\s*:)|(animation-name\s*:)/,Xr=/@media\s(.*)/,Yr=/\{[^}]*\}/g,Jr=new Set,$r=null;Ho.prototype.b=function(t,o,n){var l=!1;t=t.trim();var r=Zr.test(t);return r&&(t=t.replace(Zr,function(e,t,o){return":"+t+"("+o.replace(/\s/g,"")+")"}),t=Wo(t)),t=t.replace(ra,oa+" $1"),t=t.replace(ea,function(t,r,e){return l||(t=Go(e,r,o,n),l=l||t.stop,r=t.Na,e=t.value),r+e}),r&&(t=Wo(t)),t},Ho.prototype.c=function(e){return e.match(la)?this.b(e,zr):Ko(e.trim(),zr)},p.Object.defineProperties(Ho.prototype,{a:{configurable:!0,enumerable:!0,get:function(){return"style-scope"}}});var Zr=/:(nth[-\w]+)\(([^)]+)\)/,zr=":not(.style-scope)",Qr=",",ea=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=[])+)/g,ta=/[[.:#*]/,oa=":host",na=":root",la="::slotted",ra=/^(::slotted)/,aa=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,ia=/(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,da=/(.*):dir\((?:(ltr|rtl))\)/,sa=".",ca=":",ha="class",ua="should_not_match",ma=new Ho;Jo.prototype.c=function(){return this.B},Jo.prototype._getStyleRules=Jo.prototype.c;var V=navigator.userAgent.match("Trident");p.Object.defineProperties(zo.prototype,{a:{configurable:!0,enumerable:!0,get:function(){return"x-scope"}}});var ga=new zo,ya={},fa=window.customElements;if(fa&&!Ur){var ba=fa.define;fa.define=function(t,o,n){var l=document.createComment(" Shady DOM styles for "+t+" "),r=document.head;return r.insertBefore(l,($r?$r.nextSibling:null)||r.firstChild),$r=l,ya[t]=l,ba.call(fa,t,o,n)}}if(hn.prototype.store=function(t,o,n,l){var r=this.cache[t]||[];r.push({A:o,styleElement:n,u:l}),100<r.length&&r.shift(),this.cache[t]=r},hn.prototype.fetch=function(t,o,n){if(t=this.cache[t])for(var l=t.length-1;0<=l;l--){var r,a=t[l];a:{for(r=0;r<n.length;r++){var e=n[r];if(a.A[e]!==o[e]){r=!1;break a}}r=!0}if(r)return a}},!Ur){var Ea=new MutationObserver(mn),Ca=function(e){Ea.observe(e,{childList:!0,subtree:!0})};if(window.customElements&&!window.customElements.polyfillWrapFlushCallback)Ca(document);else{var Na=function(){Ca(document.body)};window.HTMLImports?window.HTMLImports.whenReady(Na):requestAnimationFrame(function(){if("loading"===document.readyState){var e=function(){Na(),document.removeEventListener("readystatechange",e)};document.addEventListener("readystatechange",e)}else Na()})}un=function(){mn(Ea.takeRecords())}}var _a,Sa=un,va={},Ta=Promise.resolve(),xa=null,Da=window.HTMLImports&&window.HTMLImports.whenReady||null,Ma=new hn;Sn=En.prototype,Sn.Ba=function(){Sa()},Sn.Pa=function(e){return Do(e)},Sn.ab=function(e){return Oo(e)},Sn.prepareTemplate=function(t,o,n){if(!t.La){t.La=!0,t.name=o,t.extends=n,va[o]=t;for(var l,r=(r=t.content.querySelector("style"))?r.getAttribute("css-build")||"":"",a=[],e=t.content.querySelectorAll("style"),i=0;i<e.length;i++)if(l=e[i],!l.hasAttribute("shady-unscoped"))a.push(l.textContent),l.parentNode.removeChild(l);else if(!Ur){var s=l.textContent;Jr.has(s)||(Jr.add(s),s=l.cloneNode(!0),document.head.appendChild(s)),l.parentNode.removeChild(l)}a=a.join("").trim(),n={is:o,extends:n,gb:r},Ur||jo(t.content,o),Cn(this),e=Wr.test(a)||Br.test(a),Wr.lastIndex=0,Br.lastIndex=0,a=_o(a),e&&Vr&&this.a&&this.a.transformRules(a,o),t._styleAst=a,t.a=r,r=[],Vr||(r=Qo(t._styleAst)),(!r.length||Vr)&&(a=Ur?t.content:null,o=ya[o],e=qo(n,t._styleAst),o=e.length?Lo(e,n.is,a,o):void 0,t.ra=o),t.Ka=r}},Sn.I=function(){if(Cn(this),this.b){var e=this.b.processStyles();if(this.b.enqueued){if(Vr){for(var t,o=0;o<e.length;o++)if(t=this.b.getStyleForCustomStyle(e[o]),t&&Vr&&this.a){var n=Do(t);Cn(this),this.a.transformRules(n),t.textContent=Oo(n)}}else for(_n(this,this.c,this.i),o=0;o<e.length;o++)(t=this.b.getStyleForCustomStyle(e[o]))&&cn(t,this.i.F);this.b.enqueued=!1,this.s&&!Vr&&this.styleDocument()}}},Sn.styleElement=function(t,o){var n=Ro(t).is,r=$o(t);if(!r){var a=Ro(t);r=a.is,a=a.R;var e=ya[r];if(r=va[r],r)var i=r._styleAst,s=r.Ka;r=W(t,new Jo(i,e,s,a))}if(t!==this.c&&(this.s=!0),o&&(r.K=r.K||{},Object.assign(r.K,o)),Vr){if(r.K)for(var p in o=r.K,o)null===p?t.style.removeProperty(p):t.style.setProperty(p,o[p]);((p=va[n])||t===this.c)&&p&&p.ra&&!yn(p)&&((yn(p)||p._applyShimValidatingVersion!==p._applyShimNextVersion)&&(Cn(this),this.a&&this.a.transformRules(p._styleAst,n),p.ra.textContent=qo(t,r.B),fn(p)),Ur&&(n=t.shadowRoot)&&(n.querySelector("style").textContent=qo(t,r.B)),r.B=p._styleAst)}else if(_n(this,t,r),r.ma&&r.ma.length){n=r,p=Ro(t).is,r=(o=Ma.fetch(p,n.F,n.ma))?o.styleElement:null,i=n.u,(s=o&&o.u)||(s=this.N[p]=(this.N[p]||0)+1,s=p+"-"+s),n.u=s,s=n.u,a=ga,a=r?r.textContent||"":dn(a,t,n.F,s),e=$o(t);var c=e.a;c&&!Ur&&c!==r&&(c._useCount--,0>=c._useCount&&c.parentNode&&c.parentNode.removeChild(c)),Ur?e.a?(e.a.textContent=a,r=e.a):a&&(r=Lo(a,s,t.shadowRoot,e.b)):r?r.parentNode||(V&&-1<a.indexOf("@media")&&(r.textContent=a),wo(r,null,e.b)):a&&(r=Lo(a,s,null,e.b)),r&&(r._useCount=r._useCount||0,e.a!=r&&r._useCount++,e.a=r),s=r,Ur||(r=n.u,e=a=t.getAttribute("class")||"",i&&(e=a.replace(new RegExp("\\s*x-scope\\s*"+i+"\\s*","g")," ")),e+=(e?" ":"")+"x-scope "+r,a!==e&&Po(t,e)),o||Ma.store(p,n.F,s,n.u)}},Sn.styleDocument=function(e){this.styleSubtree(this.c,e)},Sn.styleSubtree=function(e,t){var o=e.shadowRoot;if((o||e===this.c)&&this.styleElement(e,t),t=o&&(o.children||o.childNodes))for(e=0;e<t.length;e++)this.styleSubtree(t[e]);else if(e=e.children||e.childNodes)for(t=0;t<e.length;t++)this.styleSubtree(e[t])},Sn.ya=function(e){var t=this,o=Do(e);Ao(o,function(e){if(Ur)Yo(e);else{var o=ma;e.selector=e.parsedSelector,Yo(e),e.selector=e.o=Bo(o,e,o.c,void 0,void 0)}Vr&&(Cn(t),t.a&&t.a.transformRule(e))}),Vr?e.textContent=Oo(o):this.i.B.rules.push(o)},Sn.getComputedStyleValue=function(e,t){var o;return Vr||(o=($o(e)||$o(Nn(this,e))).F[t]),(o=o||window.getComputedStyle(e).getPropertyValue(t))?o.trim():""},Sn.$a=function(t,o){var n=t.getRootNode();if(o=o?o.split(/\s/):[],n=n.host&&n.host.localName,!n){var l=t.getAttribute("class");if(l){l=l.split(/\s/);for(var r=0;r<l.length;r++)if(l[r]===ma.a){n=l[r+1];break}}}n&&o.push(ma.a,n),Vr||(n=$o(t))&&n.u&&o.push(ga.a,n.u),Po(t,o.join(" "))},Sn.Ma=function(e){return $o(e)},En.prototype.flush=En.prototype.Ba,En.prototype.prepareTemplate=En.prototype.prepareTemplate,En.prototype.styleElement=En.prototype.styleElement,En.prototype.styleDocument=En.prototype.styleDocument,En.prototype.styleSubtree=En.prototype.styleSubtree,En.prototype.getComputedStyleValue=En.prototype.getComputedStyleValue,En.prototype.setElementClass=En.prototype.$a,En.prototype._styleInfoForNode=En.prototype.Ma,En.prototype.transformCustomStyleForDocument=En.prototype.ya,En.prototype.getStyleAst=En.prototype.Pa,En.prototype.styleAstToString=En.prototype.ab,En.prototype.flushCustomStyles=En.prototype.I,Object.defineProperties(En.prototype,{nativeShadow:{get:function(){return Ur}},nativeCss:{get:function(){return Vr}}});var Aa,La,wa=new En;window.ShadyCSS&&(Aa=window.ShadyCSS.ApplyShim,La=window.ShadyCSS.CustomStyleInterface),window.ShadyCSS={ScopingShim:wa,prepareTemplate:function(e,t,o){wa.I(),wa.prepareTemplate(e,t,o)},styleSubtree:function(e,t){wa.I(),wa.styleSubtree(e,t)},styleElement:function(e){wa.I(),wa.styleElement(e)},styleDocument:function(e){wa.I(),wa.styleDocument(e)},getComputedStyleValue:function(e,t){return wa.getComputedStyleValue(e,t)},nativeCss:Vr,nativeShadow:Ur},Aa&&(window.ShadyCSS.ApplyShim=Aa),La&&(window.ShadyCSS.CustomStyleInterface=La);var ka=window.customElements,Pa=window.HTMLImports,Ra=window.HTMLTemplateElement;if(window.WebComponents=window.WebComponents||{},ka&&ka.polyfillWrapFlushCallback){var Ha,ja=function(){if(Ha){Ra.M&&Ra.M(window.document);var e=Ha;return Ha=null,e(),!0}},Ia=Pa.whenReady;ka.polyfillWrapFlushCallback(function(e){Ha=e,Ia(ja)}),Pa.whenReady=function(e){Ia(function(){ja()?Pa.whenReady(e):e()})}}Pa.whenReady(function(){requestAnimationFrame(function(){window.WebComponents.ready=!0,document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})});var Fa=document.createElement("style");Fa.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n";var qa=document.querySelector("head");qa.insertBefore(Fa,qa.firstChild)}).call(this);</script></head><body><div hidden="" by-polymer-bundler=""><script>window.DTile=window.DTile||{},DTile.metaPlugins=DTile.metaPlugins||[];</script><script>(function(){"use strict";function c(){this.end=this.start=0,this.rules=this.parent=this.previous=null,this.cssText=this.parsedCssText="",this.atRule=!1,this.type=0,this.parsedSelector=this.selector=this.keyframesName=""}function b(j){j=j.replace(w,"").replace(L,"");var a=j,b=new c;b.start=0,b.end=a.length;for(var d=b,e=0,f=a.length;e<f;e++)if("{"===a[e]){d.rules||(d.rules=[]);var h=d,g=h.rules[h.rules.length-1]||null;d=new c,d.start=e+1,d.parent=h,d.previous=g,h.rules.push(d)}else"}"===a[e]&&(d.end=e+1,d=d.parent||b);return i(b,j)}function i(h,a){var c=a.substring(h.start,h.end-1);if(h.parsedCssText=h.cssText=c.trim(),h.parent&&(c=a.substring(h.previous?h.previous.end:h.parent.start,h.start-1),c=g(c),c=c.replace(W," "),c=c.substring(c.lastIndexOf(";")+1),c=h.parsedSelector=h.selector=c.trim(),h.atRule=0===c.indexOf("@"),h.atRule?0===c.indexOf("@media")?h.type=v:c.match(S)&&(h.type=y,h.keyframesName=h.selector.split(W).pop()):h.type=0===c.indexOf("--")?u:k),c=h.rules)for(var b,f=0,d=c.length;f<d&&(b=c[f]);f++)i(b,a);return h}function g(b){return b.replace(/\\([0-9a-f]{1,6})\s/gi,function(c,a){for(c=a,a=6-c.length;a--;)c="0"+c;return"\\"+c})}function j(i,a,c){c=void 0===c?"":c;var b="";if(i.cssText||i.rules){var d,f=i.rules;if((d=f)&&(d=f[0],d=!(d&&d.selector&&0===d.selector.indexOf("--"))),d){d=0;for(var e,g=f.length;d<g&&(e=f[d]);d++)b=j(e,a,b)}else a?a=i.cssText:(a=i.cssText,a=a.replace(M,"").replace(O,""),a=a.replace(Q,"").replace(R,"")),(b=a.trim())&&(b="  "+b+"\n")}return b&&(i.selector&&(c+=i.selector+" {\n"),c+=b,i.selector&&(c+="}\n\n")),c}function d(b){(b=C[b])&&(b._applyShimCurrentVersion=b._applyShimCurrentVersion||0,b._applyShimValidatingVersion=b._applyShimValidatingVersion||0,b._applyShimNextVersion=(b._applyShimNextVersion||0)+1)}function e(b){return b._applyShimCurrentVersion===b._applyShimNextVersion}function f(b){b._applyShimValidatingVersion=b._applyShimNextVersion,b.b||(b.b=!0,t.then(function(){b._applyShimCurrentVersion=b._applyShimNextVersion,b.b=!1}))}function a(b){K=b&&b.shimcssproperties?!1:X||!navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)")}function h(c){return c?("string"==typeof c&&(c=b(c)),j(c,Y)):""}function l(c){return!c.__cssRules&&c.textContent&&(c.__cssRules=b(c.textContent)),c.__cssRules||null}function m(i,a,c,b){if(i){var d=!1,j=i.type;if(b&&j===v){var f=i.selector.match(H);f&&(window.matchMedia(f[1]).matches||(d=!0))}if(j===k?a(i):c&&j===y?c(i):j==u&&(d=!0),(i=i.rules)&&!d){d=0,j=i.length;for(var h;d<j&&(h=i[d]);d++)m(h,a,c,b)}}}function n(g,a){var c=g.indexOf("var(");if(-1===c)return a(g,"","","");a:{for(var b=0,d=c+3,e=g.length;d<e;d++)if("("===g[d])b++;else if(")"===g[d]&&0==--b)break a;d=-1}return b=g.substring(c+4,d),c=g.substring(0,c),g=n(g.substring(d+1),a),d=b.indexOf(","),-1===d?a(c,b.trim(),"",g):a(c,b.substring(0,d).trim(),b.substring(d+1).trim(),g)}function o(){this.a={}}function p(){this.b=this.c=null,this.a=new o}function q(d,a){return a=a.replace($,function(a,b,c,e){return x(d,a,b,c,e)}),r(d,a)}function r(i,a){for(var c;c=G.exec(a);){var b=c[0],d=c[1];c=c.index;var e=a.slice(0,c+b.indexOf("@apply"));a=a.slice(c+b.length);var f=s(i,e);b=void 0;var h=i;d=d.replace(I,"");var g=[],j=h.a.get(d);if(j||(h.a.set(d,{}),j=h.a.get(d)),j){h.c&&(j.i[h.c]=!0);var k=j.h;for(b in k)h=f&&f[b],j=[b,": var(",d,"_-_",b],h&&j.push(",",h.replace(ba,"")),j.push(")"),ba.test(k[b])&&j.push(" !important"),g.push(j.join(""))}b=g.join("; "),a=""+e+b+a,G.lastIndex=c+b.length}return a}function s(i,a){a=a.split(";");for(var c,b,d,h={},e=0;e<a.length;e++)if((c=a[e])&&(d=c.split(":"),1<d.length)){c=d[0].trim();var f=i;b=c,d=d.slice(1).join(":");var g=aa.exec(d);g&&(g[1]?(f.b||(f.b=document.createElement("meta"),f.b.setAttribute("apply-shim-measure",""),f.b.style.all="initial",document.head.appendChild(f.b)),b=window.getComputedStyle(f.b).getPropertyValue(b)):b="apply-shim-inherit",d=b),b=d,h[c]=b}return h}function z(d,a){if(N)for(var c in a.i)c!==d.c&&N(c)}function x(i,a,c,b,d){if(b&&n(b,function(a,c){c&&i.a.get(c)&&(d="@apply "+c+";")}),!d)return a;var j=r(i,d),f=a.slice(0,a.indexOf("--")),h=j=s(i,j),g=i.a.get(c),k=g&&g.h;k?h=Object.assign(Object.create(k),j):i.a.set(c,h);var m,o=[],p=!1;for(m in h){var q=j[m];void 0===q&&(q="initial"),!k||m in k||(p=!0),o.push(""+c+"_-_"+m+": "+q)}return p&&z(i,g),g&&(g.h=h),b&&(f=a+";"+f),""+f+o.join("; ")+";"}function A(b){requestAnimationFrame(function(){T?T(b):(U||(U=new Promise(function(b){P=b}),"complete"===document.readyState?P():document.addEventListener("readystatechange",function(){"complete"===document.readyState&&P()})),U.then(function(){b&&b()}))})}function D(){var b=this;this.a=null,A(function(){F(b)}),ca.invalidCallback=d}function F(b){b.a||(b.a=window.ShadyCSS.CustomStyleInterface,b.a&&(b.a.transformCallback=function(b){ca.f(b)},b.a.validateCallback=function(){requestAnimationFrame(function(){b.a.enqueued&&J(b)})}))}function J(e){if(F(e),e.a){var a=e.a.processStyles();if(e.a.enqueued){for(var c,d=0;d<a.length;d++)c=e.a.getStyleForCustomStyle(a[d]),c&&ca.f(c);e.a.enqueued=!1}}}var K,C={},k=1,y=7,v=4,u=1E3,w=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,L=/@import[^;]*;/gim,M=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,O=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,Q=/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,R=/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,S=/^@[^\s]*keyframes/,W=/\s+/g,t=Promise.resolve(),X=!(window.ShadyDOM&&window.ShadyDOM.inUse);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?K=window.ShadyCSS.nativeCss:window.ShadyCSS?(a(window.ShadyCSS),window.ShadyCSS=void 0):a(window.WebComponents&&window.WebComponents.flags);var Y=K,$=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,G=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,H=/@media\s(.*)/,_=new Set,I=/;\s*/m,aa=/^\s*(initial)|(inherit)\s*$/,ba=/\s*!important/;o.prototype.set=function(b,a){b=b.trim(),this.a[b]={h:a,i:{}}},o.prototype.get=function(b){return b=b.trim(),this.a[b]||null};var N=null;p.prototype.o=function(b){return b=G.test(b)||$.test(b),G.lastIndex=0,$.lastIndex=0,b},p.prototype.m=function(g,a){if(void 0===g.a){for(var c,f=[],b=g.content.querySelectorAll("style"),d=0;d<b.length;d++)if(c=b[d],!c.hasAttribute("shady-unscoped"))f.push(c.textContent),c.parentNode.removeChild(c);else if(!X){var e=c.textContent;_.has(e)||(_.add(e),e=c.cloneNode(!0),document.head.appendChild(e)),c.parentNode.removeChild(c)}(f=f.join("").trim())?(b=document.createElement("style"),b.textContent=f,g.content.insertBefore(b,g.content.firstChild),f=b):f=null,g.a=f}return(g=g.a)?this.j(g,a):null},p.prototype.j=function(d,a){a=void 0===a?"":a;var c=l(d);return this.l(c,a),d.textContent=h(c),c},p.prototype.f=function(d){var e=this,a=l(d);return m(a,function(b){":root"===b.selector&&(b.selector="html"),e.g(b)}),d.textContent=h(a),a},p.prototype.l=function(d,a){var c=this;this.c=a,m(d,function(b){c.g(b)}),this.c=null},p.prototype.g=function(b){b.cssText=q(this,b.parsedCssText),":root"===b.selector&&(b.selector=":host > *")},p.prototype.detectMixin=p.prototype.o,p.prototype.transformStyle=p.prototype.j,p.prototype.transformCustomStyle=p.prototype.f,p.prototype.transformRules=p.prototype.l,p.prototype.transformRule=p.prototype.g,p.prototype.transformTemplate=p.prototype.m,p.prototype._separator="_-_",Object.defineProperty(p.prototype,"invalidCallback",{get:function(){return N},set:function(b){N=b}});var P,U=null,T=window.HTMLImports&&window.HTMLImports.whenReady||null,ca=new p;if(D.prototype.prepareTemplate=function(b,a){F(this),C[a]=b,a=ca.m(b,a),b._styleAst=a},D.prototype.styleSubtree=function(d,a){if(F(this),a)for(var c in a)null===c?d.style.removeProperty(c):d.style.setProperty(c,a[c]);if(d.shadowRoot)for(this.styleElement(d),d=d.shadowRoot.children||d.shadowRoot.childNodes,a=0;a<d.length;a++)this.styleSubtree(d[a]);else for(d=d.children||d.childNodes,a=0;a<d.length;a++)this.styleSubtree(d[a])},D.prototype.styleElement=function(d){F(this);var a,b=d.localName;a=b?-1<b.indexOf("-")?b:d.getAttribute&&d.getAttribute("is")||"":d.is,(b=C[a])&&!e(b)&&((e(b)||b._applyShimValidatingVersion!==b._applyShimNextVersion)&&(this.prepareTemplate(b,a),f(b)),(d=d.shadowRoot)&&(d=d.querySelector("style"))&&(d.__cssRules=b._styleAst,d.textContent=h(b._styleAst)))},D.prototype.styleDocument=function(b){F(this),this.styleSubtree(document.body,b)},!window.ShadyCSS||!window.ShadyCSS.ScopingShim){var V=new D,Z=window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface;window.ShadyCSS={prepareTemplate:function(b,a){J(V),V.prepareTemplate(b,a)},styleSubtree:function(b,a){J(V),V.styleSubtree(b,a)},styleElement:function(b){J(V),V.styleElement(b)},styleDocument:function(b){J(V),V.styleDocument(b)},getComputedStyleValue:function(b,a){return(b=window.getComputedStyle(b).getPropertyValue(a))?b.trim():""},nativeCss:Y,nativeShadow:X},Z&&(window.ShadyCSS.CustomStyleInterface=Z)}window.ShadyCSS.ApplyShim=ca}).call(this);</script><script>(function(){'use strict';const a=window.Polymer;window.Polymer=function(a){return window.Polymer._polymerFn(a)},a&&Object.assign(Polymer,a),window.Polymer._polymerFn=function(){throw new Error('Load polymer.html to use the Polymer() function.')},window.Polymer.version='2.6.0',window.JSCompiler_renameProperty=function(a){return a}})();</script><script>(function(){'use strict';function a(a,d){if(a&&e.test(a))return a;if(void 0==b){b=!1;try{const a=new URL('b','http://a');a.pathname='c%20d',b='http://a/c%20d'===a.href}catch(a){}}return(d||(d=document.baseURI||window.location.href),b)?new URL(a,d).href:(c||(c=document.implementation.createHTMLDocument('temp'),c.base=c.createElement('base'),c.head.appendChild(c.base),c.anchor=c.createElement('a'),c.body.appendChild(c.anchor)),c.base.href=d,c.anchor.href=a,c.anchor.href||a)}let b,c,d=/(url\()([^)]*)(\))/g,e=/(^\/)|(^#)|(^[\w-\d]*:)/;Polymer.ResolveUrl={resolveCss:function(b,c){return b.replace(d,function(b,d,e,f){return d+'\''+a(e.replace(/["']/g,''),c)+'\''+f})},resolveUrl:a,pathFromUrl:function(a){return a.substring(0,a.lastIndexOf('/')+1)}}})();</script><script>(function(){'use strict';Polymer.Settings=Polymer.Settings||{},Polymer.Settings.useShadow=!window.ShadyDOM,Polymer.Settings.useNativeCSSProperties=!(window.ShadyCSS&&!window.ShadyCSS.nativeCss),Polymer.Settings.useNativeCustomElements=!window.customElements.polyfillWrapFlushCallback;let a=Polymer.rootPath||Polymer.ResolveUrl.pathFromUrl(document.baseURI||window.location.href);Polymer.rootPath=a,Polymer.setRootPath=function(a){Polymer.rootPath=a};let b=Polymer.sanitizeDOMValue;Polymer.sanitizeDOMValue=b,Polymer.setSanitizeDOMValue=function(a){Polymer.sanitizeDOMValue=a};Polymer.passiveTouchGestures=!1,Polymer.setPassiveTouchGestures=function(a){Polymer.passiveTouchGestures=a}})();</script><script>(function(){'use strict';function a(){}let b=0;a.prototype.__mixinApplications,a.prototype.__mixinSet,Polymer.dedupingMixin=function(a){let c=a.__mixinApplications;c||(c=new WeakMap,a.__mixinApplications=c);let d=b++;return function(b){let e=b.__mixinSet;if(e&&e[d])return b;let f=c,g=f.get(b);g||(g=a(b),f.set(b,g));let h=Object.create(g.__mixinSet||e||null);return h[d]=!0,g.__mixinSet=h,g}}})();</script><script>(function(){'use strict';function a(a){const b=customElements.get('dom-module');return b?b.import(a):null}function b(a){let b=a.body?a.body:a;const c=Polymer.ResolveUrl.resolveCss(b.textContent,a.baseURI),d=document.createElement('style');return d.textContent=c,d}const c='shady-unscoped';const d={stylesFromModules(a){const b=a.trim().split(/\s+/),c=[];for(let d=0;d<b.length;d++)c.push(...this.stylesFromModule(b[d]));return c},stylesFromModule(b){const c=a(b);if(!c)return console.warn('Could not find style data in module named',b),[];if(void 0===c._styles){const a=[...this._stylesFromModuleImports(c)],b=c.querySelector('template');b&&a.push(...this.stylesFromTemplate(b,c.assetpath)),c._styles=a}return c._styles},stylesFromTemplate(a,b){if(!a._styles){const c=[],d=a.content.querySelectorAll('style');for(let a=0;a<d.length;a++){let f=d[a],e=f.getAttribute('include');e&&c.push(...this.stylesFromModules(e).filter(function(a,b,c){return c.indexOf(a)===b})),b&&(f.textContent=Polymer.ResolveUrl.resolveCss(f.textContent,b)),c.push(f)}a._styles=c}return a._styles},stylesFromModuleImports(b){let c=a(b);return c?this._stylesFromModuleImports(c):[]},_stylesFromModuleImports(a){const d=[],e=a.querySelectorAll('link[rel=import][type~=css]');for(let f,g=0;g<e.length;g++)if(f=e[g],f.import){const a=f.import,e=f.hasAttribute(c);if(e&&!a._unscopedStyle){const d=b(a);d.setAttribute(c,''),a._unscopedStyle=d}else a._style||(a._style=b(a));d.push(e?a._unscopedStyle:a._style)}return d},cssFromModules(a){let b=a.trim().split(/\s+/),c='';for(let d=0;d<b.length;d++)c+=this.cssFromModule(b[d]);return c},cssFromModule(b){let c=a(b);if(c&&void 0===c._cssText){let a=this._cssFromModuleImports(c),b=c.querySelector('template');b&&(a+=this.cssFromTemplate(b,c.assetpath)),c._cssText=a||null}return c||console.warn('Could not find style data in module named',b),c&&c._cssText||''},cssFromTemplate(a,b){let c='';const d=this.stylesFromTemplate(a,b);for(let f,e=0;e<d.length;e++)f=d[e],f.parentNode&&f.parentNode.removeChild(f),c+=f.textContent;return c},cssFromModuleImports(b){let c=a(b);return c?this._cssFromModuleImports(c):''},_cssFromModuleImports(a){let b='',c=this._stylesFromModuleImports(a);for(let d=0;d<c.length;d++)b+=c[d].textContent;return b}};Polymer.StyleGather=d})();</script><script>(function(){'use strict';function a(a){return c[a]||d[a.toLowerCase()]}function b(a){a.querySelector('style')&&console.warn('dom-module %s has style outside template',a.id)}let c={},d={};class e extends HTMLElement{static get observedAttributes(){return['id']}static import(b,c){if(b){let d=a(b);return d&&c?d.querySelector(c):d}return null}attributeChangedCallback(a,b,c){b!==c&&this.register()}get assetpath(){if(!this.__assetpath){const a=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,b=Polymer.ResolveUrl.resolveUrl(this.getAttribute('assetpath')||'',a.baseURI);this.__assetpath=Polymer.ResolveUrl.pathFromUrl(b)}return this.__assetpath}register(a){a=a||this.id,a&&(this.id=a,c[a]=this,d[a.toLowerCase()]=this,b(this))}}e.prototype.modules=c,customElements.define('dom-module',e),Polymer.DomModule=e})();</script><script>(function(){'use strict';const a={isPath:function(a){return 0<=a.indexOf('.')},root:function(a){let b=a.indexOf('.');return-1===b?a:a.slice(0,b)},isAncestor:function(a,b){return 0===a.indexOf(b+'.')},isDescendant:function(a,b){return 0===b.indexOf(a+'.')},translate:function(a,b,c){return b+c.slice(a.length)},matches:function(a,b){return a===b||this.isAncestor(a,b)||this.isDescendant(a,b)},normalize:function(a){if(Array.isArray(a)){let b=[];for(let c,d=0;d<a.length;d++){c=a[d].toString().split('.');for(let a=0;a<c.length;a++)b.push(c[a])}return b.join('.')}return a},split:function(a){return Array.isArray(a)?this.normalize(a).split('.'):a.toString().split('.')},get:function(a,b,c){let d=a,e=this.split(b);for(let f=0;f<e.length;f++){if(!d)return;let a=e[f];d=d[a]}return c&&(c.path=e.join('.')),d},set:function(a,b,c){let d=a,e=this.split(b),f=e[e.length-1];if(1<e.length){for(let a,b=0;b<e.length-1;b++)if(a=e[b],d=d[a],!d)return;d[f]=c}else d[b]=c;return e.join('.')}};a.isDeep=a.isPath,Polymer.Path=a})();</script><script>(function(){'use strict';const a={},b=/-[a-z]/g,c=/([A-Z])/g,d={dashToCamelCase(c){return a[c]||(a[c]=0>c.indexOf('-')?c:c.replace(b,(a)=>a[1].toUpperCase()))},camelToDashCase(b){return a[b]||(a[b]=b.replace(c,'-$1').toLowerCase())}};Polymer.CaseMap=d})();</script><script>(function(){'use strict';let a=0,b=0,c=[],d=0,e=document.createTextNode('');new window.MutationObserver(function(){const a=c.length;for(let b,d=0;d<a;d++)if(b=c[d],b)try{b()}catch(a){setTimeout(()=>{throw a})}c.splice(0,a),b+=a}).observe(e,{characterData:!0}),Polymer.Async={timeOut:{after(a){return{run(b){return window.setTimeout(b,a)},cancel(a){window.clearTimeout(a)}}},run(a,b){return window.setTimeout(a,b)},cancel(a){window.clearTimeout(a)}},animationFrame:{run(a){return window.requestAnimationFrame(a)},cancel(a){window.cancelAnimationFrame(a)}},idlePeriod:{run(a){return window.requestIdleCallback?window.requestIdleCallback(a):window.setTimeout(a,16)},cancel(a){window.cancelIdleCallback?window.cancelIdleCallback(a):window.clearTimeout(a)}},microTask:{run(b){return e.textContent=d++,c.push(b),a++},cancel(a){const d=a-b;if(0<=d){if(!c[d])throw new Error('invalid async handle: '+a);c[d]=null}}}}})();</script><script>(function(){'use strict';const a=Polymer.Async.microTask;Polymer.PropertiesChanged=Polymer.dedupingMixin((b)=>{return class extends b{static createProperties(a){const b=this.prototype;for(let c in a)c in b||b._createPropertyAccessor(c)}static attributeNameForProperty(a){return a.toLowerCase()}static typeForProperty(){}_createPropertyAccessor(a,b){this._addPropertyToAttributeMap(a),this.hasOwnProperty('__dataHasAccessor')||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[a]||(this.__dataHasAccessor[a]=!0,this._definePropertyAccessor(a,b))}_addPropertyToAttributeMap(a){if(this.hasOwnProperty('__dataAttributes')||(this.__dataAttributes=Object.assign({},this.__dataAttributes)),!this.__dataAttributes[a]){const b=this.constructor.attributeNameForProperty(a);this.__dataAttributes[b]=a}}_definePropertyAccessor(a,b){Object.defineProperty(this,a,{get(){return this._getProperty(a)},set:b?function(){}:function(b){this._setProperty(a,b)}})}constructor(){super(),this.__dataEnabled=!1,this.__dataReady=!1,this.__dataInvalid=!1,this.__data={},this.__dataPending=null,this.__dataOld=null,this.__dataInstanceProps=null,this.__serializing=!1,this._initializeProperties()}ready(){this.__dataReady=!0,this._flushProperties()}_initializeProperties(){for(let a in this.__dataHasAccessor)this.hasOwnProperty(a)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[a]=this[a],delete this[a])}_initializeInstanceProperties(a){Object.assign(this,a)}_setProperty(a,b){this._setPendingProperty(a,b)&&this._invalidateProperties()}_getProperty(a){return this.__data[a]}_setPendingProperty(a,b){let c=this.__data[a],d=this._shouldPropertyChange(a,b,c);return d&&(!this.__dataPending&&(this.__dataPending={},this.__dataOld={}),this.__dataOld&&!(a in this.__dataOld)&&(this.__dataOld[a]=c),this.__data[a]=b,this.__dataPending[a]=b),d}_invalidateProperties(){!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,a.run(()=>{this.__dataInvalid&&(this.__dataInvalid=!1,this._flushProperties())}))}_enableProperties(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}_flushProperties(){const a=this.__data,b=this.__dataPending,c=this.__dataOld;this._shouldPropertiesChange(a,b,c)&&(this.__dataPending=null,this.__dataOld=null,this._propertiesChanged(a,b,c))}_shouldPropertiesChange(a,b){return!!b}_propertiesChanged(){}_shouldPropertyChange(a,b,c){return c!==b&&(c===c||b===b)}attributeChangedCallback(a,b,c){b!==c&&this._attributeToProperty(a,c),super.attributeChangedCallback&&super.attributeChangedCallback(a,b,c)}_attributeToProperty(a,b,c){if(!this.__serializing){const d=this.__dataAttributes,e=d&&d[a]||a;this[e]=this._deserializeValue(b,c||this.constructor.typeForProperty(e))}}_propertyToAttribute(a,b,c){this.__serializing=!0,c=3>arguments.length?this[a]:c,this._valueToNodeAttribute(this,c,b||this.constructor.attributeNameForProperty(a)),this.__serializing=!1}_valueToNodeAttribute(a,b,c){const d=this._serializeValue(b);d===void 0?a.removeAttribute(c):a.setAttribute(c,d)}_serializeValue(a){switch(typeof a){case'boolean':return a?'':void 0;default:return null==a?void 0:a.toString();}}_deserializeValue(a,b){return b===Boolean?null!==a:b===Number?+a:a}}})})();</script><script>(function(){'use strict';function a(a,b){if(!c[b]){let c=a[b];c!==void 0&&(a.__data?a._setPendingProperty(b,c):(a.__dataProto?!a.hasOwnProperty(JSCompiler_renameProperty('__dataProto',a))&&(a.__dataProto=Object.create(a.__dataProto)):a.__dataProto={},a.__dataProto[b]=c))}}let b=Polymer.CaseMap;const c={};for(let a=HTMLElement.prototype;a;){let b=Object.getOwnPropertyNames(a);for(let a=0;a<b.length;a++)c[b[a]]=!0;a=Object.getPrototypeOf(a)}Polymer.PropertyAccessors=Polymer.dedupingMixin((c)=>{const d=Polymer.PropertiesChanged(c);return class extends d{static createPropertiesForAttributes(){let a=this.observedAttributes;for(let c=0;c<a.length;c++)this.prototype._createPropertyAccessor(b.dashToCamelCase(a[c]))}static attributeNameForProperty(a){return b.camelToDashCase(a)}_initializeProperties(){this.__dataProto&&(this._initializeProtoProperties(this.__dataProto),this.__dataProto=null),super._initializeProperties()}_initializeProtoProperties(a){for(let b in a)this._setProperty(b,a[b])}_ensureAttribute(a,b){const c=this;c.hasAttribute(a)||this._valueToNodeAttribute(c,b,a)}_serializeValue(a){switch(typeof a){case'object':if(a instanceof Date)return a.toString();if(a)try{return JSON.stringify(a)}catch(a){return''}default:return super._serializeValue(a);}}_deserializeValue(a,b){let c;switch(b){case Object:try{c=JSON.parse(a)}catch(b){c=a}break;case Array:try{c=JSON.parse(a)}catch(b){c=null,console.warn(`Polymer::Attributes: couldn't decode Array as JSON: ${a}`)}break;case Date:c=isNaN(a)?a+'':+a,c=new Date(c);break;default:c=super._deserializeValue(a,b);}return c}_definePropertyAccessor(b,c){a(this,b),super._definePropertyAccessor(b,c)}_hasAccessor(a){return this.__dataHasAccessor&&this.__dataHasAccessor[a]}_isPropertyPending(a){return!!(this.__dataPending&&a in this.__dataPending)}}})})();</script><script>(function(){'use strict';function a(a){let b=a.getAttribute('is');if(b&&g[b]){let c=a;for(c.removeAttribute('is'),a=c.ownerDocument.createElement(b),c.parentNode.replaceChild(a,c),a.appendChild(c);c.attributes.length;)a.setAttribute(c.attributes[0].name,c.attributes[0].value),c.removeAttribute(c.attributes[0].name)}return a}function b(a,c){let d=c.parentInfo&&b(a,c.parentInfo);if(d){for(let a=d.firstChild,b=0;a;a=a.nextSibling)if(c.parentIndex===b++)return a;}else return a}function c(a,b,c,d){d.id&&(b[d.id]=c)}function d(a,b,c){if(c.events&&c.events.length)for(let d,e=0,f=c.events;e<f.length&&(d=f[e]);e++)a._addMethodEventListenerToNode(b,d.name,d.value,a)}function e(a,b,c){c.templateInfo&&(b._templateInfo=c.templateInfo)}function f(a,b,c){a=a._methodHost||a;return function(b){a[c]?a[c](b,b.detail):console.warn('listener method `'+c+'` not defined')}}const g={"dom-if":!0,"dom-repeat":!0};Polymer.TemplateStamp=Polymer.dedupingMixin((g)=>{return class extends g{static _parseTemplate(a,b){if(!a._templateInfo){let c=a._templateInfo={};c.nodeInfoList=[],c.stripWhiteSpace=b&&b.stripWhiteSpace||a.hasAttribute('strip-whitespace'),this._parseTemplateContent(a,c,{parent:null})}return a._templateInfo}static _parseTemplateContent(a,b,c){return this._parseTemplateNode(a.content,b,c)}static _parseTemplateNode(a,b,c){let d,e=a;return'template'!=e.localName||e.hasAttribute('preserve-content')?'slot'===e.localName&&(b.hasInsertionPoint=!0):d=this._parseTemplateNestedTemplate(e,b,c)||d,e.firstChild&&(d=this._parseTemplateChildNodes(e,b,c)||d),e.hasAttributes&&e.hasAttributes()&&(d=this._parseTemplateNodeAttributes(e,b,c)||d),d}static _parseTemplateChildNodes(b,c,d){if('script'!==b.localName&&'style'!==b.localName)for(let e,f=b.firstChild,g=0;f;f=e){if('template'==f.localName&&(f=a(f)),e=f.nextSibling,f.nodeType===Node.TEXT_NODE){for(let a=e;a&&a.nodeType===Node.TEXT_NODE;)f.textContent+=a.textContent,e=a.nextSibling,b.removeChild(a),a=e;if(c.stripWhiteSpace&&!f.textContent.trim()){b.removeChild(f);continue}}let h={parentIndex:g,parentInfo:d};this._parseTemplateNode(f,c,h)&&(h.infoIndex=c.nodeInfoList.push(h)-1),f.parentNode&&g++}}static _parseTemplateNestedTemplate(a,b,c){let d=this._parseTemplate(a,b),e=d.content=a.content.ownerDocument.createDocumentFragment();return e.appendChild(a.content),c.templateInfo=d,!0}static _parseTemplateNodeAttributes(b,c,d){let e=!1,f=Array.from(b.attributes);for(let g,a=f.length-1;g=f[a];a--)e=this._parseTemplateNodeAttribute(b,c,d,g.name,g.value)||e;return e}static _parseTemplateNodeAttribute(a,b,c,d,e){return'on-'===d.slice(0,3)?(a.removeAttribute(d),c.events=c.events||[],c.events.push({name:d.slice(3),value:e}),!0):!('id'!==d)&&(c.id=e,!0)}static _contentForTemplate(a){let b=a._templateInfo;return b&&b.content||a.content}_stampTemplate(a){a&&!a.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(a);let f=this.constructor._parseTemplate(a),g=f.nodeInfoList,h=f.content||a.content,j=document.importNode(h,!0);j.__noInsertionPoint=!f.hasInsertionPoint;let k=j.nodeList=Array(g.length);j.$={};for(let f,h,m=0,i=g.length;m<i&&(f=g[m]);m++)h=k[m]=b(j,f),c(this,j.$,h,f),e(this,h,f),d(this,h,f);return j=j,j}_addMethodEventListenerToNode(a,b,c,d){d=d||a;let e=f(d,b,c);return this._addEventListenerToNode(a,b,e),e}_addEventListenerToNode(a,b,c){a.addEventListener(b,c)}_removeEventListenerFromNode(a,b,c){a.removeEventListener(b,c)}}})})();</script><script>(function(){'use strict';function e(e,t){let a=e[t];if(!a)a=e[t]={};else if(!e.hasOwnProperty(t))for(let r in a=e[t]=Object.create(e[t]),a){let e=a[r],t=a[r]=Array(e.length);for(let a=0;a<e.length;a++)t[a]=e[a]}return a}function t(e,t,r,n,o,d){if(t){let i=!1,s=H++;for(let p in r)a(e,t,s,p,r,n,o,d)&&(i=!0);return i}return!1}function a(e,t,a,n,o,d,s,p){let _=!1,i=s?Polymer.Path.root(n):n,h=t[i];if(h)for(let t,P=0,i=h.length;P<i&&(t=h[P]);P++)t.info&&t.info.lastRun===a||s&&!r(n,t.trigger)||(t.info&&(t.info.lastRun=a),t.fn(e,n,o,d,t.info,s,p),_=!0);return _}function r(e,t){if(t){let a=t.name;return a==e||t.structured&&Polymer.Path.isAncestor(a,e)||t.wildcard&&Polymer.Path.isDescendant(a,e)}return!0}function n(e,t,a,r,n){let o='string'==typeof n.method?e[n.method]:n.method,d=n.property;o?o.call(e,e.__data[d],r[d]):!n.dynamicFn&&console.warn('observer method `'+n.method+'` not defined')}function o(e,t,r,n,o){let i,s=e[F.NOTIFY],p=H++;for(let _ in t)t[_]&&(s&&a(e,s,p,_,r,n,o)?i=!0:o&&d(e,_,r)&&(i=!0));let _;i&&(_=e.__dataHost)&&_._invalidateProperties&&_._invalidateProperties()}function d(e,t,a){let r=Polymer.Path.root(t);if(r!==t){let n=Polymer.CaseMap.camelToDashCase(r)+'-changed';return i(e,n,a[t],t),!0}return!1}function i(e,t,a,r){let n={value:a,queueProperty:!0};r&&(n.path=r),e.dispatchEvent(new CustomEvent(t,{detail:n}))}function s(e,t,a,r,n,o){let d=o?Polymer.Path.root(t):t,s=d==t?null:t,p=s?Polymer.Path.get(e,s):e.__data[t];s&&p===void 0&&(p=a[t]),i(e,n.eventName,p,s)}function p(e,t,a,r,n){let o,d=e.detail,i=d&&d.path;i?(r=Polymer.Path.translate(a,r,i),o=d&&d.value):o=e.target[a],o=n?!o:o,t[F.READ_ONLY]&&t[F.READ_ONLY][r]||!t._setPendingPropertyOrPath(r,o,!0,!!i)||d&&d.queueProperty||t._invalidateProperties()}function _(e,t,a,r,n){let o=e.__data[t];Polymer.sanitizeDOMValue&&(o=Polymer.sanitizeDOMValue(o,n.attrName,'attribute',e)),e._propertyToAttribute(t,n.attrName,o)}function l(e,a,r,n){let o=e[F.COMPUTE];if(o)for(let d=a;t(e,o,d,r,n);)Object.assign(r,e.__dataOld),Object.assign(a,e.__dataPending),d=e.__dataPending,e.__dataPending=null}function h(e,t,a,r,n){let o=N(e,t,a,r,n),d=n.methodInfo;e.__dataHasAccessor&&e.__dataHasAccessor[d]?e._setPendingProperty(d,o,!0):e[d]=o}function P(e,t,r){let n=e.__dataLinkedPaths;if(n){let o;for(let d in n){let a=n[d];Polymer.Path.isDescendant(d,t)?(o=Polymer.Path.translate(d,a,t),e._setPendingPropertyOrPath(o,r,!0,!0)):Polymer.Path.isDescendant(a,t)&&(o=Polymer.Path.translate(a,d,t),e._setPendingPropertyOrPath(o,r,!0,!0))}}}function f(e,t,a,r,n,o,d){a.bindings=a.bindings||[];let s={kind:r,target:n,parts:o,literal:d,isCompound:1!==o.length};if(a.bindings.push(s),y(s)){let{event:e,negate:t}=s.parts[0];s.listenerEvent=e||D.camelToDashCase(n)+'-changed',s.listenerNegate=t}let p=t.nodeInfoList.length;for(let _,l=0;l<s.parts.length;l++)_=s.parts[l],_.compoundIndex=l,g(e,t,s,_,p)}function g(e,t,a,r,n){if(!r.literal)if('attribute'===a.kind&&'-'===a.target[0])console.warn('Cannot set attribute '+a.target+' because "-" is not a valid attribute starting character');else{let o=r.dependencies,d={index:n,binding:a,part:r,evaluator:e};for(let a,r=0;r<o.length;r++)a=o[r],'string'==typeof a&&(a=A(a),a.wildcard=!0),e._addTemplatePropertyEffect(t,a.rootProperty,{fn:c,info:d,trigger:a})}}function c(e,t,a,r,n,o,d){let i=d[n.index],s=n.binding,p=n.part;if(o&&p.source&&t.length>p.source.length&&'property'==s.kind&&!s.isCompound&&i.__isPropertyEffectsClient&&i.__dataHasAccessor&&i.__dataHasAccessor[s.target]){let r=a[t];t=Polymer.Path.translate(p.source,s.target,t),i._setPendingPropertyOrPath(t,r,!1,!0)&&e._enqueueClient(i)}else{let d=n.evaluator._evaluateBinding(e,p,t,a,r,o);u(e,i,s,p,d)}}function u(e,t,a,r,n){if(n=m(t,n,a,r),Polymer.sanitizeDOMValue&&(n=Polymer.sanitizeDOMValue(n,a.target,a.kind,t)),'attribute'==a.kind)e._valueToNodeAttribute(t,n,a.target);else{let r=a.target;t.__isPropertyEffectsClient&&t.__dataHasAccessor&&t.__dataHasAccessor[r]?(!t[F.READ_ONLY]||!t[F.READ_ONLY][r])&&t._setPendingProperty(r,n)&&e._enqueueClient(t):e._setUnmanagedPropertyToNode(t,r,n)}}function m(e,t,a,r){if(a.isCompound){let n=e.__dataCompoundStorage[a.target];n[r.compoundIndex]=t,t=n.join('')}return'attribute'!==a.kind&&('textContent'===a.target||'value'===a.target&&('input'===e.localName||'textarea'===e.localName))&&(t=void 0==t?'':t),t}function y(e){return!!e.target&&'attribute'!=e.kind&&'text'!=e.kind&&!e.isCompound&&'{'===e.parts[0].mode}function E(e,t){let{nodeList:a,nodeInfoList:r}=t;if(r.length)for(let t=0;t<r.length;t++){let n=r[t],o=a[t],d=n.bindings;if(d)for(let t,a=0;a<d.length;a++)t=d[a],C(o,t),T(o,e,t);o.__dataHost=e}}function C(e,t){if(t.isCompound){let a=e.__dataCompoundStorage||(e.__dataCompoundStorage={}),r=t.parts,n=Array(r.length);for(let e=0;e<r.length;e++)n[e]=r[e].literal;let o=t.target;a[o]=n,t.literal&&'property'==t.kind&&(e[o]=t.literal)}}function T(e,t,a){if(a.listenerEvent){let r=a.parts[0];e.addEventListener(a.listenerEvent,function(n){p(n,t,a.target,r.source,r.negate)})}}function O(e,t,a,r,n,o){o=t.static||o&&('object'!=typeof o||o[t.methodName]);let d={methodName:t.methodName,args:t.args,methodInfo:n,dynamicFn:o};for(let s,p=0;p<t.args.length&&(s=t.args[p]);p++)s.literal||e._addPropertyEffect(s.rootProperty,a,{fn:r,info:d,trigger:s});o&&e._addPropertyEffect(t.methodName,a,{fn:r,info:d})}function N(e,t,a,r,n){let o=e._methodHost||e,d=o[n.methodName];if(d){let r=L(e.__data,n.args,t,a);return d.apply(o,r)}n.dynamicFn||console.warn('method `'+n.methodName+'` not defined')}function b(e){let t='';for(let a,r=0;r<e.length;r++)a=e[r].literal,t+=a||'';return t}function v(e){let t=e.match(/([^\s]+?)\(([\s\S]*)\)/);if(t){let e=t[1],a={methodName:e,static:!0,args:M};if(t[2].trim()){let e=t[2].replace(/\\,/g,'&comma;').split(',');return I(e,a)}return a}return null}function I(e,t){return t.args=e.map(function(e){let a=A(e);return a.literal||(t.static=!1),a},this),t}function A(e){let t=e.trim().replace(/&comma;/g,',').replace(/\\(.)/g,'$1'),r={name:t,value:'',literal:!1},a=t[0];return'-'===a&&(a=t[1]),'0'<=a&&'9'>=a&&(a='#'),'\''===a||'"'===a?(r.value=t.slice(1,-1),r.literal=!0):'#'===a?(r.value=+t,r.literal=!0):void 0,(r.literal||(r.rootProperty=Polymer.Path.root(t),r.structured=Polymer.Path.isPath(t),r.structured&&(r.wildcard='.*'==t.slice(-2),r.wildcard&&(r.name=t.slice(0,-2)))),r)}function L(e,t,a,r){let n=[];for(let o=0,d=t.length;o<d;o++){let d,i=t[o],s=i.name;if(i.literal?d=i.value:i.structured?(d=Polymer.Path.get(e,s),void 0===d&&(d=r[s])):d=e[s],i.wildcard){let e=0===s.indexOf(a+'.'),t=0===a.indexOf(s)&&!e;n[o]={path:t?a:s,value:t?r[a]:d,base:d}}else n[o]=d}return n}function R(e,t,a,r){let n=a+'.splices';e.notifyPath(n,{indexSplices:r}),e.notifyPath(a+'.length',t.length),e.__data[n]={indexSplices:null}}function x(e,t,a,r,n,o){R(e,t,a,[{index:r,addedCount:n,removed:o,object:t,type:'splice'}])}function k(e){return e[0].toUpperCase()+e.substring(1)}const D=Polymer.CaseMap;let H=0;const F={COMPUTE:'__computeEffects',REFLECT:'__reflectEffects',NOTIFY:'__notifyEffects',PROPAGATE:'__propagateEffects',OBSERVE:'__observeEffects',READ_ONLY:'__readOnly'},Y=/[A-Z]/;let S;const M=[],w='(?:[a-zA-Z_$][\\w.:$\\-*]*)',z='(?:('+w+'|'+'(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)'+'|'+('(?:'+'(?:\'(?:[^\'\\\\]|\\\\.)*\')'+'|'+'(?:"(?:[^"\\\\]|\\\\.)*")'+')')+')\\s*)',B=/(\[\[|{{)\s*(?:(!)\s*)?((?:[a-zA-Z_$][\w.:$\-*]*)\s*(?:\(\s*(?:(?:(?:((?:[a-zA-Z_$][\w.:$\-*]*)|(?:[-+]?[0-9]*\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\]|\\.)*')|(?:"(?:[^"\\]|\\.)*")))\s*)(?:,\s*(?:((?:[a-zA-Z_$][\w.:$\-*]*)|(?:[-+]?[0-9]*\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\]|\\.)*')|(?:"(?:[^"\\]|\\.)*")))\s*))*)?)\)\s*)?)(?:]]|}})/g;Polymer.PropertyEffects=Polymer.dedupingMixin((a)=>{const r=Polymer.TemplateStamp(Polymer.PropertyAccessors(a));class d extends r{constructor(){super(),this.__isPropertyEffectsClient=!0,this.__dataCounter=0,this.__dataClientsReady,this.__dataPendingClients,this.__dataToNotify,this.__dataLinkedPaths,this.__dataHasPaths,this.__dataCompoundStorage,this.__dataHost,this.__dataTemp,this.__dataClientsInitialized,this.__data,this.__dataPending,this.__dataOld,this.__computeEffects,this.__reflectEffects,this.__notifyEffects,this.__propagateEffects,this.__observeEffects,this.__readOnly,this.__templateInfo}get PROPERTY_EFFECT_TYPES(){return F}_initializeProperties(){super._initializeProperties(),V.registerHost(this),this.__dataClientsReady=!1,this.__dataPendingClients=null,this.__dataToNotify=null,this.__dataLinkedPaths=null,this.__dataHasPaths=!1,this.__dataCompoundStorage=this.__dataCompoundStorage||null,this.__dataHost=this.__dataHost||null,this.__dataTemp={},this.__dataClientsInitialized=!1}_initializeProtoProperties(e){this.__data=Object.create(e),this.__dataPending=Object.create(e),this.__dataOld={}}_initializeInstanceProperties(e){let t=this[F.READ_ONLY];for(let a in e)t&&t[a]||(this.__dataPending=this.__dataPending||{},this.__dataOld=this.__dataOld||{},this.__data[a]=this.__dataPending[a]=e[a])}_addPropertyEffect(t,a,r){this._createPropertyAccessor(t,a==F.READ_ONLY);let n=e(this,a)[t];n||(n=this[a][t]=[]),n.push(r)}_removePropertyEffect(t,a,r){let n=e(this,a)[t],o=n.indexOf(r);0<=o&&n.splice(o,1)}_hasPropertyEffect(e,t){let a=this[t];return!!(a&&a[e])}_hasReadOnlyEffect(e){return this._hasPropertyEffect(e,F.READ_ONLY)}_hasNotifyEffect(e){return this._hasPropertyEffect(e,F.NOTIFY)}_hasReflectEffect(e){return this._hasPropertyEffect(e,F.REFLECT)}_hasComputedEffect(e){return this._hasPropertyEffect(e,F.COMPUTE)}_setPendingPropertyOrPath(e,t,a,r){if(r||Polymer.Path.root(Array.isArray(e)?e[0]:e)!==e){if(!r){let a=Polymer.Path.get(this,e);if(e=Polymer.Path.set(this,e,t),!e||!super._shouldPropertyChange(e,t,a))return!1}if(this.__dataHasPaths=!0,this._setPendingProperty(e,t,a))return P(this,e,t),!0}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[e])return this._setPendingProperty(e,t,a);this[e]=t}return!1}_setUnmanagedPropertyToNode(e,t,a){(a!==e[t]||'object'==typeof a)&&(e[t]=a)}_setPendingProperty(e,t,a){let r=this.__dataHasPaths&&Polymer.Path.isPath(e),n=r?this.__dataTemp:this.__data;return!!this._shouldPropertyChange(e,t,n[e])&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),e in this.__dataOld||(this.__dataOld[e]=this.__data[e]),r?this.__dataTemp[e]=t:this.__data[e]=t,this.__dataPending[e]=t,(r||this[F.NOTIFY]&&this[F.NOTIFY][e])&&(this.__dataToNotify=this.__dataToNotify||{},this.__dataToNotify[e]=a),!0)}_setProperty(e,t){this._setPendingProperty(e,t,!0)&&this._invalidateProperties()}_invalidateProperties(){this.__dataReady&&this._flushProperties()}_enqueueClient(e){this.__dataPendingClients=this.__dataPendingClients||[],e!==this&&this.__dataPendingClients.push(e)}_flushProperties(){this.__dataCounter++,super._flushProperties(),this.__dataCounter--}_flushClients(){this.__dataClientsReady?this.__enableOrFlushClients():(this.__dataClientsReady=!0,this._readyClients(),this.__dataReady=!0)}__enableOrFlushClients(){let e=this.__dataPendingClients;if(e){this.__dataPendingClients=null;for(let t,a=0;a<e.length;a++)t=e[a],t.__dataEnabled?t.__dataPending&&t._flushProperties():t._enableProperties()}}_readyClients(){this.__enableOrFlushClients()}setProperties(e,t){for(let a in e)!t&&this[F.READ_ONLY]&&this[F.READ_ONLY][a]||this._setPendingPropertyOrPath(a,e[a],!0);this._invalidateProperties()}ready(){this._flushProperties(),this.__dataClientsReady||this._flushClients(),this.__dataPending&&this._flushProperties()}_propertiesChanged(e,a,r){let n=this.__dataHasPaths;this.__dataHasPaths=!1,l(this,a,r,n);let d=this.__dataToNotify;this.__dataToNotify=null,this._propagatePropertyChanges(a,r,n),this._flushClients(),t(this,this[F.REFLECT],a,r,n),t(this,this[F.OBSERVE],a,r,n),d&&o(this,d,a,r,n),1==this.__dataCounter&&(this.__dataTemp={})}_propagatePropertyChanges(e,a,r){this[F.PROPAGATE]&&t(this,this[F.PROPAGATE],e,a,r);for(let n=this.__templateInfo;n;)t(this,n.propertyEffects,e,a,r,n.nodeList),n=n.nextTemplateInfo}linkPaths(e,t){e=Polymer.Path.normalize(e),t=Polymer.Path.normalize(t),this.__dataLinkedPaths=this.__dataLinkedPaths||{},this.__dataLinkedPaths[e]=t}unlinkPaths(e){e=Polymer.Path.normalize(e),this.__dataLinkedPaths&&delete this.__dataLinkedPaths[e]}notifySplices(e,t){let a={path:''},r=Polymer.Path.get(this,e,a);R(this,r,a.path,t)}get(e,t){return Polymer.Path.get(t||this,e)}set(e,t,a){a?Polymer.Path.set(a,e,t):(!this[F.READ_ONLY]||!this[F.READ_ONLY][e])&&this._setPendingPropertyOrPath(e,t,!0)&&this._invalidateProperties()}push(e,...t){let a={path:''},r=Polymer.Path.get(this,e,a),n=r.length,o=r.push(...t);return t.length&&x(this,r,a.path,n,t.length,[]),o}pop(e){let t={path:''},a=Polymer.Path.get(this,e,t),r=!!a.length,n=a.pop();return r&&x(this,a,t.path,a.length,0,[n]),n}splice(e,t,a,...r){var n=Math.floor;let o={path:''},d=Polymer.Path.get(this,e,o);0>t?t=d.length-n(-t):t&&(t=n(t));let i;return i=2===arguments.length?d.splice(t):d.splice(t,a,...r),(r.length||i.length)&&x(this,d,o.path,t,r.length,i),i}shift(e){let t={path:''},a=Polymer.Path.get(this,e,t),r=!!a.length,n=a.shift();return r&&x(this,a,t.path,0,0,[n]),n}unshift(e,...t){let a={path:''},r=Polymer.Path.get(this,e,a),n=r.unshift(...t);return t.length&&x(this,r,a.path,0,t.length,[]),n}notifyPath(e,t){let a;if(1==arguments.length){let r={path:''};t=Polymer.Path.get(this,e,r),a=r.path}else a=Array.isArray(e)?Polymer.Path.normalize(e):e;this._setPendingPropertyOrPath(a,t,!0,!0)&&this._invalidateProperties()}_createReadOnlyProperty(e,t){this._addPropertyEffect(e,F.READ_ONLY),t&&(this['_set'+k(e)]=function(t){this._setProperty(e,t)})}_createPropertyObserver(e,t,a){let r={property:e,method:t,dynamicFn:!!a};this._addPropertyEffect(e,F.OBSERVE,{fn:n,info:r,trigger:{name:e}}),a&&this._addPropertyEffect(t,F.OBSERVE,{fn:n,info:r,trigger:{name:t}})}_createMethodObserver(e,t){let a=v(e);if(!a)throw new Error('Malformed observer expression \''+e+'\'');O(this,a,F.OBSERVE,N,null,t)}_createNotifyingProperty(e){this._addPropertyEffect(e,F.NOTIFY,{fn:s,info:{eventName:D.camelToDashCase(e)+'-changed',property:e}})}_createReflectedProperty(e){let t=this.constructor.attributeNameForProperty(e);'-'===t[0]?console.warn('Property '+e+' cannot be reflected to attribute '+t+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.'):this._addPropertyEffect(e,F.REFLECT,{fn:_,info:{attrName:t}})}_createComputedProperty(e,t,a){let r=v(t);if(!r)throw new Error('Malformed computed expression \''+t+'\'');O(this,r,F.COMPUTE,h,e,a)}static addPropertyEffect(e,t,a){this.prototype._addPropertyEffect(e,t,a)}static createPropertyObserver(e,t,a){this.prototype._createPropertyObserver(e,t,a)}static createMethodObserver(e,t){this.prototype._createMethodObserver(e,t)}static createNotifyingProperty(e){this.prototype._createNotifyingProperty(e)}static createReadOnlyProperty(e,t){this.prototype._createReadOnlyProperty(e,t)}static createReflectedProperty(e){this.prototype._createReflectedProperty(e)}static createComputedProperty(e,t,a){this.prototype._createComputedProperty(e,t,a)}static bindTemplate(e){return this.prototype._bindTemplate(e)}_bindTemplate(e,t){let a=this.constructor._parseTemplate(e),r=this.__templateInfo==a;if(!r)for(let e in a.propertyEffects)this._createPropertyAccessor(e);if(t&&(a=Object.create(a),a.wasPreBound=r,!r&&this.__templateInfo)){let e=this.__templateInfoLast||this.__templateInfo;return this.__templateInfoLast=e.nextTemplateInfo=a,a.previousTemplateInfo=e,a}return this.__templateInfo=a}static _addTemplatePropertyEffect(e,t,a){let r=e.hostProps=e.hostProps||{};r[t]=!0;let n=e.propertyEffects=e.propertyEffects||{},o=n[t]=n[t]||[];o.push(a)}_stampTemplate(e){V.beginHosting(this);let a=super._stampTemplate(e);V.endHosting(this);let r=this._bindTemplate(e,!0);if(r.nodeList=a.nodeList,!r.wasPreBound){let e=r.childNodes=[];for(let t=a.firstChild;t;t=t.nextSibling)e.push(t)}return a.templateInfo=r,E(this,r),this.__dataReady&&t(this,r.propertyEffects,this.__data,null,!1,r.nodeList),a}_removeBoundDom(e){let t=e.templateInfo;t.previousTemplateInfo&&(t.previousTemplateInfo.nextTemplateInfo=t.nextTemplateInfo),t.nextTemplateInfo&&(t.nextTemplateInfo.previousTemplateInfo=t.previousTemplateInfo),this.__templateInfoLast==t&&(this.__templateInfoLast=t.previousTemplateInfo),t.previousTemplateInfo=t.nextTemplateInfo=null;let a=t.childNodes;for(let t,r=0;r<a.length;r++)t=a[r],t.parentNode.removeChild(t)}static _parseTemplateNode(e,t,a){let r=super._parseTemplateNode(e,t,a);if(e.nodeType===Node.TEXT_NODE){let n=this._parseBindings(e.textContent,t);n&&(e.textContent=b(n)||' ',f(this,t,a,'text','textContent',n),r=!0)}return r}static _parseTemplateNodeAttribute(e,t,a,r,n){let o=this._parseBindings(n,t);if(o){let n=r,d='property';Y.test(r)?d='attribute':'$'==r[r.length-1]&&(r=r.slice(0,-1),d='attribute');let i=b(o);return i&&'attribute'==d&&e.setAttribute(r,i),'input'===e.localName&&'value'===n&&e.setAttribute(n,''),e.removeAttribute(n),'property'==d&&(r=Polymer.CaseMap.dashToCamelCase(r)),f(this,t,a,d,r,o,i),!0}return super._parseTemplateNodeAttribute(e,t,a,r,n)}static _parseTemplateNestedTemplate(e,t,a){let r=super._parseTemplateNestedTemplate(e,t,a),n=a.templateInfo.hostProps;for(let r in n){f(this,t,a,'property','_host_'+r,[{mode:'{',source:r,dependencies:[r]}])}return r}static _parseBindings(e,t){let a,r=[],n=0;for(;null!==(a=B.exec(e));){a.index>n&&r.push({literal:e.slice(n,a.index)});let o=a[1][0],d=!!a[2],i=a[3].trim(),s=!1,p='',_=-1;'{'==o&&0<(_=i.indexOf('::'))&&(p=i.substring(_+2),i=i.substring(0,_),s=!0);let l=v(i),h=[];if(l){let{args:e,methodName:a}=l;for(let t,a=0;a<e.length;a++)t=e[a],t.literal||h.push(t);let r=t.dynamicFns;(r&&r[a]||l.static)&&(h.push(a),l.dynamicFn=!0)}else h.push(i);r.push({source:i,mode:o,negate:d,customEvent:s,signature:l,dependencies:h,event:p}),n=B.lastIndex}if(n&&n<e.length){let t=e.substring(n);t&&r.push({literal:t})}return r.length?r:null}static _evaluateBinding(e,t,a,r,n,o){let d;return d=t.signature?N(e,a,r,n,t.signature):a==t.source?o&&Polymer.Path.isPath(a)?Polymer.Path.get(e,a):e.__data[a]:Polymer.Path.get(e,t.source),t.negate&&(d=!d),d}}return S=d,d});let V={stack:[],registerHost(e){if(this.stack.length){let t=this.stack[this.stack.length-1];t._enqueueClient(e)}},beginHosting(e){this.stack.push(e)},endHosting(e){let t=this.stack.length;t&&this.stack[t-1]==e&&this.stack.pop()}}})();</script><script>(function(){'use strict';function a(a){const b={};for(let c in a){const d=a[c];b[c]='function'==typeof d?{type:d}:d}return b}Polymer.PropertiesMixin=Polymer.dedupingMixin((b)=>{function c(a){const b=Object.getPrototypeOf(a);return b.prototype instanceof f?b:null}function d(b){if(!b.hasOwnProperty(JSCompiler_renameProperty('__ownProperties',b))){let c=null;b.hasOwnProperty(JSCompiler_renameProperty('properties',b))&&b.properties&&(c=a(b.properties)),b.__ownProperties=c}return b.__ownProperties}const e=Polymer.PropertiesChanged(b);class f extends e{static get observedAttributes(){const a=this._properties;return a?Object.keys(a).map((a)=>this.attributeNameForProperty(a)):[]}static finalize(){if(!this.hasOwnProperty(JSCompiler_renameProperty('__finalized',this))){const a=c(this);a&&a.finalize(),this.__finalized=!0,this._finalizeClass()}}static _finalizeClass(){const a=d(this);a&&this.createProperties(a)}static get _properties(){if(!this.hasOwnProperty(JSCompiler_renameProperty('__properties',this))){const a=c(this);this.__properties=Object.assign({},a&&a._properties,d(this))}return this.__properties}static typeForProperty(a){const b=this._properties[a];return b&&b.type}_initializeProperties(){this.constructor.finalize(),super._initializeProperties()}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._enableProperties()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback()}}return f})})();</script><script>(function(){'use strict';Polymer.ElementMixin=Polymer.dedupingMixin((a)=>{function b(a){if(!a.hasOwnProperty(JSCompiler_renameProperty('__propertyDefaults',a))){a.__propertyDefaults=null;let b=a._properties;for(let c in b){let d=b[c];'value'in d&&(a.__propertyDefaults=a.__propertyDefaults||{},a.__propertyDefaults[c]=d)}}return a.__propertyDefaults}function c(a){return a.hasOwnProperty(JSCompiler_renameProperty('__ownObservers',a))||(a.__ownObservers=a.hasOwnProperty(JSCompiler_renameProperty('observers',a))?a.observers:null),a.__ownObservers}function d(a,b,c,d){c.computed&&(c.readOnly=!0),c.computed&&!a._hasReadOnlyEffect(b)&&a._createComputedProperty(b,c.computed,d),c.readOnly&&!a._hasReadOnlyEffect(b)&&a._createReadOnlyProperty(b,!c.computed),c.reflectToAttribute&&!a._hasReflectEffect(b)&&a._createReflectedProperty(b),c.notify&&!a._hasNotifyEffect(b)&&a._createNotifyingProperty(b),c.observer&&a._createPropertyObserver(b,c.observer,d[c.observer]),a._addPropertyToAttributeMap(b)}function e(a,b,c,d){const e=b.content.querySelectorAll('style'),f=Polymer.StyleGather.stylesFromTemplate(b),g=Polymer.StyleGather.stylesFromModuleImports(c),h=b.content.firstElementChild;for(let e,f=0;f<g.length;f++)e=g[f],e.textContent=a._processStyleText(e.textContent,d),b.content.insertBefore(e,h);let j=0;for(let g=0;g<f.length;g++){let b=f[g],c=e[j];c===b?j++:(b=b.cloneNode(!0),c.parentNode.insertBefore(b,c)),b.textContent=a._processStyleText(b.textContent,d)}window.ShadyCSS&&window.ShadyCSS.prepareTemplate(b,c)}const f=Polymer.PropertiesMixin(Polymer.PropertyEffects(a));class g extends f{static _finalizeClass(){super._finalizeClass(),this.hasOwnProperty(JSCompiler_renameProperty('is',this))&&this.is&&Polymer.telemetry.register(this.prototype);const a=c(this);a&&this.createObservers(a,this._properties);let b=this.template;if(b)if('string'==typeof b){let a=document.createElement('template');a.innerHTML=b,b=a}else b=b.cloneNode(!0);this.prototype._template=b}static createProperties(a){for(let b in a)d(this.prototype,b,a[b],a)}static createObservers(a,b){const c=this.prototype;for(let d=0;d<a.length;d++)c._createMethodObserver(a[d],b)}static get template(){return this.hasOwnProperty(JSCompiler_renameProperty('_template',this))||(this._template=Polymer.DomModule&&Polymer.DomModule.import(this.is,'template')||Object.getPrototypeOf(this.prototype).constructor.template),this._template}static get importPath(){if(!this.hasOwnProperty(JSCompiler_renameProperty('_importPath',this))){const a=Polymer.DomModule&&Polymer.DomModule.import(this.is);this._importPath=a?a.assetpath:Object.getPrototypeOf(this.prototype).constructor.importPath}return this._importPath}constructor(){super(),this._template,this._importPath,this.rootPath,this.importPath,this.root,this.$}_initializeProperties(){Polymer.telemetry.instanceCount++,this.constructor.finalize();const a=this.constructor.importPath;this.constructor._finalizeTemplate(this.localName),super._initializeProperties(),this.rootPath=Polymer.rootPath,this.importPath=a;let c=b(this.constructor);if(c)for(let a in c){let b=c[a];if(!this.hasOwnProperty(a)){let c='function'==typeof b.value?b.value.call(this):b.value;this._hasAccessor(a)?this._setPendingProperty(a,c,!0):this[a]=c}}}static _processStyleText(a,b){return Polymer.ResolveUrl.resolveCss(a,b)}static _finalizeTemplate(a){const b=this.prototype._template;if(b&&!b.__polymerFinalized){b.__polymerFinalized=!0;const c=this.importPath,d=c?Polymer.ResolveUrl.resolveUrl(c):'';e(this,b,a,d),this.prototype._bindTemplate(b)}}connectedCallback(){window.ShadyCSS&&this._template&&window.ShadyCSS.styleElement(this),super.connectedCallback()}ready(){this._template&&(this.root=this._stampTemplate(this._template),this.$=this.root.$),super.ready()}_readyClients(){this._template&&(this.root=this._attachDom(this.root)),super._readyClients()}_attachDom(a){if(this.attachShadow)return a?(this.shadowRoot||this.attachShadow({mode:'open'}),this.shadowRoot.appendChild(a),this.shadowRoot):null;throw new Error('ShadowDOM not available. Polymer.Element can create dom as children instead of in ShadowDOM by setting `this.root = this;` before `ready`.')}updateStyles(a){window.ShadyCSS&&window.ShadyCSS.styleSubtree(this,a)}resolveUrl(a,b){return!b&&this.importPath&&(b=Polymer.ResolveUrl.resolveUrl(this.importPath)),Polymer.ResolveUrl.resolveUrl(a,b)}static _parseTemplateContent(a,b,c){return b.dynamicFns=b.dynamicFns||this._properties,super._parseTemplateContent(a,b,c)}}return g}),Polymer.telemetry={instanceCount:0,registrations:[],_regLog:function(a){console.log('['+a.is+']: registered')},register:function(a){this.registrations.push(a),Polymer.log&&this._regLog(a)},dumpRegistrations:function(){this.registrations.forEach(this._regLog)}},Polymer.updateStyles=function(a){window.ShadyCSS&&window.ShadyCSS.styleDocument(a)}})();</script><script>(function(){'use strict';class a{constructor(){this._asyncModule=null,this._callback=null,this._timer=null}setConfig(a,b){this._asyncModule=a,this._callback=b,this._timer=this._asyncModule.run(()=>{this._timer=null,this._callback()})}cancel(){this.isActive()&&(this._asyncModule.cancel(this._timer),this._timer=null)}flush(){this.isActive()&&(this.cancel(),this._callback())}isActive(){return null!=this._timer}static debounce(b,c,d){return b instanceof a?b.cancel():b=new a,b.setConfig(c,d),b}}Polymer.Debouncer=a})();</script><script>(function(){'use strict';function a(a){return-1<r.indexOf(a)}function b(b){return a(b)||'touchend'===b?void 0:l&&u&&Polymer.passiveTouchGestures?{passive:!0}:void 0}function c(a){return y[a.localName]||!1}function d(a){let b=[...(a.labels||[])];if(!b.length){b=[];let c=a.getRootNode();if(a.id){let d=c.querySelectorAll(`label[for = ${a.id}]`);for(let a=0;a<d.length;a++)b.push(d[a])}}return b}function f(a){let b=v?['click']:r;for(let c,d=0;d<b.length;d++)c=b[d],a?(x.length=0,document.addEventListener(c,z,!0)):document.removeEventListener(c,z,!0)}function g(b){let c=b.type;if(!a(c))return!1;if('mousemove'===c){let a=void 0===b.buttons?1:b.buttons;return b instanceof window.MouseEvent&&!t&&(a=s[b.which]||0),!!(1&a)}else{let a=void 0===b.button?0:b.button;return 0===a}}function h(a){if('click'===a.type){if(0===a.detail)return!0;let b=B._findOriginalTarget(a);if(!b.nodeType||b.nodeType!==Node.ELEMENT_NODE)return!0;let c=b.getBoundingClientRect(),d=a.pageX,e=a.pageY;return!(d>=c.left&&d<=c.right&&e>=c.top&&e<=c.bottom)}return!1}function e(a){let b='auto',c=a.composedPath&&a.composedPath();if(c)for(let a,d=0;d<c.length;d++)if(a=c[d],a[o]){b=a[o];break}return b}function i(a,b,c){a.movefn=b,a.upfn=c,document.addEventListener('mousemove',b),document.addEventListener('mouseup',c)}function j(a){document.removeEventListener('mousemove',a.movefn),document.removeEventListener('mouseup',a.upfn),a.movefn=null,a.upfn=null}var k=Math.abs;let l='string'==typeof document.head.style.touchAction,m='__polymerGestures',n='__polymerGesturesHandled',o='__polymerGesturesTouchAction',p=25,q=5,r=['mousedown','mousemove','mouseup','click'],s=[0,1,4,2],t=function(){try{return 1===new MouseEvent('test',{buttons:1}).buttons}catch(a){return!1}}(),u=!1;(function(){try{let a=Object.defineProperty({},'passive',{get(){u=!0}});window.addEventListener('test',null,a),window.removeEventListener('test',null,a)}catch(a){}})();let v=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/),w=function(){};w.prototype.reset,w.prototype.mousedown,w.prototype.mousemove,w.prototype.mouseup,w.prototype.touchstart,w.prototype.touchmove,w.prototype.touchend,w.prototype.click;const x=[],y={button:!0,input:!0,keygen:!0,meter:!0,output:!0,textarea:!0,progress:!0,select:!0};let z=function(a){let b=a.sourceCapabilities;if((!b||b.firesTouchEvents)&&(a[n]={skip:!0},'click'===a.type)){let b=!1,e=a.composedPath&&a.composedPath();if(e)for(let a=0;a<e.length;a++){if(e[a].nodeType===Node.ELEMENT_NODE)if('label'===e[a].localName)x.push(e[a]);else if(c(e[a])){let c=d(e[a]);for(let a=0;a<c.length;a++)b=b||-1<x.indexOf(c[a])}if(e[a]===A.mouse.target)return}if(b)return;a.preventDefault(),a.stopPropagation()}},A={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};document.addEventListener('touchend',function(a){A.mouse.mouseIgnoreJob||f(!0);A.mouse.target=a.composedPath()[0],A.mouse.mouseIgnoreJob=Polymer.Debouncer.debounce(A.mouse.mouseIgnoreJob,Polymer.Async.timeOut.after(2500),function(){f(),A.mouse.target=null,A.mouse.mouseIgnoreJob=null})},!!u&&{passive:!0});const B={gestures:{},recognizers:[],deepTargetFind:function(a,b){let c=document.elementFromPoint(a,b),d=c;for(;d&&d.shadowRoot&&!window.ShadyDOM;){let e=d;if(d=d.shadowRoot.elementFromPoint(a,b),e===d)break;d&&(c=d)}return c},_findOriginalTarget:function(a){if(a.composedPath){const b=a.composedPath();return 0<b.length?b[0]:a.target}return a.target},_handleNative:function(a){let b,c=a.type,d=a.currentTarget,e=d[m];if(e){let d=e[c];if(d){if(!a[n]&&(a[n]={},'touch'===c.slice(0,5))){a=a;let b=a.changedTouches[0];if('touchstart'===c&&1===a.touches.length&&(A.touch.id=b.identifier),A.touch.id!==b.identifier)return;l||'touchstart'!==c&&'touchmove'!==c||B._handleTouchAction(a)}if(b=a[n],!b.skip){for(let c,e=0;e<B.recognizers.length;e++)c=B.recognizers[e],d[c.name]&&!b[c.name]&&c.flow&&-1<c.flow.start.indexOf(a.type)&&c.reset&&c.reset();for(let e,f=0;f<B.recognizers.length;f++)e=B.recognizers[f],d[e.name]&&!b[e.name]&&(b[e.name]=!0,e[c](a))}}}},_handleTouchAction:function(a){let b=a.changedTouches[0],c=a.type;if('touchstart'===c)A.touch.x=b.clientX,A.touch.y=b.clientY,A.touch.scrollDecided=!1;else if('touchmove'===c){if(A.touch.scrollDecided)return;A.touch.scrollDecided=!0;let c=e(a),d=!1,f=k(A.touch.x-b.clientX),g=k(A.touch.y-b.clientY);a.cancelable&&('none'===c?d=!0:'pan-x'===c?d=g>f:'pan-y'===c&&(d=f>g)),d?a.preventDefault():B.prevent('track')}},addListener:function(a,b,c){return!!this.gestures[b]&&(this._add(a,b,c),!0)},removeListener:function(a,b,c){return!!this.gestures[b]&&(this._remove(a,b,c),!0)},_add:function(c,d,e){let f=this.gestures[d],g=f.deps,h=f.name,j=c[m];j||(c[m]=j={});for(let f,k,l=0;l<g.length;l++)(f=g[l],!(v&&a(f)&&'click'!==f))&&(k=j[f],k||(j[f]=k={_count:0}),0===k._count&&c.addEventListener(f,this._handleNative,b(f)),k[h]=(k[h]||0)+1,k._count=(k._count||0)+1);c.addEventListener(d,e),f.touchAction&&this.setTouchAction(c,f.touchAction)},_remove:function(a,c,d){let e=this.gestures[c],f=e.deps,g=e.name,h=a[m];if(h)for(let c,d,e=0;e<f.length;e++)c=f[e],d=h[c],d&&d[g]&&(d[g]=(d[g]||1)-1,d._count=(d._count||1)-1,0===d._count&&a.removeEventListener(c,this._handleNative,b(c)));a.removeEventListener(c,d)},register:function(a){this.recognizers.push(a);for(let b=0;b<a.emits.length;b++)this.gestures[a.emits[b]]=a},_findRecognizerByEvent:function(a){for(let b,c=0;c<this.recognizers.length;c++){b=this.recognizers[c];for(let c,d=0;d<b.emits.length;d++)if(c=b.emits[d],c===a)return b}return null},setTouchAction:function(a,b){l&&Polymer.Async.microTask.run(()=>{a.style.touchAction=b}),a[o]=b},_fire:function(a,b,c){let d=new Event(b,{bubbles:!0,cancelable:!0,composed:!0});if(d.detail=c,a.dispatchEvent(d),d.defaultPrevented){let a=c.preventer||c.sourceEvent;a&&a.preventDefault&&a.preventDefault()}},prevent:function(a){let b=this._findRecognizerByEvent(a);b.info&&(b.info.prevent=!0)},resetMouseCanceller:function(){A.mouse.mouseIgnoreJob&&A.mouse.mouseIgnoreJob.flush()}};B.register({name:'downup',deps:['mousedown','touchstart','touchend'],flow:{start:['mousedown','touchstart'],end:['mouseup','touchend']},emits:['down','up'],info:{movefn:null,upfn:null},reset:function(){j(this.info)},mousedown:function(a){if(!g(a))return;let b=B._findOriginalTarget(a),c=this;i(this.info,function(a){g(a)||(c._fire('up',b,a),j(c.info))},function(a){g(a)&&c._fire('up',b,a),j(c.info)}),this._fire('down',b,a)},touchstart:function(a){this._fire('down',B._findOriginalTarget(a),a.changedTouches[0],a)},touchend:function(a){this._fire('up',B._findOriginalTarget(a),a.changedTouches[0],a)},_fire:function(a,b,c,d){B._fire(b,a,{x:c.clientX,y:c.clientY,sourceEvent:c,preventer:d,prevent:function(a){return B.prevent(a)}})}}),B.register({name:'track',touchAction:'none',deps:['mousedown','touchstart','touchmove','touchend'],flow:{start:['mousedown','touchstart'],end:['mouseup','touchend']},emits:['track'],info:{x:0,y:0,state:'start',started:!1,moves:[],addMove:function(a){this.moves.length>2&&this.moves.shift(),this.moves.push(a)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state='start',this.info.started=!1,this.info.moves=[],this.info.x=0,this.info.y=0,this.info.prevent=!1,j(this.info)},hasMovedEnough:function(a,b){if(this.info.prevent)return!1;if(this.info.started)return!0;let c=k(this.info.x-a),d=k(this.info.y-b);return c>=q||d>=q},mousedown:function(a){if(!g(a))return;let b=B._findOriginalTarget(a),c=this,d=function(a){let d=a.clientX,e=a.clientY;c.hasMovedEnough(d,e)&&(c.info.state=c.info.started?'mouseup'===a.type?'end':'track':'start','start'===c.info.state&&B.prevent('tap'),c.info.addMove({x:d,y:e}),!g(a)&&(c.info.state='end',j(c.info)),c._fire(b,a),c.info.started=!0)};i(this.info,d,function(a){c.info.started&&d(a),j(c.info)}),this.info.x=a.clientX,this.info.y=a.clientY},touchstart:function(a){let b=a.changedTouches[0];this.info.x=b.clientX,this.info.y=b.clientY},touchmove:function(a){let b=B._findOriginalTarget(a),c=a.changedTouches[0],d=c.clientX,e=c.clientY;this.hasMovedEnough(d,e)&&('start'===this.info.state&&B.prevent('tap'),this.info.addMove({x:d,y:e}),this._fire(b,c),this.info.state='track',this.info.started=!0)},touchend:function(a){let b=B._findOriginalTarget(a),c=a.changedTouches[0];this.info.started&&(this.info.state='end',this.info.addMove({x:c.clientX,y:c.clientY}),this._fire(b,c,a))},_fire:function(a,b){let c,d=this.info.moves[this.info.moves.length-2],e=this.info.moves[this.info.moves.length-1],f=e.x-this.info.x,g=e.y-this.info.y,h=0;d&&(c=e.x-d.x,h=e.y-d.y),B._fire(a,'track',{state:this.info.state,x:b.clientX,y:b.clientY,dx:f,dy:g,ddx:c,ddy:h,sourceEvent:b,hover:function(){return B.deepTargetFind(b.clientX,b.clientY)}})}}),B.register({name:'tap',deps:['mousedown','click','touchstart','touchend'],flow:{start:['mousedown','touchstart'],end:['click','touchend']},emits:['tap'],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN,this.info.y=NaN,this.info.prevent=!1},save:function(a){this.info.x=a.clientX,this.info.y=a.clientY},mousedown:function(a){g(a)&&this.save(a)},click:function(a){g(a)&&this.forward(a)},touchstart:function(a){this.save(a.changedTouches[0],a)},touchend:function(a){this.forward(a.changedTouches[0],a)},forward:function(a,b){let c=k(a.clientX-this.info.x),d=k(a.clientY-this.info.y),f=B._findOriginalTarget(b||a);!f||f.disabled||(isNaN(c)||isNaN(d)||c<=p&&d<=p||h(a))&&!this.info.prevent&&B._fire(f,'tap',{x:a.clientX,y:a.clientY,sourceEvent:a,preventer:b})}}),B.findOriginalTarget=B._findOriginalTarget,B.add=B.addListener,B.remove=B.removeListener,Polymer.Gestures=B})();</script><script>(function(){'use strict';const a=Polymer.Gestures;Polymer.GestureEventListeners=Polymer.dedupingMixin((b)=>{return class extends b{_addEventListenerToNode(b,c,d){a.addListener(b,c,d)||super._addEventListenerToNode(b,c,d)}_removeEventListenerFromNode(b,c,d){a.removeListener(b,c,d)||super._removeEventListenerFromNode(b,c,d)}}})})();</script><script>(function(){'use strict';function a(){i=document.documentElement.getAttribute('dir')}function b(a){if(!a.__autoDirOptOut){a.setAttribute('dir',i)}}function c(){a(),i=document.documentElement.getAttribute('dir');for(let a=0;a<g.length;a++)b(g[a])}function d(){h&&h.takeRecords().length&&c()}const e=/:host\(:dir\((ltr|rtl)\)\)/g,f=/([\s\w-#\.\[\]\*]*):dir\((ltr|rtl)\)/g,g=[];let h=null,i='';Polymer.DirMixin=Polymer.dedupingMixin((i)=>{h||(a(),h=new MutationObserver(c),h.observe(document.documentElement,{attributes:!0,attributeFilter:['dir']}));const j=Polymer.PropertyAccessors(i);class k extends j{static _processStyleText(a,b){return a=super._processStyleText(a,b),a=this._replaceDirInCssText(a),a}static _replaceDirInCssText(a){let b=a;return b=b.replace(e,':host([dir="$1"])'),b=b.replace(f,':host([dir="$2"]) $1'),a!==b&&(this.__activateDir=!0),b}constructor(){super(),this.__autoDirOptOut=!1}ready(){super.ready(),this.__autoDirOptOut=this.hasAttribute('dir')}connectedCallback(){j.prototype.connectedCallback&&super.connectedCallback(),this.constructor.__activateDir&&(d(),g.push(this),b(this))}disconnectedCallback(){if(j.prototype.disconnectedCallback&&super.disconnectedCallback(),this.constructor.__activateDir){const a=g.indexOf(this);-1<a&&g.splice(a,1)}}}return k.__activateDir=!1,k})})();</script><script>(function(){'use strict';function a(a){window.HTMLImports?HTMLImports.whenReady(a):a()}Polymer.importHref=function(b,c,d,e){let f=document.head.querySelector('link[href="'+b+'"][import-href]');f||(f=document.createElement('link'),f.rel='import',f.href=b,f.setAttribute('import-href','')),e&&f.setAttribute('async','');let g=function(){f.removeEventListener('load',h),f.removeEventListener('error',i)},h=function(b){g(),f.__dynamicImportLoaded=!0,c&&a(()=>{c(b)})},i=function(b){g(),f.parentNode&&f.parentNode.removeChild(f),d&&a(()=>{d(b)})};return f.addEventListener('load',h),f.addEventListener('error',i),null==f.parentNode?document.head.appendChild(f):f.__dynamicImportLoaded&&f.dispatchEvent(new Event('load')),f}})();</script><script>(function(){'use strict';function a(){e=!0,requestAnimationFrame(function(){e=!1,b(f),setTimeout(function(){c(g)})})}function b(a){for(;a.length;)d(a.shift())}function c(a){for(let b=0,c=a.length;b<c;b++)d(a.shift())}function d(a){const b=a[0],c=a[1],d=a[2];try{c.apply(b,d)}catch(a){setTimeout(()=>{throw a})}}let e=!1,f=[],g=[];Polymer.RenderStatus={beforeNextRender:function(b,c,d){e||a(),f.push([b,c,d])},afterNextRender:function(b,c,d){e||a(),g.push([b,c,d])},flush:function(){for(;f.length||g.length;)b(f),b(g);e=!1}}})();</script><script>(function(){'use strict';function a(){document.body.removeAttribute('unresolved')}window.WebComponents?window.addEventListener('WebComponentsReady',a):'interactive'===document.readyState||'complete'===document.readyState?a():window.addEventListener('DOMContentLoaded',a)})();</script><script>(function(){'use strict';function a(a,b,c){return{index:a,removed:b,addedCount:c}}function b(a,b,c,d,e,f){let h=f-e+1,k=c-b+1,l=Array(h);for(let g=0;g<h;g++)l[g]=Array(k),l[g][0]=g;for(let g=0;g<k;g++)l[0][g]=g;for(let m=1;m<h;m++)for(let c=1;c<k;c++)if(g(a[b+c-1],d[e+m-1]))l[m][c]=l[m-1][c-1];else{let a=l[m-1][c]+1,b=l[m][c-1]+1;l[m][c]=a<b?a:b}return l}function c(a){let b=a.length-1,c=a[0].length-1,d=a[b][c],e=[];for(;0<b||0<c;){if(0==b){e.push(l),c--;continue}if(0==c){e.push(m),b--;continue}let f,g=a[b-1][c-1],i=a[b-1][c],j=a[b][c-1];f=i<j?i<g?i:g:j<g?j:g,f==g?(g==d?e.push(h):(e.push(k),d=g),b--,c--):f==i?(e.push(m),b--,d=i):(e.push(l),c--,d=j)}return e.reverse(),e}function d(d,g,i,j,n,o){let p,q=0,r=0,s=Math.min(i-g,o-n);if(0==g&&0==n&&(q=e(d,j,s)),i==d.length&&o==j.length&&(r=f(d,j,s-q)),g+=q,n+=q,i-=r,o-=r,0==i-g&&0==o-n)return[];if(g==i){for(p=a(g,[],0);n<o;)p.removed.push(j[n++]);return[p]}if(n==o)return[a(g,[],i-g)];let t=c(b(d,g,i,j,n,o));p=void 0;let u=[],v=g,w=n;for(let b=0;b<t.length;b++)switch(t[b]){case h:p&&(u.push(p),p=void 0),v++,w++;break;case k:p||(p=a(v,[],0)),p.addedCount++,v++,p.removed.push(j[w]),w++;break;case l:p||(p=a(v,[],0)),p.addedCount++,v++;break;case m:p||(p=a(v,[],0)),p.removed.push(j[w]),w++;}return p&&u.push(p),u}function e(a,b,c){for(let d=0;d<c;d++)if(!g(a[d],b[d]))return d;return c}function f(a,b,c){let d=a.length,e=b.length,f=0;for(;f<c&&g(a[--d],b[--e]);)f++;return f}function g(a,b){return a===b}const h=0,k=1,l=2,m=3;Polymer.ArraySplice={calculateSplices:function(a,b){return d(a,0,a.length,b,0,b.length)}}})();</script><script>(function(){'use strict';function a(a){return'slot'===a.localName}Polymer.FlattenedNodesObserver=class{static getFlattenedNodes(b){return a(b)?(b=b,b.assignedNodes({flatten:!0})):Array.from(b.childNodes).map((b)=>a(b)?(b=b,b.assignedNodes({flatten:!0})):[b]).reduce((c,a)=>c.concat(a),[])}constructor(a,b){this._shadyChildrenObserver=null,this._nativeChildrenObserver=null,this._connected=!1,this._target=a,this.callback=b,this._effectiveNodes=[],this._observer=null,this._scheduled=!1,this._boundSchedule=()=>{this._schedule()},this.connect(),this._schedule()}connect(){a(this._target)?this._listenSlots([this._target]):this._target.children&&(this._listenSlots(this._target.children),window.ShadyDOM?this._shadyChildrenObserver=ShadyDOM.observeChildren(this._target,(a)=>{this._processMutations(a)}):(this._nativeChildrenObserver=new MutationObserver((a)=>{this._processMutations(a)}),this._nativeChildrenObserver.observe(this._target,{childList:!0}))),this._connected=!0}disconnect(){a(this._target)?this._unlistenSlots([this._target]):this._target.children&&(this._unlistenSlots(this._target.children),window.ShadyDOM&&this._shadyChildrenObserver?(ShadyDOM.unobserveChildren(this._shadyChildrenObserver),this._shadyChildrenObserver=null):this._nativeChildrenObserver&&(this._nativeChildrenObserver.disconnect(),this._nativeChildrenObserver=null)),this._connected=!1}_schedule(){this._scheduled||(this._scheduled=!0,Polymer.Async.microTask.run(()=>this.flush()))}_processMutations(a){this._processSlotMutations(a),this.flush()}_processSlotMutations(a){if(a)for(let b,c=0;c<a.length;c++)b=a[c],b.addedNodes&&this._listenSlots(b.addedNodes),b.removedNodes&&this._unlistenSlots(b.removedNodes)}flush(){if(!this._connected)return!1;window.ShadyDOM&&ShadyDOM.flush(),this._nativeChildrenObserver?this._processSlotMutations(this._nativeChildrenObserver.takeRecords()):this._shadyChildrenObserver&&this._processSlotMutations(this._shadyChildrenObserver.takeRecords()),this._scheduled=!1;let a={target:this._target,addedNodes:[],removedNodes:[]},b=this.constructor.getFlattenedNodes(this._target),c=Polymer.ArraySplice.calculateSplices(b,this._effectiveNodes);for(let b,d=0;d<c.length&&(b=c[d]);d++)for(let c,d=0;d<b.removed.length&&(c=b.removed[d]);d++)a.removedNodes.push(c);for(let d,e=0;e<c.length&&(d=c[e]);e++)for(let c=d.index;c<d.index+d.addedCount;c++)a.addedNodes.push(b[c]);this._effectiveNodes=b;let d=!1;return(a.addedNodes.length||a.removedNodes.length)&&(d=!0,this.callback.call(this._target,a)),d}_listenSlots(b){for(let c,d=0;d<b.length;d++)c=b[d],a(c)&&c.addEventListener('slotchange',this._boundSchedule)}_unlistenSlots(b){for(let c,d=0;d<b.length;d++)c=b[d],a(c)&&c.removeEventListener('slotchange',this._boundSchedule)}}})();</script><script>(function(){'use strict';function a(){const a=!!b.length;for(;b.length;)try{b.shift().flush()}catch(a){setTimeout(()=>{throw a})}return a}let b=[];Polymer.enqueueDebouncer=function(a){b.push(a)},Polymer.flush=function(){let b,c;do b=window.ShadyDOM&&ShadyDOM.flush(),window.ShadyCSS&&window.ShadyCSS.ScopingShim&&window.ShadyCSS.ScopingShim.flush(),c=a();while(b||c)}})();</script><script>(function(){'use strict';const a=Element.prototype,b=a.matches||a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector,d=function(a,c){return b.call(a,c)};class c{constructor(a){this.node=a}observeNodes(a){return new Polymer.FlattenedNodesObserver(this.node,a)}unobserveNodes(a){a.disconnect()}notifyObserver(){}deepContains(a){if(this.node.contains(a))return!0;let b=a,c=a.ownerDocument;for(;b&&b!==c&&b!==this.node;)b=b.parentNode||b.host;return b===this.node}getOwnerRoot(){return this.node.getRootNode()}getDistributedNodes(){return'slot'===this.node.localName?this.node.assignedNodes({flatten:!0}):[]}getDestinationInsertionPoints(){let a=[],b=this.node.assignedSlot;for(;b;)a.push(b),b=b.assignedSlot;return a}importNode(a,b){let c=this.node instanceof Document?this.node:this.node.ownerDocument;return c.importNode(a,b)}getEffectiveChildNodes(){return Polymer.FlattenedNodesObserver.getFlattenedNodes(this.node)}queryDistributedElements(a){let b=this.getEffectiveChildNodes(),e=[];for(let f,c=0,g=b.length;c<g&&(f=b[c]);c++)f.nodeType===Node.ELEMENT_NODE&&d(f,a)&&e.push(f);return e}get activeElement(){let a=this.node;return a._activeElement===void 0?a.activeElement:a._activeElement}}(function(a,b){for(let c,d=0;d<b.length;d++)c=b[d],a[c]=function(){return this.node[c].apply(this.node,arguments)}})(c.prototype,['cloneNode','appendChild','insertBefore','removeChild','replaceChild','setAttribute','removeAttribute','querySelector','querySelectorAll']),function(a,b){for(let c,d=0;d<b.length;d++)c=b[d],Object.defineProperty(a,c,{get:function(){const a=this;return a.node[c]},configurable:!0})}(c.prototype,['parentNode','firstChild','lastChild','nextSibling','previousSibling','firstElementChild','lastElementChild','nextElementSibling','previousElementSibling','childNodes','children','classList']),function(a,b){for(let c,d=0;d<b.length;d++)c=b[d],Object.defineProperty(a,c,{get:function(){const a=this;return a.node[c]},set:function(a){this.node[c]=a},configurable:!0})}(c.prototype,['textContent','innerHTML']);class e{constructor(a){this.event=a}get rootTarget(){return this.event.composedPath()[0]}get localTarget(){return this.event.target}get path(){return this.event.composedPath()}}Polymer.DomApi=c,Polymer.DomApi.prototype.cloneNode,Polymer.DomApi.prototype.appendChild,Polymer.DomApi.prototype.insertBefore,Polymer.DomApi.prototype.removeChild,Polymer.DomApi.prototype.replaceChild,Polymer.DomApi.prototype.setAttribute,Polymer.DomApi.prototype.removeAttribute,Polymer.DomApi.prototype.querySelector,Polymer.DomApi.prototype.querySelectorAll,Polymer.dom=function(a){if(a=a||document,!a.__domApi){let b;b=a instanceof Event?new e(a):new c(a),a.__domApi=b}return a.__domApi},Polymer.dom.matchesSelector=d,Polymer.dom.flush=Polymer.flush,Polymer.dom.addDebouncer=Polymer.enqueueDebouncer})();</script><script>(function(){'use strict';let a=window.ShadyCSS;Polymer.LegacyElementMixin=Polymer.dedupingMixin((b)=>{const c=Polymer.DirMixin(Polymer.GestureEventListeners(Polymer.ElementMixin(b))),d={x:'pan-x',y:'pan-y',none:'none',all:'auto'};class e extends c{constructor(){super(),this.isAttached,this.__boundListeners,this._debouncers,this._applyListeners()}created(){}connectedCallback(){super.connectedCallback(),this.isAttached=!0,this.attached()}attached(){}disconnectedCallback(){super.disconnectedCallback(),this.isAttached=!1,this.detached()}detached(){}attributeChangedCallback(a,b,c){b!==c&&(super.attributeChangedCallback(a,b,c),this.attributeChanged(a,b,c))}attributeChanged(){}_initializeProperties(){let a=Object.getPrototypeOf(this);a.hasOwnProperty('__hasRegisterFinished')||(a.__hasRegisterFinished=!0,this._registered()),super._initializeProperties(),this.root=this,this.created()}_registered(){}ready(){this._ensureAttributes(),super.ready()}_ensureAttributes(){}_applyListeners(){}serialize(a){return this._serializeValue(a)}deserialize(a,b){return this._deserializeValue(a,b)}reflectPropertyToAttribute(a,b,c){this._propertyToAttribute(a,b,c)}serializeValueToAttribute(a,b,c){this._valueToNodeAttribute(c||this,a,b)}extend(a,b){if(!(a&&b))return a||b;let c=Object.getOwnPropertyNames(b);for(let d,e,f=0;f<c.length&&(d=c[f]);f++)e=Object.getOwnPropertyDescriptor(b,d),e&&Object.defineProperty(a,d,e);return a}mixin(a,b){for(let c in b)a[c]=b[c];return a}chainObject(a,b){return a&&b&&a!==b&&(a.__proto__=b),a}instanceTemplate(a){let b=this.constructor._contentForTemplate(a),c=document.importNode(b,!0);return c}fire(a,b,c){c=c||{},b=null===b||void 0===b?{}:b;let d=new Event(a,{bubbles:void 0===c.bubbles||c.bubbles,cancelable:!!c.cancelable,composed:void 0===c.composed||c.composed});d.detail=b;let e=c.node||this;return e.dispatchEvent(d),d}listen(a,b,c){a=a||this;let d=this.__boundListeners||(this.__boundListeners=new WeakMap),e=d.get(a);e||(e={},d.set(a,e));let f=b+c;e[f]||(e[f]=this._addMethodEventListenerToNode(a,b,c,this))}unlisten(a,b,c){a=a||this;let d=this.__boundListeners&&this.__boundListeners.get(a),e=b+c,f=d&&d[e];f&&(this._removeEventListenerFromNode(a,b,f),d[e]=null)}setScrollDirection(a,b){Polymer.Gestures.setTouchAction(b||this,d[a]||'auto')}$$(a){return this.root.querySelector(a)}get domHost(){let a=this.getRootNode();return a instanceof DocumentFragment?a.host:a}distributeContent(){window.ShadyDOM&&this.shadowRoot&&ShadyDOM.flush()}getEffectiveChildNodes(){const a=this,b=Polymer.dom(a);return b.getEffectiveChildNodes()}queryDistributedElements(a){const b=this,c=Polymer.dom(b);return c.queryDistributedElements(a)}getEffectiveChildren(){let a=this.getEffectiveChildNodes();return a.filter(function(a){return a.nodeType===Node.ELEMENT_NODE})}getEffectiveTextContent(){let a=this.getEffectiveChildNodes(),b=[];for(let d,c=0;d=a[c];c++)d.nodeType!==Node.COMMENT_NODE&&b.push(d.textContent);return b.join('')}queryEffectiveChildren(a){let b=this.queryDistributedElements(a);return b&&b[0]}queryAllEffectiveChildren(a){return this.queryDistributedElements(a)}getContentChildNodes(a){let b=this.root.querySelector(a||'slot');return b?Polymer.dom(b).getDistributedNodes():[]}getContentChildren(a){let b=this.getContentChildNodes(a).filter(function(a){return a.nodeType===Node.ELEMENT_NODE});return b}isLightDescendant(a){const b=this;return b!==a&&b.contains(a)&&b.getRootNode()===a.getRootNode()}isLocalDescendant(a){return this.root===a.getRootNode()}scopeSubtree(){}getComputedStyleValue(b){return a.getComputedStyleValue(this,b)}debounce(a,b,c){return this._debouncers=this._debouncers||{},this._debouncers[a]=Polymer.Debouncer.debounce(this._debouncers[a],0<c?Polymer.Async.timeOut.after(c):Polymer.Async.microTask,b.bind(this))}isDebouncerActive(a){this._debouncers=this._debouncers||{};let b=this._debouncers[a];return!!(b&&b.isActive())}flushDebouncer(a){this._debouncers=this._debouncers||{};let b=this._debouncers[a];b&&b.flush()}cancelDebouncer(a){this._debouncers=this._debouncers||{};let b=this._debouncers[a];b&&b.cancel()}async(a,b){return 0<b?Polymer.Async.timeOut.run(a.bind(this),b):~Polymer.Async.microTask.run(a.bind(this))}cancelAsync(a){0>a?Polymer.Async.microTask.cancel(~a):Polymer.Async.timeOut.cancel(a)}create(a,b){let c=document.createElement(a);if(b)if(c.setProperties)c.setProperties(b);else for(let a in b)c[a]=b[a];return c}importHref(a,b,c,d){let e=b?b.bind(this):null,f=c?c.bind(this):null;return Polymer.importHref(a,e,f,d)}elementMatches(a,b){return Polymer.dom.matchesSelector(b||this,a)}toggleAttribute(a,b,c){c=c||this,1==arguments.length&&(b=!c.hasAttribute(a)),b?c.setAttribute(a,''):c.removeAttribute(a)}toggleClass(a,b,c){c=c||this,1==arguments.length&&(b=!c.classList.contains(a)),b?c.classList.add(a):c.classList.remove(a)}transform(a,b){b=b||this,b.style.webkitTransform=a,b.style.transform=a}translate3d(a,b,c,d){d=d||this,this.transform('translate3d('+a+','+b+','+c+')',d)}arrayDelete(a,b){let c;if(!Array.isArray(a)){let d=Polymer.Path.get(this,a);if(c=d.indexOf(b),0<=c)return this.splice(a,c,1)}else if(c=a.indexOf(b),0<=c)return a.splice(c,1);return null}_logger(a,b){Array.isArray(b)&&1===b.length&&Array.isArray(b[0])&&(b=b[0]),'log'===a||'warn'===a||'error'===a?console[a](...b):void 0}_log(...a){this._logger('log',a)}_warn(...a){this._logger('warn',a)}_error(...a){this._logger('error',a)}_logf(a,...b){return['[%s::%s]',this.is,a,...b]}}return e.prototype.is='',e})})();</script><script>(function(){'use strict';function a(a,b){if(!a)return b=b,b;b=Polymer.LegacyElementMixin(b),Array.isArray(a)||(a=[a]);let e=b.prototype.behaviors;return a=d(a,null,e),b=c(a,b),e&&(a=e.concat(a)),b.prototype.behaviors=a,b}function c(a,d){for(let f,b=0;b<a.length;b++)f=a[b],f&&(d=Array.isArray(f)?c(f,d):e(f,d));return d}function d(a,c,e){c=c||[];for(let f,b=a.length-1;0<=b;b--)f=a[b],f?Array.isArray(f)?d(f,c):0>c.indexOf(f)&&(!e||0>e.indexOf(f))&&c.unshift(f):console.warn('behavior is null, check for missing or 404 import');return c}function e(c,a){class d extends a{static get properties(){return c.properties}static get observers(){return c.observers}static get template(){return c._template||Polymer.DomModule&&Polymer.DomModule.import(this.is,'template')||a.template||this.prototype._template||null}created(){super.created(),c.created&&c.created.call(this)}_registered(){super._registered(),c.beforeRegister&&c.beforeRegister.call(Object.getPrototypeOf(this)),c.registered&&c.registered.call(Object.getPrototypeOf(this))}_applyListeners(){if(super._applyListeners(),c.listeners)for(let a in c.listeners)this._addMethodEventListenerToNode(this,a,c.listeners[a])}_ensureAttributes(){if(c.hostAttributes)for(let b in c.hostAttributes)this._ensureAttribute(b,c.hostAttributes[b]);super._ensureAttributes()}ready(){super.ready(),c.ready&&c.ready.call(this)}attached(){super.attached(),c.attached&&c.attached.call(this)}detached(){super.detached(),c.detached&&c.detached.call(this)}attributeChanged(a,b,d){super.attributeChanged(a,b,d),c.attributeChanged&&c.attributeChanged.call(this,a,b,d)}}for(let e in d.generatedFrom=c,c)if(!(e in b)){let a=Object.getOwnPropertyDescriptor(c,e);a&&Object.defineProperty(d.prototype,e,a)}return d}let b={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,behaviors:!0};Polymer.Class=function(b){b||console.warn('Polymer.Class requires `info` argument');let c=e(b,b.behaviors?a(b.behaviors,HTMLElement):Polymer.LegacyElementMixin(HTMLElement));return c.is=b.is,c},Polymer.mixinBehaviors=a})();</script><script>(function(){'use strict';window.Polymer._polymerFn=function(a){let b;return b='function'==typeof a?a:Polymer.Class(a),customElements.define(b.is,b),b}})();</script><script>(function(){'use strict';function a(a,b,c,d,e){let f;e&&(f='object'==typeof c&&null!==c,f&&(d=a.__dataTemp[b]));let g=d!==c&&(d===d||c===c);return f&&g&&(a.__dataTemp[b]=c),g}Polymer.MutableData=Polymer.dedupingMixin((b)=>{return class extends b{_shouldPropertyChange(b,c,d){return a(this,b,c,d,!0)}}}),Polymer.OptionalMutableData=Polymer.dedupingMixin((b)=>{class c extends b{static get properties(){return{mutableData:Boolean}}_shouldPropertyChange(b,c,d){return a(this,b,c,d,this.mutableData)}}return c}),Polymer.MutableData._mutablePropertyChange=a})();</script><script>(function(){'use strict';function a(){return j}function b(a,b){j=a,Object.setPrototypeOf(a,b.prototype),new b,j=null}function c(a){let b=a.__dataHost;return b&&b._methodHost||b}function d(a,b,c){let d=c.mutableData?o:n,e=class extends d{};return e.prototype.__templatizeOptions=c,e.prototype._bindTemplate(a),g(e,a,b,c),e}function e(a,c,d){let e=d.forwardHostProp;if(e){let g=c.templatizeTemplateClass;if(!g){let a=d.mutableData?l:k;g=c.templatizeTemplateClass=class extends a{};let b=c.hostProps;for(let a in b)g.prototype._addPropertyEffect('_host_'+a,g.prototype.PROPERTY_EFFECT_TYPES.PROPAGATE,{fn:f(a,e)}),g.prototype._createNotifyingProperty('_host_'+a)}b(a,g),a.__dataProto&&Object.assign(a.__data,a.__dataProto),a.__dataTemp={},a.__dataPending=null,a.__dataOld=null,a._enableProperties()}}function f(a,b){return function(a,c,d){b.call(a.__templatizeOwner,c.substring(6),d[c])}}function g(a,b,c,d){let e=c.hostProps||{};for(let f in d.instanceProps){delete e[f];let b=d.notifyInstanceProp;b&&a.prototype._addPropertyEffect(f,a.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:h(f,b)})}if(d.forwardHostProp&&b.__dataHost)for(let b in e)a.prototype._addPropertyEffect(b,a.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:i()})}function h(a,b){return function(a,c,d){b.call(a.__templatizeOwner,a,c,d[c])}}function i(){return function(a,b,c){a.__dataHost._setPendingPropertyOrPath('_host_'+b,c[b],!0,!0)}}let j=null;a.prototype=Object.create(HTMLTemplateElement.prototype,{constructor:{value:a,writable:!0}});const k=Polymer.PropertyEffects(a),l=Polymer.MutableData(k),m=Polymer.PropertyEffects(class{});class n extends m{constructor(a){super(),this._configureProperties(a),this.root=this._stampTemplate(this.__dataHost);let b=this.children=[];for(let c=this.root.firstChild;c;c=c.nextSibling)b.push(c),c.__templatizeInstance=this;this.__templatizeOwner&&this.__templatizeOwner.__hideTemplateChildren__&&this._showHideChildren(!0);let c=this.__templatizeOptions;(a&&c.instanceProps||!c.instanceProps)&&this._enableProperties()}_configureProperties(a){let b=this.__templatizeOptions;if(b.forwardHostProp)for(let a in this.__hostProps)this._setPendingProperty(a,this.__dataHost['_host_'+a]);for(let b in a)this._setPendingProperty(b,a[b])}forwardHostProp(a,b){this._setPendingPropertyOrPath(a,b,!1,!0)&&this.__dataHost._enqueueClient(this)}_addEventListenerToNode(a,b,c){if(this._methodHost&&this.__templatizeOptions.parentModel)this._methodHost._addEventListenerToNode(a,b,(a)=>{a.model=this,c(a)});else{let d=this.__dataHost.__dataHost;d&&d._addEventListenerToNode(a,b,c)}}_showHideChildren(a){let b=this.children;for(let c,d=0;d<b.length;d++){if(c=b[d],!!a!=!!c.__hideTemplateChildren__)if(c.nodeType===Node.TEXT_NODE)a?(c.__polymerTextContent__=c.textContent,c.textContent=''):c.textContent=c.__polymerTextContent__;else if('slot'!==c.localName)c.style&&(a?(c.__polymerDisplay__=c.style.display,c.style.display='none'):c.style.display=c.__polymerDisplay__);else if(a)c.__polymerReplaced__=document.createComment('hidden-slot'),c.parentNode.replaceChild(c.__polymerReplaced__,c);else{const a=c.__polymerReplaced__;a&&a.parentNode.replaceChild(c,a)}c.__hideTemplateChildren__=a,c._showHideChildren&&c._showHideChildren(a)}}_setUnmanagedPropertyToNode(a,b,c){a.__hideTemplateChildren__&&a.nodeType==Node.TEXT_NODE&&'textContent'==b?a.__polymerTextContent__=c:super._setUnmanagedPropertyToNode(a,b,c)}get parentModel(){let a=this.__parentModel;if(!a){let b;a=this;do a=a.__dataHost.__dataHost;while((b=a.__templatizeOptions)&&!b.parentModel);this.__parentModel=a}return a}dispatchEvent(){return!0}}n.prototype.__dataHost,n.prototype.__templatizeOptions,n.prototype._methodHost,n.prototype.__templatizeOwner,n.prototype.__hostProps;const o=Polymer.MutableData(n);Polymer.Templatize={templatize(a,b,f){if(f=f||{},a.__templatizeOwner)throw new Error('A <template> can only be templatized once');a.__templatizeOwner=b;const g=b?b.constructor:n;let h=g._parseTemplate(a),i=h.templatizeInstanceClass;i||(i=d(a,h,f),h.templatizeInstanceClass=i),e(a,h,f);let j=class extends i{};return j.prototype._methodHost=c(a),j.prototype.__dataHost=a,j.prototype.__templatizeOwner=b,j.prototype.__hostProps=h.hostProps,j=j,j},modelForElement(a,b){for(let c;b;)if(!(c=b.__templatizeInstance))b=b.parentNode;else if(c.__dataHost!=a)b=c.__dataHost;else return c;return null}},Polymer.TemplateInstanceBase=n})();</script><script>(function(){'use strict';Polymer.TemplateInstanceBase;Polymer.Templatizer={templatize(a,b){this._templatizerTemplate=a,this.ctor=Polymer.Templatize.templatize(a,this,{mutableData:!!b,parentModel:this._parentModel,instanceProps:this._instanceProps,forwardHostProp:this._forwardHostPropV2,notifyInstanceProp:this._notifyInstancePropV2})},stamp(a){return new this.ctor(a)},modelForElement(a){return Polymer.Templatize.modelForElement(this._templatizerTemplate,a)}}})();</script><script>(function(){'use strict';const a=Polymer.GestureEventListeners(Polymer.OptionalMutableData(Polymer.PropertyEffects(HTMLElement)));class b extends a{static get observedAttributes(){return['mutable-data']}constructor(){super(),this.root=null,this.$=null,this.__children=null}attributeChangedCallback(){this.mutableData=!0}connectedCallback(){this.style.display='none',this.render()}disconnectedCallback(){this.__removeChildren()}__insertChildren(){this.parentNode.insertBefore(this.root,this)}__removeChildren(){if(this.__children)for(let a=0;a<this.__children.length;a++)this.root.appendChild(this.__children[a])}render(){let a;if(!this.__children){if(a=a||this.querySelector('template'),!a){let b=new MutationObserver(()=>{if(a=this.querySelector('template'),a)b.disconnect(),this.render();else throw new Error('dom-bind requires a <template> child')});return void b.observe(this,{childList:!0})}this.root=this._stampTemplate(a),this.$=this.root.$,this.__children=[];for(let a=this.root.firstChild;a;a=a.nextSibling)this.__children[this.__children.length]=a;this._enableProperties()}this.__insertChildren(),this.dispatchEvent(new CustomEvent('dom-change',{bubbles:!0,composed:!0}))}}customElements.define('dom-bind',b),Polymer.DomBind=b})();</script><script>(function(){'use strict';function a(a){if(a instanceof c)return a.value;throw new Error(`non-literal value passed to Polymer.htmlLiteral: ${a}`)}function b(b){if(b instanceof HTMLTemplateElement)return b.innerHTML;if(b instanceof c)return a(b);throw new Error(`non-template value passed to Polymer.html: ${b}`)}class c{constructor(a){this.value=a.toString()}toString(){return this.value}}Polymer.html=function(a,...c){const d=document.createElement('template');return d.innerHTML=c.reduce((c,d,e)=>c+b(d)+a[e+1],a[0]),d},Polymer.htmlLiteral=function(b,...d){return new c(d.reduce((c,d,e)=>c+a(d)+b[e+1],b[0]))}})();</script><script>(function(){'use strict';const a=Polymer.ElementMixin(HTMLElement);Polymer.Element=a,Polymer.html=Polymer.html})();</script><script>(function(){'use strict';Polymer.TemplateInstanceBase;const a=Polymer.OptionalMutableData(Polymer.Element);class b extends a{static get is(){return'dom-repeat'}static get template(){return null}static get properties(){return{items:{type:Array},as:{type:String,value:'item'},indexAs:{type:String,value:'index'},itemsIndexAs:{type:String,value:'itemsIndex'},sort:{type:Function,observer:'__sortChanged'},filter:{type:Function,observer:'__filterChanged'},observe:{type:String,observer:'__observeChanged'},delay:Number,renderedItemCount:{type:Number,notify:!0,readOnly:!0},initialCount:{type:Number,observer:'__initializeChunking'},targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:'__computeFrameTime(targetFramerate)'}}}static get observers(){return['__itemsChanged(items.*)']}constructor(){super(),this.__instances=[],this.__limit=Infinity,this.__pool=[],this.__renderDebouncer=null,this.__itemsIdxToInstIdx={},this.__chunkCount=null,this.__lastChunkTime=null,this.__sortFn=null,this.__filterFn=null,this.__observePaths=null,this.__ctor=null,this.__isDetached=!0,this.template=null}disconnectedCallback(){super.disconnectedCallback(),this.__isDetached=!0;for(let a=0;a<this.__instances.length;a++)this.__detachInstance(a)}connectedCallback(){if(super.connectedCallback(),this.style.display='none',this.__isDetached){this.__isDetached=!1;let a=this.parentNode;for(let b=0;b<this.__instances.length;b++)this.__attachInstance(b,a)}}__ensureTemplatized(){if(!this.__ctor){let a=this.template=this.querySelector('template');if(!a){let a=new MutationObserver(()=>{if(this.querySelector('template'))a.disconnect(),this.__render();else throw new Error('dom-repeat requires a <template> child')});return a.observe(this,{childList:!0}),!1}let b={};b[this.as]=!0,b[this.indexAs]=!0,b[this.itemsIndexAs]=!0,this.__ctor=Polymer.Templatize.templatize(a,this,{mutableData:this.mutableData,parentModel:!0,instanceProps:b,forwardHostProp:function(a,b){let c=this.__instances;for(let d,e=0;e<c.length&&(d=c[e]);e++)d.forwardHostProp(a,b)},notifyInstanceProp:function(a,b,c){if(Polymer.Path.matches(this.as,b)){let d=a[this.itemsIndexAs];b==this.as&&(this.items[d]=c);let e=Polymer.Path.translate(this.as,'items.'+d,b);this.notifyPath(e,c)}}})}return!0}__getMethodHost(){return this.__dataHost._methodHost||this.__dataHost}__functionFromPropertyValue(a){if('string'==typeof a){let b=this.__getMethodHost();return function(){return b[a].apply(b,arguments)}}return a}__sortChanged(a){this.__sortFn=this.__functionFromPropertyValue(a),this.items&&this.__debounceRender(this.__render)}__filterChanged(a){this.__filterFn=this.__functionFromPropertyValue(a),this.items&&this.__debounceRender(this.__render)}__computeFrameTime(a){return Math.ceil(1e3/a)}__initializeChunking(){this.initialCount&&(this.__limit=this.initialCount,this.__chunkCount=this.initialCount,this.__lastChunkTime=performance.now())}__tryRenderChunk(){this.items&&this.__limit<this.items.length&&this.__debounceRender(this.__requestRenderChunk)}__requestRenderChunk(){requestAnimationFrame(()=>this.__renderChunk())}__renderChunk(){let a=performance.now(),b=this._targetFrameTime/(a-this.__lastChunkTime);this.__chunkCount=Math.round(this.__chunkCount*b)||1,this.__limit+=this.__chunkCount,this.__lastChunkTime=a,this.__debounceRender(this.__render)}__observeChanged(){this.__observePaths=this.observe&&this.observe.replace('.*','.').split(' ')}__itemsChanged(a){this.items&&!Array.isArray(this.items)&&console.warn('dom-repeat expected array for `items`, found',this.items),this.__handleItemPath(a.path,a.value)||(this.__initializeChunking(),this.__debounceRender(this.__render))}__handleObservedPaths(a){if(this.__sortFn||this.__filterFn)if(!a)this.__debounceRender(this.__render,this.delay);else if(this.__observePaths){let b=this.__observePaths;for(let c=0;c<b.length;c++)0===a.indexOf(b[c])&&this.__debounceRender(this.__render,this.delay)}}__debounceRender(a,b=0){this.__renderDebouncer=Polymer.Debouncer.debounce(this.__renderDebouncer,0<b?Polymer.Async.timeOut.after(b):Polymer.Async.microTask,a.bind(this)),Polymer.enqueueDebouncer(this.__renderDebouncer)}render(){this.__debounceRender(this.__render),Polymer.flush()}__render(){this.__ensureTemplatized()&&(this.__applyFullRefresh(),this.__pool.length=0,this._setRenderedItemCount(this.__instances.length),this.dispatchEvent(new CustomEvent('dom-change',{bubbles:!0,composed:!0})),this.__tryRenderChunk())}__applyFullRefresh(){let c=this.items||[],a=Array(c.length);for(let b=0;b<c.length;b++)a[b]=b;this.__filterFn&&(a=a.filter((a,b,d)=>this.__filterFn(c[a],b,d))),this.__sortFn&&a.sort((d,a)=>this.__sortFn(c[d],c[a]));const b=this.__itemsIdxToInstIdx={};let d=0;for(const e=Math.min(a.length,this.__limit);d<e;d++){let e=this.__instances[d],f=a[d],g=c[f];b[f]=d,e?(e._setPendingProperty(this.as,g),e._setPendingProperty(this.indexAs,d),e._setPendingProperty(this.itemsIndexAs,f),e._flushProperties()):this.__insertInstance(g,d,f)}for(let a=this.__instances.length-1;a>=d;a--)this.__detachAndRemoveInstance(a)}__detachInstance(a){let b=this.__instances[a];for(let c,d=0;d<b.children.length;d++)c=b.children[d],b.root.appendChild(c);return b}__attachInstance(a,b){let c=this.__instances[a];b.insertBefore(c.root,this)}__detachAndRemoveInstance(a){let b=this.__detachInstance(a);b&&this.__pool.push(b),this.__instances.splice(a,1)}__stampInstance(a,b,c){let d={};return d[this.as]=a,d[this.indexAs]=b,d[this.itemsIndexAs]=c,new this.__ctor(d)}__insertInstance(a,b,c){let d=this.__pool.pop();d?(d._setPendingProperty(this.as,a),d._setPendingProperty(this.indexAs,b),d._setPendingProperty(this.itemsIndexAs,c),d._flushProperties()):d=this.__stampInstance(a,b,c);let e=this.__instances[b+1],f=e?e.children[0]:this;return this.parentNode.insertBefore(d.root,f),this.__instances[b]=d,d}_showHideChildren(a){for(let b=0;b<this.__instances.length;b++)this.__instances[b]._showHideChildren(a)}__handleItemPath(a,b){let c=a.slice(6),d=c.indexOf('.'),e=0>d?c:c.substring(0,d);if(e==parseInt(e,10)){let a=0>d?'':c.substring(d+1);this.__handleObservedPaths(a);let f=this.__itemsIdxToInstIdx[e],g=this.__instances[f];if(g){let c=this.as+(a?'.'+a:'');g._setPendingPropertyOrPath(c,b,!1,!0),g._flushProperties()}return!0}}itemForElement(a){let b=this.modelForElement(a);return b&&b[this.as]}indexForElement(a){let b=this.modelForElement(a);return b&&b[this.indexAs]}modelForElement(a){return Polymer.Templatize.modelForElement(this.template,a)}}customElements.define(b.is,b),Polymer.DomRepeat=b})();</script><script>(function(){'use strict';class a extends Polymer.Element{static get is(){return'dom-if'}static get template(){return null}static get properties(){return{if:{type:Boolean,observer:'__debounceRender'},restamp:{type:Boolean,observer:'__debounceRender'}}}constructor(){super(),this.__renderDebouncer=null,this.__invalidProps=null,this.__instance=null,this._lastIf=!1,this.__ctor=null}__debounceRender(){this.__renderDebouncer=Polymer.Debouncer.debounce(this.__renderDebouncer,Polymer.Async.microTask,()=>this.__render()),Polymer.enqueueDebouncer(this.__renderDebouncer)}disconnectedCallback(){super.disconnectedCallback(),this.parentNode&&(this.parentNode.nodeType!=Node.DOCUMENT_FRAGMENT_NODE||this.parentNode.host)||this.__teardownInstance()}connectedCallback(){super.connectedCallback(),this.style.display='none',this.if&&this.__debounceRender()}render(){Polymer.flush()}__render(){if(this.if){if(!this.__ensureInstance())return;this._showHideChildren()}else this.restamp&&this.__teardownInstance();!this.restamp&&this.__instance&&this._showHideChildren(),this.if!=this._lastIf&&(this.dispatchEvent(new CustomEvent('dom-change',{bubbles:!0,composed:!0})),this._lastIf=this.if)}__ensureInstance(){let a=this.parentNode;if(a){if(!this.__ctor){let a=this.querySelector('template');if(!a){let a=new MutationObserver(()=>{if(this.querySelector('template'))a.disconnect(),this.__render();else throw new Error('dom-if requires a <template> child')});return a.observe(this,{childList:!0}),!1}this.__ctor=Polymer.Templatize.templatize(a,this,{mutableData:!0,forwardHostProp:function(a,b){this.__instance&&(this.if?this.__instance.forwardHostProp(a,b):(this.__invalidProps=this.__invalidProps||Object.create(null),this.__invalidProps[Polymer.Path.root(a)]=!0))}})}if(!this.__instance)this.__instance=new this.__ctor,a.insertBefore(this.__instance.root,this);else{this.__syncHostProperties();let b=this.__instance.children;if(b&&b.length){let c=this.previousSibling;if(c!==b[b.length-1])for(let c,d=0;d<b.length&&(c=b[d]);d++)a.insertBefore(c,this)}}}return!0}__syncHostProperties(){let a=this.__invalidProps;if(a){for(let b in a)this.__instance._setPendingProperty(b,this.__dataHost[b]);this.__invalidProps=null,this.__instance._flushProperties()}}__teardownInstance(){if(this.__instance){let a=this.__instance.children;if(a&&a.length){let b=a[0].parentNode;for(let c,d=0;d<a.length&&(c=a[d]);d++)b.removeChild(c)}this.__instance=null,this.__invalidProps=null}}_showHideChildren(){let a=this.__hideTemplateChildren__||!this.if;this.__instance&&this.__instance._showHideChildren(a)}}customElements.define(a.is,a),Polymer.DomIf=a})();</script><script>(function(){'use strict';let a=Polymer.dedupingMixin((a)=>{let b=Polymer.ElementMixin(a);class c extends b{static get properties(){return{items:{type:Array},multi:{type:Boolean,value:!1},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}}}static get observers(){return['__updateSelection(multi, items.*)']}constructor(){super(),this.__lastItems=null,this.__lastMulti=null,this.__selectedMap=null}__updateSelection(a,b){let c=b.path;if('items'==c){let c=b.base||[],d=this.__lastItems,e=this.__lastMulti;if(a!==e&&this.clearSelection(),d){let a=Polymer.ArraySplice.calculateSplices(c,d);this.__applySplices(a)}this.__lastItems=c,this.__lastMulti=a}else if('items.splices'==b.path)this.__applySplices(b.value.indexSplices);else{let a=c.slice(6),b=parseInt(a,10);0>a.indexOf('.')&&a==b&&this.__deselectChangedIdx(b)}}__applySplices(a){let b=this.__selectedMap;for(let c,d=0;d<a.length;d++){c=a[d],b.forEach((a,d)=>{a<c.index||(a>=c.index+c.removed.length?b.set(d,a+c.addedCount-c.removed.length):b.set(d,-1))});for(let a,d=0;d<c.addedCount;d++)a=c.index+d,b.has(this.items[a])&&b.set(this.items[a],a)}this.__updateLinks();let c=0;b.forEach((a,d)=>{0>a?(this.multi?this.splice('selected',c,1):this.selected=this.selectedItem=null,b.delete(d)):c++})}__updateLinks(){if(this.__dataLinkedPaths={},this.multi){let a=0;this.__selectedMap.forEach((b)=>{0<=b&&this.linkPaths('items.'+b,'selected.'+a++)})}else this.__selectedMap.forEach((a)=>{this.linkPaths('selected','items.'+a),this.linkPaths('selectedItem','items.'+a)})}clearSelection(){this.__dataLinkedPaths={},this.__selectedMap=new Map,this.selected=this.multi?[]:null,this.selectedItem=null}isSelected(a){return this.__selectedMap.has(a)}isIndexSelected(a){return this.isSelected(this.items[a])}__deselectChangedIdx(a){let b=this.__selectedIndexForItemIndex(a);if(0<=b){let a=0;this.__selectedMap.forEach((c,d)=>{b==a++&&this.deselect(d)})}}__selectedIndexForItemIndex(a){let b=this.__dataLinkedPaths['items.'+a];if(b)return parseInt(b.slice(9),10)}deselect(a){let b=this.__selectedMap.get(a);if(0<=b){this.__selectedMap.delete(a);let c;this.multi&&(c=this.__selectedIndexForItemIndex(b)),this.__updateLinks(),this.multi?this.splice('selected',c,1):this.selected=this.selectedItem=null}}deselectIndex(a){this.deselect(this.items[a])}select(a){this.selectIndex(this.items.indexOf(a))}selectIndex(a){let b=this.items[a];this.isSelected(b)?this.toggle&&this.deselectIndex(a):(!this.multi&&this.__selectedMap.clear(),this.__selectedMap.set(b,a),this.__updateLinks(),this.multi?this.push('selected',b):this.selected=this.selectedItem=b)}}return c});Polymer.ArraySelectorMixin=a;let b=a(Polymer.Element);class c extends b{static get is(){return'array-selector'}}customElements.define(c.is,c),Polymer.ArraySelector=c})();</script><script>(function(){"use strict";function a(b){i=b&&b.shimcssproperties?!1:f||!navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)")}function d(c,a){for(var b in a)null===b?c.style.removeProperty(b):c.style.setProperty(b,a[b])}function b(){var b=o;requestAnimationFrame(function(){l?l(b):(n||(n=new Promise(function(b){k=b}),"complete"===document.readyState?k():document.addEventListener("readystatechange",function(){"complete"===document.readyState&&k()})),n.then(function(){b&&b()}))})}function e(){this.customStyles=[],this.enqueued=!1}function g(c){!c.enqueued&&o&&(c.enqueued=!0,b())}var i,f=!(window.ShadyDOM&&window.ShadyDOM.inUse);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?i=window.ShadyCSS.nativeCss:window.ShadyCSS?(a(window.ShadyCSS),window.ShadyCSS=void 0):a(window.WebComponents&&window.WebComponents.flags);var j=i;var k,n=null,l=window.HTMLImports&&window.HTMLImports.whenReady||null;var m=null,o=null;e.prototype.c=function(b){b.__seenByShadyCSS||(b.__seenByShadyCSS=!0,this.customStyles.push(b),g(this))},e.prototype.b=function(c){if(c.__shadyCSSCachedStyle)return c.__shadyCSSCachedStyle;var a;return a=c.getStyle?c.getStyle():c,a},e.prototype.a=function(){for(var c,d=this.customStyles,a=0;a<d.length;a++)if(c=d[a],!c.__shadyCSSCachedStyle){var b=this.b(c);b&&(b=b.__appliedElement||b,m&&m(b),c.__shadyCSSCachedStyle=b)}return d},e.prototype.addCustomStyle=e.prototype.c,e.prototype.getStyleForCustomStyle=e.prototype.b,e.prototype.processStyles=e.prototype.a,Object.defineProperties(e.prototype,{transformCallback:{get:function(){return m},set:function(b){m=b}},validateCallback:{get:function(){return o},set:function(c){var a=!1;o||(a=!0),o=c,a&&g(this)}}});var p=new e;window.ShadyCSS||(window.ShadyCSS={prepareTemplate:function(){},styleSubtree:function(c,a){p.a(),d(c,a)},styleElement:function(){p.a()},styleDocument:function(b){p.a(),d(document.body,b)},getComputedStyleValue:function(c,a){return(c=window.getComputedStyle(c).getPropertyValue(a))?c.trim():""},nativeCss:j,nativeShadow:f}),window.ShadyCSS.CustomStyleInterface=p}).call(this);</script><script>(function(){'use strict';const a='include',b=window.ShadyCSS.CustomStyleInterface;class c extends HTMLElement{constructor(){super(),this._style=null,b.addCustomStyle(this)}getStyle(){if(this._style)return this._style;const b=this.querySelector('style');if(!b)return null;this._style=b;const c=b.getAttribute(a);return c&&(b.removeAttribute(a),b.textContent=Polymer.StyleGather.cssFromModules(c)+b.textContent),this.ownerDocument!==window.document&&window.document.head.appendChild(this),this._style}}window.customElements.define('custom-style',c),Polymer.CustomStyle=c})();</script><script>(function(){'use strict';let a;(()=>{a=Polymer.MutableData._mutablePropertyChange})(),Polymer.MutableDataBehavior={_shouldPropertyChange(b,c,d){return a(this,b,c,d,!0)}},Polymer.OptionalMutableDataBehavior={properties:{mutableData:Boolean},_shouldPropertyChange(b,c,d){return a(this,b,c,d,this.mutableData)}}})();</script><script>Polymer.Base=Polymer.LegacyElementMixin(HTMLElement).prototype,Polymer.html=Polymer.html;</script><script>(function(){'use strict';function a(a,b){var c='';if(a){var d=a.toLowerCase();' '===d||o.test(d)?c='space':p.test(d)?c='esc':1==d.length?(!b||l.test(d))&&(c=d):n.test(d)?c=d.replace('arrow',''):'multiply'==d?c='*':c=d}return c}function b(a){var b='';return a&&(a in i?b=i[a]:m.test(a)?(a=parseInt(a.replace('U+','0x'),16),b=h(a).toLowerCase()):b=a.toLowerCase()),b}function c(a){var b='';return+a&&(65<=a&&90>=a?b=h(32+a):112<=a&&123>=a?b='f'+(a-112+1):48<=a&&57>=a?b=a-48+'':96<=a&&105>=a?b=a-96+'':b=j[a]),b}function d(d,e){return d.key?a(d.key,e):d.detail&&d.detail.key?a(d.detail.key,e):b(d.keyIdentifier)||c(d.keyCode)||''}function e(a,b){var c=d(b,a.hasModifiers);return c===a.key&&(!a.hasModifiers||!!b.shiftKey==!!a.shiftKey&&!!b.ctrlKey==!!a.ctrlKey&&!!b.altKey==!!a.altKey&&!!b.metaKey==!!a.metaKey)}function f(a){return 1===a.length?{combo:a,key:a,event:'keydown'}:a.split('+').reduce(function(a,b){var c=b.split(':'),d=c[0],e=c[1];return d in k?(a[k[d]]=!0,a.hasModifiers=!0):(a.key=d,a.event=e||'keydown'),a},{combo:a.split(':').shift()})}function g(a){return a.trim().split(' ').map(function(a){return f(a)})}var h=String.fromCharCode,i={"U+0008":'backspace',"U+0009":'tab',"U+001B":'esc',"U+0020":'space',"U+007F":'del'},j={8:'backspace',9:'tab',13:'enter',27:'esc',32:'space',33:'pageup',34:'pagedown',35:'end',36:'home',37:'left',38:'up',39:'right',40:'down',46:'del',106:'*'},k={shift:'shiftKey',ctrl:'ctrlKey',alt:'altKey',meta:'metaKey'},l=/[a-z0-9*]/,m=/U\+/,n=/^arrow/,o=/^space(bar)?/,p=/^escape$/;Polymer.IronA11yKeysBehavior={properties:{keyEventTarget:{type:Object,value:function(){return this}},stopKeyboardEventPropagation:{type:Boolean,value:!1},_boundKeyHandlers:{type:Array,value:function(){return[]}},_imperativeKeyBindings:{type:Object,value:function(){return{}}}},observers:['_resetKeyEventListeners(keyEventTarget, _boundKeyHandlers)'],keyBindings:{},registered:function(){this._prepKeyBindings()},attached:function(){this._listenKeyEventListeners()},detached:function(){this._unlistenKeyEventListeners()},addOwnKeyBinding:function(a,b){this._imperativeKeyBindings[a]=b,this._prepKeyBindings(),this._resetKeyEventListeners()},removeOwnKeyBindings:function(){this._imperativeKeyBindings={},this._prepKeyBindings(),this._resetKeyEventListeners()},keyboardEventMatchesKeys:function(a,b){for(var c=g(b),d=0;d<c.length;++d)if(e(c[d],a))return!0;return!1},_collectKeyBindings:function(){var a=this.behaviors.map(function(a){return a.keyBindings});return-1===a.indexOf(this.keyBindings)&&a.push(this.keyBindings),a},_prepKeyBindings:function(){for(var a in this._keyBindings={},this._collectKeyBindings().forEach(function(a){for(var b in a)this._addKeyBinding(b,a[b])},this),this._imperativeKeyBindings)this._addKeyBinding(a,this._imperativeKeyBindings[a]);for(var b in this._keyBindings)this._keyBindings[b].sort(function(a,b){var c=a[0].hasModifiers,d=b[0].hasModifiers;return c===d?0:c?-1:1})},_addKeyBinding:function(a,b){g(a).forEach(function(a){this._keyBindings[a.event]=this._keyBindings[a.event]||[],this._keyBindings[a.event].push([a,b])},this)},_resetKeyEventListeners:function(){this._unlistenKeyEventListeners(),this.isAttached&&this._listenKeyEventListeners()},_listenKeyEventListeners:function(){this.keyEventTarget&&Object.keys(this._keyBindings).forEach(function(a){var b=this._keyBindings[a],c=this._onKeyBindingEvent.bind(this,b);this._boundKeyHandlers.push([this.keyEventTarget,a,c]),this.keyEventTarget.addEventListener(a,c)},this)},_unlistenKeyEventListeners:function(){for(var a,b,c,d;this._boundKeyHandlers.length;)a=this._boundKeyHandlers.pop(),b=a[0],c=a[1],d=a[2],b.removeEventListener(c,d)},_onKeyBindingEvent:function(a,b){if(this.stopKeyboardEventPropagation&&b.stopPropagation(),!b.defaultPrevented)for(var c=0;c<a.length;c++){var d=a[c][0],f=a[c][1];if(e(d,b)&&(this._triggerKeyHandler(d,f,b),b.defaultPrevented))return}},_triggerKeyHandler:function(a,b,c){var d=Object.create(a);d.keyboardEvent=c;var e=new CustomEvent(a.event,{detail:d,cancelable:!0});this[b].call(this,e),e.defaultPrevented&&c.preventDefault()}}})();</script><script>Polymer.IronControlState={properties:{focused:{type:Boolean,value:!1,notify:!0,readOnly:!0,reflectToAttribute:!0},disabled:{type:Boolean,value:!1,notify:!0,observer:'_disabledChanged',reflectToAttribute:!0},_oldTabIndex:{type:String},_boundFocusBlurHandler:{type:Function,value:function(){return this._focusBlurHandler.bind(this)}},__handleEventRetargeting:{type:Boolean,value:function(){return!this.shadowRoot&&!Polymer.Element}}},observers:['_changedControlState(focused, disabled)'],ready:function(){this.addEventListener('focus',this._boundFocusBlurHandler,!0),this.addEventListener('blur',this._boundFocusBlurHandler,!0)},_focusBlurHandler:function(a){if(Polymer.Element)return void this._setFocused('focus'===a.type);if(a.target===this)this._setFocused('focus'===a.type);else if(this.__handleEventRetargeting){var b=Polymer.dom(a).localTarget;this.isLightDescendant(b)||this.fire(a.type,{sourceEvent:a},{node:this,bubbles:a.bubbles,cancelable:a.cancelable})}},_disabledChanged:function(a){this.setAttribute('aria-disabled',a?'true':'false'),this.style.pointerEvents=a?'none':'',a?(this._oldTabIndex=this.getAttribute('tabindex'),this._setFocused(!1),this.tabIndex=-1,this.blur()):this._oldTabIndex!==void 0&&(null===this._oldTabIndex?this.removeAttribute('tabindex'):this.setAttribute('tabindex',this._oldTabIndex))},_changedControlState:function(){this._controlStateChanged&&this._controlStateChanged()}};</script><script>Polymer.IronButtonStateImpl={properties:{pressed:{type:Boolean,readOnly:!0,value:!1,reflectToAttribute:!0,observer:'_pressedChanged'},toggles:{type:Boolean,value:!1,reflectToAttribute:!0},active:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},pointerDown:{type:Boolean,readOnly:!0,value:!1},receivedFocusFromKeyboard:{type:Boolean,readOnly:!0},ariaActiveAttribute:{type:String,value:'aria-pressed',observer:'_ariaActiveAttributeChanged'}},listeners:{down:'_downHandler',up:'_upHandler',tap:'_tapHandler'},observers:['_focusChanged(focused)','_activeChanged(active, ariaActiveAttribute)'],keyBindings:{"enter:keydown":'_asyncClick',"space:keydown":'_spaceKeyDownHandler',"space:keyup":'_spaceKeyUpHandler'},_mouseEventRe:/^mouse/,_tapHandler:function(){this.toggles?this._userActivate(!this.active):this.active=!1},_focusChanged:function(a){this._detectKeyboardFocus(a),a||this._setPressed(!1)},_detectKeyboardFocus:function(a){this._setReceivedFocusFromKeyboard(!this.pointerDown&&a)},_userActivate:function(a){this.active!==a&&(this.active=a,this.fire('change'))},_downHandler:function(){this._setPointerDown(!0),this._setPressed(!0),this._setReceivedFocusFromKeyboard(!1)},_upHandler:function(){this._setPointerDown(!1),this._setPressed(!1)},_spaceKeyDownHandler:function(a){var b=a.detail.keyboardEvent,c=Polymer.dom(b).localTarget;this.isLightDescendant(c)||(b.preventDefault(),b.stopImmediatePropagation(),this._setPressed(!0))},_spaceKeyUpHandler:function(a){var b=a.detail.keyboardEvent,c=Polymer.dom(b).localTarget;this.isLightDescendant(c)||(this.pressed&&this._asyncClick(),this._setPressed(!1))},_asyncClick:function(){this.async(function(){this.click()},1)},_pressedChanged:function(){this._changedButtonState()},_ariaActiveAttributeChanged:function(a,b){b&&b!=a&&this.hasAttribute(b)&&this.removeAttribute(b)},_activeChanged:function(a){this.toggles?this.setAttribute(this.ariaActiveAttribute,a?'true':'false'):this.removeAttribute(this.ariaActiveAttribute),this._changedButtonState()},_controlStateChanged:function(){this.disabled?this._setPressed(!1):this._changedButtonState()},_changedButtonState:function(){this._buttonStateChanged&&this._buttonStateChanged()}},Polymer.IronButtonState=[Polymer.IronA11yKeysBehavior,Polymer.IronButtonStateImpl];</script><script>Polymer.IronFormElementBehavior={properties:{name:{type:String},value:{notify:!0,type:String},required:{type:Boolean,value:!1},_parentForm:{type:Object}},attached(){Polymer.Element||this.fire('iron-form-element-register')},detached(){!Polymer.Element&&this._parentForm&&this._parentForm.fire('iron-form-element-unregister',{target:this})}};</script><script>(function(){Polymer.IronMeta=function(a){Polymer.IronMeta[' '](a),this.type=a&&a.type||'default',this.key=a&&a.key,a&&'value'in a&&(this.value=a.value)},Polymer.IronMeta[' ']=function(){},Polymer.IronMeta.types={},Polymer.IronMeta.prototype={get value(){var a=this.type,b=this.key;if(a&&b)return Polymer.IronMeta.types[a]&&Polymer.IronMeta.types[a][b]},set value(a){var b=this.type,c=this.key;b&&c&&(b=Polymer.IronMeta.types[b]=Polymer.IronMeta.types[b]||{},null==a?delete b[c]:b[c]=a)},get list(){var b=this.type;if(b){var c=Polymer.IronMeta.types[this.type];return c?Object.keys(c).map(function(b){return a[this.type][b]},this):[]}},byKey:function(a){return this.key=a,this.value}};var a=Polymer.IronMeta.types;Polymer({is:'iron-meta',properties:{type:{type:String,value:'default'},key:{type:String},value:{type:String,notify:!0},self:{type:Boolean,observer:'_selfChanged'},__meta:{type:Boolean,computed:'__computeMeta(type, key, value)'}},hostAttributes:{hidden:!0},__computeMeta:function(a,b,c){var d=new Polymer.IronMeta({type:a,key:b});return void 0!==c&&c!==d.value?d.value=c:this.value!==d.value&&(this.value=d.value),d},get list(){return this.__meta&&this.__meta.list},_selfChanged:function(a){a&&(this.value=this)},byKey:function(a){return new Polymer.IronMeta({type:this.type,key:a}).value}})})();</script><script>(function(){var a=document.createElement('style');a.textContent='[hidden] { display: none !important; }',document.head.appendChild(a)})();</script><custom-style><style is="custom-style">[hidden]{display:none!important}</style></custom-style><custom-style><style is="custom-style">html{--layout:{display:-ms-flexbox;display:-webkit-flex;display:flex};--layout-inline:{display:-ms-inline-flexbox;display:-webkit-inline-flex;display:inline-flex};--layout-horizontal:{@apply --layout;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row};--layout-horizontal-reverse:{@apply --layout;-ms-flex-direction:row-reverse;-webkit-flex-direction:row-reverse;flex-direction:row-reverse};--layout-vertical:{@apply --layout;-ms-flex-direction:column;-webkit-flex-direction:column;flex-direction:column};--layout-vertical-reverse:{@apply --layout;-ms-flex-direction:column-reverse;-webkit-flex-direction:column-reverse;flex-direction:column-reverse};--layout-wrap:{-ms-flex-wrap:wrap;-webkit-flex-wrap:wrap;flex-wrap:wrap};--layout-wrap-reverse:{-ms-flex-wrap:wrap-reverse;-webkit-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse};--layout-flex-auto:{-ms-flex:1 1 auto;-webkit-flex:1 1 auto;flex:1 1 auto};--layout-flex-none:{-ms-flex:none;-webkit-flex:none;flex:none};--layout-flex:{-ms-flex:1 1 .000000001px;-webkit-flex:1;flex:1;-webkit-flex-basis:.000000001px;flex-basis:.000000001px};--layout-flex-2:{-ms-flex:2;-webkit-flex:2;flex:2};--layout-flex-3:{-ms-flex:3;-webkit-flex:3;flex:3};--layout-flex-4:{-ms-flex:4;-webkit-flex:4;flex:4};--layout-flex-5:{-ms-flex:5;-webkit-flex:5;flex:5};--layout-flex-6:{-ms-flex:6;-webkit-flex:6;flex:6};--layout-flex-7:{-ms-flex:7;-webkit-flex:7;flex:7};--layout-flex-8:{-ms-flex:8;-webkit-flex:8;flex:8};--layout-flex-9:{-ms-flex:9;-webkit-flex:9;flex:9};--layout-flex-10:{-ms-flex:10;-webkit-flex:10;flex:10};--layout-flex-11:{-ms-flex:11;-webkit-flex:11;flex:11};--layout-flex-12:{-ms-flex:12;-webkit-flex:12;flex:12};--layout-start:{-ms-flex-align:start;-webkit-align-items:flex-start;align-items:flex-start};--layout-center:{-ms-flex-align:center;-webkit-align-items:center;align-items:center};--layout-end:{-ms-flex-align:end;-webkit-align-items:flex-end;align-items:flex-end};--layout-baseline:{-ms-flex-align:baseline;-webkit-align-items:baseline;align-items:baseline};--layout-start-justified:{-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start};--layout-center-justified:{-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center};--layout-end-justified:{-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end};--layout-around-justified:{-ms-flex-pack:distribute;-webkit-justify-content:space-around;justify-content:space-around};--layout-justified:{-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between};--layout-center-center:{@apply --layout-center;@apply --layout-center-justified;};--layout-self-start:{-ms-align-self:flex-start;-webkit-align-self:flex-start;align-self:flex-start};--layout-self-center:{-ms-align-self:center;-webkit-align-self:center;align-self:center};--layout-self-end:{-ms-align-self:flex-end;-webkit-align-self:flex-end;align-self:flex-end};--layout-self-stretch:{-ms-align-self:stretch;-webkit-align-self:stretch;align-self:stretch};--layout-self-baseline:{-ms-align-self:baseline;-webkit-align-self:baseline;align-self:baseline};--layout-start-aligned:{-ms-flex-line-pack:start;-ms-align-content:flex-start;-webkit-align-content:flex-start;align-content:flex-start};--layout-end-aligned:{-ms-flex-line-pack:end;-ms-align-content:flex-end;-webkit-align-content:flex-end;align-content:flex-end};--layout-center-aligned:{-ms-flex-line-pack:center;-ms-align-content:center;-webkit-align-content:center;align-content:center};--layout-between-aligned:{-ms-flex-line-pack:justify;-ms-align-content:space-between;-webkit-align-content:space-between;align-content:space-between};--layout-around-aligned:{-ms-flex-line-pack:distribute;-ms-align-content:space-around;-webkit-align-content:space-around;align-content:space-around};--layout-block:{display:block};--layout-invisible:{visibility:hidden!important};--layout-relative:{position:relative};--layout-fit:{position:absolute;top:0;right:0;bottom:0;left:0};--layout-scroll:{-webkit-overflow-scrolling:touch;overflow:auto};--layout-fullbleed:{margin:0;height:100vh};--layout-fixed-top:{position:fixed;top:0;left:0;right:0};--layout-fixed-right:{position:fixed;top:0;right:0;bottom:0};--layout-fixed-bottom:{position:fixed;right:0;bottom:0;left:0};--layout-fixed-left:{position:fixed;top:0;bottom:0;left:0};}</style></custom-style><dom-module id="iron-icon" assetpath="bower_components/iron-icon/"><template><style>:host{@apply --layout-inline;@apply --layout-center-center;position:relative;vertical-align:middle;fill:var(--iron-icon-fill-color,currentcolor);stroke:var(--iron-icon-stroke-color,none);width:var(--iron-icon-width,24px);height:var(--iron-icon-height,24px);@apply --iron-icon;}:host([hidden]){display:none}</style></template><script>Polymer({is:'iron-icon',properties:{icon:{type:String},theme:{type:String},src:{type:String},_meta:{value:Polymer.Base.create('iron-meta',{type:'iconset'})}},observers:['_updateIcon(_meta, isAttached)','_updateIcon(theme, isAttached)','_srcChanged(src, isAttached)','_iconChanged(icon, isAttached)'],_DEFAULT_ICONSET:'icons',_iconChanged:function(a){var b=(a||'').split(':');this._iconName=b.pop(),this._iconsetName=b.pop()||this._DEFAULT_ICONSET,this._updateIcon()},_srcChanged:function(){this._updateIcon()},_usesIconset:function(){return this.icon||!this.src},_updateIcon:function(){this._usesIconset()?(this._img&&this._img.parentNode&&Polymer.dom(this.root).removeChild(this._img),''===this._iconName?this._iconset&&this._iconset.removeIcon(this):this._iconsetName&&this._meta&&(this._iconset=this._meta.byKey(this._iconsetName),this._iconset?(this._iconset.applyIcon(this,this._iconName,this.theme),this.unlisten(window,'iron-iconset-added','_updateIcon')):this.listen(window,'iron-iconset-added','_updateIcon'))):(this._iconset&&this._iconset.removeIcon(this),!this._img&&(this._img=document.createElement('img'),this._img.style.width='100%',this._img.style.height='100%',this._img.draggable=!1),this._img.src=this.src,Polymer.dom(this.root).appendChild(this._img))}});</script></dom-module><script>Polymer.IronValidatableBehaviorMeta=null,Polymer.IronValidatableBehavior={properties:{validator:{type:String},invalid:{notify:!0,reflectToAttribute:!0,type:Boolean,value:!1,observer:'_invalidChanged'}},registered:function(){Polymer.IronValidatableBehaviorMeta=new Polymer.IronMeta({type:'validator'})},_invalidChanged:function(){this.invalid?this.setAttribute('aria-invalid','true'):this.removeAttribute('aria-invalid')},get _validator(){return Polymer.IronValidatableBehaviorMeta&&Polymer.IronValidatableBehaviorMeta.byKey(this.validator)},hasValidator:function(){return null!=this._validator},validate:function(a){return this.invalid=void 0===a&&void 0!==this.value?!this._getValidity(this.value):!this._getValidity(a),!this.invalid},_getValidity:function(a){return!this.hasValidator()||this._validator.validate(a)}};</script><dom-module id="iron-a11y-announcer" assetpath="bower_components/iron-a11y-announcer/"><template><style>:host{display:inline-block;position:fixed;clip:rect(0,0,0,0)}</style><div aria-live$="[[mode]]">[[_text]]</div></template><script>(function(){'use strict';Polymer.IronA11yAnnouncer=Polymer({is:'iron-a11y-announcer',properties:{mode:{type:String,value:'polite'},_text:{type:String,value:''}},created:function(){Polymer.IronA11yAnnouncer.instance||(Polymer.IronA11yAnnouncer.instance=this),document.body.addEventListener('iron-announce',this._onIronAnnounce.bind(this))},announce:function(a){this._text='',this.async(function(){this._text=a},100)},_onIronAnnounce:function(a){a.detail&&a.detail.text&&this.announce(a.detail.text)}}),Polymer.IronA11yAnnouncer.instance=null,Polymer.IronA11yAnnouncer.requestAvailability=function(){Polymer.IronA11yAnnouncer.instance||(Polymer.IronA11yAnnouncer.instance=document.createElement('iron-a11y-announcer')),document.body.appendChild(Polymer.IronA11yAnnouncer.instance)}})();</script></dom-module><dom-module id="iron-input" assetpath="bower_components/iron-input/"><template><style>:host{display:inline-block}</style><slot id="content"></slot></template><script>Polymer({is:'iron-input',behaviors:[Polymer.IronValidatableBehavior],properties:{bindValue:{type:String},value:{type:String,computed:'_computeValue(bindValue)'},allowedPattern:{type:String},autoValidate:{type:Boolean,value:!1},_inputElement:Object},observers:['_bindValueChanged(bindValue, _inputElement)'],listeners:{input:'_onInput',keypress:'_onKeypress'},created:function(){Polymer.IronA11yAnnouncer.requestAvailability(),this._previousValidInput='',this._patternAlreadyChecked=!1},attached:function(){this._observer=Polymer.dom(this).observeNodes(function(){this._initSlottedInput()}.bind(this))},detached:function(){this._observer&&(Polymer.dom(this).unobserveNodes(this._observer),this._observer=null)},get inputElement(){return this._inputElement},_initSlottedInput:function(){this._inputElement=this.getEffectiveChildren()[0],this.inputElement&&this.inputElement.value&&(this.bindValue=this.inputElement.value),this.fire('iron-input-ready')},get _patternRegExp(){var a;if(this.allowedPattern)a=new RegExp(this.allowedPattern);else switch(this.inputElement.type){case'number':a=/[0-9.,e-]/;}return a},_bindValueChanged:function(a,b){b&&(a===void 0?b.value=null:a!==b.value&&(this.inputElement.value=a),this.autoValidate&&this.validate(),this.fire('bind-value-changed',{value:a}))},_onInput:function(){if(this.allowedPattern&&!this._patternAlreadyChecked){var a=this._checkPatternValidity();a||(this._announceInvalidCharacter('Invalid string of characters not entered.'),this.inputElement.value=this._previousValidInput)}this.bindValue=this._previousValidInput=this.inputElement.value,this._patternAlreadyChecked=!1},_isPrintable:function(a){var b=8==a.keyCode||9==a.keyCode||13==a.keyCode||27==a.keyCode,c=19==a.keyCode||20==a.keyCode||45==a.keyCode||46==a.keyCode||144==a.keyCode||145==a.keyCode||32<a.keyCode&&41>a.keyCode||111<a.keyCode&&124>a.keyCode;return!b&&!(0==a.charCode&&c)},_onKeypress:function(a){if(this.allowedPattern||'number'===this.inputElement.type){var b=this._patternRegExp;if(b&&!(a.metaKey||a.ctrlKey||a.altKey)){this._patternAlreadyChecked=!0;var c=String.fromCharCode(a.charCode);this._isPrintable(a)&&!b.test(c)&&(a.preventDefault(),this._announceInvalidCharacter('Invalid character '+c+' not entered.'))}}},_checkPatternValidity:function(){var a=this._patternRegExp;if(!a)return!0;for(var b=0;b<this.inputElement.value.length;b++)if(!a.test(this.inputElement.value[b]))return!1;return!0},validate:function(){if(!this.inputElement)return this.invalid=!1,!0;var a=this.inputElement.checkValidity();return a&&(this.required&&''===this.bindValue?a=!1:this.hasValidator()&&(a=Polymer.IronValidatableBehavior.validate.call(this,this.bindValue))),this.invalid=!a,this.fire('iron-input-validate'),a},_announceInvalidCharacter:function(a){this.fire('iron-announce',{text:a})},_computeValue:function(a){return a}});</script></dom-module><script>Polymer.PaperInputHelper={},Polymer.PaperInputHelper.NextLabelID=1,Polymer.PaperInputHelper.NextAddonID=1,Polymer.PaperInputHelper.NextInputID=1,Polymer.PaperInputBehaviorImpl={properties:{label:{type:String},value:{notify:!0,type:String},disabled:{type:Boolean,value:!1},invalid:{type:Boolean,value:!1,notify:!0},allowedPattern:{type:String},type:{type:String},list:{type:String},pattern:{type:String},required:{type:Boolean,value:!1},errorMessage:{type:String},charCounter:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},autoValidate:{type:Boolean,value:!1},validator:{type:String},autocomplete:{type:String,value:'off'},autofocus:{type:Boolean,observer:'_autofocusChanged'},inputmode:{type:String},minlength:{type:Number},maxlength:{type:Number},min:{type:String},max:{type:String},step:{type:String},name:{type:String},placeholder:{type:String,value:''},readonly:{type:Boolean,value:!1},size:{type:Number},autocapitalize:{type:String,value:'none'},autocorrect:{type:String,value:'off'},autosave:{type:String},results:{type:Number},accept:{type:String},multiple:{type:Boolean},_ariaDescribedBy:{type:String,value:''},_ariaLabelledBy:{type:String,value:''},_inputId:{type:String,value:''}},listeners:{"addon-attached":'_onAddonAttached'},keyBindings:{"shift+tab:keydown":'_onShiftTabDown'},hostAttributes:{tabindex:0},get inputElement(){return this.$||(this.$={}),this.$.input||(this._generateInputId(),this.$.input=this.$$('#'+this._inputId)),this.$.input},get _focusableElement(){return this.inputElement},created:function(){this._typesThatHaveText=['date','datetime','datetime-local','month','time','week','file']},attached:function(){this._updateAriaLabelledBy(),!Polymer.Element&&this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.inputElement.type)&&(this.alwaysFloatLabel=!0)},_appendStringWithSpace:function(a,b){return a=a?a+' '+b:b,a},_onAddonAttached:function(a){var b=Polymer.dom(a).rootTarget;if(b.id)this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,b.id);else{var c='paper-input-add-on-'+Polymer.PaperInputHelper.NextAddonID++;b.id=c,this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,c)}},validate:function(){return this.inputElement.validate()},_focusBlurHandler:function(a){Polymer.IronControlState._focusBlurHandler.call(this,a),this.focused&&!this._shiftTabPressed&&this._focusableElement&&this._focusableElement.focus()},_onShiftTabDown:function(){var a=this.getAttribute('tabindex');this._shiftTabPressed=!0,this.setAttribute('tabindex','-1'),this.async(function(){this.setAttribute('tabindex',a),this._shiftTabPressed=!1},1)},_handleAutoValidate:function(){this.autoValidate&&this.validate()},updateValueAndPreserveCaret:function(a){try{var b=this.inputElement.selectionStart;this.value=a,this.inputElement.selectionStart=b,this.inputElement.selectionEnd=b}catch(b){this.value=a}},_computeAlwaysFloatLabel:function(a,b){return b||a},_updateAriaLabelledBy:function(){var a=Polymer.dom(this.root).querySelector('label');if(!a)return void(this._ariaLabelledBy='');var b;a.id?b=a.id:(b='paper-input-label-'+Polymer.PaperInputHelper.NextLabelID++,a.id=b),this._ariaLabelledBy=b},_generateInputId:function(){this._inputId&&''!==this._inputId||(this._inputId='input-'+Polymer.PaperInputHelper.NextInputID++)},_onChange:function(a){this.shadowRoot&&this.fire(a.type,{sourceEvent:a},{node:this,bubbles:a.bubbles,cancelable:a.cancelable})},_autofocusChanged:function(){if(this.autofocus&&this._focusableElement){var a=document.activeElement,b=a instanceof HTMLElement,c=b&&a!==document.body&&a!==document.documentElement;c||this._focusableElement.focus()}}},Polymer.PaperInputBehavior=[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.PaperInputBehaviorImpl];</script><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,300,300italic,400italic,500,500italic,700,700italic" crossorigin="anonymous"><custom-style><style is="custom-style">html{--paper-font-common-base:{font-family:Roboto,Noto,sans-serif;-webkit-font-smoothing:antialiased};--paper-font-common-code:{font-family:'Roboto Mono',Consolas,Menlo,monospace;-webkit-font-smoothing:antialiased};--paper-font-common-expensive-kerning:{text-rendering:optimizeLegibility};--paper-font-common-nowrap:{white-space:nowrap;overflow:hidden;text-overflow:ellipsis};--paper-font-display4:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:112px;font-weight:300;letter-spacing:-.044em;line-height:120px};--paper-font-display3:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:56px;font-weight:400;letter-spacing:-.026em;line-height:60px};--paper-font-display2:{@apply --paper-font-common-base;font-size:45px;font-weight:400;letter-spacing:-.018em;line-height:48px};--paper-font-display1:{@apply --paper-font-common-base;font-size:34px;font-weight:400;letter-spacing:-.01em;line-height:40px};--paper-font-headline:{@apply --paper-font-common-base;font-size:24px;font-weight:400;letter-spacing:-.012em;line-height:32px};--paper-font-title:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:20px;font-weight:500;line-height:28px};--paper-font-subhead:{@apply --paper-font-common-base;font-size:16px;font-weight:400;line-height:24px};--paper-font-body2:{@apply --paper-font-common-base;font-size:14px;font-weight:500;line-height:24px};--paper-font-body1:{@apply --paper-font-common-base;font-size:14px;font-weight:400;line-height:20px};--paper-font-caption:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:12px;font-weight:400;letter-spacing:.011em;line-height:20px};--paper-font-menu:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:13px;font-weight:500;line-height:24px};--paper-font-button:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:14px;font-weight:500;letter-spacing:.018em;line-height:24px;text-transform:uppercase};--paper-font-code2:{@apply --paper-font-common-code;font-size:14px;font-weight:700;line-height:20px};--paper-font-code1:{@apply --paper-font-common-code;font-size:14px;font-weight:500;line-height:20px};}</style></custom-style><script>Polymer.PaperInputAddonBehavior={attached:function(){Polymer.dom.flush(),this.fire('addon-attached')},update:function(){}};</script><dom-module id="paper-input-char-counter" assetpath="bower_components/paper-input/"><template><style>:host{display:inline-block;float:right;@apply --paper-font-caption;@apply --paper-input-char-counter;}:host([hidden]){display:none!important}:host(:dir(rtl)){float:left}</style><span>[[_charCounterStr]]</span></template></dom-module><script>Polymer({is:'paper-input-char-counter',behaviors:[Polymer.PaperInputAddonBehavior],properties:{_charCounterStr:{type:String,value:'0'}},update:function(a){if(a.inputElement){a.value=a.value||'';var b=a.value.toString().length.toString();a.inputElement.hasAttribute('maxlength')&&(b+='/'+a.inputElement.getAttribute('maxlength')),this._charCounterStr=b}}});</script><custom-style><style is="custom-style">html{--google-red-100:#f4c7c3;--google-red-300:#e67c73;--google-red-500:#db4437;--google-red-700:#c53929;--google-blue-100:#c6dafc;--google-blue-300:#7baaf7;--google-blue-500:#4285f4;--google-blue-700:#3367d6;--google-green-100:#b7e1cd;--google-green-300:#57bb8a;--google-green-500:#0f9d58;--google-green-700:#0b8043;--google-yellow-100:#fce8b2;--google-yellow-300:#f7cb4d;--google-yellow-500:#f4b400;--google-yellow-700:#f09300;--google-grey-100:#f5f5f5;--google-grey-300:#e0e0e0;--google-grey-500:#9e9e9e;--google-grey-700:#616161;--paper-red-50:#ffebee;--paper-red-100:#ffcdd2;--paper-red-200:#ef9a9a;--paper-red-300:#e57373;--paper-red-400:#ef5350;--paper-red-500:#f44336;--paper-red-600:#e53935;--paper-red-700:#d32f2f;--paper-red-800:#c62828;--paper-red-900:#b71c1c;--paper-red-a100:#ff8a80;--paper-red-a200:#ff5252;--paper-red-a400:#ff1744;--paper-red-a700:#d50000;--paper-pink-50:#fce4ec;--paper-pink-100:#f8bbd0;--paper-pink-200:#f48fb1;--paper-pink-300:#f06292;--paper-pink-400:#ec407a;--paper-pink-500:#e91e63;--paper-pink-600:#d81b60;--paper-pink-700:#c2185b;--paper-pink-800:#ad1457;--paper-pink-900:#880e4f;--paper-pink-a100:#ff80ab;--paper-pink-a200:#ff4081;--paper-pink-a400:#f50057;--paper-pink-a700:#c51162;--paper-purple-50:#f3e5f5;--paper-purple-100:#e1bee7;--paper-purple-200:#ce93d8;--paper-purple-300:#ba68c8;--paper-purple-400:#ab47bc;--paper-purple-500:#9c27b0;--paper-purple-600:#8e24aa;--paper-purple-700:#7b1fa2;--paper-purple-800:#6a1b9a;--paper-purple-900:#4a148c;--paper-purple-a100:#ea80fc;--paper-purple-a200:#e040fb;--paper-purple-a400:#d500f9;--paper-purple-a700:#aa00ff;--paper-deep-purple-50:#ede7f6;--paper-deep-purple-100:#d1c4e9;--paper-deep-purple-200:#b39ddb;--paper-deep-purple-300:#9575cd;--paper-deep-purple-400:#7e57c2;--paper-deep-purple-500:#673ab7;--paper-deep-purple-600:#5e35b1;--paper-deep-purple-700:#512da8;--paper-deep-purple-800:#4527a0;--paper-deep-purple-900:#311b92;--paper-deep-purple-a100:#b388ff;--paper-deep-purple-a200:#7c4dff;--paper-deep-purple-a400:#651fff;--paper-deep-purple-a700:#6200ea;--paper-indigo-50:#e8eaf6;--paper-indigo-100:#c5cae9;--paper-indigo-200:#9fa8da;--paper-indigo-300:#7986cb;--paper-indigo-400:#5c6bc0;--paper-indigo-500:#3f51b5;--paper-indigo-600:#3949ab;--paper-indigo-700:#303f9f;--paper-indigo-800:#283593;--paper-indigo-900:#1a237e;--paper-indigo-a100:#8c9eff;--paper-indigo-a200:#536dfe;--paper-indigo-a400:#3d5afe;--paper-indigo-a700:#304ffe;--paper-blue-50:#e3f2fd;--paper-blue-100:#bbdefb;--paper-blue-200:#90caf9;--paper-blue-300:#64b5f6;--paper-blue-400:#42a5f5;--paper-blue-500:#2196f3;--paper-blue-600:#1e88e5;--paper-blue-700:#1976d2;--paper-blue-800:#1565c0;--paper-blue-900:#0d47a1;--paper-blue-a100:#82b1ff;--paper-blue-a200:#448aff;--paper-blue-a400:#2979ff;--paper-blue-a700:#2962ff;--paper-light-blue-50:#e1f5fe;--paper-light-blue-100:#b3e5fc;--paper-light-blue-200:#81d4fa;--paper-light-blue-300:#4fc3f7;--paper-light-blue-400:#29b6f6;--paper-light-blue-500:#03a9f4;--paper-light-blue-600:#039be5;--paper-light-blue-700:#0288d1;--paper-light-blue-800:#0277bd;--paper-light-blue-900:#01579b;--paper-light-blue-a100:#80d8ff;--paper-light-blue-a200:#40c4ff;--paper-light-blue-a400:#00b0ff;--paper-light-blue-a700:#0091ea;--paper-cyan-50:#e0f7fa;--paper-cyan-100:#b2ebf2;--paper-cyan-200:#80deea;--paper-cyan-300:#4dd0e1;--paper-cyan-400:#26c6da;--paper-cyan-500:#00bcd4;--paper-cyan-600:#00acc1;--paper-cyan-700:#0097a7;--paper-cyan-800:#00838f;--paper-cyan-900:#006064;--paper-cyan-a100:#84ffff;--paper-cyan-a200:#18ffff;--paper-cyan-a400:#00e5ff;--paper-cyan-a700:#00b8d4;--paper-teal-50:#e0f2f1;--paper-teal-100:#b2dfdb;--paper-teal-200:#80cbc4;--paper-teal-300:#4db6ac;--paper-teal-400:#26a69a;--paper-teal-500:#009688;--paper-teal-600:#00897b;--paper-teal-700:#00796b;--paper-teal-800:#00695c;--paper-teal-900:#004d40;--paper-teal-a100:#a7ffeb;--paper-teal-a200:#64ffda;--paper-teal-a400:#1de9b6;--paper-teal-a700:#00bfa5;--paper-green-50:#e8f5e9;--paper-green-100:#c8e6c9;--paper-green-200:#a5d6a7;--paper-green-300:#81c784;--paper-green-400:#66bb6a;--paper-green-500:#4caf50;--paper-green-600:#43a047;--paper-green-700:#388e3c;--paper-green-800:#2e7d32;--paper-green-900:#1b5e20;--paper-green-a100:#b9f6ca;--paper-green-a200:#69f0ae;--paper-green-a400:#00e676;--paper-green-a700:#00c853;--paper-light-green-50:#f1f8e9;--paper-light-green-100:#dcedc8;--paper-light-green-200:#c5e1a5;--paper-light-green-300:#aed581;--paper-light-green-400:#9ccc65;--paper-light-green-500:#8bc34a;--paper-light-green-600:#7cb342;--paper-light-green-700:#689f38;--paper-light-green-800:#558b2f;--paper-light-green-900:#33691e;--paper-light-green-a100:#ccff90;--paper-light-green-a200:#b2ff59;--paper-light-green-a400:#76ff03;--paper-light-green-a700:#64dd17;--paper-lime-50:#f9fbe7;--paper-lime-100:#f0f4c3;--paper-lime-200:#e6ee9c;--paper-lime-300:#dce775;--paper-lime-400:#d4e157;--paper-lime-500:#cddc39;--paper-lime-600:#c0ca33;--paper-lime-700:#afb42b;--paper-lime-800:#9e9d24;--paper-lime-900:#827717;--paper-lime-a100:#f4ff81;--paper-lime-a200:#eeff41;--paper-lime-a400:#c6ff00;--paper-lime-a700:#aeea00;--paper-yellow-50:#fffde7;--paper-yellow-100:#fff9c4;--paper-yellow-200:#fff59d;--paper-yellow-300:#fff176;--paper-yellow-400:#ffee58;--paper-yellow-500:#ffeb3b;--paper-yellow-600:#fdd835;--paper-yellow-700:#fbc02d;--paper-yellow-800:#f9a825;--paper-yellow-900:#f57f17;--paper-yellow-a100:#ffff8d;--paper-yellow-a200:#ffff00;--paper-yellow-a400:#ffea00;--paper-yellow-a700:#ffd600;--paper-amber-50:#fff8e1;--paper-amber-100:#ffecb3;--paper-amber-200:#ffe082;--paper-amber-300:#ffd54f;--paper-amber-400:#ffca28;--paper-amber-500:#ffc107;--paper-amber-600:#ffb300;--paper-amber-700:#ffa000;--paper-amber-800:#ff8f00;--paper-amber-900:#ff6f00;--paper-amber-a100:#ffe57f;--paper-amber-a200:#ffd740;--paper-amber-a400:#ffc400;--paper-amber-a700:#ffab00;--paper-orange-50:#fff3e0;--paper-orange-100:#ffe0b2;--paper-orange-200:#ffcc80;--paper-orange-300:#ffb74d;--paper-orange-400:#ffa726;--paper-orange-500:#ff9800;--paper-orange-600:#fb8c00;--paper-orange-700:#f57c00;--paper-orange-800:#ef6c00;--paper-orange-900:#e65100;--paper-orange-a100:#ffd180;--paper-orange-a200:#ffab40;--paper-orange-a400:#ff9100;--paper-orange-a700:#ff6500;--paper-deep-orange-50:#fbe9e7;--paper-deep-orange-100:#ffccbc;--paper-deep-orange-200:#ffab91;--paper-deep-orange-300:#ff8a65;--paper-deep-orange-400:#ff7043;--paper-deep-orange-500:#ff5722;--paper-deep-orange-600:#f4511e;--paper-deep-orange-700:#e64a19;--paper-deep-orange-800:#d84315;--paper-deep-orange-900:#bf360c;--paper-deep-orange-a100:#ff9e80;--paper-deep-orange-a200:#ff6e40;--paper-deep-orange-a400:#ff3d00;--paper-deep-orange-a700:#dd2c00;--paper-brown-50:#efebe9;--paper-brown-100:#d7ccc8;--paper-brown-200:#bcaaa4;--paper-brown-300:#a1887f;--paper-brown-400:#8d6e63;--paper-brown-500:#795548;--paper-brown-600:#6d4c41;--paper-brown-700:#5d4037;--paper-brown-800:#4e342e;--paper-brown-900:#3e2723;--paper-grey-50:#fafafa;--paper-grey-100:#f5f5f5;--paper-grey-200:#eeeeee;--paper-grey-300:#e0e0e0;--paper-grey-400:#bdbdbd;--paper-grey-500:#9e9e9e;--paper-grey-600:#757575;--paper-grey-700:#616161;--paper-grey-800:#424242;--paper-grey-900:#212121;--paper-blue-grey-50:#eceff1;--paper-blue-grey-100:#cfd8dc;--paper-blue-grey-200:#b0bec5;--paper-blue-grey-300:#90a4ae;--paper-blue-grey-400:#78909c;--paper-blue-grey-500:#607d8b;--paper-blue-grey-600:#546e7a;--paper-blue-grey-700:#455a64;--paper-blue-grey-800:#37474f;--paper-blue-grey-900:#263238;--dark-divider-opacity:0.12;--dark-disabled-opacity:0.38;--dark-secondary-opacity:0.54;--dark-primary-opacity:0.87;--light-divider-opacity:0.12;--light-disabled-opacity:0.3;--light-secondary-opacity:0.7;--light-primary-opacity:1.0}</style></custom-style><custom-style><style is="custom-style">html{--primary-text-color:var(--light-theme-text-color);--primary-background-color:var(--light-theme-background-color);--secondary-text-color:var(--light-theme-secondary-color);--disabled-text-color:var(--light-theme-disabled-color);--divider-color:var(--light-theme-divider-color);--error-color:var(--paper-deep-orange-a700);--primary-color:var(--paper-indigo-500);--light-primary-color:var(--paper-indigo-100);--dark-primary-color:var(--paper-indigo-700);--accent-color:var(--paper-pink-a200);--light-accent-color:var(--paper-pink-a100);--dark-accent-color:var(--paper-pink-a400);--light-theme-background-color:#ffffff;--light-theme-base-color:#000000;--light-theme-text-color:var(--paper-grey-900);--light-theme-secondary-color:#737373;--light-theme-disabled-color:#9b9b9b;--light-theme-divider-color:#dbdbdb;--dark-theme-background-color:var(--paper-grey-900);--dark-theme-base-color:#ffffff;--dark-theme-text-color:#ffffff;--dark-theme-secondary-color:#bcbcbc;--dark-theme-disabled-color:#646464;--dark-theme-divider-color:#3c3c3c;--text-primary-color:var(--dark-theme-text-color);--default-primary-color:var(--primary-color)}</style></custom-style><custom-style><style is="custom-style">html{--paper-input-container-shared-input-style:{position:relative;outline:0;box-shadow:none;padding:0;margin:0;width:100%;max-width:100%;background:0 0;border:none;color:var(--paper-input-container-input-color,var(--primary-text-color));-webkit-appearance:none;text-align:inherit;vertical-align:bottom;@apply --paper-font-subhead;};}</style></custom-style><dom-module id="paper-input-container" assetpath="bower_components/paper-input/"><template><style>:host{display:block;padding:8px 0;@apply --paper-input-container;}:host([inline]){display:inline-block}:host([disabled]){pointer-events:none;opacity:.33;@apply --paper-input-container-disabled;}:host([hidden]){display:none!important}[hidden]{display:none!important}.floated-label-placeholder{@apply --paper-font-caption;}.underline{height:2px;position:relative}.focused-line{@apply --layout-fit;border-bottom:2px solid var(--paper-input-container-focus-color,var(--primary-color));-webkit-transform-origin:center center;transform-origin:center center;-webkit-transform:scale3d(0,1,1);transform:scale3d(0,1,1);@apply --paper-input-container-underline-focus;}.underline.is-highlighted .focused-line{-webkit-transform:none;transform:none;-webkit-transition:-webkit-transform .25s;transition:transform .25s;@apply --paper-transition-easing;}.underline.is-invalid .focused-line{border-color:var(--paper-input-container-invalid-color,var(--error-color));-webkit-transform:none;transform:none;-webkit-transition:-webkit-transform .25s;transition:transform .25s;@apply --paper-transition-easing;}.unfocused-line{@apply --layout-fit;border-bottom:1px solid var(--paper-input-container-color,var(--secondary-text-color));@apply --paper-input-container-underline;}:host([disabled]) .unfocused-line{border-bottom:1px dashed;border-color:var(--paper-input-container-color,var(--secondary-text-color));@apply --paper-input-container-underline-disabled;}.input-wrapper{@apply --layout-horizontal;@apply --layout-center;position:relative}.input-content{@apply --layout-flex-auto;@apply --layout-relative;max-width:100%}.input-content ::slotted(.paper-input-label),.input-content ::slotted(label){position:absolute;top:0;left:0;width:100%;font:inherit;color:var(--paper-input-container-color,var(--secondary-text-color));-webkit-transition:-webkit-transform .25s,width .25s;transition:transform .25s,width .25s;-webkit-transform-origin:left top;transform-origin:left top;min-height:1px;@apply --paper-font-common-nowrap;@apply --paper-font-subhead;@apply --paper-input-container-label;@apply --paper-transition-easing;}.input-content.label-is-floating ::slotted(.paper-input-label),.input-content.label-is-floating ::slotted(label){-webkit-transform:translateY(-75%) scale(.75);transform:translateY(-75%) scale(.75);width:133%;@apply --paper-input-container-label-floating;}:host(:dir(rtl)) .input-content.label-is-floating ::slotted(.paper-input-label),:host(:dir(rtl)) .input-content.label-is-floating ::slotted(label){right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top}.input-content.label-is-highlighted ::slotted(.paper-input-label),.input-content.label-is-highlighted ::slotted(label){color:var(--paper-input-container-focus-color,var(--primary-color));@apply --paper-input-container-label-focus;}.input-content.is-invalid ::slotted(.paper-input-label),.input-content.is-invalid ::slotted(label){color:var(--paper-input-container-invalid-color,var(--error-color))}.input-content.label-is-hidden ::slotted(.paper-input-label),.input-content.label-is-hidden ::slotted(label){visibility:hidden}.input-content ::slotted(.paper-input-input),.input-content ::slotted(input),.input-content ::slotted(iron-autogrow-textarea),.input-content ::slotted(iron-input),.input-content ::slotted(textarea){@apply --paper-input-container-shared-input-style;@apply --paper-input-container-input;}.input-content ::slotted(input)::-webkit-inner-spin-button,.input-content ::slotted(input)::-webkit-outer-spin-button{@apply --paper-input-container-input-webkit-spinner;}.input-content.focused ::slotted(.paper-input-input),.input-content.focused ::slotted(input),.input-content.focused ::slotted(iron-autogrow-textarea),.input-content.focused ::slotted(iron-input),.input-content.focused ::slotted(textarea){@apply --paper-input-container-input-focus;}.input-content.is-invalid ::slotted(.paper-input-input),.input-content.is-invalid ::slotted(input),.input-content.is-invalid ::slotted(iron-autogrow-textarea),.input-content.is-invalid ::slotted(iron-input),.input-content.is-invalid ::slotted(textarea){@apply --paper-input-container-input-invalid;}.prefix ::slotted(*){display:inline-block;@apply --paper-font-subhead;@apply --layout-flex-none;@apply --paper-input-prefix;}.suffix ::slotted(*){display:inline-block;@apply --paper-font-subhead;@apply --layout-flex-none;@apply --paper-input-suffix;}.input-content ::slotted(input){min-width:0}.input-content ::slotted(textarea){resize:none}.add-on-content{position:relative}.add-on-content.is-invalid ::slotted(*){color:var(--paper-input-container-invalid-color,var(--error-color))}.add-on-content.is-highlighted ::slotted(*){color:var(--paper-input-container-focus-color,var(--primary-color))}</style><div class="floated-label-placeholder" aria-hidden="true" hidden="[[noLabelFloat]]">&nbsp;</div><div class="input-wrapper"><span class="prefix"><slot name="prefix"></slot></span><div class$="[[_computeInputContentClass(noLabelFloat,alwaysFloatLabel,focused,invalid,_inputHasContent)]]" id="labelAndInputContainer"><slot name="label"></slot><slot name="input"></slot></div><span class="suffix"><slot name="suffix"></slot></span></div><div class$="[[_computeUnderlineClass(focused,invalid)]]"><div class="unfocused-line"></div><div class="focused-line"></div></div><div class$="[[_computeAddOnContentClass(focused,invalid)]]"><slot name="add-on"></slot></div></template></dom-module><script>Polymer({is:'paper-input-container',properties:{noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},attrForValue:{type:String,value:'bind-value'},autoValidate:{type:Boolean,value:!1},invalid:{observer:'_invalidChanged',type:Boolean,value:!1},focused:{readOnly:!0,type:Boolean,value:!1,notify:!0},_addons:{type:Array},_inputHasContent:{type:Boolean,value:!1},_inputSelector:{type:String,value:'input,iron-input,textarea,.paper-input-input'},_boundOnFocus:{type:Function,value:function(){return this._onFocus.bind(this)}},_boundOnBlur:{type:Function,value:function(){return this._onBlur.bind(this)}},_boundOnInput:{type:Function,value:function(){return this._onInput.bind(this)}},_boundValueChanged:{type:Function,value:function(){return this._onValueChanged.bind(this)}}},listeners:{"addon-attached":'_onAddonAttached',"iron-input-validate":'_onIronInputValidate'},get _valueChangedEvent(){return this.attrForValue+'-changed'},get _propertyForValue(){return Polymer.CaseMap.dashToCamelCase(this.attrForValue)},get _inputElement(){return Polymer.dom(this).querySelector(this._inputSelector)},get _inputElementValue(){return this._inputElement[this._propertyForValue]||this._inputElement.value},ready:function(){this.__isFirstValueUpdate=!0,this._addons||(this._addons=[]),this.addEventListener('focus',this._boundOnFocus,!0),this.addEventListener('blur',this._boundOnBlur,!0)},attached:function(){this.attrForValue?this._inputElement.addEventListener(this._valueChangedEvent,this._boundValueChanged):this.addEventListener('input',this._onInput),this._inputElementValue&&''!=this._inputElementValue?this._handleValueAndAutoValidate(this._inputElement):this._handleValue(this._inputElement)},_onAddonAttached:function(a){this._addons||(this._addons=[]);var b=a.target;-1===this._addons.indexOf(b)&&(this._addons.push(b),this.isAttached&&this._handleValue(this._inputElement))},_onFocus:function(){this._setFocused(!0)},_onBlur:function(){this._setFocused(!1),this._handleValueAndAutoValidate(this._inputElement)},_onInput:function(a){this._handleValueAndAutoValidate(a.target)},_onValueChanged:function(a){var b=a.target;this.__isFirstValueUpdate&&(this.__isFirstValueUpdate=!1,void 0===b.value)||this._handleValueAndAutoValidate(a.target)},_handleValue:function(a){var b=this._inputElementValue;this._inputHasContent=b||0===b||'number'===a.type&&!a.checkValidity(),this.updateAddons({inputElement:a,value:b,invalid:this.invalid})},_handleValueAndAutoValidate:function(a){if(this.autoValidate&&a){var b;b=a.validate?a.validate(this._inputElementValue):a.checkValidity(),this.invalid=!b}this._handleValue(a)},_onIronInputValidate:function(){this.invalid=this._inputElement.invalid},_invalidChanged:function(){this._addons&&this.updateAddons({invalid:this.invalid})},updateAddons:function(a){for(var b,c=0;b=this._addons[c];c++)b.update(a)},_computeInputContentClass:function(a,b,c,d,e){var f='input-content';if(!a){var g=this.querySelector('label');b||e?(f+=' label-is-floating',this.$.labelAndInputContainer.style.position='static',d?f+=' is-invalid':c&&(f+=' label-is-highlighted')):(g&&(this.$.labelAndInputContainer.style.position='relative'),d&&(f+=' is-invalid'))}else e&&(f+=' label-is-hidden'),d&&(f+=' is-invalid');return c&&(f+=' focused'),f},_computeUnderlineClass:function(a,b){var c='underline';return b?c+=' is-invalid':a&&(c+=' is-highlighted'),c},_computeAddOnContentClass:function(a,b){var c='add-on-content';return b?c+=' is-invalid':a&&(c+=' is-highlighted'),c}});</script><dom-module id="paper-input-error" assetpath="bower_components/paper-input/"><template><style>:host{display:inline-block;visibility:hidden;color:var(--paper-input-container-invalid-color,var(--error-color));@apply --paper-font-caption;@apply --paper-input-error;position:absolute;left:0;right:0}:host([invalid]){visibility:visible}</style><slot></slot></template></dom-module><script>Polymer({is:'paper-input-error',behaviors:[Polymer.PaperInputAddonBehavior],properties:{invalid:{readOnly:!0,reflectToAttribute:!0,type:Boolean}},update:function(a){this._setInvalid(a.invalid)}});</script><dom-module id="paper-input" assetpath="bower_components/paper-input/"><template><style>:host{display:block}:host([focused]){outline:0}:host([hidden]){display:none!important}input{min-width:0}iron-input>input{@apply --paper-input-container-shared-input-style;font-family:inherit;font-weight:inherit;font-size:inherit;letter-spacing:inherit;word-spacing:inherit;line-height:inherit;text-shadow:inherit}input:disabled{@apply --paper-input-container-input-disabled;}input::-webkit-inner-spin-button,input::-webkit-outer-spin-button{@apply --paper-input-container-input-webkit-spinner;}input::-webkit-clear-button{@apply --paper-input-container-input-webkit-clear;}input::-webkit-calendar-picker-indicator{@apply --paper-input-container-input-webkit-calendar-picker-indicator;}input::-webkit-input-placeholder{color:var(--paper-input-container-color,var(--secondary-text-color))}input:-moz-placeholder{color:var(--paper-input-container-color,var(--secondary-text-color))}input::-moz-placeholder{color:var(--paper-input-container-color,var(--secondary-text-color))}input::-ms-clear{@apply --paper-input-container-ms-clear;}input::-ms-reveal{@apply --paper-input-container-ms-reveal;}input:-ms-input-placeholder{color:var(--paper-input-container-color,var(--secondary-text-color))}label{pointer-events:none}</style><paper-input-container id="container" no-label-float="[[noLabelFloat]]" always-float-label="[[_computeAlwaysFloatLabel(alwaysFloatLabel,placeholder)]]" auto-validate$="[[autoValidate]]" disabled$="[[disabled]]" invalid="[[invalid]]"><slot name="prefix" slot="prefix"></slot><label hidden$="[[!label]]" aria-hidden="true" for$="[[_inputId]]" slot="label">[[label]]</label><span id="template-placeholder"></span><slot name="suffix" slot="suffix"></slot><template is="dom-if" if="[[errorMessage]]"><paper-input-error aria-live="assertive" slot="add-on">[[errorMessage]]</paper-input-error></template><template is="dom-if" if="[[charCounter]]"><paper-input-char-counter slot="add-on"></paper-input-char-counter></template></paper-input-container></template><template id="v0"><input is="iron-input" slot="input" class="input-element" id$="[[_inputId]]" aria-labelledby$="[[_ariaLabelledBy]]" aria-describedby$="[[_ariaDescribedBy]]" disabled$="[[disabled]]" title$="[[title]]" bind-value="{{value}}" invalid="{{invalid}}" prevent-invalid-input="[[preventInvalidInput]]" allowed-pattern="[[allowedPattern]]" validator="[[validator]]" type$="[[type]]" pattern$="[[pattern]]" required$="[[required]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]" min$="[[min]]" max$="[[max]]" step$="[[step]]" name$="[[name]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" list$="[[list]]" size$="[[size]]" autocapitalize$="[[autocapitalize]]" autocorrect$="[[autocorrect]]" on-change="_onChange" tabindex$="[[tabIndex]]" autosave$="[[autosave]]" results$="[[results]]" accept$="[[accept]]" multiple$="[[multiple]]"></template><template id="v1"><iron-input bind-value="{{value}}" slot="input" class="input-element" id$="[[_inputId]]" maxlength$="[[maxlength]]" allowed-pattern="[[allowedPattern]]" invalid="{{invalid}}" validator="[[validator]]"><input aria-labelledby$="[[_ariaLabelledBy]]" aria-describedby$="[[_ariaDescribedBy]]" disabled$="[[disabled]]" title$="[[title]]" type$="[[type]]" pattern$="[[pattern]]" required$="[[required]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]" min$="[[min]]" max$="[[max]]" step$="[[step]]" name$="[[name]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" list$="[[list]]" size$="[[size]]" autocapitalize$="[[autocapitalize]]" autocorrect$="[[autocorrect]]" on-change="_onChange" tabindex$="[[tabIndex]]" autosave$="[[autosave]]" results$="[[results]]" accept$="[[accept]]" multiple$="[[multiple]]"></iron-input></template></dom-module><script>Polymer({is:'paper-input',behaviors:[Polymer.PaperInputBehavior,Polymer.IronFormElementBehavior],beforeRegister:function(){var a=document.createElement('iron-input'),b='function'==typeof a._initSlottedInput?'v1':'v0',c=Polymer.DomModule.import('paper-input','template'),d=Polymer.DomModule.import('paper-input','template#'+b),e=c.content.querySelector('#template-placeholder');e&&e.parentNode.replaceChild(d.content,e)},get _focusableElement(){return Polymer.Element?this.inputElement._inputElement:this.inputElement},listeners:{"iron-input-ready":'_onIronInputReady'},_onIronInputReady:function(){this.$.nativeInput||(this.$.nativeInput=this.$$('input')),this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.$.nativeInput.type)&&(this.alwaysFloatLabel=!0),!this.inputElement.bindValue||this.$.container._handleValueAndAutoValidate(this.inputElement)}});</script><script>Polymer.IronFitBehavior={properties:{sizingTarget:{type:Object,value:function(){return this}},fitInto:{type:Object,value:window},noOverlap:{type:Boolean},positionTarget:{type:Element},horizontalAlign:{type:String},verticalAlign:{type:String},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},autoFitOnAttach:{type:Boolean,value:!1},_fitInfo:{type:Object}},get _fitWidth(){var a;return a=this.fitInto===window?this.fitInto.innerWidth:this.fitInto.getBoundingClientRect().width,a},get _fitHeight(){var a;return a=this.fitInto===window?this.fitInto.innerHeight:this.fitInto.getBoundingClientRect().height,a},get _fitLeft(){var a;return a=this.fitInto===window?0:this.fitInto.getBoundingClientRect().left,a},get _fitTop(){var a;return a=this.fitInto===window?0:this.fitInto.getBoundingClientRect().top,a},get _defaultPositionTarget(){var a=Polymer.dom(this).parentNode;return a&&a.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(a=a.host),a},get _localeHorizontalAlign(){if(this._isRTL){if('right'===this.horizontalAlign)return'left';if('left'===this.horizontalAlign)return'right'}return this.horizontalAlign},get __shouldPosition(){return(this.horizontalAlign||this.verticalAlign)&&('center'!==this.horizontalAlign||'middle'!==this.verticalAlign)},attached:function(){'undefined'==typeof this._isRTL&&(this._isRTL='rtl'==window.getComputedStyle(this).direction),this.positionTarget=this.positionTarget||this._defaultPositionTarget,this.autoFitOnAttach&&('none'===window.getComputedStyle(this).display?setTimeout(function(){this.fit()}.bind(this)):(window.ShadyDOM&&ShadyDOM.flush(),this.fit()))},detached:function(){this.__deferredFit&&(clearTimeout(this.__deferredFit),this.__deferredFit=null)},fit:function(){this.position(),this.constrain(),this.center()},_discoverInfo:function(){if(!this._fitInfo){var a=window.getComputedStyle(this),b=window.getComputedStyle(this.sizingTarget);this._fitInfo={inlineStyle:{top:this.style.top||'',left:this.style.left||'',position:this.style.position||''},sizerInlineStyle:{maxWidth:this.sizingTarget.style.maxWidth||'',maxHeight:this.sizingTarget.style.maxHeight||'',boxSizing:this.sizingTarget.style.boxSizing||''},positionedBy:{vertically:'auto'===a.top?'auto'===a.bottom?null:'bottom':'top',horizontally:'auto'===a.left?'auto'===a.right?null:'right':'left'},sizedBy:{height:'none'!==b.maxHeight,width:'none'!==b.maxWidth,minWidth:parseInt(b.minWidth,10)||0,minHeight:parseInt(b.minHeight,10)||0},margin:{top:parseInt(a.marginTop,10)||0,right:parseInt(a.marginRight,10)||0,bottom:parseInt(a.marginBottom,10)||0,left:parseInt(a.marginLeft,10)||0}}}},resetFit:function(){var a=this._fitInfo||{};for(var b in a.sizerInlineStyle)this.sizingTarget.style[b]=a.sizerInlineStyle[b];for(var b in a.inlineStyle)this.style[b]=a.inlineStyle[b];this._fitInfo=null},refit:function(){var a=this.sizingTarget.scrollLeft,b=this.sizingTarget.scrollTop;this.resetFit(),this.fit(),this.sizingTarget.scrollLeft=a,this.sizingTarget.scrollTop=b},position:function(){var a=Math.max,b=Math.min;if(this.__shouldPosition){this._discoverInfo(),this.style.position='fixed',this.sizingTarget.style.boxSizing='border-box',this.style.left='0px',this.style.top='0px';var c=this.getBoundingClientRect(),d=this.__getNormalizedRect(this.positionTarget),e=this.__getNormalizedRect(this.fitInto),f=this._fitInfo.margin,g={width:c.width+f.left+f.right,height:c.height+f.top+f.bottom},h=this.__getPosition(this._localeHorizontalAlign,this.verticalAlign,g,c,d,e),i=h.left+f.left,j=h.top+f.top,k=b(e.right-f.right,i+c.width),l=b(e.bottom-f.bottom,j+c.height);i=a(e.left+f.left,b(i,k-this._fitInfo.sizedBy.minWidth)),j=a(e.top+f.top,b(j,l-this._fitInfo.sizedBy.minHeight)),this.sizingTarget.style.maxWidth=a(k-i,this._fitInfo.sizedBy.minWidth)+'px',this.sizingTarget.style.maxHeight=a(l-j,this._fitInfo.sizedBy.minHeight)+'px',this.style.left=i-c.left+'px',this.style.top=j-c.top+'px'}},constrain:function(){if(!this.__shouldPosition){this._discoverInfo();var a=this._fitInfo;a.positionedBy.vertically||(this.style.position='fixed',this.style.top='0px'),a.positionedBy.horizontally||(this.style.position='fixed',this.style.left='0px'),this.sizingTarget.style.boxSizing='border-box';var b=this.getBoundingClientRect();a.sizedBy.height||this.__sizeDimension(b,a.positionedBy.vertically,'top','bottom','Height'),a.sizedBy.width||this.__sizeDimension(b,a.positionedBy.horizontally,'left','right','Width')}},_sizeDimension:function(a,b,c,d,e){this.__sizeDimension(a,b,c,d,e)},__sizeDimension:function(a,b,c,d,e){var f=this._fitInfo,g=this.__getNormalizedRect(this.fitInto),h='Width'===e?g.width:g.height,i=b===d,j=i?h-a[d]:a[c],k=f.margin[i?c:d],l='offset'+e,m=this[l]-this.sizingTarget[l];this.sizingTarget.style['max'+e]=h-k-j-m+'px'},center:function(){if(!this.__shouldPosition){this._discoverInfo();var a=this._fitInfo.positionedBy;if(!(a.vertically&&a.horizontally)){this.style.position='fixed',a.vertically||(this.style.top='0px'),a.horizontally||(this.style.left='0px');var b=this.getBoundingClientRect(),c=this.__getNormalizedRect(this.fitInto);if(!a.vertically){var d=c.top-b.top+(c.height-b.height)/2;this.style.top=d+'px'}if(!a.horizontally){var e=c.left-b.left+(c.width-b.width)/2;this.style.left=e+'px'}}}},__getNormalizedRect:function(a){return a===document.documentElement||a===window?{top:0,left:0,width:window.innerWidth,height:window.innerHeight,right:window.innerWidth,bottom:window.innerHeight}:a.getBoundingClientRect()},__getOffscreenArea:function(a,b,c){var d=Math.abs,e=Math.min,f=e(0,a.top)+e(0,c.bottom-(a.top+b.height)),g=e(0,a.left)+e(0,c.right-(a.left+b.width));return d(f)*b.width+d(g)*b.height},__getPosition:function(a,b,c,d,e,f){var g=[{verticalAlign:'top',horizontalAlign:'left',top:e.top+this.verticalOffset,left:e.left+this.horizontalOffset},{verticalAlign:'top',horizontalAlign:'right',top:e.top+this.verticalOffset,left:e.right-c.width-this.horizontalOffset},{verticalAlign:'bottom',horizontalAlign:'left',top:e.bottom-c.height-this.verticalOffset,left:e.left+this.horizontalOffset},{verticalAlign:'bottom',horizontalAlign:'right',top:e.bottom-c.height-this.verticalOffset,left:e.right-c.width-this.horizontalOffset}];if(this.noOverlap){for(var h,j=0,i=g.length;j<i;j++){for(var k in h={},g[j])h[k]=g[j][k];g.push(h)}g[0].top=g[1].top+=e.height,g[2].top=g[3].top-=e.height,g[4].left=g[6].left+=e.width,g[5].left=g[7].left-=e.width}b='auto'===b?null:b,a='auto'===a?null:a,a&&'center'!==a||(g.push({verticalAlign:'top',horizontalAlign:'center',top:e.top+this.verticalOffset+(this.noOverlap?e.height:0),left:e.left-d.width/2+e.width/2+this.horizontalOffset}),g.push({verticalAlign:'bottom',horizontalAlign:'center',top:e.bottom-c.height-this.verticalOffset-(this.noOverlap?e.height:0),left:e.left-d.width/2+e.width/2+this.horizontalOffset})),b&&'middle'!==b||(g.push({verticalAlign:'middle',horizontalAlign:'left',top:e.top-d.height/2+e.height/2+this.verticalOffset,left:e.left+this.horizontalOffset+(this.noOverlap?e.width:0)}),g.push({verticalAlign:'middle',horizontalAlign:'right',top:e.top-d.height/2+e.height/2+this.verticalOffset,left:e.right-c.width-this.horizontalOffset-(this.noOverlap?e.width:0)}));for(var l,j=0;j<g.length;j++){var m=g[j],n=m.verticalAlign===b,o=m.horizontalAlign===a;if(!this.dynamicAlign&&!this.noOverlap&&n&&o){l=m;break}var p=(!b||n)&&(!a||o);if(this.dynamicAlign||p){if(m.offscreenArea=this.__getOffscreenArea(m,c,f),0===m.offscreenArea&&p){l=m;break}l=l||m;var q=m.offscreenArea-l.offscreenArea;(0>q||0==q&&(n||o))&&(l=m)}}return l}};</script><script>Polymer.IronResizableBehavior={properties:{_parentResizable:{type:Object,observer:'_parentResizableChanged'},_notifyingDescendant:{type:Boolean,value:!1}},listeners:{"iron-request-resize-notifications":'_onIronRequestResizeNotifications'},created:function(){this._interestedResizables=[],this._boundNotifyResize=this.notifyResize.bind(this)},attached:function(){this._requestResizeNotifications()},detached:function(){this._parentResizable?this._parentResizable.stopResizeNotificationsFor(this):window.removeEventListener('resize',this._boundNotifyResize),this._parentResizable=null},notifyResize:function(){this.isAttached&&(this._interestedResizables.forEach(function(a){this.resizerShouldNotify(a)&&this._notifyDescendant(a)},this),this._fireResize())},assignParentResizable:function(a){this._parentResizable=a},stopResizeNotificationsFor:function(a){var b=this._interestedResizables.indexOf(a);-1<b&&(this._interestedResizables.splice(b,1),this.unlisten(a,'iron-resize','_onDescendantIronResize'))},resizerShouldNotify:function(){return!0},_onDescendantIronResize:function(a){return this._notifyingDescendant?void a.stopPropagation():void(!Polymer.Settings.useShadow&&this._fireResize())},_fireResize:function(){this.fire('iron-resize',null,{node:this,bubbles:!1})},_onIronRequestResizeNotifications:function(a){var b=Polymer.dom(a).rootTarget;b===this||(-1===this._interestedResizables.indexOf(b)&&(this._interestedResizables.push(b),this.listen(b,'iron-resize','_onDescendantIronResize')),b.assignParentResizable(this),this._notifyDescendant(b),a.stopPropagation())},_parentResizableChanged:function(a){a&&window.removeEventListener('resize',this._boundNotifyResize)},_notifyDescendant:function(a){this.isAttached&&(this._notifyingDescendant=!0,a.notifyResize(),this._notifyingDescendant=!1)},_requestResizeNotifications:function(){if(this.isAttached)if('loading'===document.readyState){var a=this._requestResizeNotifications.bind(this);document.addEventListener('readystatechange',function b(){document.removeEventListener('readystatechange',b),a()})}else this.fire('iron-request-resize-notifications',null,{node:this,bubbles:!0,cancelable:!0}),this._parentResizable||(window.addEventListener('resize',this._boundNotifyResize),this.notifyResize())}};</script><dom-module id="iron-overlay-backdrop" assetpath="bower_components/iron-overlay-behavior/"><template><style>:host{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--iron-overlay-backdrop-background-color,#000);opacity:0;transition:opacity .2s;pointer-events:none;@apply --iron-overlay-backdrop;}:host(.opened){opacity:var(--iron-overlay-backdrop-opacity,.6);pointer-events:auto;@apply --iron-overlay-backdrop-opened;}</style><slot></slot></template></dom-module><script>(function(){'use strict';Polymer({is:'iron-overlay-backdrop',properties:{opened:{reflectToAttribute:!0,type:Boolean,value:!1,observer:'_openedChanged'}},listeners:{transitionend:'_onTransitionend'},created:function(){this.__openedRaf=null},attached:function(){this.opened&&this._openedChanged(this.opened)},prepare:function(){this.opened&&!this.parentNode&&Polymer.dom(document.body).appendChild(this)},open:function(){this.opened=!0},close:function(){this.opened=!1},complete:function(){this.opened||this.parentNode!==document.body||Polymer.dom(this.parentNode).removeChild(this)},_onTransitionend:function(a){a&&a.target===this&&this.complete()},_openedChanged:function(a){if(a)this.prepare();else{var b=window.getComputedStyle(this);('0s'===b.transitionDuration||0==b.opacity)&&this.complete()}this.isAttached&&(this.__openedRaf&&(window.cancelAnimationFrame(this.__openedRaf),this.__openedRaf=null),this.scrollTop=this.scrollTop,this.__openedRaf=window.requestAnimationFrame(function(){this.__openedRaf=null,this.toggleClass('opened',this.opened)}.bind(this)))}})})();</script><script>Polymer.IronOverlayManagerClass=function(){this._overlays=[],this._minimumZ=101,this._backdropElement=null,Polymer.Gestures.add(document.documentElement,'tap',function(){}),document.addEventListener('tap',this._onCaptureClick.bind(this),!0),document.addEventListener('focus',this._onCaptureFocus.bind(this),!0),document.addEventListener('keydown',this._onCaptureKeyDown.bind(this),!0)},Polymer.IronOverlayManagerClass.prototype={constructor:Polymer.IronOverlayManagerClass,get backdropElement(){return this._backdropElement||(this._backdropElement=document.createElement('iron-overlay-backdrop')),this._backdropElement},get deepActiveElement(){var a=document.activeElement;for(a&&!1!=a instanceof Element||(a=document.body);a.root&&Polymer.dom(a.root).activeElement;)a=Polymer.dom(a.root).activeElement;return a},_bringOverlayAtIndexToFront:function(a){var b=this._overlays[a];if(b){var c=this._overlays.length-1,d=this._overlays[c];if(d&&this._shouldBeBehindOverlay(b,d)&&c--,!(a>=c)){var e=Math.max(this.currentOverlayZ(),this._minimumZ);for(this._getZ(b)<=e&&this._applyOverlayZ(b,e);a<c;)this._overlays[a]=this._overlays[a+1],a++;this._overlays[c]=b}}},addOrRemoveOverlay:function(a){a.opened?this.addOverlay(a):this.removeOverlay(a)},addOverlay:function(a){var b=Math.max,c=this._overlays.indexOf(a);if(0<=c)return this._bringOverlayAtIndexToFront(c),void this.trackBackdrop();var d=this._overlays.length,e=this._overlays[d-1],f=b(this._getZ(e),this._minimumZ),g=this._getZ(a);if(e&&this._shouldBeBehindOverlay(a,e)){this._applyOverlayZ(e,f),d--;var h=this._overlays[d-1];f=b(this._getZ(h),this._minimumZ)}g<=f&&this._applyOverlayZ(a,f),this._overlays.splice(d,0,a),this.trackBackdrop()},removeOverlay:function(a){var b=this._overlays.indexOf(a);-1===b||(this._overlays.splice(b,1),this.trackBackdrop())},currentOverlay:function(){var a=this._overlays.length-1;return this._overlays[a]},currentOverlayZ:function(){return this._getZ(this.currentOverlay())},ensureMinimumZ:function(a){this._minimumZ=Math.max(this._minimumZ,a)},focusOverlay:function(){var a=this.currentOverlay();a&&a._applyFocus()},trackBackdrop:function(){var a=this._overlayWithBackdrop();(a||this._backdropElement)&&(this.backdropElement.style.zIndex=this._getZ(a)-1,this.backdropElement.opened=!!a,this.backdropElement.prepare())},getBackdrops:function(){for(var a=[],b=0;b<this._overlays.length;b++)this._overlays[b].withBackdrop&&a.push(this._overlays[b]);return a},backdropZ:function(){return this._getZ(this._overlayWithBackdrop())-1},_overlayWithBackdrop:function(){for(var a=this._overlays.length-1;0<=a;a--)if(this._overlays[a].withBackdrop)return this._overlays[a]},_getZ:function(a){var b=this._minimumZ;if(a){var c=+(a.style.zIndex||window.getComputedStyle(a).zIndex);c===c&&(b=c)}return b},_setZ:function(a,b){a.style.zIndex=b},_applyOverlayZ:function(a,b){this._setZ(a,b+2)},_overlayInPath:function(a){a=a||[];for(var b=0;b<a.length;b++)if(a[b]._manager===this)return a[b]},_onCaptureClick:function(a){var b=this._overlays.length-1;if(-1!=b)for(var c,d=Polymer.dom(a).path;(c=this._overlays[b])&&this._overlayInPath(d)!==c&&(c._onCaptureClick(a),c.allowClickThrough);)b--},_onCaptureFocus:function(a){var b=this.currentOverlay();b&&b._onCaptureFocus(a)},_onCaptureKeyDown:function(a){var b=this.currentOverlay();b&&(Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a,'esc')?b._onCaptureEsc(a):Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a,'tab')&&b._onCaptureTab(a))},_shouldBeBehindOverlay:function(a,b){return!a.alwaysOnTop&&b.alwaysOnTop}},Polymer.IronOverlayManager=new Polymer.IronOverlayManagerClass;</script><script>(function(){'use strict';var a={pageX:0,pageY:0},b=null,c=[],d=['wheel','mousewheel','DOMMouseScroll','touchstart','touchmove'];Polymer.IronScrollManager={get currentLockingElement(){return this._lockingElements[this._lockingElements.length-1]},elementIsScrollLocked:function(a){var b=this.currentLockingElement;if(void 0===b)return!1;var c;return!!this._hasCachedLockedElement(a)||!this._hasCachedUnlockedElement(a)&&(c=!!b&&b!==a&&!this._composedTreeContains(b,a),c?this._lockedElementCache.push(a):this._unlockedElementCache.push(a),c)},pushScrollLock:function(a){0<=this._lockingElements.indexOf(a)||(0===this._lockingElements.length&&this._lockScrollInteractions(),this._lockingElements.push(a),this._lockedElementCache=[],this._unlockedElementCache=[])},removeScrollLock:function(a){var b=this._lockingElements.indexOf(a);-1===b||(this._lockingElements.splice(b,1),this._lockedElementCache=[],this._unlockedElementCache=[],0===this._lockingElements.length&&this._unlockScrollInteractions())},_lockingElements:[],_lockedElementCache:null,_unlockedElementCache:null,_hasCachedLockedElement:function(a){return-1<this._lockedElementCache.indexOf(a)},_hasCachedUnlockedElement:function(a){return-1<this._unlockedElementCache.indexOf(a)},_composedTreeContains:function(a,b){var c,d,e,f;if(a.contains(b))return!0;for(c=Polymer.dom(a).querySelectorAll('content,slot'),e=0;e<c.length;++e)for(d=Polymer.dom(c[e]).getDistributedNodes(),f=0;f<d.length;++f)if(d[f].nodeType===Node.ELEMENT_NODE&&this._composedTreeContains(d[f],b))return!0;return!1},_scrollInteractionHandler:function(b){if(b.cancelable&&this._shouldPreventScrolling(b)&&b.preventDefault(),b.targetTouches){var c=b.targetTouches[0];a.pageX=c.pageX,a.pageY=c.pageY}},_lockScrollInteractions:function(){this._boundScrollHandler=this._boundScrollHandler||this._scrollInteractionHandler.bind(this);for(var a=0,b=d.length;a<b;a++)document.addEventListener(d[a],this._boundScrollHandler,{capture:!0,passive:!1})},_unlockScrollInteractions:function(){for(var a=0,b=d.length;a<b;a++)document.removeEventListener(d[a],this._boundScrollHandler,{capture:!0,passive:!1})},_shouldPreventScrolling:function(a){var d=Polymer.dom(a).rootTarget;if('touchmove'!==a.type&&b!==d&&(b=d,c=this._getScrollableNodes(Polymer.dom(a).path)),!c.length)return!0;if('touchstart'===a.type)return!1;var e=this._getScrollInfo(a);return!this._getScrollingNode(c,e.deltaX,e.deltaY)},_getScrollableNodes:function(a){for(var b=[],c=a.indexOf(this.currentLockingElement),d=0;d<=c;d++)if(a[d].nodeType===Node.ELEMENT_NODE){var e=a[d],f=e.style;'scroll'!==f.overflow&&'auto'!==f.overflow&&(f=window.getComputedStyle(e)),('scroll'===f.overflow||'auto'===f.overflow)&&b.push(e)}return b},_getScrollingNode:function(a,b,c){var d=Math.abs;if(b||c)for(var e=d(c)>=d(b),f=0;f<a.length;f++){var g=a[f],h=!1;if(h=e?0>c?0<g.scrollTop:g.scrollTop<g.scrollHeight-g.clientHeight:0>b?0<g.scrollLeft:g.scrollLeft<g.scrollWidth-g.clientWidth,h)return g}},_getScrollInfo:function(b){var c={deltaX:b.deltaX,deltaY:b.deltaY};if('deltaX'in b);else if('wheelDeltaX'in b&&'wheelDeltaY'in b)c.deltaX=-b.wheelDeltaX,c.deltaY=-b.wheelDeltaY;else if('wheelDelta'in b)c.deltaX=0,c.deltaY=-b.wheelDelta;else if('axis'in b)c.deltaX=1===b.axis?b.detail:0,c.deltaY=2===b.axis?b.detail:0;else if(b.targetTouches){var d=b.targetTouches[0];c.deltaX=a.pageX-d.pageX,c.deltaY=a.pageY-d.pageY}return c}}})();</script><script>(function(){'use strict';var a=Element.prototype,b=a.matches||a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector;Polymer.IronFocusablesHelper={getTabbableNodes:function(a){var b=[],c=this._collectTabbableNodes(a,b);return c?this._sortByTabIndex(b):b},isFocusable:function(a){return b.call(a,'input, select, textarea, button, object')?b.call(a,':not([disabled])'):b.call(a,'a[href], area[href], iframe, [tabindex], [contentEditable]')},isTabbable:function(a){return this.isFocusable(a)&&b.call(a,':not([tabindex="-1"])')&&this._isVisible(a)},_normalizedTabIndex:function(a){if(this.isFocusable(a)){var b=a.getAttribute('tabindex')||0;return+b}return-1},_collectTabbableNodes:function(a,b){if(a.nodeType!==Node.ELEMENT_NODE||!this._isVisible(a))return!1;var c=a,d=this._normalizedTabIndex(c),e=0<d;0<=d&&b.push(c);var f='content'===c.localName||'slot'===c.localName?Polymer.dom(c).getDistributedNodes():Polymer.dom(c.root||c).children;for(var g=0;g<f.length;g++)e=this._collectTabbableNodes(f[g],b)||e;return e},_isVisible:function(a){var b=a.style;return'hidden'!==b.visibility&&'none'!==b.display&&(b=window.getComputedStyle(a),'hidden'!==b.visibility&&'none'!==b.display)},_sortByTabIndex:function(a){var b=a.length;if(2>b)return a;var c=Math.ceil(b/2),d=this._sortByTabIndex(a.slice(0,c)),e=this._sortByTabIndex(a.slice(c));return this._mergeSortByTabIndex(d,e)},_mergeSortByTabIndex:function(a,b){for(var c=[];0<a.length&&0<b.length;)this._hasLowerTabOrder(a[0],b[0])?c.push(b.shift()):c.push(a.shift());return c.concat(a,b)},_hasLowerTabOrder:function(c,a){var b=Math.max,d=b(c.tabIndex,0),e=b(a.tabIndex,0);return 0===d||0===e?e>d:d>e}}})();</script><script>(function(){'use strict';Polymer.IronOverlayBehaviorImpl={properties:{opened:{observer:'_openedChanged',type:Boolean,value:!1,notify:!0},canceled:{observer:'_canceledChanged',readOnly:!0,type:Boolean,value:!1},withBackdrop:{observer:'_withBackdropChanged',type:Boolean},noAutoFocus:{type:Boolean,value:!1},noCancelOnEscKey:{type:Boolean,value:!1},noCancelOnOutsideClick:{type:Boolean,value:!1},closingReason:{type:Object},restoreFocusOnClose:{type:Boolean,value:!1},allowClickThrough:{type:Boolean},alwaysOnTop:{type:Boolean},scrollAction:{type:String},_manager:{type:Object,value:Polymer.IronOverlayManager},_focusedChild:{type:Object}},listeners:{"iron-resize":'_onIronResize'},observers:['__updateScrollObservers(isAttached, opened, scrollAction)'],get backdropElement(){return this._manager.backdropElement},get _focusNode(){return this._focusedChild||Polymer.dom(this).querySelector('[autofocus]')||this},get _focusableNodes(){return Polymer.IronFocusablesHelper.getTabbableNodes(this)},ready:function(){this.__isAnimating=!1,this.__shouldRemoveTabIndex=!1,this.__firstFocusableNode=this.__lastFocusableNode=null,this.__rafs={},this.__restoreFocusNode=null,this.__scrollTop=this.__scrollLeft=null,this.__onCaptureScroll=this.__onCaptureScroll.bind(this),this.__rootNodes=null,this._ensureSetup()},attached:function(){this.opened&&this._openedChanged(this.opened),this._observer=Polymer.dom(this).observeNodes(this._onNodesChange)},detached:function(){for(var a in Polymer.dom(this).unobserveNodes(this._observer),this._observer=null,this.__rafs)null!==this.__rafs[a]&&cancelAnimationFrame(this.__rafs[a]);this.__rafs={},this._manager.removeOverlay(this),this.__isAnimating&&(this.opened?this._finishRenderOpened():(this._applyFocus(),this._finishRenderClosed()))},toggle:function(){this._setCanceled(!1),this.opened=!this.opened},open:function(){this._setCanceled(!1),this.opened=!0},close:function(){this._setCanceled(!1),this.opened=!1},cancel:function(a){var b=this.fire('iron-overlay-canceled',a,{cancelable:!0});b.defaultPrevented||(this._setCanceled(!0),this.opened=!1)},invalidateTabbables:function(){this.__firstFocusableNode=this.__lastFocusableNode=null},_ensureSetup:function(){this._overlaySetup||(this._overlaySetup=!0,this.style.outline='none',this.style.display='none')},_openedChanged:function(a){a?this.removeAttribute('aria-hidden'):this.setAttribute('aria-hidden','true');this.isAttached&&(this.__isAnimating=!0,this.__deraf('__openedChanged',this.__openedChanged))},_canceledChanged:function(){this.closingReason=this.closingReason||{},this.closingReason.canceled=this.canceled},_withBackdropChanged:function(){this.withBackdrop&&!this.hasAttribute('tabindex')?(this.setAttribute('tabindex','-1'),this.__shouldRemoveTabIndex=!0):this.__shouldRemoveTabIndex&&(this.removeAttribute('tabindex'),this.__shouldRemoveTabIndex=!1),this.opened&&this.isAttached&&this._manager.trackBackdrop()},_prepareRenderOpened:function(){this.__restoreFocusNode=this._manager.deepActiveElement,this._preparePositioning(),this.refit(),this._finishPositioning(),this.noAutoFocus&&document.activeElement===this._focusNode&&(this._focusNode.blur(),this.__restoreFocusNode.focus())},_renderOpened:function(){this._finishRenderOpened()},_renderClosed:function(){this._finishRenderClosed()},_finishRenderOpened:function(){this.notifyResize(),this.__isAnimating=!1,this.fire('iron-overlay-opened')},_finishRenderClosed:function(){this.style.display='none',this.style.zIndex='',this.notifyResize(),this.__isAnimating=!1,this.fire('iron-overlay-closed',this.closingReason)},_preparePositioning:function(){this.style.transition=this.style.webkitTransition='none',this.style.transform=this.style.webkitTransform='none',this.style.display=''},_finishPositioning:function(){this.style.display='none',this.scrollTop=this.scrollTop,this.style.transition=this.style.webkitTransition='',this.style.transform=this.style.webkitTransform='',this.style.display='',this.scrollTop=this.scrollTop},_applyFocus:function(){if(this.opened)this.noAutoFocus||this._focusNode.focus();else{if(this._focusNode.blur(),this._focusedChild=null,this.restoreFocusOnClose&&this.__restoreFocusNode){var a=this._manager.deepActiveElement;(a===document.body||Polymer.dom(this).deepContains(a))&&this.__restoreFocusNode.focus()}this.__restoreFocusNode=null;var b=this._manager.currentOverlay();b&&this!==b&&b._applyFocus()}},_onCaptureClick:function(a){this.noCancelOnOutsideClick||this.cancel(a)},_onCaptureFocus:function(a){if(this.withBackdrop){var b=Polymer.dom(a).path;-1===b.indexOf(this)?(a.stopPropagation(),this._applyFocus()):this._focusedChild=b[0]}},_onCaptureEsc:function(a){this.noCancelOnEscKey||this.cancel(a)},_onCaptureTab:function(a){if(this.withBackdrop){this.__ensureFirstLastFocusables();var b=a.shiftKey,c=b?this.__firstFocusableNode:this.__lastFocusableNode,d=b?this.__lastFocusableNode:this.__firstFocusableNode,e=!1;if(c===d)e=!0;else{var f=this._manager.deepActiveElement;e=f===c||f===this}e&&(a.preventDefault(),this._focusedChild=d,this._applyFocus())}},_onIronResize:function(){this.opened&&!this.__isAnimating&&this.__deraf('refit',this.refit)},_onNodesChange:function(){this.opened&&!this.__isAnimating&&(this.invalidateTabbables(),this.notifyResize())},__ensureFirstLastFocusables:function(){if(!this.__firstFocusableNode||!this.__lastFocusableNode){var a=this._focusableNodes;this.__firstFocusableNode=a[0],this.__lastFocusableNode=a[a.length-1]}},__openedChanged:function(){this.opened?(this._prepareRenderOpened(),this._manager.addOverlay(this),this._applyFocus(),this._renderOpened()):(this._manager.removeOverlay(this),this._applyFocus(),this._renderClosed())},__deraf:function(a,b){var c=this.__rafs;null!==c[a]&&cancelAnimationFrame(c[a]),c[a]=requestAnimationFrame(function(){c[a]=null,b.call(this)}.bind(this))},__updateScrollObservers:function(a,b,c){a&&b&&this.__isValidScrollAction(c)?('lock'===c&&(this.__saveScrollPosition(),Polymer.IronScrollManager.pushScrollLock(this)),this.__addScrollListeners()):(Polymer.IronScrollManager.removeScrollLock(this),this.__removeScrollListeners())},__addScrollListeners:function(){if(!this.__rootNodes){if(this.__rootNodes=[],Polymer.Settings.useShadow)for(var a=this;a;)a.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&a.host&&this.__rootNodes.push(a),a=a.host||a.assignedSlot||a.parentNode;this.__rootNodes.push(document)}this.__rootNodes.forEach(function(a){a.addEventListener('scroll',this.__onCaptureScroll,{capture:!0,passive:!0})},this)},__removeScrollListeners:function(){this.__rootNodes&&this.__rootNodes.forEach(function(a){a.removeEventListener('scroll',this.__onCaptureScroll,{capture:!0,passive:!0})},this),this.isAttached||(this.__rootNodes=null)},__isValidScrollAction:function(a){return'lock'===a||'refit'===a||'cancel'===a},__onCaptureScroll:function(a){if(!this.__isAnimating&&!(0<=Polymer.dom(a).path.indexOf(this)))switch(this.scrollAction){case'lock':this.__restoreScrollPosition();break;case'refit':this.__deraf('refit',this.refit);break;case'cancel':this.cancel(a);}},__saveScrollPosition:function(){var a=Math.max;document.scrollingElement?(this.__scrollTop=document.scrollingElement.scrollTop,this.__scrollLeft=document.scrollingElement.scrollLeft):(this.__scrollTop=a(document.documentElement.scrollTop,document.body.scrollTop),this.__scrollLeft=a(document.documentElement.scrollLeft,document.body.scrollLeft))},__restoreScrollPosition:function(){document.scrollingElement?(document.scrollingElement.scrollTop=this.__scrollTop,document.scrollingElement.scrollLeft=this.__scrollLeft):(document.documentElement.scrollTop=document.body.scrollTop=this.__scrollTop,document.documentElement.scrollLeft=document.body.scrollLeft=this.__scrollLeft)}},Polymer.IronOverlayBehavior=[Polymer.IronFitBehavior,Polymer.IronResizableBehavior,Polymer.IronOverlayBehaviorImpl]})();</script><script>Polymer.NeonAnimatableBehavior={properties:{animationConfig:{type:Object},entryAnimation:{observer:'_entryAnimationChanged',type:String},exitAnimation:{observer:'_exitAnimationChanged',type:String}},_entryAnimationChanged:function(){this.animationConfig=this.animationConfig||{},this.animationConfig.entry=[{name:this.entryAnimation,node:this}]},_exitAnimationChanged:function(){this.animationConfig=this.animationConfig||{},this.animationConfig.exit=[{name:this.exitAnimation,node:this}]},_copyProperties:function(a,b){for(var c in b)a[c]=b[c]},_cloneConfig:function(a){var b={isClone:!0};return this._copyProperties(b,a),b},_getAnimationConfigRecursive:function(a,b,c){if(this.animationConfig){if(this.animationConfig.value&&'function'==typeof this.animationConfig.value)return void this._warn(this._logf('playAnimation','Please put \'animationConfig\' inside of your components \'properties\' object instead of outside of it.'));var d;if(d=a?this.animationConfig[a]:this.animationConfig,Array.isArray(d)||(d=[d]),d)for(var e,f=0;e=d[f];f++)if(e.animatable)e.animatable._getAnimationConfigRecursive(e.type||a,b,c);else if(e.id){var g=b[e.id];g?(!g.isClone&&(b[e.id]=this._cloneConfig(g),g=b[e.id]),this._copyProperties(g,e)):b[e.id]=e}else c.push(e)}},getAnimationConfig:function(a){var b={},c=[];for(var d in this._getAnimationConfigRecursive(a,b,c),b)c.push(b[d]);return c}};</script><script>Polymer.NeonAnimationRunnerBehaviorImpl={_configureAnimations:function(a){var b=[],c=[];if(0<a.length)for(var d,e,f=0;d=a[f];f++)if(e=document.createElement(d.name),e.isNeonAnimation){var g=null;e.configure||(e.configure=function(){return null}),g=e.configure(d),c.push({result:g,config:d})}else console.warn(this.is+':',d.name,'not found!');for(var h=0;h<c.length;h++){var g=c[h].result,d=c[h].config;try{'function'!=typeof g.cancel&&(g=document.timeline.play(g))}catch(a){g=null,console.warn('Couldnt play','(',d.name,').',a)}g&&b.push({neonAnimation:e,config:d,animation:g})}return b},_shouldComplete:function(a){for(var b=!0,c=0;c<a.length;c++)if('finished'!=a[c].animation.playState){b=!1;break}return b},_complete:function(a){for(var b=0;b<a.length;b++)a[b].neonAnimation.complete(a[b].config);for(var b=0;b<a.length;b++)a[b].animation.cancel()},playAnimation:function(a,b){var c=this.getAnimationConfig(a);if(c){this._active=this._active||{},this._active[a]&&(this._complete(this._active[a]),delete this._active[a]);var d=this._configureAnimations(c);if(0==d.length)return void this.fire('neon-animation-finish',b,{bubbles:!1});this._active[a]=d;for(var e=0;e<d.length;e++)d[e].animation.onfinish=function(){this._shouldComplete(d)&&(this._complete(d),delete this._active[a],this.fire('neon-animation-finish',b,{bubbles:!1}))}.bind(this)}},cancelAnimation:function(){for(var a in this._active){var b=this._active[a];for(var c in b)b[c].animation.cancel()}this._active={}}},Polymer.NeonAnimationRunnerBehavior=[Polymer.NeonAnimatableBehavior,Polymer.NeonAnimationRunnerBehaviorImpl];</script><script>(function(){'use strict';Polymer.IronDropdownScrollManager=Polymer.IronScrollManager})();</script><dom-module id="iron-dropdown" assetpath="bower_components/iron-dropdown/"><template><style>:host{position:fixed}#contentWrapper ::slotted(*){overflow:auto}#contentWrapper.animating ::slotted(*){overflow:hidden;pointer-events:none}</style><div id="contentWrapper"><slot id="content" name="dropdown-content"></slot></div></template><script>(function(){'use strict';Polymer({is:'iron-dropdown',behaviors:[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.IronOverlayBehavior,Polymer.NeonAnimationRunnerBehavior],properties:{horizontalAlign:{type:String,value:'left',reflectToAttribute:!0},verticalAlign:{type:String,value:'top',reflectToAttribute:!0},openAnimationConfig:{type:Object},closeAnimationConfig:{type:Object},focusTarget:{type:Object},noAnimations:{type:Boolean,value:!1},allowOutsideScroll:{type:Boolean,value:!1,observer:'_allowOutsideScrollChanged'}},listeners:{"neon-animation-finish":'_onNeonAnimationFinish'},observers:['_updateOverlayPosition(positionTarget, verticalAlign, horizontalAlign, verticalOffset, horizontalOffset)'],get containedElement(){for(var a=Polymer.dom(this.$.content).getDistributedNodes(),b=0,c=a.length;b<c;b++)if(a[b].nodeType===Node.ELEMENT_NODE)return a[b]},ready:function(){this.scrollAction||(this.scrollAction=this.allowOutsideScroll?'refit':'lock'),this._readied=!0},attached:function(){this.sizingTarget&&this.sizingTarget!==this||(this.sizingTarget=this.containedElement||this)},detached:function(){this.cancelAnimation()},_openedChanged:function(){this.opened&&this.disabled?this.cancel():(this.cancelAnimation(),this._updateAnimationConfig(),Polymer.IronOverlayBehaviorImpl._openedChanged.apply(this,arguments))},_renderOpened:function(){!this.noAnimations&&this.animationConfig.open?(this.$.contentWrapper.classList.add('animating'),this.playAnimation('open')):Polymer.IronOverlayBehaviorImpl._renderOpened.apply(this,arguments)},_renderClosed:function(){!this.noAnimations&&this.animationConfig.close?(this.$.contentWrapper.classList.add('animating'),this.playAnimation('close')):Polymer.IronOverlayBehaviorImpl._renderClosed.apply(this,arguments)},_onNeonAnimationFinish:function(){this.$.contentWrapper.classList.remove('animating'),this.opened?this._finishRenderOpened():this._finishRenderClosed()},_updateAnimationConfig:function(){for(var a=this.containedElement,b=[].concat(this.openAnimationConfig||[]).concat(this.closeAnimationConfig||[]),c=0;c<b.length;c++)b[c].node=a;this.animationConfig={open:this.openAnimationConfig,close:this.closeAnimationConfig}},_updateOverlayPosition:function(){this.isAttached&&this.notifyResize()},_allowOutsideScrollChanged:function(a){this._readied&&(a?(!this.scrollAction||'lock'===this.scrollAction)&&(this.scrollAction='refit'):this.scrollAction='lock')},_applyFocus:function(){var a=this.focusTarget||this.containedElement;a&&this.opened&&!this.noAutoFocus?a.focus():Polymer.IronOverlayBehaviorImpl._applyFocus.apply(this,arguments)}})})();</script></dom-module><script>Polymer.NeonAnimationBehavior={properties:{animationTiming:{type:Object,value:function(){return{duration:500,easing:'cubic-bezier(0.4, 0, 0.2, 1)',fill:'both'}}}},isNeonAnimation:!0,created:function(){document.body.animate||console.warn('No web animations detected. This element will not function without a web animations polyfill.')},timingFromConfig:function(a){if(a.timing)for(var b in a.timing)this.animationTiming[b]=a.timing[b];return this.animationTiming},setPrefixedProperty:function(a,b,c){for(var d,e={transform:['webkitTransform'],transformOrigin:['mozTransformOrigin','webkitTransformOrigin']},f=e[b],g=0;d=f[g];g++)a.style[d]=c;a.style[b]=c},complete:function(){}};</script><script>Polymer({is:'fade-in-animation',behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node;return this._effect=new KeyframeEffect(b,[{opacity:'0'},{opacity:'1'}],this.timingFromConfig(a)),this._effect}});</script><script>Polymer({is:'fade-out-animation',behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node;return this._effect=new KeyframeEffect(b,[{opacity:'1'},{opacity:'0'}],this.timingFromConfig(a)),this._effect}});</script><custom-style><style is="custom-style">html{--shadow-transition:{transition:box-shadow .28s cubic-bezier(.4,0,.2,1)};--shadow-none:{box-shadow:none};--shadow-elevation-2dp:{box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2)};--shadow-elevation-3dp:{box-shadow:0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12),0 3px 3px -2px rgba(0,0,0,.4)};--shadow-elevation-4dp:{box-shadow:0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.4)};--shadow-elevation-6dp:{box-shadow:0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12),0 3px 5px -1px rgba(0,0,0,.4)};--shadow-elevation-8dp:{box-shadow:0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12),0 5px 5px -3px rgba(0,0,0,.4)};--shadow-elevation-12dp:{box-shadow:0 12px 16px 1px rgba(0,0,0,.14),0 4px 22px 3px rgba(0,0,0,.12),0 6px 7px -4px rgba(0,0,0,.4)};--shadow-elevation-16dp:{box-shadow:0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12),0 8px 10px -5px rgba(0,0,0,.4)};--shadow-elevation-24dp:{box-shadow:0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12),0 11px 15px -7px rgba(0,0,0,.4)};}</style></custom-style><script>Polymer({is:'paper-menu-grow-height-animation',behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect(),d=c.height;return this._effect=new KeyframeEffect(b,[{height:d/2+'px'},{height:d+'px'}],this.timingFromConfig(a)),this._effect}}),Polymer({is:'paper-menu-grow-width-animation',behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect(),d=c.width;return this._effect=new KeyframeEffect(b,[{width:d/2+'px'},{width:d+'px'}],this.timingFromConfig(a)),this._effect}}),Polymer({is:'paper-menu-shrink-width-animation',behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect(),d=c.width;return this._effect=new KeyframeEffect(b,[{width:d+'px'},{width:d-d/20+'px'}],this.timingFromConfig(a)),this._effect}}),Polymer({is:'paper-menu-shrink-height-animation',behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect(),d=c.height,e=c.top;return this.setPrefixedProperty(b,'transformOrigin','0 0'),this._effect=new KeyframeEffect(b,[{height:d+'px',transform:'translateY(0)'},{height:d/2+'px',transform:'translateY(-20px)'}],this.timingFromConfig(a)),this._effect}});</script><dom-module id="paper-menu-button" assetpath="bower_components/paper-menu-button/"><template><style>:host{display:inline-block;position:relative;padding:8px;outline:0;@apply --paper-menu-button;}:host([disabled]){cursor:auto;color:var(--disabled-text-color);@apply --paper-menu-button-disabled;}iron-dropdown{@apply --paper-menu-button-dropdown;}.dropdown-content{@apply --shadow-elevation-2dp;position:relative;border-radius:2px;background-color:var(--paper-menu-button-dropdown-background,var(--primary-background-color));@apply --paper-menu-button-content;}:host([vertical-align=top]) .dropdown-content{margin-bottom:20px;margin-top:-10px;top:10px}:host([vertical-align=bottom]) .dropdown-content{bottom:10px;margin-bottom:-10px;margin-top:20px}#trigger{cursor:pointer}</style><div id="trigger" on-tap="toggle"><slot name="dropdown-trigger"></slot></div><iron-dropdown id="dropdown" opened="{{opened}}" horizontal-align="[[horizontalAlign]]" vertical-align="[[verticalAlign]]" dynamic-align="[[dynamicAlign]]" horizontal-offset="[[horizontalOffset]]" vertical-offset="[[verticalOffset]]" no-overlap="[[noOverlap]]" open-animation-config="[[openAnimationConfig]]" close-animation-config="[[closeAnimationConfig]]" no-animations="[[noAnimations]]" focus-target="[[_dropdownContent]]" allow-outside-scroll="[[allowOutsideScroll]]" restore-focus-on-close="[[restoreFocusOnClose]]" on-iron-overlay-canceled="__onIronOverlayCanceled"><div slot="dropdown-content" class="dropdown-content"><slot id="content" name="dropdown-content"></slot></div></iron-dropdown></template><script>(function(){'use strict';var a={ANIMATION_CUBIC_BEZIER:'cubic-bezier(.3,.95,.5,1)',MAX_ANIMATION_TIME_MS:400},b=Polymer({is:'paper-menu-button',behaviors:[Polymer.IronA11yKeysBehavior,Polymer.IronControlState],properties:{opened:{type:Boolean,value:!1,notify:!0,observer:'_openedChanged'},horizontalAlign:{type:String,value:'left',reflectToAttribute:!0},verticalAlign:{type:String,value:'top',reflectToAttribute:!0},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},noOverlap:{type:Boolean},noAnimations:{type:Boolean,value:!1},ignoreSelect:{type:Boolean,value:!1},closeOnActivate:{type:Boolean,value:!1},openAnimationConfig:{type:Object,value:function(){return[{name:'fade-in-animation',timing:{delay:100,duration:200}},{name:'paper-menu-grow-width-animation',timing:{delay:100,duration:150,easing:a.ANIMATION_CUBIC_BEZIER}},{name:'paper-menu-grow-height-animation',timing:{delay:100,duration:275,easing:a.ANIMATION_CUBIC_BEZIER}}]}},closeAnimationConfig:{type:Object,value:function(){return[{name:'fade-out-animation',timing:{duration:150}},{name:'paper-menu-shrink-width-animation',timing:{delay:100,duration:50,easing:a.ANIMATION_CUBIC_BEZIER}},{name:'paper-menu-shrink-height-animation',timing:{duration:200,easing:'ease-in'}}]}},allowOutsideScroll:{type:Boolean,value:!1},restoreFocusOnClose:{type:Boolean,value:!0},_dropdownContent:{type:Object}},hostAttributes:{role:'group',"aria-haspopup":'true'},listeners:{"iron-activate":'_onIronActivate',"iron-select":'_onIronSelect'},get contentElement(){for(var a=Polymer.dom(this.$.content).getDistributedNodes(),b=0,c=a.length;b<c;b++)if(a[b].nodeType===Node.ELEMENT_NODE)return a[b]},toggle:function(){this.opened?this.close():this.open()},open:function(){this.disabled||this.$.dropdown.open()},close:function(){this.$.dropdown.close()},_onIronSelect:function(){this.ignoreSelect||this.close()},_onIronActivate:function(){this.closeOnActivate&&this.close()},_openedChanged:function(a,b){a?(this._dropdownContent=this.contentElement,this.fire('paper-dropdown-open')):null!=b&&this.fire('paper-dropdown-close')},_disabledChanged:function(a){Polymer.IronControlState._disabledChanged.apply(this,arguments),a&&this.opened&&this.close()},__onIronOverlayCanceled:function(a){var b=a.detail,c=Polymer.dom(b).rootTarget,d=this.$.trigger,e=Polymer.dom(b).path;-1<e.indexOf(d)&&a.preventDefault()}});Object.keys(a).forEach(function(c){b[c]=a[c]}),Polymer.PaperMenuButton=b})();</script></dom-module><dom-module id="paper-ripple" assetpath="bower_components/paper-ripple/"><template><style>:host{display:block;position:absolute;border-radius:inherit;overflow:hidden;top:0;left:0;right:0;bottom:0;pointer-events:none}:host([animating]){-webkit-transform:translate(0,0);transform:translate3d(0,0,0)}#background,#waves,.wave,.wave-container{pointer-events:none;position:absolute;top:0;left:0;width:100%;height:100%}#background,.wave{opacity:0}#waves,.wave{overflow:hidden}.wave,.wave-container{border-radius:50%}:host(.circle) #background,:host(.circle) #waves{border-radius:50%}:host(.circle) .wave-container{overflow:hidden}</style><div id="background"></div><div id="waves"></div></template></dom-module><script>(function(){'use strict';function a(a){this.element=a,this.width=this.boundingRect.width,this.height=this.boundingRect.height,this.size=d(this.width,this.height)}function b(a){this.element=a,this.color=window.getComputedStyle(a).color,this.wave=document.createElement('div'),this.waveContainer=document.createElement('div'),this.wave.style.backgroundColor=this.color,this.wave.classList.add('wave'),this.waveContainer.classList.add('wave-container'),Polymer.dom(this.waveContainer).appendChild(this.wave),this.resetInteractionState()}var c=Math.min,d=Math.max,e=Math.sqrt,f={distance:function(a,b,c,d){var f=a-c,g=b-d;return e(f*f+g*g)},now:window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now};a.prototype={get boundingRect(){return this.element.getBoundingClientRect()},furthestCornerDistanceFrom:function(a,b){var c=f.distance(a,b,0,0),e=f.distance(a,b,this.width,0),g=f.distance(a,b,0,this.height),h=f.distance(a,b,this.width,this.height);return d(c,e,g,h)}},b.MAX_RADIUS=300,b.prototype={get recenters(){return this.element.recenters},get center(){return this.element.center},get mouseDownElapsed(){var a;return this.mouseDownStart?(a=f.now()-this.mouseDownStart,this.mouseUpStart&&(a-=this.mouseUpElapsed),a):0},get mouseUpElapsed(){return this.mouseUpStart?f.now()-this.mouseUpStart:0},get mouseDownElapsedSeconds(){return this.mouseDownElapsed/1e3},get mouseUpElapsedSeconds(){return this.mouseUpElapsed/1e3},get mouseInteractionSeconds(){return this.mouseDownElapsedSeconds+this.mouseUpElapsedSeconds},get initialOpacity(){return this.element.initialOpacity},get opacityDecayVelocity(){return this.element.opacityDecayVelocity},get radius(){var a=this.containerMetrics.width*this.containerMetrics.width,d=this.containerMetrics.height*this.containerMetrics.height,f=1.1*c(e(a+d),b.MAX_RADIUS)+5,g=1.1-0.2*(f/b.MAX_RADIUS),h=this.mouseInteractionSeconds/g,i=f*(1-Math.pow(80,-h));return Math.abs(i)},get opacity(){return this.mouseUpStart?d(0,this.initialOpacity-this.mouseUpElapsedSeconds*this.opacityDecayVelocity):this.initialOpacity},get outerOpacity(){var a=0.3*this.mouseUpElapsedSeconds,b=this.opacity;return d(0,c(a,b))},get isOpacityFullyDecayed(){return 0.01>this.opacity&&this.radius>=c(this.maxRadius,b.MAX_RADIUS)},get isRestingAtMaxRadius(){return this.opacity>=this.initialOpacity&&this.radius>=c(this.maxRadius,b.MAX_RADIUS)},get isAnimationComplete(){return this.mouseUpStart?this.isOpacityFullyDecayed:this.isRestingAtMaxRadius},get translationFraction(){return c(1,2*(this.radius/this.containerMetrics.size)/1.4142135623730951)},get xNow(){return this.xEnd?this.xStart+this.translationFraction*(this.xEnd-this.xStart):this.xStart},get yNow(){return this.yEnd?this.yStart+this.translationFraction*(this.yEnd-this.yStart):this.yStart},get isMouseDown(){return this.mouseDownStart&&!this.mouseUpStart},resetInteractionState:function(){this.maxRadius=0,this.mouseDownStart=0,this.mouseUpStart=0,this.xStart=0,this.yStart=0,this.xEnd=0,this.yEnd=0,this.slideDistance=0,this.containerMetrics=new a(this.element)},draw:function(){var a,b,c;this.wave.style.opacity=this.opacity,a=this.radius/(this.containerMetrics.size/2),b=this.xNow-this.containerMetrics.width/2,c=this.yNow-this.containerMetrics.height/2,this.waveContainer.style.webkitTransform='translate('+b+'px, '+c+'px)',this.waveContainer.style.transform='translate3d('+b+'px, '+c+'px, 0)',this.wave.style.webkitTransform='scale('+a+','+a+')',this.wave.style.transform='scale3d('+a+','+a+',1)'},downAction:function(a){var b=this.containerMetrics.width/2,c=this.containerMetrics.height/2;this.resetInteractionState(),this.mouseDownStart=f.now(),this.center?(this.xStart=b,this.yStart=c,this.slideDistance=f.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)):(this.xStart=a?a.detail.x-this.containerMetrics.boundingRect.left:this.containerMetrics.width/2,this.yStart=a?a.detail.y-this.containerMetrics.boundingRect.top:this.containerMetrics.height/2),this.recenters&&(this.xEnd=b,this.yEnd=c,this.slideDistance=f.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)),this.maxRadius=this.containerMetrics.furthestCornerDistanceFrom(this.xStart,this.yStart),this.waveContainer.style.top=(this.containerMetrics.height-this.containerMetrics.size)/2+'px',this.waveContainer.style.left=(this.containerMetrics.width-this.containerMetrics.size)/2+'px',this.waveContainer.style.width=this.containerMetrics.size+'px',this.waveContainer.style.height=this.containerMetrics.size+'px'},upAction:function(){this.isMouseDown&&(this.mouseUpStart=f.now())},remove:function(){Polymer.dom(this.waveContainer.parentNode).removeChild(this.waveContainer)}},Polymer({is:'paper-ripple',behaviors:[Polymer.IronA11yKeysBehavior],properties:{initialOpacity:{type:Number,value:0.25},opacityDecayVelocity:{type:Number,value:0.8},recenters:{type:Boolean,value:!1},center:{type:Boolean,value:!1},ripples:{type:Array,value:function(){return[]}},animating:{type:Boolean,readOnly:!0,reflectToAttribute:!0,value:!1},holdDown:{type:Boolean,value:!1,observer:'_holdDownChanged'},noink:{type:Boolean,value:!1},_animating:{type:Boolean},_boundAnimate:{type:Function,value:function(){return this.animate.bind(this)}}},get target(){return this.keyEventTarget},keyBindings:{"enter:keydown":'_onEnterKeydown',"space:keydown":'_onSpaceKeydown',"space:keyup":'_onSpaceKeyup'},attached:function(){this.keyEventTarget=11==this.parentNode.nodeType?Polymer.dom(this).getOwnerRoot().host:this.parentNode;var a=this.keyEventTarget;this.listen(a,'up','uiUpAction'),this.listen(a,'down','uiDownAction')},detached:function(){this.unlisten(this.keyEventTarget,'up','uiUpAction'),this.unlisten(this.keyEventTarget,'down','uiDownAction'),this.keyEventTarget=null},get shouldKeepAnimating(){for(var a=0;a<this.ripples.length;++a)if(!this.ripples[a].isAnimationComplete)return!0;return!1},simulatedRipple:function(){this.downAction(null),this.async(function(){this.upAction()},1)},uiDownAction:function(a){this.noink||this.downAction(a)},downAction:function(a){if(!(this.holdDown&&0<this.ripples.length)){var b=this.addRipple();b.downAction(a),this._animating||(this._animating=!0,this.animate())}},uiUpAction:function(a){this.noink||this.upAction(a)},upAction:function(a){this.holdDown||(this.ripples.forEach(function(b){b.upAction(a)}),this._animating=!0,this.animate())},onAnimationComplete:function(){this._animating=!1,this.$.background.style.backgroundColor=null,this.fire('transitionend')},addRipple:function(){var a=new b(this);return Polymer.dom(this.$.waves).appendChild(a.waveContainer),this.$.background.style.backgroundColor=a.color,this.ripples.push(a),this._setAnimating(!0),a},removeRipple:function(a){var b=this.ripples.indexOf(a);0>b||(this.ripples.splice(b,1),a.remove(),!this.ripples.length&&this._setAnimating(!1))},animate:function(){if(this._animating){var a,b;for(a=0;a<this.ripples.length;++a)b=this.ripples[a],b.draw(),this.$.background.style.opacity=b.outerOpacity,b.isOpacityFullyDecayed&&!b.isRestingAtMaxRadius&&this.removeRipple(b);this.shouldKeepAnimating||0!==this.ripples.length?window.requestAnimationFrame(this._boundAnimate):this.onAnimationComplete()}},_onEnterKeydown:function(){this.uiDownAction(),this.async(this.uiUpAction,1)},_onSpaceKeydown:function(){this.uiDownAction()},_onSpaceKeyup:function(){this.uiUpAction()},_holdDownChanged:function(a,b){void 0===b||(a?this.downAction():this.upAction())}})})();</script><script>Polymer({is:'iron-iconset-svg',properties:{name:{type:String,observer:'_nameChanged'},size:{type:Number,value:24},rtlMirroring:{type:Boolean,value:!1},useGlobalRtlAttribute:{type:Boolean,value:!1}},created:function(){this._meta=new Polymer.IronMeta({type:'iconset',key:null,value:null})},attached:function(){this.style.display='none'},getIconNames:function(){return this._icons=this._createIconMap(),Object.keys(this._icons).map(function(a){return this.name+':'+a},this)},applyIcon:function(a,b){this.removeIcon(a);var c=this._cloneIcon(b,this.rtlMirroring&&this._targetIsRTL(a));if(c){var d=Polymer.dom(a.root||a);return d.insertBefore(c,d.childNodes[0]),a._svgIcon=c}return null},removeIcon:function(a){a._svgIcon&&(Polymer.dom(a.root||a).removeChild(a._svgIcon),a._svgIcon=null)},_targetIsRTL:function(a){if(null==this.__targetIsRTL)if(this.useGlobalRtlAttribute){var b=document.body&&document.body.hasAttribute('dir')?document.body:document.documentElement;this.__targetIsRTL='rtl'===b.getAttribute('dir')}else a&&a.nodeType!==Node.ELEMENT_NODE&&(a=a.host),this.__targetIsRTL=a&&'rtl'===window.getComputedStyle(a).direction;return this.__targetIsRTL},_nameChanged:function(){this._meta.value=null,this._meta.key=this.name,this._meta.value=this,this.async(function(){this.fire('iron-iconset-added',this,{node:window})})},_createIconMap:function(){var a=Object.create(null);return Polymer.dom(this).querySelectorAll('[id]').forEach(function(b){a[b.id]=b}),a},_cloneIcon:function(a,b){return this._icons=this._icons||this._createIconMap(),this._prepareSvgClone(this._icons[a],this.size,b)},_prepareSvgClone:function(a,b,c){if(a){var d=a.cloneNode(!0),e=document.createElementNS('http://www.w3.org/2000/svg','svg'),f=d.getAttribute('viewBox')||'0 0 '+b+' '+b,g='pointer-events: none; display: block; width: 100%; height: 100%;';return c&&d.hasAttribute('mirror-in-rtl')&&(g+='-webkit-transform:scale(-1,1);transform:scale(-1,1);transform-origin:center;'),e.setAttribute('viewBox',f),e.setAttribute('preserveAspectRatio','xMidYMid meet'),e.setAttribute('focusable','false'),e.style.cssText=g,e.appendChild(d).removeAttribute('id'),e}return null}});</script><iron-iconset-svg name="paper-dropdown-menu" size="24"><svg><defs><g id="arrow-drop-down"><path d="M7 10l5 5 5-5z"></path></g></defs></svg></iron-iconset-svg><dom-module id="paper-dropdown-menu-shared-styles" assetpath="bower_components/paper-dropdown-menu/"><template><style>:host{display:inline-block;position:relative;text-align:left;-webkit-tap-highlight-color:transparent;-webkit-tap-highlight-color:transparent;--paper-input-container-input:{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:100%;box-sizing:border-box;cursor:pointer};@apply --paper-dropdown-menu;}:host([disabled]){@apply --paper-dropdown-menu-disabled;}:host([noink]) paper-ripple{display:none}:host([no-label-float]) paper-ripple{top:8px}paper-ripple{top:12px;left:0;bottom:8px;right:0;@apply --paper-dropdown-menu-ripple;}paper-menu-button{display:block;padding:0;@apply --paper-dropdown-menu-button;}paper-input{@apply --paper-dropdown-menu-input;}iron-icon{color:var(--disabled-text-color);@apply --paper-dropdown-menu-icon;}</style></template></dom-module><dom-module id="paper-dropdown-menu" assetpath="bower_components/paper-dropdown-menu/"><template><style include="paper-dropdown-menu-shared-styles"></style><span role="button"></span><paper-menu-button id="menuButton" vertical-align="[[verticalAlign]]" horizontal-align="[[horizontalAlign]]" dynamic-align="[[dynamicAlign]]" vertical-offset="[[_computeMenuVerticalOffset(noLabelFloat, verticalOffset)]]" disabled="[[disabled]]" no-animations="[[noAnimations]]" on-iron-select="_onIronSelect" on-iron-deselect="_onIronDeselect" opened="{{opened}}" close-on-activate="" allow-outside-scroll="[[allowOutsideScroll]]" restore-focus-on-close="[[restoreFocusOnClose]]"><div class="dropdown-trigger" slot="dropdown-trigger"><paper-ripple></paper-ripple><paper-input type="text" invalid="[[invalid]]" readonly="" disabled="[[disabled]]" value="[[value]]" placeholder="[[placeholder]]" error-message="[[errorMessage]]" always-float-label="[[alwaysFloatLabel]]" no-label-float="[[noLabelFloat]]" label="[[label]]"><iron-icon icon="paper-dropdown-menu:arrow-drop-down" suffix="" slot="suffix"></iron-icon></paper-input></div><slot id="content" name="dropdown-content" slot="dropdown-content"></slot></paper-menu-button></template><script>(function(){'use strict';Polymer({is:'paper-dropdown-menu',behaviors:[Polymer.IronButtonState,Polymer.IronControlState,Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior],properties:{selectedItemLabel:{type:String,notify:!0,readOnly:!0},selectedItem:{type:Object,notify:!0,readOnly:!0},value:{type:String,notify:!0},label:{type:String},placeholder:{type:String},errorMessage:{type:String},opened:{type:Boolean,notify:!0,value:!1,observer:'_openedChanged'},allowOutsideScroll:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,value:!1,reflectToAttribute:!0},alwaysFloatLabel:{type:Boolean,value:!1},noAnimations:{type:Boolean,value:!1},horizontalAlign:{type:String,value:'right'},verticalAlign:{type:String,value:'top'},verticalOffset:Number,dynamicAlign:{type:Boolean},restoreFocusOnClose:{type:Boolean,value:!0}},listeners:{tap:'_onTap'},keyBindings:{"up down":'open',esc:'close'},hostAttributes:{role:'combobox',"aria-autocomplete":'none',"aria-haspopup":'true'},observers:['_selectedItemChanged(selectedItem)'],attached:function(){var a=this.contentElement;a&&a.selectedItem&&this._setSelectedItem(a.selectedItem)},get contentElement(){for(var a=Polymer.dom(this.$.content).getDistributedNodes(),b=0,c=a.length;b<c;b++)if(a[b].nodeType===Node.ELEMENT_NODE)return a[b]},open:function(){this.$.menuButton.open()},close:function(){this.$.menuButton.close()},_onIronSelect:function(a){this._setSelectedItem(a.detail.item)},_onIronDeselect:function(){this._setSelectedItem(null)},_onTap:function(a){Polymer.Gestures.findOriginalTarget(a)===this&&this.open()},_selectedItemChanged:function(a){var b='';b=a?a.label||a.getAttribute('label')||a.textContent.trim():'',this.value=b,this._setSelectedItemLabel(b)},_computeMenuVerticalOffset:function(a,b){return b?b:a?-4:8},_getValidity:function(){return this.disabled||!this.required||this.required&&!!this.value},_openedChanged:function(){var a=this.opened?'true':'false',b=this.contentElement;b&&b.setAttribute('aria-expanded',a)}})})();</script></dom-module><script>Polymer.IronSelection=function(a){this.selection=[],this.selectCallback=a},Polymer.IronSelection.prototype={get:function(){return this.multi?this.selection.slice():this.selection[0]},clear:function(a){this.selection.slice().forEach(function(b){(!a||0>a.indexOf(b))&&this.setItemSelected(b,!1)},this)},isSelected:function(a){return 0<=this.selection.indexOf(a)},setItemSelected:function(a,b){if(null!=a&&b!==this.isSelected(a)){if(b)this.selection.push(a);else{var c=this.selection.indexOf(a);0<=c&&this.selection.splice(c,1)}this.selectCallback&&this.selectCallback(a,b)}},select:function(a){this.multi?this.toggle(a):this.get()!==a&&(this.setItemSelected(this.get(),!1),this.setItemSelected(a,!0))},toggle:function(a){this.setItemSelected(a,!this.isSelected(a))}};</script><script>Polymer.IronSelectableBehavior={properties:{attrForSelected:{type:String,value:null},selected:{type:String,notify:!0},selectedItem:{type:Object,readOnly:!0,notify:!0},activateEvent:{type:String,value:'tap',observer:'_activateEventChanged'},selectable:String,selectedClass:{type:String,value:'iron-selected'},selectedAttribute:{type:String,value:null},fallbackSelection:{type:String,value:null},items:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}},_excludedLocalNames:{type:Object,value:function(){return{template:1,"dom-bind":1,"dom-if":1,"dom-repeat":1}}}},observers:['_updateAttrForSelected(attrForSelected)','_updateSelected(selected)','_checkFallback(fallbackSelection)'],created:function(){this._bindFilterItem=this._filterItem.bind(this),this._selection=new Polymer.IronSelection(this._applySelection.bind(this))},attached:function(){this._observer=this._observeItems(this),this._addListener(this.activateEvent)},detached:function(){this._observer&&Polymer.dom(this).unobserveNodes(this._observer),this._removeListener(this.activateEvent)},indexOf:function(a){return this.items?this.items.indexOf(a):-1},select:function(a){this.selected=a},selectPrevious:function(){var a=this.items.length,b=(+this._valueToIndex(this.selected)-1+a)%a;this.selected=this._indexToValue(b)},selectNext:function(){var a=(+this._valueToIndex(this.selected)+1)%this.items.length;this.selected=this._indexToValue(a)},selectIndex:function(a){this.select(this._indexToValue(a))},forceSynchronousItemUpdate:function(){this._observer&&'function'==typeof this._observer.flush?this._observer.flush():this._updateItems()},get _shouldUpdateSelection(){return null!=this.selected},_checkFallback:function(){this._updateSelected()},_addListener:function(a){this.listen(this,a,'_activateHandler')},_removeListener:function(a){this.unlisten(this,a,'_activateHandler')},_activateEventChanged:function(a,b){this._removeListener(b),this._addListener(a)},_updateItems:function(){var a=Polymer.dom(this).queryDistributedElements(this.selectable||'*');a=Array.prototype.filter.call(a,this._bindFilterItem),this._setItems(a)},_updateAttrForSelected:function(){this.selectedItem&&(this.selected=this._valueForItem(this.selectedItem))},_updateSelected:function(){this._selectSelected(this.selected)},_selectSelected:function(){if(this.items){var a=this._valueToItem(this.selected);a?this._selection.select(a):this._selection.clear(),this.fallbackSelection&&this.items.length&&void 0===this._selection.get()&&(this.selected=this.fallbackSelection)}},_filterItem:function(a){return!this._excludedLocalNames[a.localName]},_valueToItem:function(a){return null==a?null:this.items[this._valueToIndex(a)]},_valueToIndex:function(a){if(this.attrForSelected){for(var b,c=0;b=this.items[c];c++)if(this._valueForItem(b)==a)return c;}else return+a},_indexToValue:function(a){if(this.attrForSelected){var b=this.items[a];if(b)return this._valueForItem(b)}else return a},_valueForItem:function(a){if(!a)return null;if(!this.attrForSelected){var b=this.indexOf(a);return-1===b?null:b}var c=a[Polymer.CaseMap.dashToCamelCase(this.attrForSelected)];return c==void 0?a.getAttribute(this.attrForSelected):c},_applySelection:function(a,b){this.selectedClass&&this.toggleClass(this.selectedClass,b,a),this.selectedAttribute&&this.toggleAttribute(this.selectedAttribute,b,a),this._selectionChange(),this.fire('iron-'+(b?'select':'deselect'),{item:a})},_selectionChange:function(){this._setSelectedItem(this._selection.get())},_observeItems:function(a){return Polymer.dom(a).observeNodes(function(a){this._updateItems(),this._updateSelected(),this.fire('iron-items-changed',a,{bubbles:!1,cancelable:!1})})},_activateHandler:function(a){for(var b=a.target,c=this.items;b&&b!=this;){var d=c.indexOf(b);if(0<=d){var e=this._indexToValue(d);return void this._itemActivate(e,b)}b=b.parentNode}},_itemActivate:function(a,b){this.fire('iron-activate',{selected:a,item:b},{cancelable:!0}).defaultPrevented||this.select(a)}};</script><script>Polymer.IronMultiSelectableBehaviorImpl={properties:{multi:{type:Boolean,value:!1,observer:'multiChanged'},selectedValues:{type:Array,notify:!0,value:function(){return[]}},selectedItems:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}}},observers:['_updateSelected(selectedValues.splices)'],select:function(a){this.multi?this._toggleSelected(a):this.selected=a},multiChanged:function(a){this._selection.multi=a,this._updateSelected()},get _shouldUpdateSelection(){return null!=this.selected||null!=this.selectedValues&&this.selectedValues.length},_updateAttrForSelected:function(){this.multi?this.selectedItems&&0<this.selectedItems.length&&(this.selectedValues=this.selectedItems.map(function(a){return this._indexToValue(this.indexOf(a))},this).filter(function(a){return null!=a},this)):Polymer.IronSelectableBehavior._updateAttrForSelected.apply(this)},_updateSelected:function(){this.multi?this._selectMulti(this.selectedValues):this._selectSelected(this.selected)},_selectMulti:function(a){a=a||[];var b=(this._valuesToItems(a)||[]).filter(function(a){return null!==a&&a!==void 0});this._selection.clear(b);for(var c=0;c<b.length;c++)this._selection.setItemSelected(b[c],!0);if(this.fallbackSelection&&!this._selection.get().length){var d=this._valueToItem(this.fallbackSelection);d&&this.select(this.fallbackSelection)}},_selectionChange:function(){var a=this._selection.get();this.multi?(this._setSelectedItems(a),this._setSelectedItem(a.length?a[0]:null)):null!==a&&a!==void 0?(this._setSelectedItems([a]),this._setSelectedItem(a)):(this._setSelectedItems([]),this._setSelectedItem(null))},_toggleSelected:function(a){var b=this.selectedValues.indexOf(a);0>b?this.push('selectedValues',a):this.splice('selectedValues',b,1)},_valuesToItems:function(a){return null==a?null:a.map(function(a){return this._valueToItem(a)},this)}},Polymer.IronMultiSelectableBehavior=[Polymer.IronSelectableBehavior,Polymer.IronMultiSelectableBehaviorImpl];</script><script>Polymer.IronMenuBehaviorImpl={properties:{focusedItem:{observer:'_focusedItemChanged',readOnly:!0,type:Object},attrForItemTitle:{type:String},disabled:{type:Boolean,value:!1,observer:'_disabledChanged'}},_MODIFIER_KEYS:['Alt','AltGraph','CapsLock','Control','Fn','FnLock','Hyper','Meta','NumLock','OS','ScrollLock','Shift','Super','Symbol','SymbolLock'],_SEARCH_RESET_TIMEOUT_MS:1e3,_previousTabIndex:0,hostAttributes:{role:'menu'},observers:['_updateMultiselectable(multi)'],listeners:{focus:'_onFocus',keydown:'_onKeydown',"iron-items-changed":'_onIronItemsChanged'},keyBindings:{up:'_onUpKey',down:'_onDownKey',esc:'_onEscKey',"shift+tab:keydown":'_onShiftTabDown'},attached:function(){this._resetTabindices()},select:function(a){this._defaultFocusAsync&&(this.cancelAsync(this._defaultFocusAsync),this._defaultFocusAsync=null);var b=this._valueToItem(a);b&&b.hasAttribute('disabled')||(this._setFocusedItem(b),Polymer.IronMultiSelectableBehaviorImpl.select.apply(this,arguments))},_resetTabindices:function(){var a=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this.items.forEach(function(b){b.setAttribute('tabindex',b===a?'0':'-1')},this)},_updateMultiselectable:function(a){a?this.setAttribute('aria-multiselectable','true'):this.removeAttribute('aria-multiselectable')},_focusWithKeyboardEvent:function(a){if(-1===this._MODIFIER_KEYS.indexOf(a.key)){this.cancelDebouncer('_clearSearchText');var b=this._searchText||'',c=a.key&&1==a.key.length?a.key:String.fromCharCode(a.keyCode);b+=c.toLocaleLowerCase();for(var d,e=b.length,f=0;d=this.items[f];f++)if(!d.hasAttribute('disabled')){var g=this.attrForItemTitle||'textContent',h=(d[g]||d.getAttribute(g)||'').trim();if(!(h.length<e)&&h.slice(0,e).toLocaleLowerCase()==b){this._setFocusedItem(d);break}}this._searchText=b,this.debounce('_clearSearchText',this._clearSearchText,this._SEARCH_RESET_TIMEOUT_MS)}},_clearSearchText:function(){this._searchText=''},_focusPrevious:function(){for(var a,b=this.items.length,c=+this.indexOf(this.focusedItem),d=1;d<b+1;d++)if(a=this.items[(c-d+b)%b],!a.hasAttribute('disabled')){var e=Polymer.dom(a).getOwnerRoot()||document;if(this._setFocusedItem(a),Polymer.dom(e).activeElement==a)return}},_focusNext:function(){for(var a,b=this.items.length,c=+this.indexOf(this.focusedItem),d=1;d<b+1;d++)if(a=this.items[(c+d)%b],!a.hasAttribute('disabled')){var e=Polymer.dom(a).getOwnerRoot()||document;if(this._setFocusedItem(a),Polymer.dom(e).activeElement==a)return}},_applySelection:function(a,b){b?a.setAttribute('aria-selected','true'):a.removeAttribute('aria-selected'),Polymer.IronSelectableBehavior._applySelection.apply(this,arguments)},_focusedItemChanged:function(a,b){b&&b.setAttribute('tabindex','-1'),!a||a.hasAttribute('disabled')||this.disabled||(a.setAttribute('tabindex','0'),a.focus())},_onIronItemsChanged:function(a){a.detail.addedNodes.length&&this._resetTabindices()},_onShiftTabDown:function(){var a=this.getAttribute('tabindex');Polymer.IronMenuBehaviorImpl._shiftTabPressed=!0,this._setFocusedItem(null),this.setAttribute('tabindex','-1'),this.async(function(){this.setAttribute('tabindex',a),Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1},1)},_onFocus:function(a){if(!Polymer.IronMenuBehaviorImpl._shiftTabPressed){var b=Polymer.dom(a).rootTarget;(b===this||'undefined'==typeof b.tabIndex||this.isLightDescendant(b))&&(this._defaultFocusAsync=this.async(function(){var a=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this._setFocusedItem(null),a?this._setFocusedItem(a):this.items[0]&&this._focusNext()}))}},_onUpKey:function(a){this._focusPrevious(),a.detail.keyboardEvent.preventDefault()},_onDownKey:function(a){this._focusNext(),a.detail.keyboardEvent.preventDefault()},_onEscKey:function(){var a=this.focusedItem;a&&a.blur()},_onKeydown:function(a){this.keyboardEventMatchesKeys(a,'up down esc')||this._focusWithKeyboardEvent(a),a.stopPropagation()},_activateHandler:function(a){Polymer.IronSelectableBehavior._activateHandler.call(this,a),a.stopPropagation()},_disabledChanged:function(a){a?(this._previousTabIndex=this.hasAttribute('tabindex')?this.tabIndex:0,this.removeAttribute('tabindex')):!this.hasAttribute('tabindex')&&this.setAttribute('tabindex',this._previousTabIndex)}},Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1,Polymer.IronMenuBehavior=[Polymer.IronMultiSelectableBehavior,Polymer.IronA11yKeysBehavior,Polymer.IronMenuBehaviorImpl];</script><dom-module id="paper-listbox" assetpath="bower_components/paper-listbox/"><template><style>:host{display:block;padding:8px 0;background:var(--paper-listbox-background-color,var(--primary-background-color));color:var(--paper-listbox-color,var(--primary-text-color));@apply --paper-listbox;}</style><slot></slot></template><script>(function(){Polymer({is:'paper-listbox',behaviors:[Polymer.IronMenuBehavior],hostAttributes:{role:'listbox'}})})();</script></dom-module><script>Polymer.PaperItemBehaviorImpl={hostAttributes:{role:'option',tabindex:'0'}},Polymer.PaperItemBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperItemBehaviorImpl];</script><dom-module id="paper-item-shared-styles" assetpath="bower_components/paper-item/"><template><style>.paper-item,:host{display:block;position:relative;min-height:var(--paper-item-min-height,48px);padding:0 16px}.paper-item{@apply --paper-font-subhead;border:none;outline:0;background:#fff;width:100%;text-align:left}.paper-item[hidden],:host([hidden]){display:none!important}.paper-item.iron-selected,:host(.iron-selected){font-weight:var(--paper-item-selected-weight,bold);@apply --paper-item-selected;}.paper-item[disabled],:host([disabled]){color:var(--paper-item-disabled-color,var(--disabled-text-color));@apply --paper-item-disabled;}.paper-item:focus,:host(:focus){position:relative;outline:0;@apply --paper-item-focused;}.paper-item:focus:before,:host(:focus):before{@apply --layout-fit;background:currentColor;content:'';opacity:var(--dark-divider-opacity);pointer-events:none;@apply --paper-item-focused-before;}</style></template></dom-module><dom-module id="paper-item" assetpath="bower_components/paper-item/"><template><style include="paper-item-shared-styles">:host{@apply --layout-horizontal;@apply --layout-center;@apply --paper-font-subhead;@apply --paper-item;}</style><slot></slot></template><script>Polymer({is:'paper-item',behaviors:[Polymer.PaperItemBehavior]});</script></dom-module><script type="text/javascript" charset="utf-8">(function(){var o=function(){return this}();o||"undefined"==typeof window||(o=window);var l=function(t,o,n){return"string"==typeof t?void(2==arguments.length&&(n=o),l.modules[t]||(l.payloads[t]=n,l.modules[t]=null)):void(l.original?l.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace()))};l.modules={},l.payloads={};var a=function(s,e,l){if("string"==typeof e){var n=r(s,e);if(n!=void 0)return l&&l(),n}else if("[object Array]"===Object.prototype.toString.call(e)){for(var i=[],o=0,c=e.length,a;o<c;++o){if(a=r(s,e[o]),void 0==a&&d.original)return;i.push(a)}return l&&l.apply(null,i)||!0}},d=function(n,e){var t=a("",n,e);return t==void 0&&d.original?d.original.apply(this,arguments):t},c=function(o,e){if(-1!==e.indexOf("!")){var t=e.split("!");return c(o,t[0])+"!"+c(o,t[1])}if("."==e.charAt(0)){var n=o.split("/").slice(0,-1).join("/");for(e=n+"/"+e;-1!==e.indexOf(".")&&r!=e;){var r=e;e=e.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return e},r=function(t,n){n=c(t,n);var e=l.modules[n];if(!e){if(e=l.payloads[n],"function"==typeof e){var i={},d={id:n,uri:"",exports:i,packaged:!0},g=function(o,e){return a(n,o,e)},u=e(g,i,d);i=u||d.exports,l.modules[n]=i,delete l.payloads[n]}e=l.modules[n]=i||e}return e};(function(e){var t=o;e&&(o[e]||(o[e]={}),t=o[e]),t.define&&t.define.packaged||(l.original=t.define,t.define=l,t.define.packaged=!0),t.require&&t.require.packaged||(d.original=t.require,t.require=d,t.require.packaged=!0)})("ace")})(),ace.define("ace/lib/regexp",["require","exports","module"],function(){"use strict";function l(t){return(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":"")}function o(o,e,t){if(Array.prototype.indexOf)return o.indexOf(e,t);for(var n=t||0;n<o.length;n++)if(o[n]===e)return n;return-1}var e=String.prototype,d={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:e.match,replace:e.replace,split:e.split},r=void 0===d.exec.call(/()??/,"")[1],c=function(){var t=/^/g;return d.test.call(t,""),!t.lastIndex}();c&&r||(RegExp.prototype.exec=function(g){var u=d.exec.apply(this,arguments),t,n;if("string"==typeof g&&u){if(!r&&1<u.length&&-1<o(u,"")&&(n=RegExp(this.source,d.replace.call(l(this),"g","")),d.replace.call(g.slice(u.index),n,function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(u[t]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var a=1;a<u.length;a++)t=this._xregexp.captureNames[a-1],t&&(u[t]=u[a]);!c&&this.global&&!u[0].length&&this.lastIndex>u.index&&this.lastIndex--}return u},c||(RegExp.prototype.test=function(n){var e=d.exec.call(this,n);return e&&this.global&&!e[0].length&&this.lastIndex>e.index&&this.lastIndex--,!!e}))}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function e(){}function t(t){try{return Object.defineProperty(t,"sentinel",{}),"sentinel"in t}catch(e){}}function C(t){return t=+t,t===t?0!==t&&t!==1/0&&t!==-1/0&&(t=(0<t||-1)*Math.floor(B(t))):t=0,t}var w=Math.min,$=Math.max,B=Math.abs,n=String.prototype;Function.prototype.bind||(Function.prototype.bind=function(r){var t=this;if("function"!=typeof t)throw new TypeError("Function.prototype.bind called on incompatible "+t);var a=o.call(arguments,1),i=function(){if(this instanceof i){var n=t.apply(this,a.concat(o.call(arguments)));return Object(n)===n?n:this}return t.apply(r,a.concat(o.call(arguments)))};return t.prototype&&(e.prototype=t.prototype,i.prototype=new e,e.prototype=null),i});var r=Function.prototype.call,i=Array.prototype,y=Object.prototype,o=i.slice,k=r.bind(y.toString),a=r.bind(y.hasOwnProperty),s,l,c,h,p;(p=a(y,"__defineGetter__"))&&(s=r.bind(y.__defineGetter__),l=r.bind(y.__defineSetter__),c=r.bind(y.__lookupGetter__),h=r.bind(y.__lookupSetter__));Array.isArray||(Array.isArray=function(e){return"[object Array]"==k(e)});var u=Object("a"),m="a"!=u[0]||!(0 in u);if(Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=M(this),n=m&&"[object String]"==k(this)?this.split(""):t,r=arguments[1],i=-1,s=n.length>>>0;if("[object Function]"!=k(e))throw new TypeError;for(;++i<s;)i in n&&e.call(r,n[i],i,t)}),Array.prototype.map||(Array.prototype.map=function(e){var t=M(this),n=m&&"[object String]"==k(this)?this.split(""):t,r=n.length>>>0,i=Array(r),s=arguments[1];if("[object Function]"!=k(e))throw new TypeError(e+" is not a function");for(var o=0;o<r;o++)o in n&&(i[o]=e.call(s,n[o],o,t));return i}),Array.prototype.filter||(Array.prototype.filter=function(e){var t=M(this),n=m&&"[object String]"==k(this)?this.split(""):t,r=n.length>>>0,i=[],s=arguments[1],a;if("[object Function]"!=k(e))throw new TypeError(e+" is not a function");for(var o=0;o<r;o++)o in n&&(a=n[o],e.call(s,a,o,t)&&i.push(a));return i}),Array.prototype.every||(Array.prototype.every=function(e){var t=M(this),n=m&&"[object String]"==k(this)?this.split(""):t,r=n.length>>>0,i=arguments[1];if("[object Function]"!=k(e))throw new TypeError(e+" is not a function");for(var s=0;s<r;s++)if(s in n&&!e.call(i,n[s],s,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){var t=M(this),n=m&&"[object String]"==k(this)?this.split(""):t,r=n.length>>>0,i=arguments[1];if("[object Function]"!=k(e))throw new TypeError(e+" is not a function");for(var s=0;s<r;s++)if(s in n&&e.call(i,n[s],s,t))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=M(this),n=m&&"[object String]"==k(this)?this.split(""):t,r=n.length>>>0;if("[object Function]"!=k(e))throw new TypeError(e+" is not a function");if(!r&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var a=0,s;if(2<=arguments.length)s=arguments[1];else do{if(a in n){s=n[a++];break}if(++a>=r)throw new TypeError("reduce of empty array with no initial value")}while(!0);for(;a<r;a++)a in n&&(s=e.call(void 0,s,n[a],a,t));return s}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=M(this),n=m&&"[object String]"==k(this)?this.split(""):t,r=n.length>>>0;if("[object Function]"!=k(e))throw new TypeError(e+" is not a function");if(!r&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var a=r-1,o;if(2<=arguments.length)o=arguments[1];else do{if(a in n){o=n[a--];break}if(0>--a)throw new TypeError("reduceRight of empty array with no initial value")}while(!0);do a in this&&(o=e.call(void 0,o,n[a],a,t));while(a--);return o}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(e){var t=m&&"[object String]"==k(this)?this.split(""):M(this),n=t.length>>>0;if(!n)return-1;var o=0;for(1<arguments.length&&(o=C(arguments[1])),o=0<=o?o:$(0,n+o);o<n;o++)if(o in t&&t[o]===e)return o;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(e){var t=m&&"[object String]"==k(this)?this.split(""):M(this),n=t.length>>>0;if(!n)return-1;var o=n-1;for(1<arguments.length&&(o=w(o,C(arguments[1]))),o=0<=o?o:n-B(o);0<=o;o--)if(o in t&&e===t[o])return o;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__||(e.constructor?e.constructor.prototype:y)}),!Object.getOwnPropertyDescriptor){Object.getOwnPropertyDescriptor=function(e,o){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+e);if(a(e,o)){var n,r,i;if(n={enumerable:!0,configurable:!0},p){var s=e.__proto__;e.__proto__=y;var r=c(e,o),i=h(e,o);if(e.__proto__=s,r||i)return r&&(n.get=r),i&&(n.set=i),n}return n.value=e[o],n}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),!Object.create){var g;g=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var n={};for(var e in n)n[e]=null;return n.constructor=n.hasOwnProperty=n.propertyIsEnumerable=n.isPrototypeOf=n.toLocaleString=n.toString=n.valueOf=n.__proto__=null,n},Object.create=function(e,o){var n;if(null===e)n=g();else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var r=function(){};r.prototype=e,n=new r,n.__proto__=e}return void 0!==o&&Object.defineProperties(n,o),n}}if(Object.defineProperty){var f=t({}),b="undefined"==typeof document||t(document.createElement("div"));if(!f||!b)var v=Object.defineProperty}if(!Object.defineProperty||v){Object.defineProperty=function(e,o,n){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.defineProperty called on non-object: "+e);if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError("Property description must be an object: "+n);if(v)try{return v.call(Object,e,o,n)}catch(e){}if(!a(n,"value")){if(!p)throw new TypeError("getters & setters can not be defined on this javascript engine");a(n,"get")&&s(e,o,n.get),a(n,"set")&&l(e,o,n.set)}else if(p&&(c(e,o)||h(e,o))){var i=e.__proto__;e.__proto__=y,delete e[o],e[o]=n.value,e.__proto__=i}else e[o]=n.value;return e}}Object.defineProperties||(Object.defineProperties=function(e,t){for(var n in t)a(t,n)&&Object.defineProperty(e,n,t[n]);return e}),Object.seal||(Object.seal=function(e){return e}),Object.freeze||(Object.freeze=function(e){return e});try{Object.freeze(function(){})}catch(e){Object.freeze=function(e){return function(t){return"function"==typeof t?t:e(t)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(e){return e}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)===e)throw new TypeError;for(var t="";a(e,t);)t+="?";e[t]=!0;var n=a(e,t);return delete e[t],n}),!Object.keys){var x=!0,L=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],A=L.length;for(var R in{toString:null})x=!1;Object.keys=function(o){if("object"!=typeof o&&"function"!=typeof o||null===o)throw new TypeError("Object.keys called on a non-object");var r=[];for(var s in o)a(o,s)&&r.push(s);if(x)for(var t=0,n;t<A;t++)n=L[t],a(o,n)&&r.push(n);return r}}Date.now||(Date.now=function(){return new Date().getTime()});var T="\t\n\x0B\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF";if(!n.trim||T.trim()){T="["+T+"]";var _=new RegExp("^"+T+T+"*"),D=new RegExp(T+T+"*$");n.trim=function(){return(this+"").replace(_,"").replace(D,"")}}var M=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)}}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(t){"use strict";t("./regexp"),t("./es5-shim")}),ace.define("ace/lib/dom",["require","exports","module"],function(n,a){"use strict";return a.getDocumentHead=function(t){return t||(t=document),t.head||t.getElementsByTagName("head")[0]||t.documentElement},a.createElement=function(n,e){return document.createElementNS?document.createElementNS(e||"http://www.w3.org/1999/xhtml",n):document.createElement(n)},a.hasCssClass=function(o,e){var t=(o.className+"").split(/\s+/g);return-1!==t.indexOf(e)},a.addCssClass=function(t,e){a.hasCssClass(t,e)||(t.className+=" "+e)},a.removeCssClass=function(o,e){for(var t=o.className.split(/\s+/g),n;;){if(n=t.indexOf(e),-1==n)break;t.splice(n,1)}o.className=t.join(" ")},a.toggleCssClass=function(o,e){for(var t=o.className.split(/\s+/g),n=!0,r;;){if(r=t.indexOf(e),-1==r)break;n=!1,t.splice(r,1)}return n&&t.push(e),o.className=t.join(" "),n},a.setCssClass=function(t,e,n){n?a.addCssClass(t,e):a.removeCssClass(t,e)},a.hasCssString=function(o,e){var t=0,n;if(e=e||document,e.createStyleSheet&&(n=e.styleSheets)){for(;t<n.length;)if(n[t++].owningElement.id===o)return!0;}else if(n=e.getElementsByTagName("style"))for(;t<n.length;)if(n[t++].id===o)return!0;return!1},a.importCssString=function(e,t,n){if(n=n||document,t&&a.hasCssString(t,n))return null;var o;t&&(e+="\n/*# sourceURL=ace/css/"+t+" */"),n.createStyleSheet?(o=n.createStyleSheet(),o.cssText=e,t&&(o.owningElement.id=t)):(o=a.createElement("style"),o.appendChild(n.createTextNode(e)),t&&(o.id=t),a.getDocumentHead(n).appendChild(o))},a.importCssStylsheet=function(t,e){if(e.createStyleSheet)e.createStyleSheet(t);else{var n=a.createElement("link");n.rel="stylesheet",n.href=t,a.getDocumentHead(e).appendChild(n)}},a.getInnerWidth=function(t){return parseInt(a.computedStyle(t,"paddingLeft"),10)+parseInt(a.computedStyle(t,"paddingRight"),10)+t.clientWidth},a.getInnerHeight=function(t){return parseInt(a.computedStyle(t,"paddingTop"),10)+parseInt(a.computedStyle(t,"paddingBottom"),10)+t.clientHeight},a.scrollbarWidth=function(t){var e=a.createElement("ace_inner");e.style.width="100%",e.style.minWidth="0px",e.style.height="200px",e.style.display="block";var n=a.createElement("ace_outer"),r=n.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",n.appendChild(e);var i=t.documentElement;i.appendChild(n);var s=e.offsetWidth;r.overflow="scroll";var o=e.offsetWidth;return s==o&&(o=n.clientWidth),i.removeChild(n),s-o},"undefined"==typeof document?void(a.importCssString=function(){}):void(void 0===window.pageYOffset?(a.getPageScrollTop=function(){return document.body.scrollTop},a.getPageScrollLeft=function(){return document.body.scrollLeft}):(a.getPageScrollTop=function(){return window.pageYOffset},a.getPageScrollLeft=function(){return window.pageXOffset}),a.computedStyle=window.getComputedStyle?function(n,e){return e?(window.getComputedStyle(n,"")||{})[e]||"":window.getComputedStyle(n,"")||{}}:function(n,e){return e?n.currentStyle[e]:n.currentStyle},a.setInnerHtml=function(o,e){var t=o.cloneNode(!1);return t.innerHTML=e,o.parentNode.replaceChild(t,o),t},"textContent"in document.documentElement?(a.setInnerText=function(n,e){n.textContent=e},a.getInnerText=function(t){return t.textContent}):(a.setInnerText=function(n,e){n.innerText=e},a.getInnerText=function(t){return t.innerText}),a.getParentWindow=function(t){return t.defaultView||t.parentWindow})}),ace.define("ace/lib/oop",["require","exports","module"],function(n,o){"use strict";o.inherits=function(n,o){n.super_=o,n.prototype=Object.create(o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})},o.mixin=function(o,e){for(var t in e)o[t]=e[t];return o},o.implement=function(t,e){o.mixin(t,e)}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(n,e){"use strict";n("./fixoldbrowsers");var o=n("./oop"),r=function(){var r={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock","-13":"NumpadEnter"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}},e,t;for(t in r.FUNCTION_KEYS)e=r.FUNCTION_KEYS[t].toLowerCase(),r[e]=parseInt(t,10);for(t in r.PRINTABLE_KEYS)e=r.PRINTABLE_KEYS[t].toLowerCase(),r[e]=parseInt(t,10);return o.mixin(r,r.MODIFIER_KEYS),o.mixin(r,r.PRINTABLE_KEYS),o.mixin(r,r.FUNCTION_KEYS),r.enter=r["return"],r.escape=r.esc,r.del=r["delete"],r[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],o=Math.pow(2,e.length);o--;)r.KEY_MODS[o]=e.filter(function(e){return o&r.KEY_MODS[e]}).join("-")+"-"}(),r.KEY_MODS[0]="",r.KEY_MODS[-1]="input-",r}();o.mixin(e,r),e.keyCodeToString=function(n){var e=r[n];return"string"!=typeof e&&(e=String.fromCharCode(n)),e.toLowerCase()}}),ace.define("ace/lib/useragent",["require","exports","module"],function(n,e){"use strict";if(e.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},e.getOS=function(){return e.isMac?e.OS.MAC:e.isLinux?e.OS.LINUX:e.OS.WINDOWS},"object"==typeof navigator){var t=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),o=navigator.userAgent;e.isWin="win"==t,e.isMac="mac"==t,e.isLinux="linux"==t,e.isIE="Microsoft Internet Explorer"==navigator.appName||0<=navigator.appName.indexOf("MSAppHost")?parseFloat((o.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((o.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),e.isOldIE=e.isIE&&9>e.isIE,e.isGecko=e.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,e.isOldGecko=e.isGecko&&4>parseInt((o.match(/rv:(\d+)/)||[])[1],10),e.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),e.isWebKit=parseFloat(o.split("WebKit/")[1])||void 0,e.isChrome=parseFloat(o.split(" Chrome/")[1])||void 0,e.isAIR=0<=o.indexOf("AdobeAIR"),e.isIPad=0<=o.indexOf("iPad"),e.isChromeOS=0<=o.indexOf(" CrOS "),e.isIOS=/iPad|iPhone|iPod/.test(o)&&!window.MSStream,e.isIOS&&(e.isMac=!0)}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,d){"use strict";function l(r,s,t){var d=o(s);if(!m.isMac&&i){if(s.getModifierState&&(s.getModifierState("OS")||s.getModifierState("Win"))&&(d|=8),i.altGr){if(3==(3&d))return;i.altGr=0}if(18===t||17===t){var g="location"in s?s.location:s.keyLocation;if(17===t&&1===g)1==i[t]&&(e=s.timeStamp);else if(18===t&&3===d&&2===g){var u=s.timeStamp-e;50>u&&(i.altGr=!0)}}}if(t in c.MODIFIER_KEYS&&(t=-1),8&d&&91<=t&&93>=t&&(t=-1),!d&&13===t){var g="location"in s?s.location:s.keyLocation;if(3===g&&(r(s,d,-t),s.defaultPrevented))return}if(m.isChromeOS&&8&d){if(r(s,d,t),s.defaultPrevented)return;d&=-9}return(!!d||t in c.FUNCTION_KEYS||t in c.PRINTABLE_KEYS)&&r(s,d,t)}function t(){i=Object.create(null)}var g=Math.abs,c=n("./keys"),m=n("./useragent"),i=null,e=0;d.addListener=function(o,e,t){if(o.addEventListener)return o.addEventListener(e,t,!1);if(o.attachEvent){var n=function(){t.call(o,window.event)};t._wrapper=n,o.attachEvent("on"+e,n)}},d.removeListener=function(o,e,t){return o.removeEventListener?o.removeEventListener(e,t,!1):void(o.detachEvent&&o.detachEvent("on"+e,t._wrapper||t))},d.stopEvent=function(t){return d.stopPropagation(t),d.preventDefault(t),!1},d.stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},d.preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},d.getButton=function(t){return"dblclick"==t.type?0:"contextmenu"==t.type||m.isMac&&t.ctrlKey&&!t.altKey&&!t.shiftKey?2:t.preventDefault?t.button:{1:0,2:2,4:1}[t.button]},d.capture=function(t,o,n){function r(t){o&&o(t),n&&n(t),d.removeListener(document,"mousemove",o,!0),d.removeListener(document,"mouseup",r,!0),d.removeListener(document,"dragstart",r,!0)}return d.addListener(document,"mousemove",o,!0),d.addListener(document,"mouseup",r,!0),d.addListener(document,"dragstart",r,!0),r},d.addTouchMoveListener=function(t,o){var a,r;d.addListener(t,"touchstart",function(o){var e=o.touches,t=e[0];a=t.clientX,r=t.clientY}),d.addListener(t,"touchmove",function(n){var e=n.touches;if(!(1<e.length)){var t=e[0];n.wheelX=a-t.clientX,n.wheelY=r-t.clientY,a=t.clientX,r=t.clientY,o(n)}})},d.addMouseWheelListener=function(t,o){"onmousewheel"in t?d.addListener(t,"mousewheel",function(n){var e=8;void 0===n.wheelDeltaX?(n.wheelX=0,n.wheelY=-n.wheelDelta/e):(n.wheelX=-n.wheelDeltaX/e,n.wheelY=-n.wheelDeltaY/e),o(n)}):"onwheel"in t?d.addListener(t,"wheel",function(n){var e=.35;switch(n.deltaMode){case n.DOM_DELTA_PIXEL:n.wheelX=n.deltaX*e||0,n.wheelY=n.deltaY*e||0;break;case n.DOM_DELTA_LINE:case n.DOM_DELTA_PAGE:n.wheelX=5*(n.deltaX||0),n.wheelY=5*(n.deltaY||0);}o(n)}):d.addListener(t,"DOMMouseScroll",function(t){t.axis&&t.axis==t.HORIZONTAL_AXIS?(t.wheelX=5*(t.detail||0),t.wheelY=0):(t.wheelX=0,t.wheelY=5*(t.detail||0)),o(t)})},d.addMultiMouseDownListener=function(t,i,n,r){function s(t){if(0===d.getButton(t)?1<t.detail?(h++,4<h&&(h=1)):h=1:h=0,m.isIE){var e=5<g(t.clientX-l)||5<g(t.clientY-u);(!a||e)&&(h=1),a&&clearTimeout(a),a=setTimeout(function(){a=null},i[h-1]||600),1==h&&(l=t.clientX,u=t.clientY)}if(t._clicks=h,n[r]("mousedown",t),4<h)h=0;else if(1<h)return n[r](o[h],t)}function c(t){h=2,a&&clearTimeout(a),a=setTimeout(function(){a=null},i[h-1]||600),n[r]("mousedown",t),n[r](o[h],t)}var h=0,o={2:"dblclick",3:"tripleclick",4:"quadclick"},l,u,a;Array.isArray(t)||(t=[t]),t.forEach(function(t){d.addListener(t,"mousedown",s),m.isOldIE&&d.addListener(t,"dblclick",c)})};var o=m.isMac&&m.isOpera&&!("KeyboardEvent"in window)?function(t){return 0|(t.metaKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.ctrlKey?8:0)}:function(t){return 0|(t.ctrlKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.metaKey?8:0)};if(d.getModifierString=function(t){return c.KEY_MODS[o(t)]},d.addCommandKeyListener=function(s,a){var e=d.addListener;if(m.isOldGecko||m.isOpera&&!("KeyboardEvent"in window)){var n=null;e(s,"keydown",function(t){n=t.keyCode}),e(s,"keypress",function(t){return l(a,t,n)})}else{var o=null;e(s,"keydown",function(n){i[n.keyCode]=(i[n.keyCode]||0)+1;var e=l(a,n,n.keyCode);return o=n.defaultPrevented,e}),e(s,"keypress",function(t){o&&(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey)&&(d.stopEvent(t),o=null)}),e(s,"keyup",function(t){i[t.keyCode]=null}),i||(t(),e(window,"focus",t))}},"object"==typeof window&&window.postMessage&&!m.isOldIE){d.nextTick=function(t,e){e=e||window;var n="zero-timeout-message-"+1;d.addListener(e,"message",function o(r){r.data==n&&(d.stopPropagation(r),d.removeListener(e,"message",o),t())}),e.postMessage(n,"*")}}d.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),d.nextFrame=d.nextFrame?d.nextFrame.bind(window):function(t){setTimeout(t,17)}}),ace.define("ace/lib/lang",["require","exports","module"],function(n,e){"use strict";e.last=function(t){return t[t.length-1]},e.stringReverse=function(t){return t.split("").reverse().join("")},e.stringRepeat=function(o,e){for(var t="";0<e;)1&e&&(t+=o),(e>>=1)&&(o+=o);return t};var t=/^\s\s*/,o=/\s\s*$/;e.stringTrimLeft=function(n){return n.replace(t,"")},e.stringTrimRight=function(t){return t.replace(o,"")},e.copyObject=function(o){var e={};for(var t in o)e[t]=o[t];return e},e.copyArray=function(o){for(var e=[],t=0,n=o.length;t<n;t++)e[t]=o[t]&&"object"==typeof o[t]?this.copyObject(o[t]):o[t];return e},e.deepCopy=function o(r){if("object"!=typeof r||!r)return r;var i;if(Array.isArray(r)){i=[];for(var t=0;t<r.length;t++)i[t]=o(r[t]);return i}if("[object Object]"!==Object.prototype.toString.call(r))return r;for(var t in i={},r)i[t]=o(r[t]);return i},e.arrayToMap=function(o){for(var e={},t=0;t<o.length;t++)e[o[t]]=1;return e},e.createMap=function(o){var e=Object.create(null);for(var t in o)e[t]=o[t];return e},e.arrayRemove=function(o,e){for(var t=0;t<=o.length;t++)e===o[t]&&o.splice(t,1)},e.escapeRegExp=function(t){return t.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},e.escapeHTML=function(t){return t.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},e.getMatchOffsets=function(o,e){var t=[];return o.replace(e,function(n){t.push({offset:arguments[arguments.length-2],length:n.length})}),t},e.deferredCall=function(o){var i=null,t=function(){i=null,o()},n=function(o){return n.cancel(),i=setTimeout(t,o||0),n};return n.schedule=n,n.call=function(){return this.cancel(),o(),n},n.cancel=function(){return clearTimeout(i),i=null,n},n.isPending=function(){return i},n},e.delayedCall=function(o,s){var t=null,n=function(){t=null,o()},e=function(o){null==t&&(t=setTimeout(n,o||s))};return e.delay=function(o){t&&clearTimeout(t),t=setTimeout(n,o||s)},e.schedule=e,e.call=function(){this.cancel(),o()},e.cancel=function(){t&&clearTimeout(t),t=null},e.isPending=function(){return t},e}}),ace.define("ace/keyboard/textinput_ios",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/lib/keys"],function(n,e){"use strict";var C=n("../lib/event"),w=n("../lib/useragent"),r=n("../lib/dom"),i=n("../lib/lang"),o=n("../lib/keys"),s=o.KEY_MODS,a=18>w.isChrome,d=w.isIE;e.TextInput=function(l,$){function u(o){if(!v){if(v=!0,H)e=0,t=o?0:x.value.length-1;else var e=4,t=5;try{x.setSelectionRange(e,t)}catch(e){}v=!1}}function B(){v||(x.value=n,w.isWebKit&&E.schedule())}function D(){clearTimeout(N),N=setTimeout(function(){R&&(x.style.cssText=R,R=""),null==$.renderer.$keepTextAreaAtCursor&&($.renderer.$keepTextAreaAtCursor=!0,$.renderer.$moveTextAreaToCursor())},0)}var e=this,x=r.createElement("textarea");x.className=w.isIOS?"ace_text-input ace_text-input-ios":"ace_text-input",w.isTouchPad&&x.setAttribute("x-palm-disable-auto-cap",!0),x.setAttribute("wrap","off"),x.setAttribute("autocorrect","off"),x.setAttribute("autocapitalize","off"),x.setAttribute("spellcheck",!1),x.style.opacity="0",l.insertBefore(x,l.firstChild);var n="\n aaaa a\n",c=!1,h=!1,p=!1,v=!1,R="",g=!0;try{var T=document.activeElement===x}catch(e){}C.addListener(x,"blur",function(t){$.onBlur(t),T=!1}),C.addListener(x,"focus",function(t){T=!0,$.onFocus(t),u()}),this.focus=function(){return R?x.focus():void(x.style.position="fixed",x.focus())},this.blur=function(){x.blur()},this.isFocused=function(){return T};var b=i.delayedCall(function(){T&&u(g)}),E=i.delayedCall(function(){v||(x.value=n,T&&u())});w.isWebKit||$.addEventListener("changeSelection",function(){$.selection.isEmpty()!=g&&(g=!g,b.schedule())}),B(),T&&$.onFocus();var S=function(t){return 0===t.selectionStart&&t.selectionEnd===t.value.length},H=null;this.setInputHandler=function(t){H=t},this.getInputHandler=function(){return H};var k=!1,L=function(t){4===x.selectionStart&&5===x.selectionEnd||(H&&(t=H(t),H=null),p?(u(),t&&$.onPaste(t),p=!1):t==n.substr(0)&&4===x.selectionStart?k?$.execCommand("del",{source:"ace"}):$.execCommand("backspace",{source:"ace"}):c||(t.substring(0,9)==n&&t.length>n.length?t=t.substr(9):t.substr(0,4)==n.substr(0,4)?t=t.substr(4,t.length-n.length+1):t.charAt(t.length-1)==n.charAt(0)&&(t=t.slice(0,-1)),t!=n.charAt(0)&&t.charAt(t.length-1)==n.charAt(0)&&(t=t.slice(0,-1)),t&&$.onTextInput(t)),c&&(c=!1),k&&(k=!1))},A=function(){if(!v){var e=x.value;L(e),B()}},O=function(o,s,t){var e=o.clipboardData||window.clipboardData;if(e&&!a){var r=d||t?"Text":"text/plain";try{return s?!1!==e.setData(r,s):e.getData(r)}catch(o){if(!t)return O(o,s,!0)}}},M=function(t,e){var n=$.getCopyText();return n?void(O(t,n)?(w.isIOS&&(h=e,x.value="\n aa"+n+"a a\n",x.setSelectionRange(4,4+n.length),c={value:n}),e?$.onCut():$.onCopy(),w.isIOS||C.preventDefault(t)):(c=!0,x.value=n,x.select(),setTimeout(function(){c=!1,B(),u(),e?$.onCut():$.onCopy()}))):C.preventDefault(t)};C.addCommandKeyListener(x,$.onCommandKey.bind($)),C.addListener(x,"select",function(){S(x)?($.selectAll(),u()):H&&u($.selection.isEmpty())}),C.addListener(x,"input",A),C.addListener(x,"cut",function(t){M(t,!0)}),C.addListener(x,"copy",function(t){M(t,!1)}),C.addListener(x,"paste",function(t){var e=O(t);"string"==typeof e?(e&&$.onPaste(e,t),w.isIE&&setTimeout(u),C.preventDefault(t)):(x.value="",p=!0)});var _=function(){if(v&&$.onCompositionUpdate&&!$.$readOnly){var t=x.value.replace(/\x01/g,"");if(v.lastValue!==t&&($.onCompositionUpdate(t),v.lastValue&&$.undo(),v.canUndo&&(v.lastValue=t),v.lastValue)){var e=$.selection.getRange();$.insert(v.lastValue),$.session.markUndoGroup(),v.range=$.selection.getRange(),$.selection.setRange(e),$.selection.clearSelection()}}},P=function(t){if($.onCompositionEnd&&!$.$readOnly){var o=v;v=!1;var n=setTimeout(function(){n=null;var t=x.value.replace(/\x01/g,"");v||(t==o.lastValue?B():!o.lastValue&&t&&(B(),L(t)))});H=function(e){return n&&clearTimeout(n),e=e.replace(/\x01/g,""),e==o.lastValue?"":(o.lastValue&&n&&$.undo(),e)},$.onCompositionEnd(),$.removeListener("mousedown",P),"compositionend"==t.type&&o.range&&$.selection.setRange(o.range);var e=!!w.isChrome&&53<=w.isChrome||!!w.isWebKit&&603<=w.isWebKit;e&&A()}},F=i.delayedCall(_,50);C.addListener(x,"compositionstart",function(){v||!$.onCompositionStart||$.$readOnly||(v={},v.canUndo=$.session.$undoManager,$.onCompositionStart(),setTimeout(_,0),$.on("mousedown",P),v.canUndo&&!$.selection.isEmpty()&&($.insert(""),$.session.markUndoGroup(),$.selection.clearSelection()),$.session.markUndoGroup())}),w.isGecko?C.addListener(x,"text",function(){F.schedule()}):(C.addListener(x,"keyup",function(){F.schedule()}),C.addListener(x,"keydown",function(){F.schedule()})),C.addListener(x,"compositionend",P),this.getElement=function(){return x},this.setReadOnly=function(t){x.readOnly=t},this.onContextMenu=function(n){k=!0,u($.selection.isEmpty()),$._emit("nativecontextmenu",{target:$,domEvent:n}),this.moveToMouse(n,!0)},this.moveToMouse=function(t,e){R||(R=x.style.cssText),x.style.cssText=(e?"z-index:100000;":"")+"height:"+x.style.height+";"+(w.isIE?"opacity:0.1;":"");var n=$.container.getBoundingClientRect(),o=r.computedStyle($.container),i=n.top+(parseInt(o.borderTopWidth)||0),s=n.left+(parseInt(n.borderLeftWidth)||0),a=n.bottom-i-x.clientHeight-2,l=function(t){x.style.left=t.clientX-s-2+"px",x.style.top=Math.min(t.clientY-i-2,a)+"px"};l(t),"mousedown"!=t.type||($.renderer.$keepTextAreaAtCursor&&($.renderer.$keepTextAreaAtCursor=null),clearTimeout(N),w.isWin&&C.capture($.container,l,D))},this.onContextMenuClose=D;var I=function(t){$.textInput.onContextMenu(t),D()},N;if(C.addListener(x,"mouseup",I),C.addListener(x,"mousedown",function(t){t.preventDefault(),D()}),C.addListener($.renderer.scroller,"contextmenu",I),C.addListener(x,"contextmenu",I),w.isIOS){var V=null,z=!1;l.addEventListener("keydown",function(){V&&clearTimeout(V),z=!0}),l.addEventListener("keyup",function(){V=setTimeout(function(){z=!1},100)});var K=function(){if(document.activeElement===x&&!z){if(h)return setTimeout(function(){h=!1},100);var e=x.selectionStart,t=x.selectionEnd;x.setSelectionRange(4,5),e==t?0===e?$.onCommandKey(null,0,o.up):1===e?$.onCommandKey(null,0,o.home):2===e?$.onCommandKey(null,s.option,o.left):4===e?$.onCommandKey(null,0,o.left):5===e?$.onCommandKey(null,0,o.right):7===e?$.onCommandKey(null,s.option,o.right):8===e?$.onCommandKey(null,0,o.end):9===e?$.onCommandKey(null,0,o.down):void 0:(6===t?$.onCommandKey(null,s.shift,o.right):7===t?$.onCommandKey(null,s.shift|s.option,o.right):8===t?$.onCommandKey(null,s.shift,o.end):9===t?$.onCommandKey(null,s.shift,o.down):void 0,0===e?$.onCommandKey(null,s.shift,o.up):1===e?$.onCommandKey(null,s.shift,o.home):2===e?$.onCommandKey(null,s.shift|s.option,o.left):3===e?$.onCommandKey(null,s.shift,o.left):void 0)}};document.addEventListener("selectionchange",K),$.on("destroy",function(){document.removeEventListener("selectionchange",K)})}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/keyboard/textinput_ios"],function(n,e){"use strict";var g=n("../lib/event"),$=n("../lib/useragent"),r=n("../lib/dom"),i=n("../lib/lang"),o=18>$.isChrome,s=$.isIE,a=n("./textinput_ios").TextInput;e.TextInput=function(f,D){function x(n){if(!h){if(h=!0,S)var e=0,t=n?0:F.value.length-1;else var e=n?2:1,t=2;try{F.setSelectionRange(e,t)}catch(e){}h=!1}}function w(){h||(F.value=n,$.isWebKit&&y.schedule())}function E(){clearTimeout(I),I=setTimeout(function(){R&&(F.style.cssText=R,R=""),null==D.renderer.$keepTextAreaAtCursor&&(D.renderer.$keepTextAreaAtCursor=!0,D.renderer.$moveTextAreaToCursor())},0)}if($.isIOS)return a.call(this,f,D);var F=r.createElement("textarea");F.className="ace_text-input",F.setAttribute("wrap","off"),F.setAttribute("autocorrect","off"),F.setAttribute("autocapitalize","off"),F.setAttribute("spellcheck",!1),F.style.opacity="0",f.insertBefore(F,f.firstChild);var n="\u2028\u2028",l=!1,c=!1,h=!1,R="",e=!0;try{var d=document.activeElement===F}catch(e){}g.addListener(F,"blur",function(t){D.onBlur(t),d=!1}),g.addListener(F,"focus",function(t){d=!0,D.onFocus(t),x()}),this.focus=function(){if(R)return F.focus();var t=F.style.top;F.style.position="fixed",F.style.top="0px",F.focus(),setTimeout(function(){F.style.position="","0px"==F.style.top&&(F.style.top=t)},0)},this.blur=function(){F.blur()},this.isFocused=function(){return d};var m=i.delayedCall(function(){d&&x(e)}),y=i.delayedCall(function(){h||(F.value=n,d&&x())});$.isWebKit||D.addEventListener("changeSelection",function(){D.selection.isEmpty()!=e&&(e=!e,m.schedule())}),w(),d&&D.onFocus();var b=function(t){return 0===t.selectionStart&&t.selectionEnd===t.value.length},S=null;this.setInputHandler=function(t){S=t},this.getInputHandler=function(){return S};var T=!1,W=function(t){S&&(t=S(t),S=null),c?(x(),t&&D.onPaste(t),c=!1):t==n.charAt(0)?T?D.execCommand("del",{source:"ace"}):D.execCommand("backspace",{source:"ace"}):(t.substring(0,2)==n?t=t.substr(2):t.charAt(0)==n.charAt(0)?t=t.substr(1):t.charAt(t.length-1)==n.charAt(0)&&(t=t.slice(0,-1)),t.charAt(t.length-1)==n.charAt(0)&&(t=t.slice(0,-1)),t&&D.onTextInput(t)),T&&(T=!1)},C=function(){if(!h){var e=F.value;W(e),w()}},k=function(a,l,t){var e=a.clipboardData||window.clipboardData;if(e&&!o){var r=s||t?"Text":"text/plain";try{return l?!1!==e.setData(r,l):e.getData(r)}catch(o){if(!t)return k(o,l,!0)}}},L=function(t,e){var n=D.getCopyText();return n?void(k(t,n)?(e?D.onCut():D.onCopy(),g.preventDefault(t)):(l=!0,F.value=n,F.select(),setTimeout(function(){l=!1,w(),x(),e?D.onCut():D.onCopy()}))):g.preventDefault(t)},A=function(t){L(t,!0)},O=function(t){L(t,!1)},M=function(t){var e=k(t);"string"==typeof e?(e&&D.onPaste(e,t),$.isIE&&setTimeout(x),g.preventDefault(t)):(F.value="",c=!0)};g.addCommandKeyListener(F,D.onCommandKey.bind(D)),g.addListener(F,"select",function(){l?l=!1:b(F)?(D.selectAll(),x()):S&&x(D.selection.isEmpty())}),g.addListener(F,"input",C),g.addListener(F,"cut",A),g.addListener(F,"copy",O),g.addListener(F,"paste",M),"oncut"in F&&"oncopy"in F&&"onpaste"in F||g.addListener(f,"keydown",function(t){if((!$.isMac||t.metaKey)&&t.ctrlKey)switch(t.keyCode){case 67:O(t);break;case 86:M(t);break;case 88:A(t);}});var _=function(){if(h&&D.onCompositionUpdate&&!D.$readOnly){var t=F.value.replace(/\u2028/g,"");if(h.lastValue!==t&&(D.onCompositionUpdate(t),h.lastValue&&D.undo(),h.canUndo&&(h.lastValue=t),h.lastValue)){var e=D.selection.getRange();D.insert(h.lastValue),D.session.markUndoGroup(),h.range=D.selection.getRange(),D.selection.setRange(e),D.selection.clearSelection()}}},P=function(t){if(D.onCompositionEnd&&!D.$readOnly){var i=h;h=!1;var r=setTimeout(function(){r=null;var t=F.value.replace(/\u2028/g,"");h||(t==i.lastValue?w():!i.lastValue&&t&&(w(),W(t)))});S=function(e){return r&&clearTimeout(r),e=e.replace(/\u2028/g,""),e==i.lastValue?"":(i.lastValue&&r&&D.undo(),e)},D.onCompositionEnd(),D.removeListener("mousedown",P),"compositionend"==t.type&&i.range&&D.selection.setRange(i.range);var e=!!$.isChrome&&53<=$.isChrome||!!$.isWebKit&&603<=$.isWebKit;e&&C()}},H=i.delayedCall(_,50);g.addListener(F,"compositionstart",function(){h||!D.onCompositionStart||D.$readOnly||(h={},h.canUndo=D.session.$undoManager,D.onCompositionStart(),setTimeout(_,0),D.on("mousedown",P),h.canUndo&&!D.selection.isEmpty()&&(D.insert(""),D.session.markUndoGroup(),D.selection.clearSelection()),D.session.markUndoGroup())}),$.isGecko?g.addListener(F,"text",function(){H.schedule()}):(g.addListener(F,"keyup",function(){H.schedule()}),g.addListener(F,"keydown",function(){H.schedule()})),g.addListener(F,"compositionend",P),this.getElement=function(){return F},this.setReadOnly=function(t){F.readOnly=t},this.onContextMenu=function(n){T=!0,x(D.selection.isEmpty()),D._emit("nativecontextmenu",{target:D,domEvent:n}),this.moveToMouse(n,!0)},this.moveToMouse=function(t,e){R||(R=F.style.cssText),F.style.cssText=(e?"z-index:100000;":"")+"height:"+F.style.height+";"+($.isIE?"opacity:0.1;":"");var n=D.container.getBoundingClientRect(),o=r.computedStyle(D.container),i=n.top+(parseInt(o.borderTopWidth)||0),s=n.left+(parseInt(n.borderLeftWidth)||0),a=n.bottom-i-F.clientHeight-2,l=function(t){F.style.left=t.clientX-s-2+"px",F.style.top=Math.min(t.clientY-i-2,a)+"px"};l(t);"mousedown"!=t.type||(D.renderer.$keepTextAreaAtCursor&&(D.renderer.$keepTextAreaAtCursor=null),clearTimeout(I),$.isWin&&g.capture(D.container,l,E))},this.onContextMenuClose=E;var B=function(t){D.textInput.onContextMenu(t),E()},I;g.addListener(F,"mouseup",B),g.addListener(F,"mousedown",function(t){t.preventDefault(),E()}),g.addListener(D.renderer.scroller,"contextmenu",B),g.addListener(F,"contextmenu",B)}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(n,e){"use strict";function t(n){n.$clickSelection=null;var e=n.editor;e.setDefaultHandler("mousedown",this.onMouseDown.bind(n)),e.setDefaultHandler("dblclick",this.onDoubleClick.bind(n)),e.setDefaultHandler("tripleclick",this.onTripleClick.bind(n)),e.setDefaultHandler("quadclick",this.onQuadClick.bind(n)),e.setDefaultHandler("mousewheel",this.onMouseWheel.bind(n)),e.setDefaultHandler("touchmove",this.onTouchMove.bind(n));["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach(function(e){n[e]=this[e]},this),n.selectByLines=this.extendSelectionBy.bind(n,"getLineRange"),n.selectByWords=this.extendSelectionBy.bind(n,"getWordRange")}function o(o,e,t,n){return Math.sqrt(l(t-o,2)+l(n-e,2))}function a(o,e){if(o.start.row==o.end.row)var t=2*e.column-o.start.column-o.end.column;else if(o.start.row==o.end.row-1&&!o.start.column&&!o.end.column)var t=e.column-4;else var t=2*e.row-o.start.row-o.end.row;return 0>t?{cursor:o.start,anchor:o.end}:{cursor:o.end,anchor:o.start}}var l=Math.pow,d=Math.abs,c=n("../lib/dom"),r=n("../lib/event"),g=n("../lib/useragent"),m=250;(function(){this.onMouseDown=function(s){var e=s.inSelection(),t=s.getDocumentPosition();this.mousedownEvent=s;var n=this.editor,r=s.getButton();if(0!==r){var i=n.getSelectionRange(),o=i.isEmpty();return n.$blockScrolling++,(o||1==r)&&n.selection.moveToPosition(t),n.$blockScrolling--,void(2==r&&(n.textInput.onContextMenu(s.domEvent),g.isMozilla||s.preventDefault()))}return this.mousedownEvent.time=Date.now(),e&&!n.isFocused()&&(n.focus(),this.$focusTimout&&!this.$clickSelection&&!n.inMultiSelectMode)?(this.setState("focusWait"),void this.captureMouse(s)):(this.captureMouse(s),this.startSelect(t,1<s.domEvent._clicks),s.preventDefault())},this.startSelect=function(o,e){o=o||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var t=this.editor;t.$blockScrolling++,this.mousedownEvent.getShiftKey()?t.selection.selectToPosition(o):e||t.selection.moveToPosition(o),e||this.select(),t.renderer.scroller.setCapture&&t.renderer.scroller.setCapture(),t.setStyle("ace_selecting"),this.setState("select"),t.$blockScrolling--},this.select=function(){var o=this.editor,t=o.renderer.screenToTextCoordinates(this.x,this.y),n;if(o.$blockScrolling++,this.$clickSelection){var e=this.$clickSelection.comparePoint(t);if(-1==e)n=this.$clickSelection.end;else if(1==e)n=this.$clickSelection.start;else{var r=a(this.$clickSelection,t);t=r.cursor,n=r.anchor}o.selection.setSelectionAnchor(n.row,n.column)}o.selection.selectToPosition(t),o.$blockScrolling--,o.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(l){var e=this.editor,n=e.renderer.screenToTextCoordinates(this.x,this.y),r=e.selection[l](n.row,n.column),i;if(e.$blockScrolling++,this.$clickSelection){var t=this.$clickSelection.comparePoint(r.start),s=this.$clickSelection.comparePoint(r.end);if(-1==t&&0>=s)i=this.$clickSelection.end,(r.end.row!=n.row||r.end.column!=n.column)&&(n=r.start);else if(1==s&&0<=t)i=this.$clickSelection.start,(r.start.row!=n.row||r.start.column!=n.column)&&(n=r.end);else if(-1==t&&1==s)n=r.end,i=r.start;else{var o=a(this.$clickSelection,n);n=o.cursor,i=o.anchor}e.selection.setSelectionAnchor(i.row,i.column)}e.selection.selectToPosition(n),e.$blockScrolling--,e.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var n=o(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),e=Date.now();(n>0||e-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(o){var e=o.getDocumentPosition(),t=this.editor,n=t.session,r=n.getBracketRange(e);r?(r.isEmpty()&&(r.start.column--,r.end.column++),this.setState("select")):(r=t.selection.getWordRange(e.row,e.column),this.setState("selectByWords")),this.$clickSelection=r,this.select()},this.onTripleClick=function(o){var e=o.getDocumentPosition(),t=this.editor;this.setState("selectByLines");var n=t.getSelectionRange();n.isMultiLine()&&n.contains(e.row,e.column)?(this.$clickSelection=t.selection.getLineRange(n.start.row),this.$clickSelection.end=t.selection.getLineRange(n.end.row).end):this.$clickSelection=t.selection.getLineRange(e.row),this.select()},this.onQuadClick=function(){var e=this.editor;e.selectAll(),this.$clickSelection=e.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(c){if(!c.getAccelKey()){c.getShiftKey()&&c.wheelY&&!c.wheelX&&(c.wheelX=c.wheelY,c.wheelY=0);var e=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var t=this.$lastScroll,n=c.domEvent.timeStamp,r=n-t.t,i=c.wheelX/r,s=c.wheelY/r;r<m&&(i=(i+t.vx)/2,s=(s+t.vy)/2);var o=d(i/s),a=!1;if(1<=o&&e.renderer.isScrollableBy(c.wheelX*c.speed,0)&&(a=!0),1>=o&&e.renderer.isScrollableBy(0,c.wheelY*c.speed)&&(a=!0),a)t.allowed=n;else if(n-t.allowed<m){var g=d(i)<=1.1*d(t.vx)&&d(s)<=1.1*d(t.vy);g?(a=!0,t.allowed=n):t.allowed=0}if(t.t=n,t.vx=i,t.vy=s,a)return e.renderer.scrollBy(c.wheelX*c.speed,c.wheelY*c.speed),c.stop()}},this.onTouchMove=function(t){this.editor._emit("mousewheel",t)}}).call(t.prototype),e.DefaultHandlers=t}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(n,e){"use strict";function t(t){this.isOpen=!1,this.$element=null,this.$parentNode=t}var o=n("./lib/oop"),r=n("./lib/dom");(function(){this.$init=function(){return this.$element=r.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(t){r.setInnerText(this.getElement(),t)},this.setHtml=function(t){this.getElement().innerHTML=t},this.setPosition=function(n,e){this.getElement().style.left=n+"px",this.getElement().style.top=e+"px"},this.setClassName=function(t){r.addCssClass(this.getElement(),t)},this.show=function(o,e,t){null!=o&&this.setText(o),null!=e&&null!=t&&this.setPosition(e,t),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(t.prototype),e.Tooltip=t}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(n,e){"use strict";function t(m){function e(){var e=i.getDocumentPosition().row,r=t.$annotations[e];if(!r)return A();var g=h.session.getLength();if(e==g){var o=h.renderer.pixelToScreenCoordinates(0,i.y).row,a=i.$pos;if(o>h.session.documentToScreenRow(a.row,a.column))return A()}if(C!=r)if(C=r.text.join("<br/>"),n.setHtml(C),n.show(),h._signal("showGutterTooltip",n),h.on("mousewheel",A),m.$tooltipFollowsMouse)c(i);else{var u=i.domEvent.target,p=u.getBoundingClientRect(),d=n.getElement().style;d.left=p.right+"px",d.top=p.bottom+"px"}}function A(){r&&(r=clearTimeout(r)),C&&(n.hide(),C=null,h._signal("hideGutterTooltip",n),h.removeEventListener("mousewheel",A))}function c(t){n.setPosition(t.x,t.y)}var h=m.editor,t=h.renderer.$gutterLayer,n=new d(h.container);m.editor.setDefaultHandler("guttermousedown",function(e){if(h.isFocused()&&0==e.getButton()){var n=t.getRegion(e);if("foldWidgets"!=n){var r=e.getDocumentPosition().row,i=h.session.selection;if(e.getShiftKey())i.selectTo(r,0);else{if(2==e.domEvent.detail)return h.selectAll(),e.preventDefault();m.$clickSelection=h.selection.getLineRange(r)}return m.setState("selectByLines"),m.captureMouse(e),e.preventDefault()}}});var r,i,C;m.editor.setDefaultHandler("guttermousemove",function(o){var t=o.domEvent.target||o.domEvent.srcElement;if(a.hasCssClass(t,"ace_fold-widget"))return A();C&&m.$tooltipFollowsMouse&&c(o),i=o;r||(r=setTimeout(function(){r=null,i&&!m.isMousePressed?e():A()},50))}),g.addListener(h.renderer.$gutter,"mouseout",function(){i=null;!C||r||(r=setTimeout(function(){r=null,A()},50))}),h.on("changeSession",A)}function d(t){l.call(this,t)}var a=n("../lib/dom"),r=n("../lib/oop"),g=n("../lib/event"),l=n("../tooltip").Tooltip;r.inherits(d,l),function(){this.setPosition=function(o,e){var t=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),i=this.getHeight();o+=15,e+=15,o+r>t&&(o-=o+r-t),e+i>n&&(e-=20+i),l.prototype.setPosition.call(this,o,e)}}.call(d.prototype),e.GutterHandler=t}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,e){"use strict";var t=n("../lib/event"),o=n("../lib/useragent"),r=e.MouseEvent=function(n,e){this.domEvent=n,this.editor=e,this.x=this.clientX=n.clientX,this.y=this.clientY=n.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){t.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){t.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var o=this.editor,e=o.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=e.contains(t.row,t.column)}return this.$inSelection},this.getButton=function(){return t.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=o.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(r.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(n,e){"use strict";function t(o){function r(t,e){var a=Date.now(),r=!e||t.row!=e.row,l=!e||t.column!=e.column;if(!E||r||l)k.$blockScrolling+=1,k.moveCursorToPosition(t),k.$blockScrolling-=1,E=a,W={x:R,y:T};else{var g=c(W.x,W.y,R,T);g>s?E=null:a-E>=i&&(k.renderer.scrollCursorIntoView(),E=null)}}function a(t,e){var o=Date.now(),r=k.renderer.layerConfig.lineHeight,i=k.renderer.layerConfig.characterWidth,s=k.renderer.scroller.getBoundingClientRect(),d={x:{left:R-s.left,right:s.right-R},y:{top:T-s.top,bottom:s.bottom-T}},a=g(d.x.left,d.x.right),u=g(d.y.top,d.y.bottom),l={row:t.row,column:t.column};2>=a/i&&(l.column+=d.x.left<d.x.right?-3:2),1>=u/r&&(l.row+=d.y.top<d.y.bottom?-1:1);var c=t.row!=l.row,h=t.column!=l.column,p=!e||t.row!=e.row;c||h&&!p?M?o-M>=A&&k.renderer.scrollCursorIntoView(l):M=o:M=null}function e(){var t=m;m=k.renderer.screenToTextCoordinates(R,T),r(m,t),a(m,t)}function l(){v=k.selection.toOrientedRange(),y=k.session.addMarker(v,"ace_selection",k.getSelectionStyle()),k.clearSelection(),k.isFocused()&&k.renderer.$cursorLayer.setBlinking(!1),clearInterval(h),e(),h=setInterval(e,20),n=0,f.addListener(document,"mousemove",C)}function u(){clearInterval(h),k.session.removeMarker(y),y=null,k.$blockScrolling+=1,k.selection.fromOrientedRange(v),k.$blockScrolling-=1,k.isFocused()&&!b&&k.renderer.$cursorLayer.setBlinking(!k.getReadOnly()),v=null,m=null,n=0,M=null,E=null,f.removeListener(document,"mousemove",C)}function C(){null==x&&(x=setTimeout(function(){null!=x&&y&&u()},20))}function B(n){var e=n.types;return!e||Array.prototype.some.call(e,function(t){return"text/plain"==t||"Text"==t})}function D(n){var e=["copy","copymove","all","uninitialized"],t=$.isMac?n.altKey:n.ctrlKey,r="uninitialized";try{r=n.dataTransfer.effectAllowed.toLowerCase()}catch(t){}var i="none";return t&&0<=e.indexOf(r)?i="copy":0<=["move","copymove","linkmove","all","uninitialized"].indexOf(r)?i="move":0<=e.indexOf(r)&&(i="copy"),i}var k=o.editor,t=F.createElement("img");t.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",$.isOpera&&(t.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(e){o[e]=this[e]},this),k.addEventListener("mousedown",this.onMouseDown.bind(o));var L=k.container,n=0,y,R,T,h,v,m,_,b,M,E,W;this.onDragStart=function(n){if(this.cancelDrag||!L.draggable){var e=this;return setTimeout(function(){e.startSelect(),e.captureMouse(n)},0),n.preventDefault()}v=k.getSelectionRange();var o=n.dataTransfer;o.effectAllowed=k.getReadOnly()?"copy":"copyMove",$.isOpera&&(k.container.appendChild(t),t.scrollTop=0),o.setDragImage&&o.setDragImage(t,0,0),$.isOpera&&k.container.removeChild(t),o.clearData(),o.setData("Text",k.session.getTextRange()),b=!0,this.setState("drag")},this.onDragEnd=function(t){if(L.draggable=!1,b=!1,this.setState(null),!k.getReadOnly()){var e=t.dataTransfer.dropEffect;_||"move"!=e||k.session.remove(k.getSelectionRange()),k.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(t){return k.getReadOnly()||!B(t.dataTransfer)?void 0:(R=t.clientX,T=t.clientY,y||l(),n++,t.dataTransfer.dropEffect=_=D(t),f.preventDefault(t))},this.onDragOver=function(t){return k.getReadOnly()||!B(t.dataTransfer)?void 0:(R=t.clientX,T=t.clientY,y||(l(),n++),null!==x&&(x=null),t.dataTransfer.dropEffect=_=D(t),f.preventDefault(t))},this.onDragLeave=function(t){if(n--,0>=n&&y)return u(),_=null,f.preventDefault(t)},this.onDrop=function(t){if(m){var e=t.dataTransfer;if(b)"move"===_?v=v.contains(m.row,m.column)?{start:m,end:m}:k.moveText(v,m):"copy"===_?v=k.moveText(v,m,!0):void 0;else{var n=e.getData("Text");v={start:m,end:k.session.insert(m,n)},k.focus(),_=null}return u(),f.preventDefault(t)}},f.addListener(L,"dragstart",this.onDragStart.bind(o)),f.addListener(L,"dragend",this.onDragEnd.bind(o)),f.addListener(L,"dragenter",this.onDragEnter.bind(o)),f.addListener(L,"dragover",this.onDragOver.bind(o)),f.addListener(L,"dragleave",this.onDragLeave.bind(o)),f.addListener(L,"drop",this.onDrop.bind(o));var x=null}function c(o,e,t,n){return Math.sqrt(l(t-o,2)+l(n-e,2))}var l=Math.pow,g=Math.min,F=n("../lib/dom"),f=n("../lib/event"),$=n("../lib/useragent"),A=200,i=200,s=5;(function(){this.dragWait=function(){var t=Date.now()-this.mousedownEvent.time;t>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var t=this.editor.container;t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var o=this.editor,e=o.container;e.draggable=!0,o.renderer.$cursorLayer.setBlinking(!1),o.setStyle("ace_dragging");var t=$.isWin?"default":"move";o.renderer.setCursorStyle(t),this.setState("dragReady")},this.onMouseDrag=function(){var e=this.editor.container;if($.isIE&&"dragReady"==this.state){var t=c(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);3<t&&e.dragDrop()}if("dragWait"===this.state){var t=c(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);0<t&&(e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(s){if(this.$dragEnabled){this.mousedownEvent=s;var e=this.editor,t=s.inSelection(),n=s.getButton(),r=s.domEvent.detail||1;if(1===r&&0===n&&t){if(s.editor.inMultiSelectMode&&(s.getAccelKey()||s.getShiftKey()))return;this.mousedownEvent.time=Date.now();var i=s.domEvent.target||s.domEvent.srcElement;if("unselectable"in i&&(i.unselectable="on"),e.getDragDelay()){if($.isWebKit){this.cancelDrag=!0;var o=e.container;o.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(s,this.onMouseDrag.bind(this)),s.defaultPrevented=!0}}}}).call(t.prototype),e.DragdropHandler=t}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(n,e){"use strict";var o=n("./dom");e.get=function(o,e){var t=new XMLHttpRequest;t.open("GET",o,!0),t.onreadystatechange=function(){4===t.readyState&&e(t.responseText)},t.send(null)},e.loadScript=function(r,s){var e=o.getDocumentHead(),t=document.createElement("script");t.src=r,e.appendChild(t),t.onload=t.onreadystatechange=function(o,e){(e||!t.readyState||"loaded"==t.readyState||"complete"==t.readyState)&&(t=t.onload=t.onreadystatechange=null,e||s())}},e.qualifyURL=function(n){var e=document.createElement("a");return e.href=n,e.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(n,e){"use strict";var t={},a=function(){this.propagationStopped=!0},i=function(){this.defaultPrevented=!0};t._emit=t._dispatchEvent=function(s,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var l=this._eventRegistry[s]||[],n=this._defaultHandlers[s];if(l.length||n){"object"==typeof e&&e||(e={}),e.type||(e.type=s),e.stopPropagation||(e.stopPropagation=a),e.preventDefault||(e.preventDefault=i),l=l.slice();for(var r=0;r<l.length&&(l[r](e,this),!e.propagationStopped);r++);if(n&&!e.defaultPrevented)return n(e,this)}},t._signal=function(o,e){var t=(this._eventRegistry||{})[o];if(t){t=t.slice();for(var n=0;n<t.length;n++)t[n](e,this)}},t.once=function(o,e){var t=this;e&&this.addEventListener(o,function n(){t.removeEventListener(o,n),e.apply(null,arguments)})},t.setDefaultHandler=function(o,e){var t=this._defaultHandlers;if(t||(t=this._defaultHandlers={_disabled_:{}}),t[o]){var n=t[o],r=t._disabled_[o];r||(t._disabled_[o]=r=[]),r.push(n);var i=r.indexOf(e);-1!=i&&r.splice(i,1)}t[o]=e},t.removeDefaultHandler=function(o,e){var t=this._defaultHandlers;if(t){var n=t._disabled_[o];if(t[o]==e){t[o];n&&this.setDefaultHandler(o,n.pop())}else if(n){var r=n.indexOf(e);-1!=r&&n.splice(r,1)}}},t.on=t.addEventListener=function(o,e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[o];return n||(n=this._eventRegistry[o]=[]),-1==n.indexOf(e)&&n[t?"unshift":"push"](e),e},t.off=t.removeListener=t.removeEventListener=function(o,e){this._eventRegistry=this._eventRegistry||{};var t=this._eventRegistry[o];if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},t.removeAllListeners=function(t){this._eventRegistry&&(this._eventRegistry[t]=[])},e.EventEmitter=t}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,e){"no use strict";function l(){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function t(o,e){var t=new Error(o);t.data=e,"object"==typeof console&&console.error&&console.error(t),setTimeout(function(){throw t})}var o=n("./oop"),r=n("./event_emitter").EventEmitter,i={setOptions:function(n){Object.keys(n).forEach(function(e){this.setOption(e,n[e])},this)},getOptions:function(n){var o={};return n?Array.isArray(n)||(o=n,n=Object.keys(o)):n=Object.keys(this.$options),n.forEach(function(t){o[t]=this.getOption(t)},this),o},setOption:function(o,e){if(this["$"+o]!==e){var t=this.$options[o];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].setOption(o,e):void(t.handlesSet||(this["$"+o]=e),t&&t.set&&t.set.call(this,e)):l("misspelled option \""+o+"\"")}},getOption:function(n){var e=this.$options[n];return e?e.forwardTo?this[e.forwardTo]&&this[e.forwardTo].getOption(n):e&&e.get?e.get.call(this):this["$"+n]:l("misspelled option \""+n+"\"")}},s=function(){this.$defaultOptions={}};(function(){o.implement(this,r),this.defineOptions=function(s,e,a){return s.$options||(this.$defaultOptions[e]=s.$options={}),Object.keys(a).forEach(function(e){var t=a[e];"string"==typeof t&&(t={forwardTo:t}),t.name||(t.name=e),s.$options[t.name]=t,"initialValue"in t&&(s["$"+t.name]=t.initialValue)}),o.implement(s,i),this},this.resetOptions=function(o){Object.keys(o.$options).forEach(function(e){var t=o.$options[e];"value"in t&&o.setOption(e,t.value)})},this.setDefaultValue=function(o,e,t){var n=this.$defaultOptions[o]||(this.$defaultOptions[o]={});n[e]&&(n.forwardTo?this.setDefaultValue(n.forwardTo,e,t):n[e].value=t)},this.setDefaultValues=function(o,e){Object.keys(e).forEach(function(t){this.setDefaultValue(o,t,e[t])},this)},this.warn=l,this.reportError=t}).call(s.prototype),e.AppConfig=s}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(A,d,e){"no use strict";function t(t){if(C&&C.document){u.packaged=t||A.packaged||e.packaged||C.define&&define.packaged;for(var r={},i="",s=document.currentScript||document._currentScript,o=s&&s.ownerDocument||document,a=o.getElementsByTagName("script"),l=0;l<a.length;l++){var c=a[l],h=c.src||c.getAttribute("src");if(h){for(var p=c.attributes,F=0,m=p.length,g;F<m;F++)g=p[F],0===g.name.indexOf("data-ace-")&&(r[n(g.name.replace(/^data-ace-/,""))]=g.value);var E=h.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);E&&(i=E[1])}}for(var $ in i&&(r.base=r.base||i,r.packaged=!0),r.basePath=r.base,r.workerPath=r.workerPath||r.base,r.modePath=r.modePath||r.base,r.themePath=r.themePath||r.base,delete r.base,r)"undefined"!=typeof r[$]&&d.set($,r[$])}}function n(t){return t.replace(/-(.)/g,function(n,e){return e.toUpperCase()})}var l=A("./lib/lang"),r=A("./lib/oop"),i=A("./lib/net"),s=A("./lib/app_config").AppConfig;e.exports=d=new s;var C=function(){return this||"undefined"!=typeof window&&window}(),u={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};d.get=function(t){if(!u.hasOwnProperty(t))throw new Error("Unknown config key: "+t);return u[t]},d.set=function(n,e){if(!u.hasOwnProperty(n))throw new Error("Unknown config key: "+n);u[n]=e},d.all=function(){return l.copyObject(u)},d.moduleUrl=function(a,e){if(u.$moduleUrls[a])return u.$moduleUrls[a];var t=a.split("/");e=e||t[t.length-2]||"";var n="snippets"==e?"/":"-",r=t[t.length-1];if("worker"==e&&"-"==n){var l=new RegExp("^"+e+"[\\-_]|[\\-_]"+e+"$","g");r=r.replace(l,"")}(!r||r==e)&&1<t.length&&(r=t[t.length-2]);var s=u[e+"Path"];return null==s?s=u.basePath:"/"==n&&(e=n=""),s&&"/"!=s.slice(-1)&&(s+="/"),s+e+n+r+this.get("suffix")},d.setModuleUrl=function(n,e){return u.$moduleUrls[n]=e},d.$loading={},d.loadModule=function(t,e){var r,s;Array.isArray(t)&&(s=t[0],t=t[1]);try{r=A(t)}catch(e){}if(r&&!d.$loading[t])return e&&e(r);if(d.$loading[t]||(d.$loading[t]=[]),d.$loading[t].push(e),!(1<d.$loading[t].length)){var o=function(){A([t],function(o){d._emit("load.module",{name:t,module:o});var i=d.$loading[t];d.$loading[t]=null,i.forEach(function(e){e&&e(o)})})};return d.get("packaged")?void i.loadScript(d.moduleUrl(t,s),o):o()}},d.init=t}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(n,e){"use strict";var d=n("../lib/event"),r=n("../lib/useragent"),i=n("./default_handlers").DefaultHandlers,s=n("./default_gutter_handler").GutterHandler,o=n("./mouse_event").MouseEvent,c=n("./dragdrop_handler").DragdropHandler,t=n("../config"),a=function(o){var e=this;this.editor=o,new i(this),new s(this),new c(this);var t=function(){var e=!document.hasFocus||!document.hasFocus()||!o.isFocused()&&document.activeElement==(o.textInput&&o.textInput.getElement());e&&window.focus(),o.focus()},n=o.renderer.getMouseEventTarget();d.addListener(n,"click",this.onMouseEvent.bind(this,"click")),d.addListener(n,"mousemove",this.onMouseMove.bind(this,"mousemove")),d.addMultiMouseDownListener([n,o.renderer.scrollBarV&&o.renderer.scrollBarV.inner,o.renderer.scrollBarH&&o.renderer.scrollBarH.inner,o.textInput&&o.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),d.addMouseWheelListener(o.container,this.onMouseWheel.bind(this,"mousewheel")),d.addTouchMoveListener(o.container,this.onTouchMove.bind(this,"touchmove"));var a=o.renderer.$gutter;d.addListener(a,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),d.addListener(a,"click",this.onMouseEvent.bind(this,"gutterclick")),d.addListener(a,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),d.addListener(a,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),d.addListener(n,"mousedown",t),d.addListener(a,"mousedown",t),r.isIE&&o.renderer.scrollBarV&&(d.addListener(o.renderer.scrollBarV.element,"mousedown",t),d.addListener(o.renderer.scrollBarH.element,"mousedown",t)),o.on("mousemove",function(t){if(!(e.state||e.$dragDelay||!e.$dragEnabled)){var n=o.renderer.screenToTextCoordinates(t.x,t.y),r=o.session.selection.getRange(),i=o.renderer;!r.isEmpty()&&r.insideStart(n.row,n.column)?i.setCursorStyle("default"):i.setCursorStyle("")}})};(function(){this.onMouseEvent=function(n,e){this.editor._emit(n,new o(e,this.editor))},this.onMouseMove=function(r,e){var t=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;t&&t.length&&this.editor._emit(r,new o(e,this.editor))},this.onMouseWheel=function(r,e){var t=new o(e,this.editor);t.speed=2*this.$scrollSpeed,t.wheelX=e.wheelX,t.wheelY=e.wheelY,this.editor._emit(r,t)},this.onTouchMove=function(r,e){var t=new o(e,this.editor);t.speed=1,t.wheelX=e.wheelX,t.wheelY=e.wheelY,this.editor._emit(r,t)},this.setState=function(t){this.state=t},this.captureMouse=function(i,c){this.x=i.x,this.y=i.y,this.isMousePressed=!0;var t=this.editor.renderer;t.$keepTextAreaAtCursor&&(t.$keepTextAreaAtCursor=null);var n=this,e=function(t){return t?r.isWebKit&&!t.which&&n.releaseMouse?n.releaseMouse():void(n.x=t.clientX,n.y=t.clientY,c&&c(t),n.mouseEvent=new o(t,n.editor),n.$mouseMoved=!0):void 0},s=function(o){clearInterval(g),a(),n[n.state+"End"]&&n[n.state+"End"](o),n.state="",null==t.$keepTextAreaAtCursor&&(t.$keepTextAreaAtCursor=!0,t.$moveTextAreaToCursor()),n.isMousePressed=!1,n.$onCaptureMouseMove=n.releaseMouse=null,o&&n.onMouseEvent("mouseup",o)},a=function(){n[n.state]&&n[n.state](),n.$mouseMoved=!1};if(r.isOldIE&&"dblclick"==i.domEvent.type)return setTimeout(function(){s(i)});n.$onCaptureMouseMove=e,n.releaseMouse=d.capture(this.editor.container,e,s);var g=setInterval(a,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var n=function(e){e&&e.domEvent&&"contextmenu"!=e.domEvent.type||(this.editor.off("nativecontextmenu",n),e&&e.domEvent&&d.stopEvent(e.domEvent))}.bind(this);setTimeout(n,10),this.editor.on("nativecontextmenu",n)}}).call(a.prototype),t.defineOptions(a.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:r.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),e.MouseHandler=a}),ace.define("ace/mouse/fold_handler",["require","exports","module"],function(n,e){"use strict";e.FoldHandler=function(a){a.on("click",function(e){var t=e.getDocumentPosition(),n=a.session,o=n.getFoldAt(t.row,t.column,1);o&&(e.getAccelKey()?n.removeFold(o):n.expandFold(o),e.stop())}),a.on("gutterclick",function(e){var t=a.renderer.$gutterLayer.getRegion(e);if("foldWidgets"==t){var n=e.getDocumentPosition().row,o=a.session;o.foldWidgets&&o.foldWidgets[n]&&a.session.onFoldWidgetClick(n,e),a.isFocused()||a.focus(),e.stop()}}),a.on("gutterdblclick",function(e){var t=a.renderer.$gutterLayer.getRegion(e);if("foldWidgets"==t){var n=e.getDocumentPosition().row,r=a.session,i=r.getParentFoldRangeData(n,!0),s=i.range||i.firstRange;if(s){n=s.start.row;var o=r.getFoldAt(n,r.getLine(n).length,1);o?r.removeFold(o):(r.addFold("...",s),a.renderer.scrollCursorIntoView({row:s.start.row,column:0}))}e.stop()}})}}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(n,e){"use strict";var o=n("../lib/keys"),l=n("../lib/event"),t=function(t){this.$editor=t,this.$data={editor:t},this.$handlers=[],this.setDefaultHandler(t.commands)};(function(){this.setDefaultHandler=function(t){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=t,this.addKeyboardHandler(t,0)},this.setKeyboardHandler=function(n){var e=this.$handlers;if(e[e.length-1]!=n){for(;e[e.length-1]&&e[e.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(e[e.length-1]);this.addKeyboardHandler(n,1)}},this.addKeyboardHandler=function(o,r){if(o){"function"!=typeof o||o.handleKeyboard||(o.handleKeyboard=o);var t=this.$handlers.indexOf(o);-1!=t&&this.$handlers.splice(t,1),void 0==r?this.$handlers.push(o):this.$handlers.splice(r,0,o),-1==t&&o.attach&&o.attach(this.$editor)}},this.removeKeyboardHandler=function(n){var e=this.$handlers.indexOf(n);return-1!=e&&(this.$handlers.splice(e,1),n.detach&&n.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var o=this.$data,e=o.editor;return this.$handlers.map(function(t){return t.getStatusText&&t.getStatusText(e,o)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(i,e,t,n){for(var r=!1,d=this.$editor.commands,c=this.$handlers.length,a;c--&&(a=this.$handlers[c].handleKeyboard(this.$data,i,e,t,n),!(a&&a.command&&(r="null"==a.command||d.exec(a.command,this.$editor,a.args,n),r&&n&&-1!=i&&1!=a.passEvent&&1!=a.command.passEvent&&l.stopEvent(n),r))););return!r&&-1==i&&(a={command:"insertstring"},r=d.exec("insertstring",this.$editor,e)),r&&this.$editor._signal&&this.$editor._signal("keyboardActivity",a),r},this.onCommandKey=function(r,e,t){var n=o.keyCodeToString(t);this.$callKeyboardHandlers(e,n,t,r)},this.onTextInput=function(t){this.$callKeyboardHandlers(-1,t)}}).call(t.prototype),e.KeyBinding=t}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(n,c){"use strict";function t(d,e,t,n){var p=$?l:o,A=null,c=null,h=null,f=0,m=null,g=null,B=-1,b=null,w=null,D=[];if(!n)for(b=0,n=[];b<t;b++)n[b]=i(d[b]);for(s=$,R=!1,u=!1,W=!1,a=!1,w=0;w<t;w++){if(A=f,D[w]=c=F(d,n,D,w),f=p[A][c],m=240&f,f&=15,e[w]=h=p[f][5],0<m)if(16==m){for(b=B;b<w;b++)e[b]=1;B=-1}else B=-1;if(g=p[f][6],g)-1==B&&(B=w);else if(-1<B){for(b=B;b<w;b++)e[b]=h;B=-1}n[w]==I&&(e[w]=0),s|=h}if(a)for(b=0;b<t;b++)if(n[b]==E){e[b]=$;for(var y=b-1;0<=y&&!(n[y]!=x);y--)e[y]=$}}function h(o,e,t){if(!(s<o)){if(1==o&&$==d&&!W)return void t.reverse();for(var n=t.length,r=0,i,g,a,l;r<n;){if(e[r]>=o){for(i=r+1;i<n&&e[i]>=o;)i++;for(g=r,a=i-1;g<a;g++,a--)l=t[g],t[g]=t[a],t[a]=l;r=i}r++}}}function F(s,e,t,n){var r=e[n],i,o,l,c;switch(r){case m:case g:R=!1;case w:case b:return r;case y:return R?b:y;case S:return R=!0,u=!0,g;case x:return w;case v:return 1>n||n+1>=e.length||(i=t[n-1])!=y&&i!=b||(o=e[n+1])!=y&&o!=b?w:(R&&(o=b),o==i?o:w);case C:return i=0<n?t[n-1]:I,i==y&&n+1<e.length&&e[n+1]==y?y:w;case k:if(0<n&&t[n-1]==y)return y;if(R)return w;for(c=n+1,l=e.length;c<l&&e[c]==k;)c++;return c<l&&e[c]==y?y:w;case L:for(l=e.length,c=n+1;c<l&&e[c]==L;)c++;if(c<l){var h=s[n];if(i=e[c],(1425<=h&&2303>=h||64286==h)&&(i==g||i==S))return g}return 1>n||(i=e[n-1])==I?w:t[n-1];case I:return R=!1,W=!0,$;case E:return a=!0,w;case A:case T:case _:case D:case M:R=!1;case O:return w;}}function i(o){var e=o.charCodeAt(0),t=e>>8;return 0==t?191<e?m:r[e]:5==t?/[\u0591-\u05f4]/.test(o)?g:m:6==t?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(o)?L:/[\u0660-\u0669\u066b-\u066c]/.test(o)?b:1642==e?k:/[\u06f0-\u06f9]/.test(o)?y:S:32==t&&8287>=e?p[255&e]:254==t?65136<=e?S:w:w}var $=0,s=0,R=!1,u=!1,W=!1,a=!1,o=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],l=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],d=1,m=0,g=1,y=2,b=3,w=4,I=5,E=6,S=7,x=8,v=9,C=10,k=11,L=12,A=13,T=14,M=15,_=16,D=17,O=18,r=[O,O,O,O,O,O,O,O,O,E,I,E,x,I,O,O,O,O,O,O,O,O,O,O,O,O,O,O,I,I,I,E,x,w,w,k,k,k,w,w,w,w,w,C,v,C,v,v,y,y,y,y,y,y,y,y,y,y,v,w,w,w,w,w,w,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,w,w,w,w,w,w,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,w,w,w,w,O,O,O,O,O,O,I,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,v,w,k,k,k,k,w,w,w,w,m,w,w,O,w,w,k,k,y,y,w,m,w,w,w,y,m,w,w,w,w,w],p=[x,x,x,x,x,x,x,x,x,x,x,O,O,O,m,g,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,x,I,A,T,M,_,D,v,k,k,k,k,k,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,v,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,x];c.L=m,c.R=g,c.EN=y,c.ON_R=3,c.AN=4,c.R_H=5,c.B=6,c.DOT="\xB7",c.doBidiReorder=function(s,e,n){if(2>s.length)return{};var r=s.split(""),i=Array(r.length),l=Array(r.length),m=[];$=n?d:0,t(r,m,r.length,e);for(var a=0;a<i.length;i[a]=a,a++);h(2,m,i),h(1,m,i);for(var a=0;a<i.length-1;a++)e[a]===b?m[a]=c.AN:m[a]===g&&(e[a]>S&&e[a]<A||e[a]===w||e[a]===O)?m[a]=c.ON_R:0<a&&"\u0644"===r[a-1]&&/\u0622|\u0623|\u0625|\u0627/.test(r[a])&&(m[a-1]=m[a]=c.R_H,a++);r[r.length-1]===c.DOT&&(m[r.length-1]=c.B);for(var a=0;a<i.length;a++)l[a]=m[i[a]];return{logicalFromVisual:i,bidiLevels:l}},c.hasBidiCharacters=function(o,e){for(var t=!1,n=0;n<o.length;n++)e[n]=i(o.charAt(n)),t||e[n]!=g&&e[n]!=S||(t=!0);return t},c.getVisualFromLogicalIdx=function(o,e){for(var t=0;t<e.logicalFromVisual.length;t++)if(e.logicalFromVisual[t]==o)return t;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang","ace/lib/useragent"],function(n,e){"use strict";var g=Math.max,m=n("./lib/bidiutil"),r=n("./lib/lang"),i=n("./lib/useragent"),t=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=function(t){this.session=t,this.bidiMap={},this.currentRow=null,this.bidiUtil=m,this.charWidths=[],this.EOL="\xAC",this.showInvisibles=!0,this.isRtlDir=!1,this.line="",this.wrapIndent=0,this.isLastRow=!1,this.EOF="\xB6",this.seenBidi=!1};(function(){this.isBidiRow=function(o,e,t){return!!this.seenBidi&&(o!==this.currentRow&&(this.currentRow=o,this.updateRowLine(e,t),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(n){this.seenBidi?this.currentRow=null:"insert"==n.action&&t.test(n.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var o=0,e=this.session.$screenRowCache;if(e.length){var t=this.session.$getRowCacheIndex(e,this.currentRow);0<=t&&(o=this.session.$docRowCache[t])}return o},this.getSplitIndex=function(){var o=0,e=this.session.$screenRowCache;if(e.length)for(var t=this.session.$getRowCacheIndex(e,this.currentRow),r;0<this.currentRow-o&&(r=this.session.$getRowCacheIndex(e,this.currentRow-o-1),r===t);)t=r,o++;return o},this.updateRowLine=function(i,e){if(void 0===i&&(i=this.getDocumentRow()),this.wrapIndent=0,this.isLastRow=i===this.session.getLength()-1,this.line=this.session.getLine(i),this.session.$useWrapMode){var t=this.session.$wrapData[i];t&&(void 0===e&&(e=this.getSplitIndex()),0<e&&t.length?(this.wrapIndent=t.indent,this.line=e<t.length?this.line.substring(t[e-1],t[t.length-1]):this.line.substring(t[t.length-1])):this.line=this.line.substring(0,t[e]))}var n=this.session,s=0,o;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(i,e){return"\t"===i||n.isFullWidth(i.charCodeAt(0))?(o="\t"===i?n.getScreenTabSize(e+s):2,s+=o-1,r.stringRepeat(m.DOT,o)):i})},this.updateBidiMap=function(){var o=[],e=this.isLastRow?this.EOF:this.EOL,t=this.line+(this.showInvisibles?e:m.DOT);this.bidiMap=m.hasBidiCharacters(t,o)?m.doBidiReorder(t,o,this.isRtlDir):{}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(o){if(this.seenBidi&&this.characterWidth!==o.$characterSize.width){var e=this.characterWidth=o.$characterSize.width,t=o.$measureCharWidth("\u05D4");this.charWidths[m.L]=this.charWidths[m.EN]=this.charWidths[m.ON_R]=e,this.charWidths[m.R]=this.charWidths[m.AN]=t,this.charWidths[m.R_H]=i.isChrome?t:.45*t,this.charWidths[m.B]=0,this.currentRow=null}},this.getShowInvisibles=function(){return this.showInvisibles},this.setShowInvisibles=function(t){this.showInvisibles=t,this.currentRow=null},this.setEolChar=function(t){this.EOL=t},this.setTextDir=function(t){this.isRtlDir=t},this.getPosLeft=function(o){o-=this.wrapIndent;var e=m.getVisualFromLogicalIdx(0<o?o-1:0,this.bidiMap),t=this.bidiMap.bidiLevels,n=0;0===o&&0!=t[e]%2&&e++;for(var r=0;r<e;r++)n+=this.charWidths[t[r]];return 0!==o&&0==t[e]%2&&(n+=this.charWidths[t[e]]),this.wrapIndent&&(n+=this.wrapIndent*this.charWidths[m.L]),n},this.getSelections=function(r,e){for(var t=this.bidiMap,n=t.bidiLevels,i=this.wrapIndent*this.charWidths[m.L],o=[],u=Math.min(r,e)-this.wrapIndent,a=g(r,e)-this.wrapIndent,A=!1,C=!1,F=0,E=0,d,s;E<n.length;E++)s=t.logicalFromVisual[E],d=n[E],A=s>=u&&s<a,A&&!C?F=i:!A&&C&&o.push({left:F,width:i-F}),i+=this.charWidths[d],C=A;return A&&E===n.length&&o.push({left:F,width:i-F}),o},this.offsetToCol=function(r){var e=0,r=g(r,0),t=0,n=0,i=this.bidiMap.bidiLevels,s=this.charWidths[i[n]];for(this.wrapIndent&&(r-=this.wrapIndent*this.charWidths[m.L]);r>t+s/2;){if(t+=s,n==i.length-1){s=0;break}s=this.charWidths[i[++n]]}return 0<n&&0!=i[n-1]%2&&0==i[n]%2?(r<t&&n--,e=this.bidiMap.logicalFromVisual[n]):0<n&&0==i[n-1]%2&&0!=i[n]%2?e=1+(r>t?this.bidiMap.logicalFromVisual[n]:this.bidiMap.logicalFromVisual[n-1]):this.isRtlDir&&n==i.length-1&&0===s&&0==i[n-1]%2||!this.isRtlDir&&0==n&&0!=i[n]%2?e=1+this.bidiMap.logicalFromVisual[n]:(0<n&&0!=i[n-1]%2&&0!=s&&n--,e=this.bidiMap.logicalFromVisual[n]),e+this.wrapIndent}}).call(o.prototype),e.BidiHandler=o}),ace.define("ace/range",["require","exports","module"],function(n,e){"use strict";var o=function(o,i,s,a){this.start={row:o,column:i},this.end={row:s,column:a}};(function(){this.isEqual=function(t){return this.start.row===t.start.row&&this.end.row===t.end.row&&this.start.column===t.start.column&&this.end.column===t.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(n,e){return 0==this.compare(n,e)},this.compareRange=function(o){var e=o.end,n=o.start,r;return r=this.compare(e.row,e.column),1==r?(r=this.compare(n.row,n.column),1==r?2:0==r?1:0):-1==r?-2:(r=this.compare(n.row,n.column),-1==r?-1:1==r?42:0)},this.comparePoint=function(t){return this.compare(t.row,t.column)},this.containsRange=function(t){return 0==this.comparePoint(t.start)&&0==this.comparePoint(t.end)},this.intersects=function(n){var e=this.compareRange(n);return-1==e||0==e||1==e},this.isEnd=function(n,e){return this.end.row==n&&this.end.column==e},this.isStart=function(n,e){return this.start.row==n&&this.start.column==e},this.setStart=function(n,o){"object"==typeof n?(this.start.column=n.column,this.start.row=n.row):(this.start.row=n,this.start.column=o)},this.setEnd=function(n,o){"object"==typeof n?(this.end.column=n.column,this.end.row=n.row):(this.end.row=n,this.end.column=o)},this.inside=function(n,e){return!(0!=this.compare(n,e))&&(this.isEnd(n,e)||this.isStart(n,e)?!1:!0)},this.insideStart=function(n,e){return!(0!=this.compare(n,e))&&!this.isEnd(n,e)},this.insideEnd=function(n,e){return!(0!=this.compare(n,e))&&!this.isStart(n,e)},this.compare=function(n,e){return this.isMultiLine()||n!==this.start.row?n<this.start.row?-1:n>this.end.row?1:this.start.row===n?e>=this.start.column?0:-1:this.end.row===n?e<=this.end.column?0:1:0:e<this.start.column?-1:e>this.end.column?1:0},this.compareStart=function(n,e){return this.start.row==n&&this.start.column==e?-1:this.compare(n,e)},this.compareEnd=function(n,e){return this.end.row==n&&this.end.column==e?1:this.compare(n,e)},this.compareInside=function(n,e){return this.end.row==n&&this.end.column==e?1:this.start.row==n&&this.start.column==e?-1:this.compare(n,e)},this.clipRows=function(i,s){if(this.end.row>s)var t={row:s+1,column:0};else if(this.end.row<i)var t={row:i,column:0};if(this.start.row>s)var n={row:s+1,column:0};else if(this.start.row<i)var n={row:i,column:0};return o.fromPoints(n||this.start,t||this.end)},this.extend=function(i,a){var l=this.compare(i,a);if(0==l)return this;if(-1==l)var n={row:i,column:a};else var r={row:i,column:a};return o.fromPoints(n||this.start,r||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return o.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new o(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new o(this.start.row,0,this.end.row,0)},this.toScreenRange=function(r){var e=r.documentToScreenPosition(this.start),t=r.documentToScreenPosition(this.end);return new o(e.row,e.column,t.row,t.column)},this.moveBy=function(n,e){this.start.row+=n,this.start.column+=e,this.end.row+=n,this.end.column+=e}}).call(o.prototype),o.fromPoints=function(n,e){return new o(n.row,n.column,e.row,e.column)},o.comparePoints=function(n,e){return n.row-e.row||n.column-e.column},o.comparePoints=function(n,e){return n.row-e.row||n.column-e.column},e.Range=o}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(n,e){"use strict";var t=n("./lib/oop"),a=n("./lib/lang"),r=n("./lib/event_emitter").EventEmitter,s=n("./range").Range,o=function(n){this.session=n,this.doc=n.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var o=this;this.lead.on("change",function(t){o._emit("changeCursor"),o.$isEmpty||o._emit("changeSelection"),o.$keepDesiredColumnOnChange||t.old.column==t.value.column||(o.$desiredColumn=null)}),this.selectionAnchor.on("change",function(){o.$isEmpty||o._emit("changeSelection")})};(function(){t.implement(this,r),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.isEmpty()&&this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(n,e){this.anchor.setPosition(n,e),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(o){if(this.$isEmpty)return void this.moveCursorTo(this.lead.row,this.lead.column+o);var e=this.getSelectionAnchor(),t=this.getSelectionLead(),n=this.isBackwards();n&&0===e.column||this.setSelectionAnchor(e.row,e.column+o),(n||0!==t.column)&&this.$moveSelection(function(){this.moveCursorTo(t.row,t.column+o)})},this.isBackwards=function(){var n=this.anchor,e=this.lead;return n.row>e.row||n.row==e.row&&n.column>e.column},this.getRange=function(){var n=this.anchor,e=this.lead;return this.isEmpty()?s.fromPoints(e,e):this.isBackwards()?s.fromPoints(e,n):s.fromPoints(n,e)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var t=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(t,this.doc.getLine(t).length)},this.setRange=this.setSelectionRange=function(n,e){e?(this.setSelectionAnchor(n.end.row,n.end.column),this.selectTo(n.start.row,n.start.column)):(this.setSelectionAnchor(n.start.row,n.start.column),this.selectTo(n.end.row,n.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(n){var e=this.lead;this.$isEmpty&&this.setSelectionAnchor(e.row,e.column),n.call(this)},this.selectTo=function(n,e){this.$moveSelection(function(){this.moveCursorTo(n,e)})},this.selectToPosition=function(t){this.$moveSelection(function(){this.moveCursorToPosition(t)})},this.moveTo=function(n,e){this.clearSelection(),this.moveCursorTo(n,e)},this.moveToPosition=function(t){this.clearSelection(),this.moveCursorToPosition(t)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(o,e){if("undefined"==typeof e){var r=o||this.lead;o=r.row,e=r.column}return this.session.getWordRange(o,e)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var n=this.getCursor(),e=this.session.getAWordRange(n.row,n.column);this.setSelectionRange(e)},this.getLineRange=function(o,a){var t="number"==typeof o?o:this.lead.row,n=this.session.getFoldLine(t),i;return n?(t=n.start.row,i=n.end.row):i=t,!0===a?new s(t,0,i,this.session.getLine(i).length):new s(t,0,i+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(o,e,t){var n=o.column,r=o.column+e;return 0>t&&(n=o.column-e,r=o.column),this.session.isTabStop(o)&&this.doc.getLine(o.row).slice(n,r).split(" ").length-1==e},this.moveCursorLeft=function(){var o=this.lead.getPosition(),e;if(e=this.session.getFoldAt(o.row,o.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===o.column)0<o.row&&this.moveCursorTo(o.row-1,this.doc.getLine(o.row-1).length);else{var t=this.session.getTabSize();this.wouldMoveIntoSoftTab(o,t,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-t):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var o=this.lead.getPosition(),e;if(e=this.session.getFoldAt(o.row,o.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var t=this.session.getTabSize(),o=this.lead;this.wouldMoveIntoSoftTab(o,t,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,t):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var o=this.lead.row,e=this.lead.column,t=this.session.documentToScreenRow(o,e),n=this.session.screenToDocumentPosition(t,0),r=this.session.getDisplayLine(o,null,n.row,n.column),i=r.match(/^\s*/);i[0].length==e||this.session.$useEmacsStyleLineStart||(n.column+=i[0].length),this.moveCursorToPosition(n)},this.moveCursorLineEnd=function(){var o=this.lead,e=this.session.getDocumentLastRowColumnPosition(o.row,o.column);if(this.lead.column==e.column){var t=this.session.getLine(e.row);if(e.column==t.length){var n=t.search(/\s+$/);0<n&&(e.column=n)}}this.moveCursorTo(e.row,e.column)},this.moveCursorFileEnd=function(){var n=this.doc.getLength()-1,e=this.doc.getLine(n).length;this.moveCursorTo(n,e)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var o=this.lead.row,e=this.lead.column,t=this.doc.getLine(o),n=t.substring(e),r;this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var i=this.session.getFoldAt(o,e,1);return i?void this.moveCursorTo(i.end.row,i.end.column):((r=this.session.nonTokenRe.exec(n))&&(e+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,n=t.substring(e)),e>=t.length?(this.moveCursorTo(o,t.length),this.moveCursorRight(),void(o<this.doc.getLength()-1&&this.moveCursorWordRight())):void((r=this.session.tokenRe.exec(n))&&(e+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(o,e)))},this.moveCursorLongWordLeft=function(){var i=this.lead.row,e=this.lead.column,t;if(t=this.session.getFoldAt(i,e,-1))return void this.moveCursorTo(t.start.row,t.start.column);var n=this.session.getFoldStringAt(i,e,-1);null==n&&(n=this.doc.getLine(i).substring(0,e));var r=a.stringReverse(n),s;return this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,(s=this.session.nonTokenRe.exec(r))&&(e-=this.session.nonTokenRe.lastIndex,r=r.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),0>=e?(this.moveCursorTo(i,0),this.moveCursorLeft(),void(0<i&&this.moveCursorWordLeft())):void((s=this.session.tokenRe.exec(r))&&(e-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(i,e))},this.$shortWordEndIndex=function(o){var e=0,n=/\s/,i=this.session.tokenRe,s,t;if(i.lastIndex=0,s=this.session.tokenRe.exec(o))e=this.session.tokenRe.lastIndex;else{for(;(t=o[e])&&n.test(t);)e++;if(1>e)for(i.lastIndex=0;(t=o[e])&&!i.test(t);)if(i.lastIndex=0,e++,n.test(t)){if(2<e){e--;break}for(;(t=o[e])&&n.test(t);)e++;if(2<e)break}}return i.lastIndex=0,e},this.moveCursorShortWordRight=function(){var a=this.lead.row,e=this.lead.column,t=this.doc.getLine(a),n=t.substring(e),r=this.session.getFoldAt(a,e,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(e==t.length){var i=this.doc.getLength();do a++,n=this.doc.getLine(a);while(a<i&&/^\s*$/.test(n));/^\s+/.test(n)||(n=""),e=0}var s=this.$shortWordEndIndex(n);this.moveCursorTo(a,e+s)},this.moveCursorShortWordLeft=function(){var i=this.lead.row,e=this.lead.column,t;if(t=this.session.getFoldAt(i,e,-1))return this.moveCursorTo(t.start.row,t.start.column);var n=this.session.getLine(i).substring(0,e);if(0===e){do i--,n=this.doc.getLine(i);while(0<i&&/^\s*$/.test(n));e=n.length,/\s+$/.test(n)||(n="")}var r=a.stringReverse(n),s=this.$shortWordEndIndex(r);return this.moveCursorTo(i,e-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(o,e){var t=this.session.documentToScreenPosition(this.lead.row,this.lead.column),n;0===e&&(0!==o&&(this.session.$bidiHandler.isBidiRow(t.row,this.lead.row)?(n=this.session.$bidiHandler.getPosLeft(t.column),t.column=Math.round(n/this.session.$bidiHandler.charWidths[0])):n=t.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?t.column=this.$desiredColumn:this.$desiredColumn=t.column);var r=this.session.screenToDocumentPosition(t.row+o,t.column,n);0!==o&&0===e&&r.row===this.lead.row&&r.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[r.row]&&(0<r.row||0<o)&&r.row++,this.moveCursorTo(r.row,r.column+e,0===e)},this.moveCursorToPosition=function(t){this.moveCursorTo(t.row,t.column)},this.moveCursorTo=function(o,e,t){var n=this.session.getFoldAt(o,e,1);n&&(o=n.start.row,e=n.start.column),this.$keepDesiredColumnOnChange=!0;var r=this.session.getLine(o);/[\uDC00-\uDFFF]/.test(r.charAt(e))&&r.charAt(e-1)&&(this.lead.row==o&&this.lead.column==e+1?e-=1:e+=1),this.lead.setPosition(o,e),this.$keepDesiredColumnOnChange=!1,t||(this.$desiredColumn=null)},this.moveCursorToScreen=function(o,e,t){var n=this.session.screenToDocumentPosition(o,e);this.moveCursorTo(n.row,n.column,t)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(t){this.setSelectionRange(t,t.cursor==t.start),this.$desiredColumn=t.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(n){var e=this.getRange();return n?(n.start.column=e.start.column,n.start.row=e.start.row,n.end.column=e.end.column,n.end.row=e.end.row):n=e,n.cursor=this.isBackwards()?n.start:n.end,n.desiredColumn=this.$desiredColumn,n},this.getRangeOfMovements=function(o){var e=this.getCursor();try{o(this);var t=this.getCursor();return s.fromPoints(e,t)}catch(t){return s.fromPoints(e,e)}finally{this.moveCursorToPosition(e)}},this.toJSON=function(){if(this.rangeCount)var t=this.ranges.map(function(n){var e=n.clone();return e.isBackwards=n.cursor==n.start,e});else{var t=this.getRange();t.isBackwards=this.isBackwards()}return t},this.fromJSON=function(o){if(o.start==void 0){if(this.rangeList){this.toSingleRange(o[0]);for(var e=o.length,t;e--;)t=s.fromPoints(o[e].start,o[e].end),o[e].isBackwards&&(t.cursor=t.start),this.addRange(t,!0);return}o=o[0]}this.rangeList&&this.toSingleRange(o),this.setSelectionRange(o,o.isBackwards)},this.isEqual=function(n){if((n.length||this.rangeCount)&&n.length!=this.rangeCount)return!1;if(!n.length||!this.ranges)return this.getRange().isEqual(n);for(var e=this.ranges.length;e--;)if(!this.ranges[e].isEqual(n[e]))return!1;return!0}}).call(o.prototype),e.Selection=o}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(n,e){"use strict";var t=n("./config"),A=2e3,o=function(d){for(var e in this.states=d,this.regExps={},this.matchMappings={},this.states){for(var t=this.states[e],n=[],r=0,i=this.matchMappings[e]={defaultToken:"text"},s="g",o=[],g=0,a;g<t.length;g++)if(a=t[g],a.defaultToken&&(i.defaultToken=a.defaultToken),a.caseInsensitive&&(s="gi"),null!=a.regex){a.regex instanceof RegExp&&(a.regex=a.regex.toString().slice(1,-1));var u=a.regex,l=new RegExp("(?:("+u+")|(.))").exec("a").length-2;Array.isArray(a.token)?1==a.token.length||1==l?a.token=a.token[0]:l-1==a.token.length?(a.tokenArray=a.token,a.token=null,a.onMatch=this.$arrayTokens):(this.reportError("number of classes and regexp groups doesn't match",{rule:a,groupCount:l-1}),a.token=a.token[0]):"function"==typeof a.token&&!a.onMatch&&(1<l?a.onMatch=this.$applyToken:a.onMatch=a.token),1<l&&(/\\\d/.test(a.regex)?u=a.regex.replace(/\\([0-9]+)/g,function(n,e){return"\\"+(parseInt(e,10)+r+1)}):(l=1,u=this.removeCapturingGroups(a.regex)),!a.splitRegex&&"string"!=typeof a.token&&o.push(a)),i[r]=g,r+=l,n.push(u),a.onMatch||(a.onMatch=null)}n.length||(i[0]=0,n.push("$")),o.forEach(function(t){t.splitRegex=this.createSplitterRegexp(t.regex,s)},this),this.regExps[e]=new RegExp("("+n.join(")|(")+")|($)",s)}};(function(){this.$setMaxTokenCount=function(t){A=0|t},this.$applyToken=function(o){var a=this.splitRegex.exec(o).slice(1),t=this.token.apply(this,a);if("string"==typeof t)return[{type:t,value:o}];for(var l=[],r=0,i=t.length;r<i;r++)a[r]&&(l[l.length]={type:t[r],value:a[r]});return l},this.$arrayTokens=function(o){if(!o)return[];var a=this.splitRegex.exec(o);if(!a)return"text";for(var l=[],n=this.tokenArray,r=0,i=n.length;r<i;r++)a[r+1]&&(l[l.length]={type:n[r],value:a[r+1]});return l},this.removeCapturingGroups=function(n){var e=n.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(n,e){return e?"(?:":n});return e},this.createSplitterRegexp=function(o,e){if(-1!=o.indexOf("(?=")){var l=0,n=!1,r={};o.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(i,e,t,s,o,d){return n?n="]"!=o:o?n=!0:s?(l==r.stack&&(r.end=d+1,r.stack=-1),l--):t&&(l++,1!=t.length&&(r.stack=l,r.start=d)),i}),null!=r.end&&/^\)*$/.test(o.substr(r.end))&&(o=o.substring(0,r.start)+o.substr(r.end))}return"^"!=o.charAt(0)&&(o="^"+o),"$"!=o.charAt(o.length-1)&&(o+="$"),new RegExp(o,(e||"").replace("g",""))},this.getLineTokens=function(i,C){if(C&&"string"!=typeof C){var F=C.slice(0);C=F[0],"#tmp"===C&&(F.shift(),C=F.shift())}else var F=[];var n=C||"start",r=this.states[n];r||(n="start",r=this.states[n]);var s=this.matchMappings[n],o=this.regExps[n];o.lastIndex=0;for(var u=[],E=0,l=0,c={type:null,value:""},h;h=o.exec(i);){var a=s.defaultToken,w=null,d=h[0],$=o.lastIndex;if($-d.length>E){var m=i.substring(E,$-d.length);c.type==a?c.value+=m:(c.type&&u.push(c),c={type:a,value:m})}for(var b=0;b<h.length-2;b++)if(void 0!==h[b+1]){w=r[s[b]],a=w.onMatch?w.onMatch(d,n,F,i):w.token,w.next&&(n="string"==typeof w.next?w.next:w.next(n,F),r=this.states[n],r||(this.reportError("state doesn't exist",n),n="start",r=this.states[n]),s=this.matchMappings[n],E=$,o=this.regExps[n],o.lastIndex=$),w.consumeLineEnd&&(E=$);break}if(d)if("string"==typeof a)w&&!1===w.merge||c.type!==a?(c.type&&u.push(c),c={type:a,value:d}):c.value+=d;else if(a){c.type&&u.push(c),c={type:null,value:""};for(var b=0;b<a.length;b++)u.push(a[b])}if(E==i.length)break;if(E=$,l++>A){for(l>2*i.length&&this.reportError("infinite loop with in ace tokenizer",{startState:C,line:i});E<i.length;)c.type&&u.push(c),c={value:i.substring(E,E+=2e3),type:"overflow"};n="start",F=[];break}}return c.type&&u.push(c),1<F.length&&F[0]!==n&&F.unshift("#tmp",n),{tokens:u,state:F.length?F:n}},this.reportError=t.reportError}).call(o.prototype),e.Tokenizer=o}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(n,e){"use strict";var t=n("../lib/lang"),o=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(o,e){if(!e){for(var a in o)this.$rules[a]=o[a];return}for(var a in o){for(var n=o[a],r=0,i;r<n.length;r++)i=n[r],(i.next||i.onMatch)&&("string"==typeof i.next&&0!==i.next.indexOf(e)&&(i.next=e+i.next),i.nextState&&0!==i.nextState.indexOf(e)&&(i.nextState=e+i.nextState));this.$rules[e+a]=n}},this.getRules=function(){return this.$rules},this.embedRules=function(r,l,d,n,i){var s="function"==typeof r?new r().getRules():r;if(n)for(var o=0;o<n.length;o++)n[o]=l+n[o];else for(var c in n=[],s)n.push(l+c);if(this.addRules(s,l),d)for(var a=Array.prototype[i?"push":"unshift"],o=0;o<n.length;o++)a.apply(this.$rules[n[o]],t.deepCopy(d));this.$embeds||(this.$embeds=[]),this.$embeds.push(l)},this.getEmbeds=function(){return this.$embeds};var s=function(n,e){return("start"!=n||e.length)&&e.unshift(this.nextState,n),this.nextState},e=function(n,e){return e.shift(),e.shift()||"start"};this.normalizeRules=function(){function t(r){var i=n[r];i.processed=!0;for(var g=0;g<i.length;g++){var u=i[g],m=null;Array.isArray(u)&&(m=u,u={}),!u.regex&&u.start&&(u.regex=u.start,u.next||(u.next=[]),u.next.push({defaultToken:u.token},{token:u.token+".end",regex:u.end||u.start,next:"pop"}),u.token+=".start",u.push=!0);var A=u.next||u.push;if(A&&Array.isArray(A)){var l=u.stateName;l||(l=u.token,"string"!=typeof l&&(l=l[0]||""),n[l]&&(l+=o++)),n[l]=A,u.next=l,t(l)}else"pop"==A&&(u.next=e);if(u.push&&(u.nextState=u.next||u.push,u.next=s,delete u.push),u.rules)for(var C in u.rules)n[C]?n[C].push&&n[C].push.apply(n[C],u.rules[C]):n[C]=u.rules[C];var h="string"==typeof u?u:u.include;if(h&&(Array.isArray(h)?m=h.map(function(t){return n[t]}):m=n[h]),m){var p=[g,1].concat(m);u.noEscape&&(p=p.filter(function(t){return!t.next})),i.splice.apply(i,p),g--}u.keywordMap&&(u.token=this.createKeywordMapper(u.keywordMap,u.defaultToken||"text",u.caseInsensitive),delete u.defaultToken)}}var o=0,n=this.$rules;Object.keys(n).forEach(t,this)},this.createKeywordMapper=function(a,o,e,n){var r=Object.create(null);return Object.keys(a).forEach(function(i){var t=a[i];e&&(t=t.toLowerCase());for(var s=t.split(n||"|"),o=s.length;o--;)r[s[o]]=i}),Object.getPrototypeOf(r)&&(r.__proto__=null),this.$keywordList=Object.keys(r),a=null,e?function(t){return r[t.toLowerCase()]||o}:function(t){return r[t]||o}},this.getKeywords=function(){return this.$keywords}}).call(o.prototype),e.TextHighlightRules=o}),ace.define("ace/mode/behaviour",["require","exports","module"],function(n,e){"use strict";var t=function(){this.$behaviours={}};(function(){this.add=function(o,e,t){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[o]:this.$behaviours[o]={};}this.$behaviours[o][e]=t},this.addBehaviours=function(o){for(var e in o)for(var t in o[e])this.add(e,t,o[e][t])},this.remove=function(t){this.$behaviours&&this.$behaviours[t]&&delete this.$behaviours[t]},this.inherit=function(o,r){if("function"==typeof o)var t=new o().getBehaviours(r);else var t=o.getBehaviours(r);this.addBehaviours(t)},this.getBehaviours=function(o){if(!o)return this.$behaviours;for(var r={},t=0;t<o.length;t++)this.$behaviours[o[t]]&&(r[o[t]]=this.$behaviours[o[t]]);return r}}).call(t.prototype),e.Behaviour=t}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(n,e){"use strict";var o=n("./range").Range,t=function(o,e,t){this.$session=o,this.$row=e,this.$rowTokens=o.getTokens(e);var n=o.getTokenAt(e,t);this.$tokenIndex=n?n.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;0>this.$tokenIndex;){if(this.$row-=1,0>this.$row)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var t;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,t||(t=this.$session.getLength()),this.$row>=t)return this.$row=t-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var o=this.$rowTokens,e=this.$tokenIndex,t=o[e].start;if(t!==void 0)return t;for(t=0;0<e;)e-=1,t+=o[e].value.length;return t},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var n=this.$rowTokens[this.$tokenIndex],e=this.getCurrentTokenColumn();return new o(this.$row,e,this.$row,e+n.value.length)}}).call(t.prototype),e.TokenIterator=t}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(n,e){"use strict";var t=n("../../lib/oop"),r=n("../behaviour").Behaviour,g=n("../../token_iterator").TokenIterator,s=n("../../lib/lang"),o=["text","paren.rparen","punctuation.operator"],u=["text","paren.rparen","punctuation.operator","comment"],i={},A={'"':"\"","'":"'"},C=function(n){var e=-1;return n.multiSelect&&(e=n.selection.index,i.rangeCount!=n.multiSelect.rangeCount&&(i={rangeCount:n.multiSelect.rangeCount})),i[e]?l=i[e]:void(l=i[e]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""})},h=function(o,e,t,n){var r=o.end.row-o.start.row;return{text:t+e+n,selection:[0,o.start.column+1,r,o.end.column+(r?0:1)]}},p=function(t){this.add("braces","insertion",function(e,o,n,r,i){var d=n.getCursorPosition(),u=r.doc.getLine(d.row);if("{"==i){C(n);var a=n.getSelectionRange(),A=r.doc.getTextRange(a);if(""!==A&&"{"!==A&&n.getWrapBehavioursEnabled())return h(a,A,"{","}");if(p.isSaneInsertion(n,r))return /[\]\}\)]/.test(u[d.column])||n.inMultiSelectMode||t&&t.braces?(p.recordAutoInsert(n,r,"}"),{text:"{}",selection:[1,1]}):(p.recordMaybeInsert(n,r,"{"),{text:"{",selection:[1,1]})}else if("}"==i){C(n);var c=u.substring(d.column,d.column+1);if("}"==c){var F=r.$findOpeningBracket("}",{column:d.column+1,row:d.row});if(null!==F&&p.isAutoInsertedClosing(d,u,i))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else{if("\n"==i||"\r\n"==i){C(n);var m="";p.isMaybeInsertedClosing(d,u)&&(m=s.stringRepeat("}",l.maybeInsertedBrackets),p.clearMaybeInsertedClosing());var c=u.substring(d.column,d.column+1);if("}"===c){var E=r.findMatchingBracket({row:d.row,column:d.column+1},"}");if(!E)return null;var f=this.$getIndent(r.getLine(E.row))}else{if(!m)return void p.clearMaybeInsertedClosing();var f=this.$getIndent(u)}var $=f+r.getTabString();return{text:"\n"+$+"\n"+f+m,selection:[1,$.length,1,$.length]}}p.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(a,e,t,n,r){var i=n.doc.getTextRange(r);if(!r.isMultiLine()&&"{"==i){C(t);var s=n.doc.getLine(r.start.row),o=s.substring(r.end.column,r.end.column+1);if("}"==o)return r.end.column++,r;l.maybeInsertedBrackets--}}),this.add("parens","insertion",function(d,e,t,n,r){if("("==r){C(t);var i=t.getSelectionRange(),s=n.doc.getTextRange(i);if(""!==s&&t.getWrapBehavioursEnabled())return h(i,s,"(",")");if(p.isSaneInsertion(t,n))return p.recordAutoInsert(t,n,")"),{text:"()",selection:[1,1]}}else if(")"==r){C(t);var o=t.getCursorPosition(),c=n.doc.getLine(o.row),a=c.substring(o.column,o.column+1);if(")"==a){var g=n.$findOpeningBracket(")",{column:o.column+1,row:o.row});if(null!==g&&p.isAutoInsertedClosing(o,c,r))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(a,e,t,n,r){var i=n.doc.getTextRange(r);if(!r.isMultiLine()&&"("==i){C(t);var s=n.doc.getLine(r.start.row),o=s.substring(r.start.column+1,r.start.column+2);if(")"==o)return r.end.column++,r}}),this.add("brackets","insertion",function(d,e,t,n,r){if("["==r){C(t);var i=t.getSelectionRange(),s=n.doc.getTextRange(i);if(""!==s&&t.getWrapBehavioursEnabled())return h(i,s,"[","]");if(p.isSaneInsertion(t,n))return p.recordAutoInsert(t,n,"]"),{text:"[]",selection:[1,1]}}else if("]"==r){C(t);var o=t.getCursorPosition(),c=n.doc.getLine(o.row),a=c.substring(o.column,o.column+1);if("]"==a){var g=n.$findOpeningBracket("]",{column:o.column+1,row:o.row});if(null!==g&&p.isAutoInsertedClosing(o,c,r))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(a,e,t,n,r){var i=n.doc.getTextRange(r);if(!r.isMultiLine()&&"["==i){C(t);var s=n.doc.getLine(r.start.row),o=s.substring(r.start.column+1,r.start.column+2);if("]"==o)return r.end.column++,r}}),this.add("string_dquotes","insertion",function(c,e,t,n,r){var i=n.$mode.$quotes||A;if(1==r.length&&i[r]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(r))return;C(t);var s=r,o=t.getSelectionRange(),u=n.doc.getTextRange(o);if(""!==u&&(1!=u.length||!i[u])&&t.getWrapBehavioursEnabled())return h(o,u,s,s);if(!u){var p=t.getCursorPosition(),F=n.doc.getLine(p.row),l=F.substring(p.column-1,p.column),d=F.substring(p.column,p.column+1),f=n.getTokenAt(p.row,p.column),m=n.getTokenAt(p.row,p.column+1);if("\\"==l&&f&&/escape/.test(f.type))return null;var $=f&&/string|escape/.test(f.type),B=!m||/string|escape/.test(m.type),D;if(d==s)D=$!==B,D&&/string\.end/.test(m.type)&&(D=!1);else{if($&&!B)return null;if($&&B)return null;var w=n.$mode.tokenRe;w.lastIndex=0;var E=w.test(l);w.lastIndex=0;var y=w.test(l);if(E||y)return null;if(d&&!/[\s;,.})\]\\]/.test(d))return null;D=!0}return{text:D?s+s:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(a,e,t,n,r){var i=n.doc.getTextRange(r);if(!r.isMultiLine()&&("\""==i||"'"==i)){C(t);var s=n.doc.getLine(r.start.row),o=s.substring(r.start.column+1,r.start.column+2);if(o==i)return r.end.column++,r}})},l;p.isSaneInsertion=function(s,e){var t=s.getCursorPosition(),n=new g(e,t.row,t.column);if(!this.$matchTokenType(n.getCurrentToken()||"text",o)){var r=new g(e,t.row,t.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",o))return!1}return n.stepForward(),n.getCurrentTokenRow()!==t.row||this.$matchTokenType(n.getCurrentToken()||"text",u)},p.$matchTokenType=function(n,e){return-1<e.indexOf(n.type||n)},p.recordAutoInsert=function(o,e,t){var n=o.getCursorPosition(),r=e.doc.getLine(n.row);this.isAutoInsertedClosing(n,r,l.autoInsertedLineEnd[0])||(l.autoInsertedBrackets=0),l.autoInsertedRow=n.row,l.autoInsertedLineEnd=t+r.substr(n.column),l.autoInsertedBrackets++},p.recordMaybeInsert=function(o,e,t){var n=o.getCursorPosition(),r=e.doc.getLine(n.row);this.isMaybeInsertedClosing(n,r)||(l.maybeInsertedBrackets=0),l.maybeInsertedRow=n.row,l.maybeInsertedLineStart=r.substr(0,n.column)+t,l.maybeInsertedLineEnd=r.substr(n.column),l.maybeInsertedBrackets++},p.isAutoInsertedClosing=function(o,e,t){return 0<l.autoInsertedBrackets&&o.row===l.autoInsertedRow&&t===l.autoInsertedLineEnd[0]&&e.substr(o.column)===l.autoInsertedLineEnd},p.isMaybeInsertedClosing=function(n,e){return 0<l.maybeInsertedBrackets&&n.row===l.maybeInsertedRow&&e.substr(n.column)===l.maybeInsertedLineEnd&&e.substr(0,n.column)==l.maybeInsertedLineStart},p.popAutoInsertedClosing=function(){l.autoInsertedLineEnd=l.autoInsertedLineEnd.substr(1),l.autoInsertedBrackets--},p.clearMaybeInsertedClosing=function(){l&&(l.maybeInsertedBrackets=0,l.maybeInsertedRow=-1)},t.inherits(p,r),e.CstyleBehaviour=p}),ace.define("ace/unicode",["require","exports","module"],function(n,o){"use strict";function e(t){var e=/\w{4}/g;for(var n in t)o.packages[n]=t[n].replace(e,"\\u$&")}o.packages={},e({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})}),ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(n,e){"use strict";var t=n("../tokenizer").Tokenizer,r=n("./text_highlight_rules").TextHighlightRules,i=n("./behaviour/cstyle").CstyleBehaviour,s=n("../unicode"),o=n("../lib/lang"),u=n("../token_iterator").TokenIterator,a=n("../range").Range,d=function(){this.HighlightRules=r};(function(){this.$defaultBehaviour=new i,this.tokenRe=new RegExp("^["+s.packages.L+s.packages.Mn+s.packages.Mc+s.packages.Nd+s.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+s.packages.L+s.packages.Mn+s.packages.Mc+s.packages.Nd+s.packages.Pc+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new t(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(u,e,A,n){function t(o){for(var e=A;e<=n;e++)o(C.getLine(e),e)}var C=e.doc,r=!0,i=!0,F=Infinity,w=e.getTabSize(),f=!1;if(!this.lineCommentStart){if(!this.blockComment)return!1;var l=this.blockComment.start,c=this.blockComment.end,h=new RegExp("^(\\s*)(?:"+o.escapeRegExp(l)+")"),p=new RegExp("(?:"+o.escapeRegExp(c)+")\\s*$"),d=function(n,e){m(n,e)||(!r||/\S/.test(n))&&(C.insertInLine({row:e,column:n.length},c),C.insertInLine({row:e,column:F},l))},$=function(o,e){var t;(t=o.match(p))&&C.removeInLine(e,o.length-t[0].length,o.length),(t=o.match(h))&&C.removeInLine(e,t[1].length,t[0].length)},m=function(t,o){if(h.test(t))return!0;for(var n=e.getTokens(o),r=0;r<n.length;r++)if("comment"===n[r].type)return!0}}else{if(Array.isArray(this.lineCommentStart))var h=this.lineCommentStart.map(o.escapeRegExp).join("|"),l=this.lineCommentStart[0];else var h=o.escapeRegExp(this.lineCommentStart),l=this.lineCommentStart;h=new RegExp("^(\\s*)(?:"+h+") ?"),f=e.getUseSoftTabs();var $=function(o,e){var t=o.match(h);if(t){var n=t[1].length,r=t[0].length;g(o,n,r)||" "!=t[0][r-1]||r--,C.removeInLine(e,n,r)}},d=function(n,e){(!r||/\S/.test(n))&&(g(n,F,F)?C.insertInLine({row:e,column:F},l+" "):C.insertInLine({row:e,column:F},l))},m=function(t){return h.test(t)},g=function(o,e,t){for(var n=0;e--&&" "==o.charAt(e);)n++;if(0!=n%w)return!1;for(var n=0;" "==o.charAt(t++);)n++;return 2<w?n%w!=w-1:0==n%w}}var b=Infinity;t(function(o,e){var t=o.search(/\S/);-1===t?b>o.length&&(b=o.length):(t<F&&(F=t),i&&!m(o,e)&&(i=!1))}),F==Infinity&&(F=b,r=!1,i=!1),f&&0!=F%w&&(F=Math.floor(F/w)*w),t(i?$:d)},this.toggleBlockComment=function(A,e,t,n){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var i=new u(e,n.row,n.column),s=i.getCurrentToken(),o=e.selection,C=e.selection.toOrientedRange(),l,c;if(s&&/comment/.test(s.type)){for(var h,p,d;s&&/comment/.test(s.type);){if(d=s.value.indexOf(r.start),-1!=d){var F=i.getCurrentTokenRow(),m=i.getCurrentTokenColumn()+d;h=new a(F,m,F,m+r.start.length);break}s=i.stepBackward()}for(var i=new u(e,n.row,n.column),s=i.getCurrentToken(),d;s&&/comment/.test(s.type);){if(d=s.value.indexOf(r.end),-1!=d){var F=i.getCurrentTokenRow(),m=i.getCurrentTokenColumn()+d;p=new a(F,m,F,m+r.end.length);break}s=i.stepForward()}p&&e.remove(p),h&&(e.remove(h),l=h.start.row,c=-r.start.length)}else c=r.start.length,l=t.start.row,e.insert(t.end,r.end),e.insert(t.start,r.start);C.start.row==l&&(C.start.column+=c),C.end.row==l&&(C.end.column+=c),e.selection.fromOrientedRange(C)}},this.getNextLineIndent=function(n,e){return this.$getIndent(e)},this.checkOutdent=function(){return!1},this.autoOutdent=function(){},this.$getIndent=function(t){return t.match(/^\s*/)[0]},this.createWorker=function(){return null},this.createModeDelegates=function(o){for(var s in this.$embeds=[],this.$modes={},o)o[s]&&(this.$embeds.push(s),this.$modes[s]=new o[s]);for(var t=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],s=0;s<t.length;s++)(function(n){var e=t[s],o=n[e];n[t[s]]=function(){return this.$delegator(e,arguments,o)}})(this)},this.$delegator=function(a,e,t){var n=e[0];"string"!=typeof n&&(n=n[0]);for(var l=0;l<this.$embeds.length;l++)if(this.$modes[this.$embeds[l]]){var i=n.split(this.$embeds[l]);if(!i[0]&&i[1]){e[0]=i[1];var s=this.$modes[this.$embeds[l]];return s[a].apply(s,e)}}var o=t.apply(this,e);return t?o:void 0},this.transformAction=function(n,e){if(this.$behaviour){var t=this.$behaviour.getBehaviours();for(var r in t)if(t[r][e]){var o=t[r][e].apply(this,arguments);if(o)return o}}},this.getKeywords=function(l){if(!this.completionKeywords){var e=this.$tokenizer.rules,t=[];for(var n in e)for(var r=e[n],i=0,s=r.length;i<s;i++)if("string"==typeof r[i].token)/keyword|support|storage/.test(r[i].token)&&t.push(r[i].regex);else if("object"==typeof r[i].token)for(var o=0,d=r[i].token.length;o<d;o++)if(/keyword|support|storage/.test(r[i].token[o])){var n=r[i].regex.match(/\(.+?\)/g)[o];t.push(n.substr(1,n.length-2))}this.completionKeywords=t}return l?t.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(){var e=this.$keywordList||this.$createKeywordList();return e.map(function(t){return{name:t,value:t,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(d.prototype),e.Mode=d}),ace.define("ace/apply_delta",["require","exports","module"],function(n,e){"use strict";e.applyDelta=function(n,e){var t=e.start.row,r=e.start.column,i=n[t]||"";switch(e.action){case"insert":var s=e.lines;if(1===s.length)n[t]=i.substring(0,r)+e.lines[0]+i.substring(r);else{var o=[t,1].concat(e.lines);n.splice.apply(n,o),n[t]=i.substring(0,r)+n[t],n[t+e.lines.length-1]+=i.substring(r)}break;case"remove":var l=e.end.column,a=e.end.row;t===a?n[t]=i.substring(0,r)+i.substring(l):n.splice(t,a-t+1,i.substring(0,r)+n[a].substring(l));}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,e){"use strict";var o=Math.max,a=n("./lib/oop"),r=n("./lib/event_emitter").EventEmitter,t=e.Anchor=function(o,e,t){this.$onChange=this.onChange.bind(this),this.attach(o),"undefined"==typeof t?this.setPosition(e.row,e.column):this.setPosition(e,t)};(function(){function l(o,i,t){var n=t?o.column<=i.column:o.column<i.column;return o.row<i.row||o.row==i.row&&n}function i(e,d,n){var c="insert"==e.action,i=(c?1:-1)*(e.end.row-e.start.row),s=(c?1:-1)*(e.end.column-e.start.column),o=e.start,g=c?o:e.end;return l(d,o,n)?{row:d.row,column:d.column}:l(g,d,!n)?{row:d.row+i,column:d.column+(d.row==g.row?s:0)}:{row:o.row,column:o.column}}a.implement(this,r),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(t){if((t.start.row!=t.end.row||t.start.row==this.row)&&!(t.start.row>this.row)){var e=i(t,{row:this.row,column:this.column},this.$insertRight);this.setPosition(e.row,e.column,!0)}},this.setPosition=function(o,s,a){var n;if(n=a?{row:o,column:s}:this.$clipPositionToDocument(o,s),this.row!=n.row||this.column!=n.column){var l={row:this.row,column:this.column};this.row=n.row,this.column=n.column,this._signal("change",{old:l,value:n})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(t){this.document=t||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(r,e){var t={};return r>=this.document.getLength()?(t.row=o(0,this.document.getLength()-1),t.column=this.document.getLine(t.row).length):0>r?(t.row=0,t.column=0):(t.row=r,t.column=Math.min(this.document.getLine(t.row).length,o(0,e))),0>e&&(t.column=0),t}}).call(t.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(n,e){"use strict";var d=Math.min,c=Math.max,t=n("./lib/oop"),r=n("./apply_delta").applyDelta,i=n("./lib/event_emitter").EventEmitter,g=n("./range").Range,o=n("./anchor").Anchor,s=function(t){this.$lines=[""],0===t.length?this.$lines=[""]:Array.isArray(t)?this.insertMergedLines({row:0,column:0},t):this.insert({row:0,column:0},t)};(function(){t.implement(this,i),this.setValue=function(n){var e=this.getLength()-1;this.remove(new g(0,0,e,this.getLine(e).length)),this.insert({row:0,column:0},n)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(n,e){return new o(this,n,e)},this.$split=0==="aaa".split(/a/).length?function(t){return t.replace(/\r\n|\r/g,"\n").split("\n")}:function(t){return t.split(/\r\n|\r|\n/)},this.$detectNewLine=function(n){var e=n.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=e?e[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n";}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(t){this.$newLineMode===t||(this.$newLineMode=t,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(t){return"\r\n"==t||"\r"==t||"\n"==t},this.getLine=function(t){return this.$lines[t]||""},this.getLines=function(n,e){return this.$lines.slice(n,e+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(t){return this.getLinesForRange(t).join(this.getNewLineCharacter())},this.getLinesForRange=function(o){var e;if(o.start.row===o.end.row)e=[this.getLine(o.start.row).substring(o.start.column,o.end.column)];else{e=this.getLines(o.start.row,o.end.row),e[0]=(e[0]||"").substring(o.start.column);var t=e.length-1;o.end.row-o.start.row==t&&(e[t]=e[t].substring(0,o.end.column))}return e},this.insertLines=function(n,e){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(n,e)},this.removeLines=function(n,e){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(n,e)},this.insertNewLine=function(t){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(t,["",""])},this.insert=function(n,e){return 1>=this.getLength()&&this.$detectNewLine(e),this.insertMergedLines(n,this.$split(e))},this.insertInLine=function(o,e){var t=this.clippedPos(o.row,o.column),i=this.pos(o.row,o.column+e.length);return this.applyDelta({start:t,end:i,action:"insert",lines:[e]},!0),this.clonePos(i)},this.clippedPos=function(o,i){var s=this.getLength();o===void 0?o=s:0>o?o=0:o>=s&&(o=s-1,i=void 0);var n=this.getLine(o);return i==void 0&&(i=n.length),i=d(c(i,0),n.length),{row:o,column:i}},this.clonePos=function(t){return{row:t.row,column:t.column}},this.pos=function(n,o){return{row:n,column:o}},this.$clipPosition=function(n){var e=this.getLength();return n.row>=e?(n.row=c(0,e-1),n.column=this.getLine(e-1).length):(n.row=c(0,n.row),n.column=d(c(n.column,0),this.getLine(n.row).length)),n},this.insertFullLines=function(o,r){o=d(c(o,0),this.getLength());var t=0;o<this.getLength()?(r=r.concat([""]),t=0):(r=[""].concat(r),o--,t=this.$lines[o].length),this.insertMergedLines({row:o,column:t},r)},this.insertMergedLines=function(o,e){var i=this.clippedPos(o.row,o.column),s={row:i.row+e.length-1,column:(1==e.length?i.column:0)+e[e.length-1].length};return this.applyDelta({start:i,end:s,action:"insert",lines:e}),this.clonePos(s)},this.remove=function(o){var e=this.clippedPos(o.start.row,o.start.column),r=this.clippedPos(o.end.row,o.end.column);return this.applyDelta({start:e,end:r,action:"remove",lines:this.getLinesForRange({start:e,end:r})}),this.clonePos(e)},this.removeInLine=function(o,e,t){var n=this.clippedPos(o,e),s=this.clippedPos(o,t);return this.applyDelta({start:n,end:s,action:"remove",lines:this.getLinesForRange({start:n,end:s})},!0),this.clonePos(n)},this.removeFullLines=function(o,e){o=d(c(0,o),this.getLength()-1),e=d(c(0,e),this.getLength()-1);var t=e==this.getLength()-1&&0<o,n=e<this.getLength()-1,r=t?o-1:o,i=t?this.getLine(r).length:0,s=n?e+1:e,u=n?0:this.getLine(s).length,a=new g(r,i,s,u),m=this.$lines.slice(o,e+1);return this.applyDelta({start:a.start,end:a.end,action:"remove",lines:this.getLinesForRange(a)}),m},this.removeNewLine=function(t){t<this.getLength()-1&&0<=t&&this.applyDelta({start:this.pos(t,this.getLine(t).length),end:this.pos(t+1,0),action:"remove",lines:["",""]})},this.replace=function(o,e){if(o instanceof g||(o=g.fromPoints(o.start,o.end)),0===e.length&&o.isEmpty())return o.start;if(e==this.getTextRange(o))return o.end;this.remove(o);var t;return t=e?this.insert(o.start,e):o.start,t},this.applyDeltas=function(n){for(var e=0;e<n.length;e++)this.applyDelta(n[e])},this.revertDeltas=function(n){for(var e=n.length-1;0<=e;e--)this.revertDelta(n[e])},this.applyDelta=function(o,e){var t="insert"==o.action;(t?1>=o.lines.length&&!o.lines[0]:!g.comparePoints(o.start,o.end))||(t&&2e4<o.lines.length&&this.$splitAndapplyLargeDelta(o,2e4),r(this.$lines,o,e),this._signal("change",o))},this.$splitAndapplyLargeDelta=function(l,e){var t=l.lines,n=t.length,r=l.start.row,i=l.start.column,s=0,o=0;do{s=o,o+=e-1;var d=t.slice(s,o);if(o>n){l.lines=d,l.start.row=r+s,l.start.column=i;break}d.push(""),this.applyDelta({start:this.pos(r+s,i),end:this.pos(r+o,i=0),action:l.action,lines:d},!0)}while(!0)},this.revertDelta=function(t){this.applyDelta({start:this.clonePos(t.start),end:this.clonePos(t.end),action:"insert"==t.action?"remove":"insert",lines:t.lines.slice()})},this.indexToPosition=function(o,e){for(var t=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,r=e||0,a=t.length;r<a;r++)if(o-=t[r].length+n,0>o)return{row:r,column:o+t[r].length+n};return{row:a-1,column:t[a-1].length}},this.positionToIndex=function(a,e){for(var t=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,r=0,i=d(a.row,t.length),s=e||0;s<i;++s)r+=t[s].length+n;return r+a.column}}).call(s.prototype),e.Document=s}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,e){"use strict";var o=Math.min,t=n("./lib/oop"),r=n("./lib/event_emitter").EventEmitter,i=function(t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=t;var a=this;this.$worker=function(){if(a.running){for(var n=new Date,e=a.currentLine,t=-1,r=a.doc,i=e;a.lines[e];)e++;var s=r.getLength(),o=0;for(a.running=!1;e<s;){a.$tokenizeRow(e),t=e;do e++;while(a.lines[e]);if(o++,0==o%5&&20<new Date-n){a.running=setTimeout(a.$worker,20);break}}a.currentLine=e,-1==t&&(t=e),i<=t&&a.fireUpdateEvent(i,t)}}};(function(){t.implement(this,r),this.setTokenizer=function(t){this.tokenizer=t,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(t){this.doc=t,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(n,o){this._signal("update",{data:{first:n,last:o}})},this.start=function(t){this.currentLine=o(t||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(i){var e=i.start.row,t=i.end.row-e;if(0==t)this.lines[e]=null;else if("remove"==i.action)this.lines.splice(e,t+1,null),this.states.splice(e,t+1,null);else{var n=Array(t+1);n.unshift(e,1),this.lines.splice.apply(this.lines,n),this.states.splice.apply(this.states,n)}this.currentLine=o(e,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(t){return this.lines[t]||this.$tokenizeRow(t)},this.getState=function(t){return this.currentLine==t&&this.$tokenizeRow(t),this.states[t]||"start"},this.$tokenizeRow=function(o){var e=this.doc.getLine(o),t=this.states[o-1],n=this.tokenizer.getLineTokens(e,t,o);return this.states[o]+""==n.state+""?this.currentLine==o&&(this.currentLine=o+1):(this.states[o]=n.state,this.lines[o+1]=null,this.currentLine>o+1&&(this.currentLine=o+1)),this.lines[o]=n.tokens}}).call(i.prototype),e.BackgroundTokenizer=i}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(n,e){"use strict";var d=n("./lib/lang"),t=n("./lib/oop"),r=n("./range").Range,i=function(o,e,t){this.setRegexp(o),this.clazz=e,this.type=t||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(t){this.regExp+""==t+""||(this.regExp=t,this.cache=[])},this.update=function(s,e,t,n){if(this.regExp)for(var i=n.firstRow,o=n.lastRow,c=i,a;c<=o;c++){a=this.cache[c],null==a&&(a=d.getMatchOffsets(t.getLine(c),this.regExp),a.length>this.MAX_RANGES&&(a=a.slice(0,this.MAX_RANGES)),a=a.map(function(t){return new r(c,t.offset,c,t.offset+t.length)}),this.cache[c]=a.length?a:"");for(var g=a.length;g--;)e.drawSingleLineMarker(s,a[g].toScreenRange(t),this.clazz,n)}}}).call(i.prototype),e.SearchHighlight=i}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(n,e){"use strict";function l(r,e){this.foldData=r,Array.isArray(e)?this.folds=e:e=this.folds=[e];var t=e[e.length-1];this.range=new o(e[0].start.row,e[0].start.column,t.end.row,t.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(t){t.setFoldLine(this)},this)}var o=n("../range").Range;(function(){this.shiftRow=function(n){this.start.row+=n,this.end.row+=n,this.folds.forEach(function(e){e.start.row+=n,e.end.row+=n})},this.addFold=function(t){if(t.sameRow){if(t.start.row<this.startRow||t.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(t),this.folds.sort(function(n,e){return-n.range.compareEnd(e.start.row,e.start.column)}),0<this.range.compareEnd(t.start.row,t.start.column)?(this.end.row=t.end.row,this.end.column=t.end.column):0>this.range.compareStart(t.end.row,t.end.column)&&(this.start.row=t.start.row,this.start.column=t.start.column)}else if(t.start.row==this.end.row)this.folds.push(t),this.end.row=t.end.row,this.end.column=t.end.column;else{if(t.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(t),this.start.row=t.start.row,this.start.column=t.start.column}t.foldLine=this},this.containsRow=function(t){return t>=this.start.row&&t<=this.end.row},this.walk=function(l,e,t){var n=0,r=this.folds,i=!0,a,s,o;null==e&&(e=this.end.row,t=this.end.column);for(var d=0;d<r.length;d++){if(a=r[d],s=a.range.compareStart(e,t),-1==s)return void l(null,e,t,n,i);if(o=l(null,a.start.row,a.start.column,n,i),o=!o&&l(a.placeholder,a.start.row,a.start.column,n),o||0===s)return;i=!a.sameRow,n=a.end.column}l(null,e,t,n,i)},this.getNextFoldTo=function(o,e){for(var t=0,i,s;t<this.folds.length;t++){if(i=this.folds[t],s=i.range.compareEnd(o,e),-1==s)return{fold:i,kind:"after"};if(0===s)return{fold:i,kind:"inside"}}return null},this.addRemoveChars=function(a,e,t){var n=this.getNextFoldTo(a,e),r,i;if(n)if(r=n.fold,"inside"==n.kind&&r.start.column!=e&&r.start.row!=a)window.console&&window.console.log(a,e,r);else if(r.start.row==a){i=this.folds;var s=i.indexOf(r);for(0===s&&(this.start.column+=t),s;s<i.length;s++){if(r=i[s],r.start.column+=t,!r.sameRow)return;r.end.column+=t}this.end.column+=t}},this.split=function(i,e){var t=this.getNextFoldTo(i,e);if(!t||"inside"==t.kind)return null;var d=t.fold,r=this.folds,s=this.foldData,o=r.indexOf(d),c=r[o-1];this.end.row=c.end.row,this.end.column=c.end.column,r=r.splice(o,r.length-o);var a=new l(s,r);return s.splice(s.indexOf(this)+1,0,a),a},this.merge=function(o){for(var e=o.folds,t=0;t<e.length;t++)this.addFold(e[t]);var n=this.foldData;n.splice(n.indexOf(o),1)},this.toString=function(){var n=[this.range.toString()+": ["];return this.folds.forEach(function(e){n.push("  "+e.toString())}),n.push("]"),n.join("\n")},this.idxToPosition=function(o){for(var e=0,t=0,n;t<this.folds.length;t++){if(n=this.folds[t],o-=n.start.column-e,0>o)return{row:n.start.row,column:n.start.column+o};if(o-=n.placeholder.length,0>o)return n.start;e=n.end.column}return{row:this.end.row,column:this.end.column+o}}}).call(l.prototype),e.FoldLine=l}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(n,e){"use strict";var t=n("./range").Range,l=t.comparePoints,o=function(){this.ranges=[]};(function(){this.comparePoints=l,this.pointIndex=function(i,e,d){for(var n=this.ranges,r=d||0;r<n.length;r++){var c=n[r],o=l(i,c.end);if(!(0<o)){var g=l(i,c.start);return 0===o?e&&0!==g?-r-2:r:0<g||0===g&&!e?r:-r-1}}return-r-1},this.add=function(o){var e=!o.isEmpty(),t=this.pointIndex(o.start,e);0>t&&(t=-t-1);var i=this.pointIndex(o.end,e,t);return 0>i?i=-i-1:i++,this.ranges.splice(t,i-t,o)},this.addList=function(o){for(var e=[],t=o.length;t--;)e.push.apply(e,this.add(o[t]));return e},this.substractPoint=function(n){var e=this.pointIndex(n);if(0<=e)return this.ranges.splice(e,1)},this.merge=function(){var i=[],e=this.ranges;e=e.sort(function(n,e){return l(n.start,e.start)});for(var t=e[0],n=1,s;n<e.length;n++){s=t,t=e[n];var r=l(s.end,t.start);0>r||0==r&&!s.isEmpty()&&!t.isEmpty()||(0>l(s.end,t.end)&&(s.end.row=t.end.row,s.end.column=t.end.column),e.splice(n,1),i.push(t),t=s,n--)}return this.ranges=e,i},this.contains=function(n,o){return 0<=this.pointIndex({row:n,column:o})},this.containsPoint=function(t){return 0<=this.pointIndex(t)},this.rangeAtPoint=function(n){var e=this.pointIndex(n);if(0<=e)return this.ranges[e]},this.clipRows=function(a,l){var d=this.ranges;if(d[0].start.row>l||d[d.length-1].start.row<a)return[];var n=this.pointIndex({row:a,column:0});0>n&&(n=-n-1);var c=this.pointIndex({row:l,column:0},n);0>c&&(c=-c-1);for(var g=[],s=n;s<c;s++)g.push(d[s]);return g},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(t){this.session&&this.detach(),this.session=t,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(d){if("insert"==d.action)var e=d.start,t=d.end;else var t=d.start,e=d.end;for(var n=e.row,r=t.row,i=r-n,s=-e.column+t.column,o=this.ranges,c=0,a=o.length,g;c<a;c++)if(g=o[c],!(g.end.row<n)){if(g.start.row>n)break;if(g.start.row==n&&g.start.column>=e.column&&(g.start.column!=e.column||!this.$insertRight)&&(g.start.column+=s,g.start.row+=i),g.end.row==n&&g.end.column>=e.column){if(g.end.column==e.column&&this.$insertRight)continue;g.end.column==e.column&&0<s&&c<a-1&&g.end.column>g.start.column&&g.end.column==o[c+1].start.column&&(g.end.column-=s),g.end.column+=s,g.end.row+=i}}if(0!=i&&c<a)for(;c<a;c++){var g=o[c];g.start.row+=i,g.end.row+=i}}}).call(o.prototype),e.RangeList=o}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(n,e){"use strict";function d(n,e){n.row-=e.row,0==n.row&&(n.column-=e.column)}function c(n,e){d(n.start,e),d(n.end,e)}function a(n,e){0==n.row&&(n.column+=e.column),n.row+=e.row}function t(n,e){a(n.start,e),a(n.end,e)}var l=n("../range").Range,r=n("../range_list").RangeList,i=n("../lib/oop"),s=e.Fold=function(n,e){this.foldLine=null,this.placeholder=e,this.range=n,this.start=n.start,this.end=n.end,this.sameRow=n.start.row==n.end.row,this.subFolds=this.ranges=[]};i.inherits(s,r),function(){this.toString=function(){return"\""+this.placeholder+"\" "+this.range.toString()},this.setFoldLine=function(n){this.foldLine=n,this.subFolds.forEach(function(e){e.setFoldLine(n)})},this.clone=function(){var n=this.range.clone(),o=new s(n,this.placeholder);return this.subFolds.forEach(function(t){o.subFolds.push(t.clone())}),o.collapseChildren=this.collapseChildren,o},this.addSubFold=function(a){if(!this.range.isEqual(a)){if(!this.range.containsRange(a))throw new Error("A fold can't intersect already existing fold"+a.range+this.range);c(a,this.start);for(var e=a.start.row,t=a.start.column,n=0,r=-1;n<this.subFolds.length&&(r=this.subFolds[n].range.compare(e,t),1==r);n++);var i=this.subFolds[n];if(0==r)return i.addSubFold(a);for(var e=a.range.end.row,t=a.range.end.column,s=n,r=-1;s<this.subFolds.length&&(r=this.subFolds[s].range.compare(e,t),1==r);s++);this.subFolds[s];if(0==r)throw new Error("A fold can't intersect already existing fold"+a.range+this.range);this.subFolds.splice(n,s-n,a);return a.setFoldLine(this.foldLine),a}},this.restoreRange=function(n){return t(n,this.start)}}.call(s.prototype)}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(n,e){"use strict";var d=n("../range").Range,g=n("./fold_line").FoldLine,i=n("./fold").Fold,r=n("../token_iterator").TokenIterator;e.Folding=function(){this.getFoldAt=function(a,e,t){var n=this.getFoldLine(a);if(!n)return null;for(var l=n.folds,i=0,s;i<l.length;i++)if(s=l[i],s.range.contains(a,e)){if(1==t&&s.range.isEnd(a,e))continue;if(-1==t&&s.range.isStart(a,e))continue;return s}},this.getFoldsInRange=function(l){var e=l.start,t=l.end,n=this.$foldData,r=[];e.column+=1,t.column-=1;for(var i=0,s;i<n.length;i++)if(s=n[i].range.compareRange(l),2!=s){if(-2==s)break;for(var o=n[i].folds,d=0,a;d<o.length&&(a=o[d],s=a.range.compareRange(l),-2!=s);d++)if(2!=s){if(42==s)break;r.push(a)}}return e.column-=1,t.column+=1,r},this.getFoldsInRangeList=function(n){if(Array.isArray(n)){var o=[];n.forEach(function(t){o=o.concat(this.getFoldsInRange(t))},this)}else var o=this.getFoldsInRange(n);return o},this.getAllFolds=function(){for(var o=[],e=this.$foldData,t=0;t<e.length;t++)for(var n=0;n<e[t].folds.length;n++)o.push(e[t].folds[n]);return o},this.getFoldStringAt=function(l,e,t,n){if(n=n||this.getFoldLine(l),!n)return null;for(var d={end:{column:0}},i=0,c,s;i<n.folds.length;i++){s=n.folds[i];var o=s.range.compareEnd(l,e);if(-1==o){c=this.getLine(s.start.row).substring(d.end.column,s.start.column);break}if(0===o)return null;d=s}return c||(c=this.getLine(s.start.row).substring(d.end.column)),-1==t?c.substring(0,e-d.end.column):1==t?c.substring(e-d.end.column):c},this.getFoldLine=function(o,e){var t=this.$foldData,n=0;for(e&&(n=t.indexOf(e)),-1==n&&(n=0),n;n<t.length;n++){var r=t[n];if(r.start.row<=o&&r.end.row>=o)return r;if(r.end.row>o)return null}return null},this.getNextFoldLine=function(o,e){var t=this.$foldData,n=0;for(e&&(n=t.indexOf(e)),-1==n&&(n=0),n;n<t.length;n++){var r=t[n];if(r.end.row>=o)return r}return null},this.getFoldedRowCount=function(a,e){for(var t=this.$foldData,n=e-a+1,r=0;r<t.length;r++){var i=t[r],s=i.end.row,o=i.start.row;if(s>=e){o<e&&(o>=a?n-=e-o:n=0);break}s>=a&&(o>=a?n-=s-o:n-=s-a+1)}return n},this.$addFoldLine=function(t){return this.$foldData.push(t),this.$foldData.sort(function(n,e){return n.start.row-e.start.row}),t},this.addFold=function(s,e){var t=this.$foldData,n=!1,r;s instanceof i?r=s:(r=new i(e,s),r.collapseChildren=e.collapseChildren),this.$clipRangeToDocument(r.range);var A=r.start.row,u=r.start.column,a=r.end.row,C=r.end.column;if(A<a||A==a&&u<=C-2){var l=this.getFoldAt(A,u,1),c=this.getFoldAt(a,C,-1);if(l&&c==l)return l.addSubFold(r);l&&!l.range.isStart(A,u)&&this.removeFold(l),c&&!c.range.isEnd(a,C)&&this.removeFold(c);var h=this.getFoldsInRange(r.range);0<h.length&&(this.removeFolds(h),h.forEach(function(t){r.addSubFold(t)}));for(var p=0,d;p<t.length;p++){if(d=t[p],a==d.start.row){d.addFold(r),n=!0;break}if(A==d.end.row){if(d.addFold(r),n=!0,!r.sameRow){var F=t[p+1];if(F&&F.start.row==a){d.merge(F);break}}break}if(a<=d.start.row)break}return n||(d=this.$addFoldLine(new g(this.$foldData,r))),this.$useWrapMode?this.$updateWrapData(d.start.row,d.start.row):this.$updateRowLengthCache(d.start.row,d.start.row),this.$modified=!0,this._signal("changeFold",{data:r,action:"add"}),r}throw new Error("The range has to be at least 2 characters width")},this.addFolds=function(t){t.forEach(function(t){this.addFold(t)},this)},this.removeFold=function(a){var l=a.foldLine,t=l.start.row,n=l.end.row,r=this.$foldData,i=l.folds;if(1==i.length)r.splice(r.indexOf(l),1);else if(l.range.isEnd(a.end.row,a.end.column))i.pop(),l.end.row=i[i.length-1].end.row,l.end.column=i[i.length-1].end.column;else if(l.range.isStart(a.start.row,a.start.column))i.shift(),l.start.row=i[0].start.row,l.start.column=i[0].start.column;else if(a.sameRow)i.splice(i.indexOf(a),1);else{var s=l.split(a.start.row,a.start.column);i=s.folds,i.shift(),s.start.row=i[0].start.row,s.start.column=i[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(t,n):this.$updateRowLengthCache(t,n)),this.$modified=!0,this._signal("changeFold",{data:a,action:"remove"})},this.removeFolds=function(o){for(var e=[],t=0;t<o.length;t++)e.push(o[t]);e.forEach(function(t){this.removeFold(t)},this),this.$modified=!0},this.expandFold=function(n){this.removeFold(n),n.subFolds.forEach(function(e){n.restoreRange(e),this.addFold(e)},this),0<n.collapseChildren&&this.foldAll(n.start.row+1,n.end.row,n.collapseChildren-1),n.subFolds=[]},this.expandFolds=function(t){t.forEach(function(t){this.expandFold(t)},this)},this.unfold=function(o,r){var t,n;if(null==o?(t=new d(0,0,this.getLength(),0),r=!0):"number"==typeof o?t=new d(o,0,o,this.getLine(o).length):"row"in o?t=d.fromPoints(o,o):t=o,n=this.getFoldsInRangeList(t),r)this.removeFolds(n);else for(var i=n;i.length;)this.expandFolds(i),i=this.getFoldsInRangeList(t);return n.length?n:void 0},this.isRowFolded=function(n,e){return!!this.getFoldLine(n,e)},this.getRowFoldEnd=function(o,e){var t=this.getFoldLine(o,e);return t?t.end.row:o},this.getRowFoldStart=function(o,e){var t=this.getFoldLine(o,e);return t?t.start.row:o},this.getFoldDisplayLine=function(a,e,t,l,r){null==l&&(l=a.start.row),null==r&&(r=0),null==e&&(e=a.end.row),null==t&&(t=this.getLine(e).length);var i=this.doc,s="";return a.walk(function(o,e,t,n){if(!(e<l)){if(e==l){if(t<r)return;n=Math.max(r,n)}s+=null==o?i.getLine(e).substring(n,t):o}},e,t),s},this.getDisplayLine=function(o,e,t,n){var r=this.getFoldLine(o);if(!r){var a;return a=this.doc.getLine(o),a.substring(n||0,e||a.length)}return this.getFoldDisplayLine(r,o,e,t,n)},this.$cloneFoldData=function(){var o=[];return o=this.$foldData.map(function(e){var t=e.folds.map(function(t){return t.clone()});return new g(o,t)}),o},this.toggleFold=function(a){var e=this.selection,t=e.getRange(),n,r;if(t.isEmpty()){var i=t.start;if(n=this.getFoldAt(i.row,i.column),n)return void this.expandFold(n);(r=this.findMatchingBracket(i))?1==t.comparePoint(r)?t.end=r:(t.start=r,t.start.column++,t.end.column--):(r=this.findMatchingBracket({row:i.row,column:i.column+1}))?(1==t.comparePoint(r)?t.end=r:t.start=r,t.start.column++):t=this.getCommentFoldRange(i.row,i.column)||t}else{var s=this.getFoldsInRange(t);if(a&&s.length)return void this.expandFolds(s);1==s.length&&(n=s[0])}if(n||(n=this.getFoldAt(t.start.row,t.start.column)),n&&n.range.toString()==t.toString())return void this.expandFold(n);var o="...";if(!t.isMultiLine()){if(o=this.getTextRange(t),4>o.length)return;o=o.trim().substring(0,2)+".."}this.addFold(o,t)},this.getCommentFoldRange=function(o,e,t){var n=new r(this,o,e),i=n.getCurrentToken(),s=i.type;if(i&&/^comment|string/.test(s)){s=s.match(/comment|string/)[0],"comment"==s&&(s+="|doc-start");var g=new RegExp(s),a=new d;if(1!=t){do i=n.stepBackward();while(i&&g.test(i.type));n.stepForward()}if(a.start.row=n.getCurrentTokenRow(),a.start.column=n.getCurrentTokenColumn()+2,n=new r(this,o,e),-1!=t){var u=-1;do if(i=n.stepForward(),-1==u){var l=this.getState(n.$row);g.test(l)||(u=n.$row)}else if(n.$row>u)break;while(i&&g.test(i.type));i=n.stepBackward()}else i=n.getCurrentToken();return a.end.row=n.getCurrentTokenRow(),a.end.column=n.getCurrentTokenColumn()+i.value.length-2,a}},this.foldAll=function(a,e,t){t==void 0&&(t=1e5);var n=this.foldWidgets;if(n){e=e||this.getLength(),a=a||0;for(var r=a;r<e;r++)if(null==n[r]&&(n[r]=this.getFoldWidget(r)),"start"==n[r]){var i=this.getFoldWidgetRange(r);if(i&&i.isMultiLine()&&i.end.row<=e&&i.start.row>=a){r=i.end.row;try{var s=this.addFold("...",i);s&&(s.collapseChildren=t)}catch(e){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(n){if(!this.$foldStyles[n])throw new Error("invalid fold style: "+n+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=n){this.$foldStyle=n,"manual"==n&&this.unfold();var e=this.$foldMode;this.$setFolding(null),this.$setFolding(e)}},this.$setFolding=function(t){if(this.$foldMode!=t)return this.$foldMode=t,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),t&&"manual"!=this.$foldStyle?void(this.foldWidgets=[],this.getFoldWidget=t.getFoldWidget.bind(t,this,this.$foldStyle),this.getFoldWidgetRange=t.getFoldWidgetRange.bind(t,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):void(this.foldWidgets=null)},this.getParentFoldRangeData=function(a,e){var t=this.foldWidgets;if(!t||e&&t[a])return{};for(var l=a-1,r,d;0<=l;){if(d=t[l],null==d&&(d=t[l]=this.getFoldWidget(l)),"start"==d){var s=this.getFoldWidgetRange(l);if(r||(r=s),s&&s.end.row>=a)break}l--}return{range:-1!=l&&s,firstRange:r}},this.onFoldWidgetClick=function(o,e){e=e.domEvent;var t={children:e.shiftKey,all:e.ctrlKey||e.metaKey,siblings:e.altKey},n=this.$toggleFoldWidget(o,t);if(!n){var s=e.target||e.srcElement;s&&/ace_fold-widget/.test(s.className)&&(s.className+=" ace_invalid")}},this.$toggleFoldWidget=function(l,e){if(this.getFoldWidget){var t=this.getFoldWidget(l),n=this.getLine(l),r="end"===t?-1:1,i=this.getFoldAt(l,-1==r?0:n.length,r);if(i)return e.children||e.all?this.removeFold(i):this.expandFold(i),i;var s=this.getFoldWidgetRange(l,!0);if(s&&!s.isMultiLine()&&(i=this.getFoldAt(s.start.row,s.start.column,1),i&&s.isEqual(i.range)))return this.removeFold(i),i;if(e.siblings){var o=this.getParentFoldRangeData(l);if(o.range)var d=o.range.start.row+1,a=o.range.end.row;this.foldAll(d,a,e.all?1e4:0)}else e.children?(a=s?s.end.row:this.getLength(),this.foldAll(l+1,a,e.all?1e4:0)):s&&(e.all&&(s.collapseChildren=1e4),this.addFold("...",s));return s}},this.toggleFoldWidget=function(){var e=this.selection.getCursor().row;e=this.getRowFoldStart(e);var t=this.$toggleFoldWidget(e,{});if(!t){var o=this.getParentFoldRangeData(e,!0);if(t=o.range||o.firstRange,t){e=t.start.row;var r=this.getFoldAt(e,this.getLine(e).length,1);r?this.removeFold(r):this.addFold("...",t)}}},this.updateFoldWidgets=function(o){var e=o.start.row,t=o.end.row-e;if(0==t)this.foldWidgets[e]=null;else if("remove"==o.action)this.foldWidgets.splice(e,t+1,null);else{var n=Array(t+1);n.unshift(e,1),this.foldWidgets.splice.apply(this.foldWidgets,n)}},this.tokenizerUpdateFoldWidgets=function(n){var e=n.data;e.first!=e.last&&this.foldWidgets.length>e.first&&this.foldWidgets.splice(e.first,this.foldWidgets.length)}}}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(n,e){"use strict";var d=n("../token_iterator").TokenIterator,t=n("../range").Range;e.BracketMatch=function(){this.findMatchingBracket=function(o,e){if(0==o.column)return null;var t=e||this.getLine(o.row).charAt(o.column-1);if(""==t)return null;var n=t.match(/([\(\[\{])|([\)\]\}])/);return n?n[1]?this.$findClosingBracket(n[1],o):this.$findOpeningBracket(n[2],o):null},this.getBracketRange=function(i){var e=this.getLine(i.row),a=!0,n=e.charAt(i.column-1),s=n&&n.match(/([\(\[\{])|([\)\]\}])/),l;if(s||(n=e.charAt(i.column),i={row:i.row,column:i.column+1},s=n&&n.match(/([\(\[\{])|([\)\]\}])/),a=!1),!s)return null;if(s[1]){var r=this.$findClosingBracket(s[1],i);if(!r)return null;l=t.fromPoints(i,r),a||(l.end.column++,l.start.column--),l.cursor=l.end}else{var r=this.$findOpeningBracket(s[2],i);if(!r)return null;l=t.fromPoints(r,i),a||(l.start.column++,l.end.column--),l.cursor=l.start}return l},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(r,e,t){var n=this.$brackets[r],i=1,s=new d(this,e.row,e.column),o=s.getCurrentToken();if(o||(o=s.stepForward()),!!o){t||(t=new RegExp("(\\.?"+o.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var c=e.column-s.getCurrentTokenColumn()-2,a=o.value;;){for(;0<=c;){var g=a.charAt(c);if(g!=n)g==r&&(i+=1);else if(i-=1,0==i)return{row:s.getCurrentTokenRow(),column:c+s.getCurrentTokenColumn()};c-=1}do o=s.stepBackward();while(o&&!t.test(o.type));if(null==o)break;a=o.value,c=a.length-1}return null}},this.$findClosingBracket=function(r,e,t){var n=this.$brackets[r],i=1,s=new d(this,e.row,e.column),o=s.getCurrentToken();if(o||(o=s.stepForward()),!!o){t||(t=new RegExp("(\\.?"+o.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var g=e.column-s.getCurrentTokenColumn();;){for(var a=o.value,m=a.length,l;g<m;){if(l=a.charAt(g),l!=n)l==r&&(i+=1);else if(i-=1,0==i)return{row:s.getCurrentTokenRow(),column:g+s.getCurrentTokenColumn()};g+=1}do o=s.stepForward();while(o&&!t.test(o.type));if(null==o)break;g=0}return null}}}}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(n,e){"use strict";var g=Number.MAX_VALUE,A=Math.min,m=Math.max,C=Math.floor,F=n("./lib/oop"),r=n("./lib/lang"),i=n("./bidihandler").BidiHandler,s=n("./config"),o=n("./lib/event_emitter").EventEmitter,u=n("./selection").Selection,a=n("./mode/text").Mode,E=n("./range").Range,l=n("./document").Document,t=n("./background_tokenizer").BackgroundTokenizer,c=n("./search_highlight").SearchHighlight,h=function(n,o){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++h.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof n&&n.getLine||(n=new l(n)),this.$bidiHandler=new i(this),this.setDocument(n),this.selection=new u(this),s.resetOptions(this),this.setMode(o),s._signal("session",this)};h.$uid=0,function(){function l(t){return!(4352>t)&&(4352<=t&&4447>=t||4515<=t&&4519>=t||4602<=t&&4607>=t||9001<=t&&9002>=t||11904<=t&&11929>=t||11931<=t&&12019>=t||12032<=t&&12245>=t||12272<=t&&12283>=t||12288<=t&&12350>=t||12353<=t&&12438>=t||12441<=t&&12543>=t||12549<=t&&12589>=t||12593<=t&&12686>=t||12688<=t&&12730>=t||12736<=t&&12771>=t||12784<=t&&12830>=t||12832<=t&&12871>=t||12880<=t&&13054>=t||13056<=t&&19903>=t||19968<=t&&42124>=t||42128<=t&&42182>=t||43360<=t&&43388>=t||44032<=t&&55203>=t||55216<=t&&55238>=t||55243<=t&&55291>=t||63744<=t&&64255>=t||65040<=t&&65049>=t||65072<=t&&65106>=t||65108<=t&&65126>=t||65128<=t&&65131>=t||65281<=t&&65376>=t||65504<=t&&65510>=t)}F.implement(this,o),this.setDocument=function(t){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=t,t.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(o){if(!o)return this.$docRowCache=[],void(this.$screenRowCache=[]);var r=this.$docRowCache.length,t=this.$getRowCacheIndex(this.$docRowCache,o)+1;r>t&&(this.$docRowCache.splice(t,r),this.$screenRowCache.splice(t,r))},this.$getRowCacheIndex=function(o,e){for(var t=0,n=o.length-1;t<=n;){var r=t+n>>1,i=o[r];if(e>i)t=r+1;else{if(!(e<i))return r;n=r-1}}return t-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(n){var e=n.data;this.$resetRowCache(e.start.row)},this.onChange=function(n){this.$modified=!0,this.$bidiHandler.onChange(n),this.$resetRowCache(n.start.row);var e=this.$updateInternalDataOnChange(n);this.$fromUndo||!this.$undoManager||n.ignore||(this.$deltasDoc.push(n),e&&0!=e.length&&this.$deltasFold.push({action:"removeFolds",folds:e}),this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(n),this._signal("change",n)},this.setValue=function(t){this.doc.setValue(t),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(t){return this.bgTokenizer.getState(t)},this.getTokens=function(t){return this.bgTokenizer.getTokens(t)},this.getTokenAt=function(o,e){var t=this.bgTokenizer.getTokens(o),n=0,i;if(null==e){var r=t.length-1;n=this.getLine(o).length}else for(var r=0;r<t.length&&(n+=t[r].value.length,!(n>=e));r++);return i=t[r],i?(i.index=r,i.start=n-i.value.length,i):null},this.setUndoManager=function(n){if(this.$undoManager=n,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),n){var e=this;this.$syncInformUndoManager=function(){e.$informUndoManager.cancel(),e.$deltasFold.length&&(e.$deltas.push({group:"fold",deltas:e.$deltasFold}),e.$deltasFold=[]),e.$deltasDoc.length&&(e.$deltas.push({group:"doc",deltas:e.$deltasDoc}),e.$deltasDoc=[]),0<e.$deltas.length&&n.execute({action:"aceupdate",args:[e.$deltas,e],merge:e.mergeUndoDeltas}),e.mergeUndoDeltas=!1,e.$deltas=[]},this.$informUndoManager=r.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?r.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(t){this.setOption("useSoftTabs",t)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(t){this.setOption("tabSize",t)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(t){return this.$useSoftTabs&&0==t.column%this.$tabSize},this.setNavigateWithinSoftTabs=function(t){this.setOption("navigateWithinSoftTabs",t)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(t){this.setOption("overwrite",t)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(n,e){this.$decorations[n]||(this.$decorations[n]=""),this.$decorations[n]+=" "+e,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(n,e){this.$decorations[n]=(this.$decorations[n]||"").replace(" "+e,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(n){this.$breakpoints=[];for(var e=0;e<n.length;e++)this.$breakpoints[n[e]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(n,e){e===void 0&&(e="ace_breakpoint"),e?this.$breakpoints[n]=e:delete this.$breakpoints[n],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(t){delete this.$breakpoints[t],this._signal("changeBreakpoint",{})},this.addMarker=function(o,a,l,d){var c=this.$markerId++,g={range:o,type:l||"line",renderer:"function"==typeof l?l:null,clazz:a,inFront:!!d,id:c};return d?(this.$frontMarkers[c]=g,this._signal("changeFrontMarker")):(this.$backMarkers[c]=g,this._signal("changeBackMarker")),c},this.addDynamicMarker=function(o,e){if(o.update){var r=this.$markerId++;return o.id=r,o.inFront=!!e,e?(this.$frontMarkers[r]=o,this._signal("changeFrontMarker")):(this.$backMarkers[r]=o,this._signal("changeBackMarker")),o}},this.removeMarker=function(o){var e=this.$frontMarkers[o]||this.$backMarkers[o];if(e){var t=e.inFront?this.$frontMarkers:this.$backMarkers;e&&(delete t[o],this._signal(e.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(t){return t?this.$frontMarkers:this.$backMarkers},this.highlight=function(n){if(!this.$searchHighlight){var e=new c(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(e)}this.$searchHighlight.setRegexp(n)},this.highlightLines=function(o,e,s,n){"number"!=typeof e&&(s=e,e=o),s||(s="ace_step");var r=new E(o,0,e,Infinity);return r.id=this.addMarker(r,s,"fullLine",n),r},this.setAnnotations=function(t){this.$annotations=t,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(n){var e=n.match(/^.*?(\r?\n)/m);this.$autoNewLine=e?e[1]:"\n"},this.getWordRange=function(a,e){var t=this.getLine(a),n=!1;if(0<e&&(n=!!t.charAt(e-1).match(this.tokenRe)),n||(n=!!t.charAt(e).match(this.tokenRe)),n)var r=this.tokenRe;else if(/^\s+$/.test(t.slice(e-1,e+1)))var r=/\s/;else var r=this.nonTokenRe;var i=e;if(0<i){do i--;while(0<=i&&t.charAt(i).match(r));i++}for(var s=e;s<t.length&&t.charAt(s).match(r);)s++;return new E(a,i,a,s)},this.getAWordRange=function(o,e){for(var t=this.getWordRange(o,e),n=this.getLine(t.end.row);n.charAt(t.end.column).match(/[ \t]/);)t.end.column+=1;return t},this.setNewLineMode=function(t){this.doc.setNewLineMode(t)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(t){this.setOption("useWorker",t)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(n){var e=n.data;this.bgTokenizer.start(e.first),this._signal("tokenizerUpdate",n)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(o,i){if(o&&"object"==typeof o){if(o.getTokenizer)return this.$onChangeMode(o);var t=o,l=t.path}else l=o||"ace/mode/text";return this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new a),this.$modes[l]&&!t?(this.$onChangeMode(this.$modes[l]),void(i&&i())):void(this.$modeId=l,s.loadModule(["mode",l],function(o){return this.$modeId===l?void(this.$modes[l]&&!t?this.$onChangeMode(this.$modes[l]):o&&o.Mode&&(o=new o.Mode(t),t||(this.$modes[l]=o,o.$id=l),this.$onChangeMode(o)),i&&i()):i&&i()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0))},this.$onChangeMode=function(o,e){if(e||(this.$modeId=o.$id),this.$mode!==o){this.$mode=o,this.$stopWorker(),this.$useWorker&&this.$startWorker();var s=o.getTokenizer();if(void 0!==s.addEventListener){var n=this.onReloadTokenizer.bind(this);s.addEventListener("update",n)}if(!this.bgTokenizer){this.bgTokenizer=new t(s);var r=this;this.bgTokenizer.addEventListener("update",function(t){r._signal("tokenizerUpdate",t)})}else this.bgTokenizer.setTokenizer(s);this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=o.tokenRe,this.nonTokenRe=o.nonTokenRe,e||(o.attachToSession&&o.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(o.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(t){s.warn("Could not load worker",t),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(t){this.$scrollTop===t||isNaN(t)||(this.$scrollTop=t,this._signal("changeScrollTop",t))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(t){this.$scrollLeft===t||isNaN(t)||(this.$scrollLeft=t,this._signal("changeScrollLeft",t))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?m(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var n=0;return this.lineWidgets.forEach(function(e){e&&e.screenWidth>n&&(n=e.screenWidth)}),this.lineWidgetWidth=n},this.$computeWidth=function(l){if(this.$modified||l){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var e=this.doc.getAllLines(),t=this.$rowLengthCache,n=0,r=0,i=this.$foldData[r],s=i?i.start.row:Infinity,o=e.length,d=0;d<o;d++){if(d>s){if(d=i.end.row+1,d>=o)break;i=this.$foldData[r++],s=i?i.start.row:Infinity}null==t[d]&&(t[d]=this.$getStringScreenWidth(e[d])[0]),t[d]>n&&(n=t[d])}this.screenWidth=n}},this.getLine=function(t){return this.doc.getLine(t)},this.getLines=function(n,e){return this.doc.getLines(n,e)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(t){return this.doc.getTextRange(t||this.selection.getRange())},this.insert=function(n,e){return this.doc.insert(n,e)},this.remove=function(t){return this.doc.remove(t)},this.removeFullLines=function(n,e){return this.doc.removeFullLines(n,e)},this.undoChanges=function(o,e){if(o.length){this.$fromUndo=!0;for(var s=null,n=o.length-1,r;-1!=n;n--)r=o[n],"doc"==r.group?(this.doc.revertDeltas(r.deltas),s=this.$getUndoSelection(r.deltas,!0,s)):r.deltas.forEach(function(t){this.addFolds(t.folds)},this);return this.$fromUndo=!1,s&&this.$undoSelect&&!e&&this.selection.setSelectionRange(s),s}},this.redoChanges=function(o,e){if(o.length){this.$fromUndo=!0;for(var s=null,n=0,r;n<o.length;n++)r=o[n],"doc"==r.group&&(this.doc.applyDeltas(r.deltas),s=this.$getUndoSelection(r.deltas,!1,s));return this.$fromUndo=!1,s&&this.$undoSelect&&!e&&this.selection.setSelectionRange(s),s}},this.setUndoSelect=function(t){this.$undoSelect=t},this.$getUndoSelection=function(l,d,e){function t(t){return d?"insert"!==t.action:"insert"===t.action}var n=l[0],r=!1,i,s;t(n)?(i=E.fromPoints(n.start,n.end),r=!0):(i=E.fromPoints(n.start,n.start),r=!1);for(var o=1;o<l.length;o++)n=l[o],t(n)?(s=n.start,-1==i.compare(s.row,s.column)&&i.setStart(s),s=n.end,1==i.compare(s.row,s.column)&&i.setEnd(s),r=!0):(s=n.start,-1==i.compare(s.row,s.column)&&(i=E.fromPoints(n.start,n.start)),r=!1);if(null!=e){0===E.comparePoints(e.start,i.start)&&(e.start.column+=i.end.column-i.start.column,e.end.column+=i.end.column-i.start.column);var a=e.compareRange(i);1==a?i.setStart(e.start):-1==a&&i.setEnd(e.end)}return i},this.replace=function(n,e){return this.doc.replace(n,e)},this.moveText=function(l,e,t){var d=this.getTextRange(l),r=this.getFoldsInRange(l),i=E.fromPoints(e,e);if(!t){this.remove(l);var s=l.start.row-l.end.row,o=s?-l.end.column:l.start.column-l.end.column;o&&(i.start.row==l.end.row&&i.start.column>l.end.column&&(i.start.column+=o),i.end.row==l.end.row&&i.end.column>l.end.column&&(i.end.column+=o)),s&&i.start.row>=l.end.row&&(i.start.row+=s,i.end.row+=s)}if(i.end=this.insert(i.start,d),r.length){var c=l.start,a=i.start,s=a.row-c.row,o=a.column-c.column;this.addFolds(r.map(function(t){return t=t.clone(),t.start.row==c.row&&(t.start.column+=o),t.end.row==c.row&&(t.end.column+=o),t.start.row+=s,t.end.row+=s,t}))}return i},this.indentRows=function(o,e,t){t=t.replace(/\t/g,this.getTabString());for(var n=o;n<=e;n++)this.doc.insertInLine({row:n,column:0},t)},this.outdentRows=function(a){for(var e=a.collapseRows(),t=new E(0,0,0,0),n=this.getTabSize(),r=e.start.row,i;r<=e.end.row;++r){i=this.getLine(r),t.start.row=r,t.end.row=r;for(var s=0;s<n&&!(" "!=i.charAt(s));++s);s<n&&"\t"==i.charAt(s)?(t.start.column=s,t.end.column=s+1):(t.start.column=0,t.end.column=s),this.remove(t)}},this.$moveLines=function(a,e,t){if(a=this.getRowFoldStart(a),e=this.getRowFoldEnd(e),0>t){var n=this.getRowFoldStart(a+t);if(0>n)return 0;var r=n-a}else if(0<t){var n=this.getRowFoldEnd(e+t);if(n>this.doc.getLength()-1)return 0;var r=n-e}else{a=this.$clipRowToDocument(a),e=this.$clipRowToDocument(e);var r=e-a+1}var i=new E(a,0,e,g),s=this.getFoldsInRange(i).map(function(t){return t=t.clone(),t.start.row+=r,t.end.row+=r,t}),o=0==t?this.doc.getLines(a,e):this.doc.removeFullLines(a,e);return this.doc.insertFullLines(a+r,o),s.length&&this.addFolds(s),r},this.moveLinesUp=function(n,e){return this.$moveLines(n,e,-1)},this.moveLinesDown=function(n,e){return this.$moveLines(n,e,1)},this.duplicateLines=function(n,e){return this.$moveLines(n,e,0)},this.$clipRowToDocument=function(t){return m(0,A(t,this.doc.getLength()-1))},this.$clipColumnToRow=function(n,e){return 0>e?0:A(this.doc.getLine(n).length,e)},this.$clipPositionToDocument=function(o,r){if(r=m(0,r),0>o)o=0,r=0;else{var i=this.doc.getLength();o>=i?(o=i-1,r=this.doc.getLine(i-1).length):r=A(this.doc.getLine(o).length,r)}return{row:o,column:r}},this.$clipRangeToDocument=function(n){0>n.start.row?(n.start.row=0,n.start.column=0):n.start.column=this.$clipColumnToRow(n.start.row,n.start.column);var e=this.doc.getLength()-1;return n.end.row>e?(n.end.row=e,n.end.column=this.doc.getLine(e).length):n.end.column=this.$clipColumnToRow(n.end.row,n.end.column),n},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(n){if(n!=this.$useWrapMode){if(this.$useWrapMode=n,this.$modified=!0,this.$resetRowCache(0),n){var e=this.getLength();this.$wrapData=Array(e),this.$updateWrapData(0,e-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(n,o){(this.$wrapLimitRange.min!==n||this.$wrapLimitRange.max!==o)&&(this.$wrapLimitRange={min:n,max:o},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(o,e){var i=this.$wrapLimitRange;0>i.max&&(i={min:e,max:e});var n=this.$constrainWrapLimit(o,i.min,i.max);return n!=this.$wrapLimit&&1<n&&(this.$wrapLimit=n,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(o,e,t){return e&&(o=m(e,o)),t&&(o=A(t,o)),o},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(t){this.setWrapLimitRange(t,t)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(g){var e=this.$useWrapMode,t=g.action,n=g.start,r=g.end,i=n.row,s=r.row,o=s-i,m=null;if(this.$updating=!0,0==o){o=Math.abs(g.start.column-g.end.column),"remove"===t&&(m=this.getFoldsInRange(g),this.removeFolds(m),o=-o);var a=this.getFoldLine(i);a&&a.addRemoveChars(i,n.column,o)}else if("remove"===t){this[e?"$wrapData":"$rowLengthCache"].splice(i,o);var l=this.$foldData;m=this.getFoldsInRange(g),this.removeFolds(m);var a=this.getFoldLine(r.row),A=0;if(a){a.addRemoveChars(r.row,r.column,n.column-r.column),a.shiftRow(-o);var c=this.getFoldLine(i);c&&c!==a&&(c.merge(a),a=c),A=l.indexOf(a)+1}for(A;A<l.length;A++){var a=l[A];a.start.row>=r.row&&a.shiftRow(-o)}s=i}else{var h=Array(o);h.unshift(i,0);var p=e?this.$wrapData:this.$rowLengthCache;p.splice.apply(p,h);var l=this.$foldData,a=this.getFoldLine(i),A=0;if(a){var d=a.range.compareInside(n.row,n.column);0==d?(a=a.split(n.row,n.column),a&&(a.shiftRow(o),a.addRemoveChars(s,0,r.column-n.column))):-1==d&&(a.addRemoveChars(i,0,r.column-n.column),a.shiftRow(o)),A=l.indexOf(a)+1}for(A;A<l.length;A++){var a=l[A];a.start.row>=i&&a.shiftRow(o)}}return e&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,e?this.$updateWrapData(i,s):this.$updateRowLengthCache(i,s),m},this.$updateRowLengthCache=function(n,e){this.$rowLengthCache[n]=null,this.$rowLengthCache[e]=null},this.$updateWrapData=function(s,e){var d=this.doc.getAllLines(),t=this.getTabSize(),r=this.$wrapData,o=this.$wrapLimit,c=s,l,a;for(e=A(e,d.length-1);c<=e;)a=this.getFoldLine(c,a),a?(l=[],a.walk(function(r,e,t,s){var o;if(null!=r){o=this.$getDisplayTokens(r,l.length),o[0]=i;for(var a=1;a<o.length;a++)o[a]=n}else o=this.$getDisplayTokens(d[e].substring(s,t),l.length);l=l.concat(o)}.bind(this),a.end.row,d[a.end.row].length+1),r[a.start.row]=this.$computeWrapSplits(l,o,t),c=a.end.row+1):(l=this.$getDisplayTokens(d[c]),r[c]=this.$computeWrapSplits(l,o,t),c++)};var h=1,p=2,i=3,n=4,$=9,B=10,e=11,d=12;this.$computeWrapSplits=function(s,t,a){function c(){var o=0;if(0===f)return o;if(h)for(var t=0,n;t<s.length;t++)if(n=s[t],n==B)o+=1;else{if(n!=e){if(n==d)continue;break}o+=a}return l&&!1!==h&&(o+=a),A(o,f)}function r(e){var t=s.slice(u,e),n=t.length;t.join("").replace(/12/g,function(){n-=1}).replace(/2/g,function(){n-=1}),g.length||(D=c(),g.indent=D),F+=n,g.push(F),u=e}if(0==s.length)return[];for(var g=[],o=s.length,u=0,F=0,l=this.$wrapAsCode,h=this.$indentedSoftWrap,f=t<=m(2*a,8)||!1===h?0:C(t/2),D=0;o-u>t-D;){var b=u+t-D;if(s[b-1]>=B&&s[b]>=B){r(b);continue}if(s[b]==i||s[b]==n){for(b;b!=u-1&&s[b]!=i;b--);if(b>u){r(b);continue}for(b=u+t,b;b<s.length&&s[b]==n;b++);if(b==s.length)break;r(b);continue}for(var w=m(b-(t-(t>>2)),u-1);b>w&&s[b]<i;)b--;if(l){for(;b>w&&s[b]<i;)b--;for(;b>w&&s[b]==$;)b--}else for(;b>w&&s[b]<B;)b--;if(b>w){r(++b);continue}b=u+t,s[b]==p&&b--,r(b-D)}return g},this.$getDisplayTokens=function(t,n){var r=[],i;n=n||0;for(var s=0,o;s<t.length;s++)if(o=t.charCodeAt(s),9==o){i=this.getScreenTabSize(r.length+n),r.push(e);for(var a=1;a<i;a++)r.push(d)}else 32==o?r.push(B):39<o&&48>o||57<o&&64>o?r.push($):4352<=o&&l(o)?r.push(h,p):r.push(h);return r},this.$getStringScreenWidth=function(o,e,t){if(0==e)return[0,0];null==e&&(e=Infinity),t=t||0;var n,r;for(r=0;r<o.length&&(n=o.charCodeAt(r),t+=9==n?this.getScreenTabSize(t):4352<=n&&l(n)?2:1,!(t>e));r++);return[t,r]},this.lineWidgets=null,this.getRowLength=function(n){if(this.lineWidgets)var e=this.lineWidgets[n]&&this.lineWidgets[n].rowCount||0;else e=0;return this.$useWrapMode&&this.$wrapData[n]?this.$wrapData[n].length+1+e:1+e},this.getRowLineCount=function(t){return this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1:1},this.getRowWrapIndent=function(o){if(this.$useWrapMode){var e=this.screenToDocumentPosition(o,Number.MAX_VALUE),t=this.$wrapData[e.row];return t.length&&t[0]<e.column?t.indent:0}return 0},this.getScreenLastRowColumn=function(n){var e=this.screenToDocumentPosition(n,Number.MAX_VALUE);return this.documentToScreenColumn(e.row,e.column)},this.getDocumentLastRowColumn=function(o,e){var t=this.documentToScreenRow(o,e);return this.getScreenLastRowColumn(t)},this.getDocumentLastRowColumnPosition=function(o,e){var t=this.documentToScreenRow(o,e);return this.screenToDocumentPosition(t,g/10)},this.getRowSplitData=function(t){return this.$useWrapMode?this.$wrapData[t]:void 0},this.getScreenTabSize=function(t){return this.$tabSize-t%this.$tabSize},this.screenToDocumentRow=function(n,e){return this.screenToDocumentPosition(n,e).row},this.screenToDocumentColumn=function(n,e){return this.screenToDocumentPosition(n,e).column},this.screenToDocumentPosition=function(A,e,t){if(0>A)return{row:0,column:0};var n=0,F=0,E=0,u=0,a=this.$screenRowCache,f=this.$getRowCacheIndex(a,A),l=a.length,w,r;if(l&&0<=f)var E=a[f],n=this.$docRowCache[f],o=A>a[l-1];else var o=!l;for(var h=this.getLength()-1,$=this.getNextFoldLine(n),d=$?$.start.row:Infinity;E<=A&&(u=this.getRowLength(n),!(E+u>A||n>=h));)E+=u,n++,n>d&&(n=$.end.row+1,$=this.getNextFoldLine(n,$),d=$?$.start.row:Infinity),o&&(this.$docRowCache.push(n),this.$screenRowCache.push(E));if($&&$.start.row<=n)w=this.getFoldDisplayLine($),n=$.start.row;else{if(E+u<=A||n>h)return{row:h,column:this.getLine(h).length};w=this.getLine(n),$=null}var b=0,m=C(A-E);if(this.$useWrapMode){var g=this.$wrapData[n];g&&(r=g[m],0<m&&g.length&&(b=g.indent,F=g[m-1]||g[g.length-1],w=w.substring(F)))}return t!==void 0&&this.$bidiHandler.isBidiRow(E+m,n,m)&&(e=this.$bidiHandler.offsetToCol(t)),F+=this.$getStringScreenWidth(w,e-b)[1],this.$useWrapMode&&F>=r&&(F=r-1),$?$.idxToPosition(F):{row:n,column:F}},this.documentToScreenPosition=function(A,e){if("undefined"==typeof e)var C=this.$clipPositionToDocument(A.row,A.column);else C=this.$clipPositionToDocument(A,e);A=C.row,e=C.column;var n=0,F=null,i=null;i=this.getFoldAt(A,e,1),i&&(A=i.start.row,e=i.start.column);var s=0,u=this.$docRowCache,a=this.$getRowCacheIndex(u,A),E=u.length,f;if(E&&0<=a)var s=u[a],n=this.$screenRowCache[a],o=A>u[E-1];else var o=!E;for(var c=this.getNextFoldLine(s),h=c?c.start.row:Infinity;s<A;){if(s>=h){if(f=c.end.row+1,f>A)break;c=this.getNextFoldLine(f,c),h=c?c.start.row:Infinity}else f=s+1;n+=this.getRowLength(s),s=f,o&&(this.$docRowCache.push(s),this.$screenRowCache.push(n))}var p="";c&&s>=h?(p=this.getFoldDisplayLine(c,A,e),F=c.start.row):(p=this.getLine(A).substring(0,e),F=A);var d=0;if(this.$useWrapMode){var w=this.$wrapData[F];if(w){for(var m=0;p.length>=w[m];)n++,m++;p=p.substring(w[m-1]||0,p.length),d=0<m?w.indent:0}}return{row:n,column:d+this.$getStringScreenWidth(p)[0]}},this.documentToScreenColumn=function(n,e){return this.documentToScreenPosition(n,e).column},this.documentToScreenRow=function(n,e){return this.documentToScreenPosition(n,e).row},this.getScreenLength=function(){var a=0,e=null;if(!this.$useWrapMode){a=this.getLength();for(var t=this.$foldData,n=0;n<t.length;n++)e=t[n],a-=e.end.row-e.start.row}else for(var r=this.$wrapData.length,i=0,n=0,e=this.$foldData[n++],s=e?e.start.row:Infinity,o;i<r;)o=this.$wrapData[i],a+=o?o.length+1:1,i++,i>s&&(i=e.end.row+1,e=this.$foldData[n++],s=e?e.start.row:Infinity);return this.lineWidgets&&(a+=this.$getWidgetScreenLength()),a},this.$setFontMetrics=function(o){this.$enableVarChar&&(this.$getStringScreenWidth=function(e,t,n){if(0===t)return[0,0];t||(t=Infinity),n=n||0;var r,i;for(i=0;i<e.length&&(r=e.charAt(i),n+="\t"===r?this.getScreenTabSize(n):o.getCharacterWidth(r),!(n>t));i++);return[n,i]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()},this.isFullWidth=l}.call(h.prototype),n("./edit_session/folding").Folding.call(h.prototype),n("./edit_session/bracket_match").BracketMatch.call(h.prototype),s.defineOptions(h.prototype,"session",{wrap:{set:function(n){if(n&&"off"!=n?"free"==n?n=!0:"printMargin"==n?n=-1:"string"==typeof n&&(n=parseInt(n,10)||!1):n=!1,this.$wrap!=n)if(this.$wrap=n,!n)this.setUseWrapMode(!1);else{var o="number"==typeof n?n:null;this.setWrapLimitRange(o,o),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(t){t="auto"==t?"text"!=this.$mode.type:"text"!=t,t!=this.$wrapAsCode&&(this.$wrapAsCode=t,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(t){this.$useWorker=t,this.$stopWorker(),t&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(t){isNaN(t)||this.$tabSize===t||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=t,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},overwrite:{set:function(){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(t){this.doc.setNewLineMode(t)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(t){this.setMode(t)},get:function(){return this.$modeId}}}),e.EditSession=h}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(n,e){"use strict";function a(o,r){function e(t){return /\w/.test(t)||r.regExp?"\\b":""}return e(o[0])+o+e(o[o.length-1])}var l=n("./lib/lang"),t=n("./lib/oop"),A=n("./range").Range,r=function(){this.$options={}};(function(){this.set=function(n){return t.mixin(this.$options,n),this},this.getOptions=function(){return l.copyObject(this.$options)},this.setOptions=function(t){this.$options=t},this.find=function(o){var s=this.$options,e=this.$matchIterator(o,s);if(!e)return!1;var t=null;return e.forEach(function(r,e,n,i){return t=new A(r,e,n,i),e==i&&s.start&&s.start.start&&0!=s.skipCurrent&&t.isEqual(s.start)?(t=null,!1):!0}),t},this.findAll=function(r){var e=this.$options;if(!e.needle)return[];this.$assembleRegExp(e);var t=e.range,n=t?r.getLines(t.start.row,t.end.row):r.doc.getAllLines(),i=[],o=e.re;if(e.$isMultiLine){var s=o.length,a=n.length-s,u;e:for(var C=o.offset||0;C<=a;C++){for(var c=0;c<s;c++)if(-1==n[C+c].search(o[c]))continue e;var h=n[C],p=n[C+s-1],d=h.length-h.match(o[0])[0].length,F=p.match(o[s-1])[0].length;u&&u.end.row===C&&u.end.column>d||(i.push(u=new A(C,d,C+s-1,F)),2<s&&(C=C+s-2))}}else for(var m=0,g;m<n.length;m++){g=l.getMatchOffsets(n[m],o);for(var c=0,f;c<g.length;c++)f=g[c],i.push(new A(m,f.offset,m,f.offset+f.length))}if(t){for(var $=t.start.column,w=t.start.column,m=0,c=i.length-1;m<c&&i[m].start.column<$&&i[m].start.row==t.start.row;)m++;for(;m<c&&i[c].end.column>w&&i[c].end.row==t.end.row;)c--;for(i=i.slice(m,c+1),m=0,c=i.length;m<c;m++)i[m].start.row+=t.start.row,i[m].end.row+=t.start.row}return i},this.replace=function(a,e){var t=this.$options,n=this.$assembleRegExp(t);if(t.$isMultiLine)return e;if(n){var r=n.exec(a);if(!r||r[0].length!=a.length)return null;if(e=a.replace(n,e),t.preserveCase){e=e.split("");for(var l=Math.min(a.length,a.length),s;l--;)s=a[l],e[l]=s&&s.toLowerCase()!=s?e[l].toUpperCase():e[l].toLowerCase();e=e.join("")}return e}},this.$assembleRegExp=function(o,e){if(o.needle instanceof RegExp)return o.re=o.needle;var r=o.needle;if(!o.needle)return o.re=!1;o.regExp||(r=l.escapeRegExp(r)),o.wholeWord&&(r=a(r,o));var n=o.caseSensitive?"gm":"gmi";if(o.$isMultiLine=!e&&/[\n\r]/.test(r),o.$isMultiLine)return o.re=this.$assembleMultilineRegExp(r,n);try{var i=new RegExp(r,n)}catch(e){i=!1}return o.re=i},this.$assembleMultilineRegExp=function(o,e){for(var t=o.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),n=[],r=0;r<t.length;r++)try{n.push(new RegExp(t[r],e))}catch(e){return!1}return n},this.$matchIterator=function(d,g){var e=this.$assembleRegExp(g);if(!e)return!1;var m=1==g.backwards,t=0!=g.skipCurrent,r=g.range,i=g.start;i||(i=r?r[m?"end":"start"]:d.selection.getRange()),i.start&&(i=i[t==m?"start":"end"]);var o=r?r.start.row:0,s=r?r.end.row:d.getLength()-1;if(m)var a=function(t){var e=i.row;if(!l(e,i.column,t)){for(e--;e>=o;e--)if(l(e,Number.MAX_VALUE,t))return;if(0!=g.wrap)for(e=s,o=i.row;e>=o;e--)if(l(e,Number.MAX_VALUE,t))return}};else var a=function(t){var e=i.row;if(!l(e,i.column,t)){for(e+=1;e<=s;e++)if(l(e,0,t))return;if(0!=g.wrap)for(e=o,s=i.row;e<=s;e++)if(l(e,0,t))return}};if(g.$isMultiLine)var h=e.length,l=function(n,t,r){var i=m?n-h+1:n;if(!(0>i)){var o=d.getLine(i),s=o.search(e[0]);if((m||!(s<t))&&-1!==s){for(var a=1;a<h;a++)if(o=d.getLine(i+a),-1==o.search(e[a]))return;var l=o.match(e[h-1])[0].length;return m&&l>t?void 0:!!r(i,s,i+h-1,l)||void 0}}};else if(m)var l=function(n,t,r){var i=d.getLine(n),s=[],o=0,a;for(e.lastIndex=0;a=e.exec(i);){var g=a[0].length;if(o=a.index,!g){if(o>=i.length)break;e.lastIndex=o+=1}if(a.index+g>t)break;s.push(a.index,g)}for(var u=s.length-1;0<=u;u-=2){var l=s[u-1],g=s[u];if(r(n,l,n,l+g))return!0}};else var l=function(n,t,r){var i=d.getLine(n),s=t,l;for(e.lastIndex=t;l=e.exec(i);){var o=l[0].length;if(s=l.index,r(n,s,n,s+o))return!0;if(!o&&(e.lastIndex=s+=1,s>=i.length))return!1}};return{forEach:a}}}).call(r.prototype),e.Search=r}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,e){"use strict";function a(n,e){this.platform=e||(o.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(n),this.$singleCommand=!0}function t(n,e){a.call(this,n,e),this.$singleCommand=!1}var l=n("../lib/keys"),o=n("../lib/useragent"),d=l.KEY_MODS;t.prototype=a.prototype,function(){function c(t){return"object"==typeof t&&t.bindKey&&t.bindKey.position||(t.isDefault?-100:0)}this.addCommand=function(t){this.commands[t.name]&&this.removeCommand(t),this.commands[t.name]=t,t.bindKey&&this._buildKeyHash(t)},this.removeCommand=function(a,l){var t=a&&("string"==typeof a?a:a.name);a=this.commands[t],l||delete this.commands[t];var n=this.commandKeyBinding;for(var r in n){var i=n[r];if(i==a)delete n[r];else if(Array.isArray(i)){var s=i.indexOf(a);-1!=s&&(i.splice(s,1),1==i.length&&(n[r]=i[0]))}}},this.bindKey=function(o,s,a){return"object"==typeof o&&o&&(void 0==a&&(a=o.position),o=o[this.platform]),o?"function"==typeof s?this.addCommand({exec:s,bindKey:o,name:s.name||o}):void o.split("|").forEach(function(t){var l="";if(-1!=t.indexOf(" ")){var e=t.split(/\s+/);t=e.pop(),e.forEach(function(o){var e=this.parseKeys(o),t=d[e.hashId]+e.key;l+=(l?" ":"")+t,this._addCommandToBinding(l,"chainKeys")},this),l+=" "}var n=this.parseKeys(t),o=d[n.hashId]+n.key;this._addCommandToBinding(l+o,s,a)},this):void 0},this._addCommandToBinding=function(e,t,l){var d=this.commandKeyBinding,i;if(!t)delete d[e];else if(!d[e]||this.$singleCommand)d[e]=t;else{Array.isArray(d[e])?-1!=(i=d[e].indexOf(t))&&d[e].splice(i,1):d[e]=[d[e]],"number"!=typeof l&&(l=c(t));var s=d[e];for(i=0;i<s.length;i++){var o=s[i],g=c(o);if(g>l)break}s.splice(i,0,t)}},this.addCommands=function(o){o&&Object.keys(o).forEach(function(e){var t=o[e];if(t){if("string"==typeof t)return this.bindKey(t,e);"function"==typeof t&&(t={exec:t}),"object"!=typeof t||(t.name||(t.name=e),this.addCommand(t))}},this)},this.removeCommands=function(n){Object.keys(n).forEach(function(e){this.removeCommand(n[e])},this)},this.bindKeys=function(n){Object.keys(n).forEach(function(e){this.bindKey(e,n[e])},this)},this._buildKeyHash=function(t){this.bindKey(t.bindKey,t)},this.parseKeys=function(r){var e=r.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(t){return t}),t=e.pop(),a=l[t];if(l.FUNCTION_KEYS[a])t=l.FUNCTION_KEYS[a].toLowerCase();else{if(!e.length)return{key:t,hashId:-1};if(1==e.length&&"shift"==e[0])return{key:t.toUpperCase(),hashId:-1}}for(var i=0,d=e.length,o;d--;){if(o=l.KEY_MODS[e[d]],null==o)return"undefined"!=typeof console&&console.error("invalid modifier "+e[d]+" in "+r),!1;i|=o}return{key:t,hashId:i}},this.findKeyCommand=function(e,t){var n=d[e]+t;return this.commandKeyBinding[n]},this.handleKeyboard=function(s,e,t,n){if(!(0>n)){var r=d[e]+t,i=this.commandKeyBinding[r];return(s.$keyChain&&(s.$keyChain+=" "+r,i=this.commandKeyBinding[s.$keyChain]||i),i&&("chainKeys"==i||"chainKeys"==i[i.length-1]))?(s.$keyChain=s.$keyChain||r,{command:"null"}):(s.$keyChain&&(e&&4!=e||1!=t.length?(-1==e||0<n)&&(s.$keyChain=""):s.$keyChain=s.$keyChain.slice(0,-r.length-1)),{command:i})}},this.getStatusText=function(n,e){return e.$keyChain||""}}.call(a.prototype),e.HashHandler=a,e.MultiHashHandler=t}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(n,e){"use strict";var t=n("../lib/oop"),r=n("../keyboard/hash_handler").MultiHashHandler,i=n("../lib/event_emitter").EventEmitter,s=function(n,e){r.call(this,e,n),this.byName=this.commands,this.setDefaultHandler("exec",function(t){return t.command.exec(t.editor,t.args||{})})};t.inherits(s,r),function(){t.implement(this,i),this.exec=function(o,s,a){if(Array.isArray(o)){for(var l=o.length;l--;)if(this.exec(o[l],s,a))return!0;return!1}if("string"==typeof o&&(o=this.commands[o]),!o)return!1;if(s&&s.$readOnly&&!o.readOnly)return!1;if(o.isAvailable&&!o.isAvailable(s))return!1;var r={editor:s,command:o,args:a};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),!1!==r.returnValue},this.toggleRecording=function(t){return this.$inReplay?void 0:(t&&t._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(t){this.macro.push([t.command,t.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0))},this.replay=function(n){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(n);try{this.$inReplay=!0,this.macro.forEach(function(e){"string"==typeof e?this.exec(e,n):this.exec(e[0],n,e[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(t){return t.map(function(t){return"string"!=typeof t[0]&&(t[0]=t[0].name),t[1]||(t=t[0]),t})}}.call(s.prototype),e.CommandManager=s}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(n,e){"use strict";function t(n,o){return{win:n,mac:o}}var o=n("../lib/lang"),r=n("../config"),d=n("../range").Range;e.commands=[{name:"showSettingsMenu",bindKey:t("Ctrl-,","Command-,"),exec:function(n){r.loadModule("ace/ext/settings_menu",function(e){e.init(n),n.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:t("Alt-E","F4"),exec:function(n){r.loadModule("ace/ext/error_marker",function(e){e.showErrorMarker(n,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:t("Alt-Shift-E","Shift-F4"),exec:function(n){r.loadModule("ace/ext/error_marker",function(e){e.showErrorMarker(n,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:t("Ctrl-A","Command-A"),exec:function(t){t.selectAll()},readOnly:!0},{name:"centerselection",bindKey:t(null,"Ctrl-L"),exec:function(t){t.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:t("Ctrl-L","Command-L"),exec:function(n){var e=parseInt(prompt("Enter line number:"),10);isNaN(e)||n.gotoLine(e)},readOnly:!0},{name:"fold",bindKey:t("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(t){t.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:t("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(t){t.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:t("F2","F2"),exec:function(t){t.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:t("Alt-F2","Alt-F2"),exec:function(t){t.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:t(null,"Ctrl-Command-Option-0"),exec:function(t){t.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:t("Alt-0","Command-Option-0"),exec:function(t){t.session.foldAll(),t.session.unfold(t.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:t("Alt-Shift-0","Command-Option-Shift-0"),exec:function(t){t.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:t("Ctrl-K","Command-G"),exec:function(t){t.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:t("Ctrl-Shift-K","Command-Shift-G"),exec:function(t){t.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:t("Alt-K","Ctrl-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:t("Alt-Shift-K","Ctrl-Shift-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findPrevious()},readOnly:!0},{name:"find",bindKey:t("Ctrl-F","Command-F"),exec:function(n){r.loadModule("ace/ext/searchbox",function(e){e.Search(n)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(t){t.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:t("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(t){t.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:t("Ctrl-Home","Command-Home|Command-Up"),exec:function(t){t.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:t("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(t){t.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:t("Up","Up|Ctrl-P"),exec:function(n,e){n.navigateUp(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:t("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(t){t.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:t("Ctrl-End","Command-End|Command-Down"),exec:function(t){t.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:t("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(t){t.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:t("Down","Down|Ctrl-N"),exec:function(n,e){n.navigateDown(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:t("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(t){t.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:t("Ctrl-Left","Option-Left"),exec:function(t){t.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:t("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:t("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(t){t.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:t("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(t){t.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:t("Left","Left|Ctrl-B"),exec:function(n,e){n.navigateLeft(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:t("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(t){t.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:t("Ctrl-Right","Option-Right"),exec:function(t){t.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:t("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:t("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(t){t.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:t("Shift-Right","Shift-Right"),exec:function(t){t.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:t("Right","Right|Ctrl-F"),exec:function(n,e){n.navigateRight(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(t){t.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:t(null,"Option-PageDown"),exec:function(t){t.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:t("PageDown","PageDown|Ctrl-V"),exec:function(t){t.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(t){t.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:t(null,"Option-PageUp"),exec:function(t){t.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(t){t.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:t("Ctrl-Up",null),exec:function(t){t.renderer.scrollBy(0,-2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:t("Ctrl-Down",null),exec:function(t){t.renderer.scrollBy(0,2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:t("Ctrl-Alt-E","Command-Option-E"),exec:function(t){t.commands.toggleRecording(t)},readOnly:!0},{name:"replaymacro",bindKey:t("Ctrl-Shift-E","Command-Shift-E"),exec:function(t){t.commands.replay(t)},readOnly:!0},{name:"jumptomatching",bindKey:t("Ctrl-P","Ctrl-P"),exec:function(t){t.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:t("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(t){t.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:t("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(t){t.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:t(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(){},readOnly:!0},{name:"cut",exec:function(n){var e=n.getSelectionRange();n._emit("cut",e),n.selection.isEmpty()||(n.session.remove(e),n.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(n,e){n.$handlePaste(e)},scrollIntoView:"cursor"},{name:"removeline",bindKey:t("Ctrl-D","Command-D"),exec:function(t){t.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:t("Ctrl-Shift-D","Command-Shift-D"),exec:function(t){t.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:t("Ctrl-Alt-S","Command-Alt-S"),exec:function(t){t.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:t("Ctrl-/","Command-/"),exec:function(t){t.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:t("Ctrl-Shift-/","Command-Shift-/"),exec:function(t){t.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:t("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(t){t.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:t("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(t){t.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:t("Ctrl-H","Command-Option-F"),exec:function(n){r.loadModule("ace/ext/searchbox",function(e){e.Search(n,!0)})}},{name:"undo",bindKey:t("Ctrl-Z","Command-Z"),exec:function(t){t.undo()}},{name:"redo",bindKey:t("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(t){t.redo()}},{name:"copylinesup",bindKey:t("Alt-Shift-Up","Command-Option-Up"),exec:function(t){t.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:t("Alt-Up","Option-Up"),exec:function(t){t.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:t("Alt-Shift-Down","Command-Option-Down"),exec:function(t){t.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:t("Alt-Down","Option-Down"),exec:function(t){t.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:t("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(t){t.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:t("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(t){t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:t("Shift-Delete",null),exec:function(t){return!!t.selection.isEmpty()&&void t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:t("Alt-Backspace","Command-Backspace"),exec:function(t){t.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:t("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(t){t.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",bindKey:t("Ctrl-Shift-Backspace",null),exec:function(n){var e=n.selection.getRange();e.start.column=0,n.session.remove(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",bindKey:t("Ctrl-Shift-Delete",null),exec:function(n){var e=n.selection.getRange();e.end.column=Number.MAX_VALUE,n.session.remove(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:t("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(t){t.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:t("Ctrl-Delete","Alt-Delete"),exec:function(t){t.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:t("Shift-Tab","Shift-Tab"),exec:function(t){t.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:t("Tab","Tab"),exec:function(t){t.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:t("Ctrl-[","Ctrl-["),exec:function(t){t.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:t("Ctrl-]","Ctrl-]"),exec:function(t){t.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(n,e){n.insert(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(n,e){n.insert(o.stringRepeat(e.text||"",e.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:t(null,"Ctrl-O"),exec:function(t){t.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:t("Alt-Shift-X","Ctrl-T"),exec:function(t){t.transposeLetters()},multiSelectAction:function(t){t.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:t("Ctrl-U","Ctrl-U"),exec:function(t){t.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:t("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(t){t.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:t("Ctrl-Shift-L","Command-Shift-L"),exec:function(n){var e=n.selection.getRange();e.start.column=e.end.column=0,e.end.row++,n.selection.setRange(e,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:t(null,null),exec:function(r){for(var e=r.selection.isBackwards(),t=e?r.selection.getSelectionLead():r.selection.getSelectionAnchor(),n=e?r.selection.getSelectionAnchor():r.selection.getSelectionLead(),i=r.session.doc.getLine(t.row).length,s=r.session.doc.getTextRange(r.selection.getRange()),g=s.replace(/\n\s*/," ").length,a=r.session.doc.getLine(t.row),u=t.row+1,l;u<=n.row+1;u++)l=o.stringTrimLeft(o.stringTrimRight(r.session.doc.getLine(u))),0!==l.length&&(l=" "+l),a+=l;n.row+1<r.session.doc.getLength()-1&&(a+=r.session.doc.getNewLineCharacter()),r.clearSelection(),r.session.doc.replace(new d(t.row,0,n.row+2,0),a),0<g?(r.selection.moveCursorTo(t.row,t.column),r.selection.selectTo(t.row,t.column+g)):(i=r.session.doc.getLine(t.row).length>i?i+1:i,r.selection.moveCursorTo(t.row,i))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:t(null,null),exec:function(s){var e=s.session.doc.getLength()-1,t=s.session.doc.getLine(e).length,n=s.selection.rangeList.ranges,r=[];1>n.length&&(n=[s.selection.getRange()]);for(var i=0;i<n.length;i++)i==n.length-1&&(n[i].end.row!==e||n[i].end.column!==t)&&r.push(new d(n[i].end.row,n[i].end.column,e,t)),0===i?(0!==n[i].start.row||0!==n[i].start.column)&&r.push(new d(0,0,n[i].start.row,n[i].start.column)):r.push(new d(n[i-1].end.row,n[i-1].end.column,n[i].start.row,n[i].start.column));s.exitMultiSelectMode(),s.clearSelection();for(var i=0;i<r.length;i++)s.selection.addRange(r[i],!1)},readOnly:!0,scrollIntoView:"none"}]}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],function(n,e){"use strict";var A=Math.pow,C=Math.max,F=Math.floor,E=Math.abs;n("./lib/fixoldbrowsers");var w=n("./lib/oop"),r=n("./lib/dom"),$=n("./lib/lang"),i=n("./lib/useragent"),o=n("./keyboard/textinput").TextInput,s=n("./mouse/mouse_handler").MouseHandler,a=n("./mouse/fold_handler").FoldHandler,u=n("./keyboard/keybinding").KeyBinding,l=n("./edit_session").EditSession,c=n("./search").Search,B=n("./range").Range,t=n("./lib/event_emitter").EventEmitter,d=n("./commands/command_manager").CommandManager,h=n("./commands/default_commands").commands,m=n("./config"),g=n("./token_iterator").TokenIterator,p=function(r,e){var t=r.getContainerElement();this.container=t,this.renderer=r,this.id="editor"+ ++p.$uid,this.commands=new d(i.isMac?"mac":"win",h),"object"==typeof document&&(this.textInput=new o(r.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new s(this),new a(this)),this.keyBinding=new u(this),this.$blockScrolling=0,this.$search=new c().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=$.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(n,e){e._$emitInputEvent.schedule(31)}),this.setSession(e||new l("")),m.resetOptions(this),m._signal("editor",this)};p.$uid=0,function(){w.implement(this,t),this.$initOperationListeners=function(){this.selections=[],this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=$.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(t){if(this.curOp){if(!t||this.curOp.command)return;this.prevOp=this.curOp}t||(this.previousCommand=null,t={}),this.$opResetTimer.schedule(),this.curOp={command:t.command||{},args:t.args,scrollTop:this.renderer.scrollTop},this.curOp.command.name&&this.curOp.command.scrollIntoView!==void 0&&this.$blockScrolling++},this.endOperation=function(o){if(this.curOp){if(o&&!1===o.returnValue)return this.curOp=null;this._signal("beforeEndOperation");var e=this.curOp.command;e.name&&0<this.$blockScrolling&&this.$blockScrolling--;var t=e&&e.scrollIntoView;if(t){switch(t){case"center-animate":t="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var n=this.selection.getRange(),r=this.renderer.layerConfig;(n.start.row>=r.lastRow||n.end.row<=r.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break;default:}"animate"==t&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(o){if(this.$mergeUndoDeltas){var e=this.prevOp,t=this.$mergeableCommands,n=e.command&&o.command.name==e.command.name;if("insertstring"==o.command.name){var r=o.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),n=n&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(e.args)),this.mergeNextCommand=!0}else n=n&&-1!==t.indexOf(o.command.name);"always"!=this.$mergeUndoDeltas&&2e3<Date.now()-this.sequenceStartTime&&(n=!1),n?this.session.mergeUndoDeltas=!0:-1!==t.indexOf(o.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(o,i){if(o&&"string"==typeof o){this.$keybindingId=o;var t=this;m.loadModule(["keybinding",o],function(e){t.$keybindingId==o&&t.keyBinding.setKeyboardHandler(e&&e.handler),i&&i()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(o),i&&i()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(o){if(this.session!=o){this.curOp&&this.endOperation(),this.curOp={};var r=this.session;if(r){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var i=this.session.getSelection();i.off("changeCursor",this.$onCursorChange),i.off("changeSelection",this.$onSelectionChange)}this.session=o,o?(this.$onDocumentChange=this.onDocumentChange.bind(this),o.on("change",this.$onDocumentChange),this.renderer.setSession(o),this.$onChangeMode=this.onChangeMode.bind(this),o.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),o.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),o.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),o.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),o.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),o.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=o.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(o)),this._signal("changeSession",{session:o,oldSession:r}),this.curOp=null,r&&r._signal("changeEditor",{oldEditor:this}),o&&o._signal("changeEditor",{editor:this}),o&&o.bgTokenizer&&o.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(n,e){return this.session.doc.setValue(n),e?1==e?this.navigateFileEnd():-1==e&&this.navigateFileStart():this.selectAll(),n},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(t){this.renderer.onResize(t)},this.setTheme=function(n,e){this.renderer.setTheme(n,e)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(t){this.renderer.setStyle(t)},this.unsetStyle=function(t){this.renderer.unsetStyle(t)},this.getFontSize=function(){return this.getOption("fontSize")||r.computedStyle(this.container,"fontSize")},this.setFontSize=function(t){this.setOption("fontSize",t)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var o=this;this.$highlightPending=!0,setTimeout(function(){o.$highlightPending=!1;var e=o.session;if(e&&e.bgTokenizer){var t=e.findMatchingBracket(o.getCursorPosition());if(t)var n=new B(t.row,t.column,t.row,t.column+1);else if(e.$mode.getMatching)var n=e.$mode.getMatching(o.session);n&&(e.$bracketHighlight=e.addMarker(n,"ace_bracket","text"))}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var d=this;this.$highlightTagPending=!0,setTimeout(function(){d.$highlightTagPending=!1;var e=d.session;if(e&&e.bgTokenizer){var t=d.getCursorPosition(),n=new g(d.session,t.row,t.column),r=n.getCurrentToken();if(!r||!/\b(?:tag-open|tag-name)/.test(r.type))return e.removeMarker(e.$tagHighlight),void(e.$tagHighlight=null);if(!(-1!=r.type.indexOf("tag-open")&&(r=n.stepForward(),!r))){var m=r.value,s=0,o=n.stepBackward();if("<"==o.value)do o=r,r=n.stepForward(),r&&r.value===m&&-1!==r.type.indexOf("tag-name")&&("<"===o.value?s++:"</"===o.value&&s--);while(r&&0<=s);else{do r=o,o=n.stepBackward(),r&&r.value===m&&-1!==r.type.indexOf("tag-name")&&("<"===o.value?s++:"</"===o.value&&s--);while(o&&0>=s);n.stepForward()}if(!r)return e.removeMarker(e.$tagHighlight),void(e.$tagHighlight=null);var u=n.getCurrentTokenRow(),a=n.getCurrentTokenColumn(),h=new B(u,a,u,a+r.value.length),l=e.$backMarkers[e.$tagHighlight];e.$tagHighlight&&void 0!=l&&0!==h.compareRange(l.range)&&(e.removeMarker(e.$tagHighlight),e.$tagHighlight=null),h&&!e.$tagHighlight&&(e.$tagHighlight=e.addMarker(h,"ace_bracket","text"))}}},50)}},this.focus=function(){var t=this;setTimeout(function(){t.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(t){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",t))},this.onBlur=function(t){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",t))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(o){var e=this.session.$useWrapMode,t=o.start.row==o.end.row?o.end.row:Infinity;this.renderer.updateLines(o.start.row,t,e),this._signal("change",o),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(n){var e=n.data;this.renderer.updateLines(e.first,e.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||(m.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView()),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var o=this.getSession(),e;if(this.$highlightActiveLine&&(("line"!=this.$selectionStyle||!this.selection.isMultiLine())&&(e=this.getCursorPosition()),this.renderer.$maxLines&&1===this.session.getLength()&&!(1<this.renderer.$minLines)&&(e=!1)),o.$highlightLineMarker&&!e)o.removeMarker(o.$highlightLineMarker.id),o.$highlightLineMarker=null;else if(!o.$highlightLineMarker&&e){var r=new B(e.row,e.column,e.row,Infinity);r.id=o.addMarker(r,"ace_active-line","screenLine"),o.$highlightLineMarker=r}else e&&(o.$highlightLineMarker.start.row=e.row,o.$highlightLineMarker.end.row=e.row,o.$highlightLineMarker.start.column=e.column,o._signal("changeBackMarker"))},this.onSelectionChange=function(){var e=this.session;if(e.$selectionMarker&&e.removeMarker(e.$selectionMarker),e.$selectionMarker=null,!this.selection.isEmpty()){var t=this.selection.getRange(),n=this.getSelectionStyle();e.$selectionMarker=e.addMarker(t,"ace_selection",n)}else this.$updateHighlightActiveLine();var o=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(o),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var a=this.session,e=this.getSelectionRange();if(!(e.isEmpty()||e.isMultiLine())){var t=e.start.column-1,n=e.end.column+1,r=a.getLine(e.start.row),i=r.length,s=r.substring(C(t,0),Math.min(n,i));if(!(0<=t&&/^[\w\d]/.test(s)||n<=i&&/[\w\d]$/.test(s))&&(s=r.substring(e.start.column,e.end.column),!!/^[\w\d]+$/.test(s))){var l=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:s});return l}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(t){this.renderer.updateText(),this._emit("changeMode",t)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var t=this.getSelectedText();return this._signal("copy",t),t},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(n,o){this.commands.exec("paste",this,{text:n,event:o})},this.$handlePaste=function(o){"string"==typeof o&&(o={text:o}),this._signal("paste",o);var a=o.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(a);else{var t=a.split(/\r\n|\r|\n/),n=this.selection.rangeList.ranges;if(t.length>n.length||2>t.length||!t[1])return this.commands.exec("insertstring",this,a);for(var r=n.length,i;r--;)i=n[r],i.isEmpty()||this.session.remove(i),this.session.insert(i.start,t[r])}},this.execCommand=function(n,e){return this.commands.exec(n,this,e)},this.insert=function(g,e){var m=this.session,n=m.getMode(),r=this.getCursorPosition();if(this.getBehavioursEnabled()&&!e){var i=n.transformAction(m.getState(r.row),"insertion",this,m,g);i&&(g!==i.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),g=i.text)}if("\t"==g&&(g=this.session.getTabString()),!this.selection.isEmpty()){var s=this.getSelectionRange();r=this.session.remove(s),this.clearSelection()}else if(this.session.getOverwrite()&&-1==g.indexOf("\n")){var s=new B.fromPoints(r,r);s.end.column+=g.length,this.session.remove(s)}if("\n"==g||"\r\n"==g){var o=m.getLine(r.row);if(r.column>o.search(/\S|$/)){var u=o.substr(r.column).search(/\S|$/);m.doc.removeInLine(r.row,r.column,r.column+u)}}this.clearSelection();var a=r.column,p=m.getState(r.row),o=m.getLine(r.row),l=n.checkOutdent(p,o,g),c=m.insert(r,g);if(i&&i.selection&&(2==i.selection.length?this.selection.setSelectionRange(new B(r.row,a+i.selection[0],r.row,a+i.selection[1])):this.selection.setSelectionRange(new B(r.row+i.selection[0],i.selection[1],r.row+i.selection[2],i.selection[3]))),m.getDocument().isNewLine(g)){var h=n.getNextLineIndent(p,o.slice(0,r.column),m.getTabString());m.insert({row:r.row+1,column:0},h)}l&&n.autoOutdent(p,m,r.row)},this.onTextInput=function(t){this.keyBinding.onTextInput(t)},this.onCommandKey=function(o,e,t){this.keyBinding.onCommandKey(o,e,t)},this.setOverwrite=function(t){this.session.setOverwrite(t)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(t){this.setOption("scrollSpeed",t)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(t){this.setOption("dragDelay",t)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(t){this.setOption("selectionStyle",t)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(t){this.setOption("highlightActiveLine",t)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(t){this.setOption("highlightGutterLine",t)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(t){this.setOption("highlightSelectedWord",t)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(t){this.renderer.setAnimatedScroll(t)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(t){this.renderer.setShowInvisibles(t)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(t){this.renderer.setDisplayIndentGuides(t)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(t){this.renderer.setShowPrintMargin(t)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(t){this.renderer.setPrintMarginColumn(t)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(t){this.setOption("readOnly",t)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(t){this.setOption("behavioursEnabled",t)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(t){this.setOption("wrapBehavioursEnabled",t)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(t){this.setOption("showFoldWidgets",t)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(t){this.setOption("fadeFoldWidgets",t)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(a){this.selection.isEmpty()&&("left"==a?this.selection.selectLeft():this.selection.selectRight());var e=this.getSelectionRange();if(this.getBehavioursEnabled()){var t=this.session,n=t.getState(e.start.row),r=t.getMode().transformAction(n,"deletion",this,t,e);if(0===e.end.column){var i=t.getTextRange(e);if("\n"==i[i.length-1]){var s=t.getLine(e.end.row);/^\s+$/.test(s)&&(e.end.column=s.length)}}r&&(e=r)}this.session.remove(e),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var t=this.getSelectionRange();t.start.column==t.end.column&&t.start.row==t.end.row&&(t.end.column=0,t.end.row++),this.session.remove(t),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var t=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(t)},this.transposeLetters=function(){if(this.selection.isEmpty()){var o=this.getCursorPosition(),e=o.column;if(0!==e){var t=this.session.getLine(o.row),n,r;e<t.length?(n=t.charAt(e)+t.charAt(e-1),r=new B(o.row,e-1,o.row,e+1)):(n=t.charAt(e-1)+t.charAt(e-2),r=new B(o.row,e-2,o.row,e)),this.session.replace(r,n),this.session.selection.moveToPosition(r.end)}}},this.toLowerCase=function(){var o=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var e=this.getSelectionRange(),t=this.session.getTextRange(e);this.session.replace(e,t.toLowerCase()),this.selection.setSelectionRange(o)},this.toUpperCase=function(){var o=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var e=this.getSelectionRange(),t=this.session.getTextRange(e);this.session.replace(e,t.toUpperCase()),this.selection.setSelectionRange(o)},this.indent=function(){var s=this.session,e=this.getSelectionRange();if(e.start.row<e.end.row){var t=this.$getSelectedRows();return void s.indentRows(t.first,t.last,"\t")}if(e.start.column<e.end.column){var n=s.getTextRange(e);if(!/^\s+$/.test(n)){var t=this.$getSelectedRows();return void s.indentRows(t.first,t.last,"\t")}}var r=s.getLine(e.start.row),i=e.start,o=s.getTabSize(),d=s.documentToScreenColumn(i.row,i.column);if(this.session.getUseSoftTabs())var a=o-d%o,c=$.stringRepeat(" ",a);else{for(var a=d%o;" "==r[e.start.column-1]&&a;)e.start.column--,a--;this.selection.setSelectionRange(e),c="\t"}return this.insert(c)},this.blockIndent=function(){var t=this.$getSelectedRows();this.session.indentRows(t.first,t.last,"\t")},this.blockOutdent=function(){var t=this.session.getSelection();this.session.outdentRows(t.getRange())},this.sortLines=function(){for(var o=this.$getSelectedRows(),e=this.session,t=[],n=o.first;n<=o.last;n++)t.push(e.getLine(n));t.sort(function(n,e){return n.toLowerCase()<e.toLowerCase()?-1:n.toLowerCase()>e.toLowerCase()?1:0});for(var r=new B(0,0,0,0),n=o.first,i;n<=o.last;n++)i=e.getLine(n),r.start.row=n,r.end.row=n,r.end.column=i.length,e.replace(r,t[n-o.first])},this.toggleCommentLines=function(){var n=this.session.getState(this.getCursorPosition().row),e=this.$getSelectedRows();this.session.getMode().toggleCommentLines(n,this.session,e.first,e.last)},this.toggleBlockComment=function(){var o=this.getCursorPosition(),e=this.session.getState(o.row),t=this.getSelectionRange();this.session.getMode().toggleBlockComment(e,this.session,t,o)},this.getNumberAt=function(o,e){var t=/[\-]?[0-9]+(?:\.[0-9]+)?/g;t.lastIndex=0;for(var n=this.session.getLine(o);t.lastIndex<e;){var r=t.exec(n);if(r.index<=e&&r.index+r[0].length>=e){var i={value:r[0],start:r.index,end:r.index+r[0].length};return i}}return null},this.modifyNumber=function(d){var e=this.selection.getCursor().row,t=this.selection.getCursor().column,n=new B(e,t-1,e,t),r=this.session.getTextRange(n);if(!isNaN(parseFloat(r))&&isFinite(r)){var i=this.getNumberAt(e,t);if(i){var s=0<=i.value.indexOf(".")?i.start+i.value.indexOf(".")+1:i.end,o=i.start+i.value.length-s,c=parseFloat(i.value);c*=A(10,o),d*=s!==i.end&&t<s?A(10,i.end-t-1):A(10,i.end-t),c+=d,c/=A(10,o);var a=c.toFixed(o),g=new B(e,i.start,e,i.end);this.session.replace(g,a),this.moveCursorTo(e,C(i.start+1,t+a.length-i.value.length))}}},this.removeLines=function(){var t=this.$getSelectedRows();this.session.removeFullLines(t.first,t.last),this.clearSelection()},this.duplicateSelection=function(){var a=this.selection,e=this.session,t=a.getRange(),n=a.isBackwards();if(t.isEmpty()){var r=t.start.row;e.duplicateLines(r,r)}else{var i=n?t.start:t.end,s=e.insert(i,e.getTextRange(t),!1);t.start=i,t.end=s,a.setSelectionRange(t,n)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(o,e,t){return this.session.moveText(o,e,t)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(g,e){var m=this.selection,i,n;if(!m.inMultiSelectMode||this.inVirtualSelectionMode){var r=m.toOrientedRange();i=this.$getSelectedRows(r),n=this.session.$moveLines(i.first,i.last,e?0:g),e&&-1==g&&(n=0),r.moveBy(n,0),m.fromOrientedRange(r)}else{var s=m.rangeList.ranges;m.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var o=0,u=0,a=s.length,A=0,l;A<a;A++){l=A,s[A].moveBy(o,0),i=this.$getSelectedRows(s[A]);for(var c=i.first,h=i.last;++A<a;){u&&s[A].moveBy(u,0);var p=this.$getSelectedRows(s[A]);if(e&&p.first!=h)break;if(!e&&p.first>h+1)break;h=p.last}for(A--,o=this.session.$moveLines(c,h,e?0:g),e&&-1==g&&(l=A+1);l<=A;)s[l].moveBy(o,0),l++;e||(o=0),u+=o}m.fromOrientedRange(m.ranges[0]),m.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(t){return t=(t||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(t.start.row),last:this.session.getRowFoldEnd(t.end.row)}},this.onCompositionStart=function(){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(t){this.renderer.setCompositionText(t)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(t){return t>=this.getFirstVisibleRow()&&t<=this.getLastVisibleRow()},this.isRowFullyVisible=function(t){return t>=this.renderer.getFirstFullyVisibleRow()&&t<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(o,e){var t=this.renderer,n=this.renderer.layerConfig,r=o*F(n.height/n.lineHeight);this.$blockScrolling++,!0===e?this.selection.$moveSelection(function(){this.moveCursorBy(r,0)}):!1==e&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection()),this.$blockScrolling--;var i=t.scrollTop;t.scrollBy(0,r*n.lineHeight),null!=e&&t.scrollCursorIntoView(null,.5),t.animateScrolling(i)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(t){this.renderer.scrollToRow(t)},this.scrollToLine=function(o,e,t,n){this.renderer.scrollToLine(o,e,t,n)},this.centerSelection=function(){var n=this.getSelectionRange(),e={row:F(n.start.row+(n.end.row-n.start.row)/2),column:F(n.start.column+(n.end.column-n.start.column)/2)};this.renderer.alignCursor(e,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(n,e){this.selection.moveCursorTo(n,e)},this.moveCursorToPosition=function(t){this.selection.moveCursorToPosition(t)},this.jumpToMatching=function(m,e){var t=this.getCursorPosition(),n=new g(this.session,t.row,t.column),r=n.getCurrentToken(),i=r||n.stepForward();if(i){var p=!1,A={},a=t.column-i.start,C={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"},c,o;do{if(i.value.match(/[{}()\[\]]/g)){for(;a<i.value.length&&!p;a++)if(C[i.value[a]])switch(o=C[i.value[a]]+"."+i.type.replace("rparen","lparen"),isNaN(A[o])&&(A[o]=0),i.value[a]){case"(":case"[":case"{":A[o]++;break;case")":case"]":case"}":A[o]--,-1===A[o]&&(c="bracket",p=!0);}}else i&&-1!==i.type.indexOf("tag-name")&&(isNaN(A[i.value])&&(A[i.value]=0),"<"===r.value?A[i.value]++:"</"===r.value&&A[i.value]--,-1===A[i.value]&&(c="tag",p=!0));p||(r=i,i=n.stepForward(),a=0)}while(i&&!p);if(c){var l,h;if("bracket"===c)l=this.session.getBracketRange(t),l||(l=new B(n.getCurrentTokenRow(),n.getCurrentTokenColumn()+a-1,n.getCurrentTokenRow(),n.getCurrentTokenColumn()+a-1),h=l.start,(e||h.row===t.row&&2>E(h.column-t.column))&&(l=this.session.getBracketRange(h)));else if("tag"===c){if(!i||-1===i.type.indexOf("tag-name"))return;var d=i.value;if(l=new B(n.getCurrentTokenRow(),n.getCurrentTokenColumn()-2,n.getCurrentTokenRow(),n.getCurrentTokenColumn()-2),0===l.compare(t.row,t.column)){p=!1;do i=r,r=n.stepBackward(),r&&(-1!==r.type.indexOf("tag-close")&&l.setEnd(n.getCurrentTokenRow(),n.getCurrentTokenColumn()+1),i.value===d&&-1!==i.type.indexOf("tag-name")&&("<"===r.value?A[d]++:"</"===r.value&&A[d]--,0===A[d]&&(p=!0)));while(r&&!p)}i&&i.type.indexOf("tag-name")&&(h=l.start,h.row==t.row&&2>E(h.column-t.column)&&(h=l.end))}h=l&&l.cursor||h,h&&(m?l&&e?this.selection.setRange(l):l&&l.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(h.row,h.column):this.selection.moveTo(h.row,h.column))}}},this.gotoLine=function(o,e,t){this.selection.clearSelection(),this.session.unfold({row:o-1,column:e||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(o-1,e||0),this.$blockScrolling-=1,this.isRowFullyVisible(o-1)||this.scrollToLine(o-1,!0,t)},this.navigateTo=function(n,e){this.selection.moveTo(n,e)},this.navigateUp=function(n){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var o=this.selection.anchor.getPosition();return this.moveCursorToPosition(o)}this.selection.clearSelection(),this.selection.moveCursorBy(-n||-1,0)},this.navigateDown=function(n){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var e=this.selection.anchor.getPosition();return this.moveCursorToPosition(e)}this.selection.clearSelection(),this.selection.moveCursorBy(n||1,0)},this.navigateLeft=function(n){if(!this.selection.isEmpty()){var e=this.getSelectionRange().start;this.moveCursorToPosition(e)}else for(n=n||1;n--;)this.selection.moveCursorLeft();this.clearSelection()},this.navigateRight=function(n){if(!this.selection.isEmpty()){var e=this.getSelectionRange().end;this.moveCursorToPosition(e)}else for(n=n||1;n--;)this.selection.moveCursorRight();this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(o,e){e&&this.$search.set(e);var t=this.$search.find(this.session),n=0;return t?(this.$tryReplace(t,o)&&(n=1),null!==t&&(this.selection.setSelectionRange(t),this.renderer.scrollSelectionIntoView(t.start,t.end)),n):n},this.replaceAll=function(o,e){e&&this.$search.set(e);var t=this.$search.findAll(this.session),n=0;if(!t.length)return n;this.$blockScrolling+=1;var r=this.getSelectionRange();this.selection.moveTo(0,0);for(var i=t.length-1;0<=i;--i)this.$tryReplace(t[i],o)&&n++;return this.selection.setSelectionRange(r),this.$blockScrolling-=1,n},this.$tryReplace=function(o,e){var t=this.session.getTextRange(o);return e=this.$search.replace(t,e),null===e?null:(o.end=this.session.replace(o,e),o)},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(o,r,t){r||(r={}),"string"==typeof o||o instanceof RegExp?r.needle=o:"object"==typeof o&&w.mixin(r,o);var n=this.selection.getRange();null==r.needle&&(o=this.session.getTextRange(n)||this.$search.$options.needle,o||(n=this.session.getWordRange(n.start.row,n.start.column),o=this.session.getTextRange(n)),this.$search.set({needle:o})),this.$search.set(r),r.start||this.$search.set({start:n});var a=this.$search.find(this.session);return r.preventScroll?a:a?(this.revealRange(a,t),a):void(r.backwards?n.start=n.end:n.end=n.start,this.selection.setRange(n))},this.findNext=function(n,e){this.find({skipCurrent:!0,backwards:!1},n,e)},this.findPrevious=function(n,e){this.find(n,{skipCurrent:!0,backwards:!0},e)},this.revealRange=function(o,e){this.$blockScrolling+=1,this.session.unfold(o),this.selection.setSelectionRange(o),this.$blockScrolling-=1;var t=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(o.start,o.end,.5),!1!==e&&this.renderer.animateScrolling(t)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(a){if(a){var l=this,n=!1,r;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var t=this.$scrollAnchor;t.style.cssText="position:absolute",this.container.insertBefore(t,this.container.firstChild);var i=this.on("changeSelection",function(){n=!0}),s=this.renderer.on("beforeRender",function(){n&&(r=l.renderer.container.getBoundingClientRect())}),o=this.renderer.on("afterRender",function(){if(n&&r&&(l.isFocused()||l.searchBox&&l.searchBox.isFocused())){var i=l.renderer,e=i.$cursorLayer.$pixelPos,s=i.layerConfig,o=e.top-s.offset;n=0<=e.top&&0>o+r.top||(e.top<s.height&&e.top+r.top+s.lineHeight>window.innerHeight?!1:null),null!=n&&(t.style.top=o+"px",t.style.left=e.left+"px",t.style.height=s.lineHeight+"px",t.scrollIntoView(n)),n=r=null}});this.setAutoScrollEditorIntoView=function(t){t||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",i),this.renderer.off("afterRender",o),this.renderer.off("beforeRender",s))}}},this.$resetCursorStyle=function(){var n=this.$cursorStyle||"ace",e=this.renderer.$cursorLayer;e&&(e.setSmoothBlinking(/smooth/.test(n)),e.isBlinking=!this.$readOnly&&"wide"!=n,r.setCssClass(e.element,"ace_slim-cursors",/slim/.test(n)))}}.call(p.prototype),m.defineOptions(p.prototype,"editor",{selectionStyle:{set:function(t){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:t})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(t){this.setAutoScrollEditorIntoView(t)}},keyboardHandler:{set:function(t){this.setKeyboardHandler(t)},get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"}),e.Editor=p}),ace.define("ace/undomanager",["require","exports","module"],function(n,e){"use strict";var t=function(){this.reset()};(function(){function o(t){return{action:t.action,start:t.start,end:t.end,lines:1==t.lines.length?null:t.lines,text:1==t.lines.length?t.lines[0]:null}}function r(t){return{action:t.action,start:t.start,end:t.end,lines:t.lines||[t.text]}}function i(a,e){for(var t=Array(a.length),l=0;l<a.length;l++){for(var r=a[l],i={group:r.group,deltas:Array(r.length)},s=0,o;s<r.deltas.length;s++)o=r.deltas[s],i.deltas[s]=e(o);t[l]=i}return t}this.execute=function(n){var e=n.args[0];this.$doc=n.args[1],n.merge&&this.hasUndo()&&(this.dirtyCounter--,e=this.$undoStack.pop().concat(e)),this.$undoStack.push(e),this.$redoStack=[],0>this.dirtyCounter&&(this.dirtyCounter=NaN),this.dirtyCounter++},this.undo=function(o){var e=this.$undoStack.pop(),t=null;return e&&(t=this.$doc.undoChanges(e,o),this.$redoStack.push(e),this.dirtyCounter--),t},this.redo=function(o){var e=this.$redoStack.pop(),t=null;return e&&(t=this.$doc.redoChanges(this.$deserializeDeltas(e),o),this.$undoStack.push(e),this.dirtyCounter++),t},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return 0<this.$undoStack.length},this.hasRedo=function(){return 0<this.$redoStack.length},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter},this.$serializeDeltas=function(e){return i(e,o)},this.$deserializeDeltas=function(t){return i(t,r)}}).call(t.prototype),e.UndoManager=t}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(n,e){"use strict";var A=n("../lib/dom"),t=n("../lib/oop"),a=n("../lib/lang"),r=n("../lib/event_emitter").EventEmitter,o=function(t){this.element=A.createElement("div"),this.element.className="ace_layer ace_gutter-layer",t.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){t.implement(this,r),this.setSession=function(t){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=t,t&&t.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(n,e){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(n,e)},this.removeGutterDecoration=function(n,e){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(n,e)},this.setAnnotations=function(s){this.$annotations=[];for(var e=0;e<s.length;e++){var t=s[e],n=t.row,r=this.$annotations[n];r||(r=this.$annotations[n]={text:[]});var i=t.text;i=i?a.escapeHTML(i):t.html||"",-1===r.text.indexOf(i)&&r.text.push(i);var o=t.type;"error"==o?r.className=" ace_error":"warning"==o&&" ace_error"!=r.className?r.className=" ace_warning":"info"==o&&!r.className&&(r.className=" ace_info")}},this.$updateAnnotations=function(o){if(this.$annotations.length){var e=o.start.row,t=o.end.row-e;if(0!=t)if("remove"==o.action)this.$annotations.splice(e,t+1,null);else{var n=Array(t+1);n.unshift(e,1),this.$annotations.splice.apply(this.$annotations,n)}}},this.update=function(r){for(var e=this.session,t=r.firstRow,n=Math.min(r.lastRow+r.gutterOffset,e.getLength()-1),i=e.getNextFoldLine(t),s=i?i.start.row:Infinity,o=this.$showFoldWidgets&&e.foldWidgets,u=e.$breakpoints,a=e.$decorations,C=e.$firstLineNumber,l=0,c=e.gutterRenderer||this.$renderer,h=null,p=-1,d=t;;){if(d>s&&(d=i.end.row+1,i=e.getNextFoldLine(d,i),s=i?i.start.row:Infinity),d>n){for(;this.$cells.length>p+1;)h=this.$cells.pop(),this.element.removeChild(h.element);break}h=this.$cells[++p],h||(h={element:null,textNode:null,foldWidget:null},h.element=A.createElement("div"),h.textNode=document.createTextNode(""),h.element.appendChild(h.textNode),this.element.appendChild(h.element),this.$cells[p]=h);var F="ace_gutter-cell ";u[d]&&(F+=u[d]),a[d]&&(F+=a[d]),this.$annotations[d]&&(F+=this.$annotations[d].className),h.element.className!=F&&(h.element.className=F);var m=e.getRowLength(d)*r.lineHeight+"px";if(m!=h.element.style.height&&(h.element.style.height=m),o){var g=o[d];null==g&&(g=o[d]=e.getFoldWidget(d))}if(g){h.foldWidget||(h.foldWidget=A.createElement("span"),h.element.appendChild(h.foldWidget));var F="ace_fold-widget ace_"+g;F+="start"==g&&d==s&&d<i.end.row?" ace_closed":" ace_open",h.foldWidget.className!=F&&(h.foldWidget.className=F);var m=r.lineHeight+"px";h.foldWidget.style.height!=m&&(h.foldWidget.style.height=m)}else h.foldWidget&&(h.element.removeChild(h.foldWidget),h.foldWidget=null);var f=l=c?c.getText(e,d):d+C;f!==h.textNode.data&&(h.textNode.data=f),d++}this.element.style.height=r.minHeight+"px",(this.$fixedWidth||e.$useWrapMode)&&(l=e.getLength()+C);var $=c?c.getWidth(e,l,r):l.toString().length*r.characterWidth,w=this.$padding||this.$computePadding();$+=w.left+w.right,$===this.gutterWidth||isNaN($)||(this.gutterWidth=$,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",$))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(t){this.$renderer=!t&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(t){t?A.addCssClass(this.element,"ace_folding-enabled"):A.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=t,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var t=A.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(t.paddingLeft)+1||0,this.$padding.right=parseInt(t.paddingRight)||0,this.$padding},this.getRegion=function(o){var e=this.$padding||this.$computePadding(),t=this.element.getBoundingClientRect();return o.x<e.left+t.left?"markers":this.$showFoldWidgets&&o.x>t.right-e.right?"foldWidgets":void 0}}).call(o.prototype),e.Gutter=o}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(n,e){"use strict";var g=n("../range").Range,t=n("../lib/dom"),o=function(n){this.element=t.createElement("div"),this.element.className="ace_layer ace_marker-layer",n.appendChild(this.element)};(function(){function r(o,i,t,n){return(o?1:0)|(i?2:0)|(t?4:0)|(n?8:0)}this.$padding=0,this.setPadding=function(t){this.$padding=t},this.setSession=function(t){this.session=t},this.setMarkers=function(t){this.markers=t},this.update=function(a){if(a){this.config=a;var e=[];for(var t in this.markers){var n=this.markers[t];if(!n.range){n.update(e,this,this.session,a);continue}var r=n.range.clipRows(a.firstRow,a.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),n.renderer){var i=this.$getTop(r.start.row,a),s=this.$padding+(this.session.$bidiHandler.isBidiRow(r.start.row)?this.session.$bidiHandler.getPosLeft(r.start.column):r.start.column*a.characterWidth);n.renderer(e,r,s,i,a)}else"fullLine"==n.type?this.drawFullLineMarker(e,r,n.clazz,a):"screenLine"==n.type?this.drawScreenLineMarker(e,r,n.clazz,a):r.isMultiLine()?"text"==n.type?this.drawTextMarker(e,r,n.clazz,a):this.drawMultiLineMarker(e,r,n.clazz,a):this.session.$bidiHandler.isBidiRow(r.start.row)?this.drawBidiSingleLineMarker(e,r,n.clazz+" ace_start ace_br15",a):this.drawSingleLineMarker(e,r,n.clazz+" ace_start ace_br15",a)}this.element.innerHTML=e.join("")}},this.$getTop=function(n,e){return(n-e.firstRowScreen)*e.lineHeight},this.drawTextMarker=function(e,t,n,i,s){for(var o=this.session,u=t.start.row,a=t.end.row,m=u,l=0,c=0,h=o.getScreenLastRowColumn(m),p=null,d=new g(m,t.start.column,m,c);m<=a;m++)d.start.row=d.end.row=m,d.start.column=m==u?t.start.column:o.getRowWrapIndent(m),d.end.column=h,l=c,c=h,h=m+1<a?o.getScreenLastRowColumn(m+1):m==a?0:t.end.column,p=n+(m==u?" ace_start":"")+" ace_br"+r(m==u||m==u+1&&t.start.column,l<c,c>h,m==a),this.session.$bidiHandler.isBidiRow(m)?this.drawBidiSingleLineMarker(e,d,p,i,m==a?0:1,s):this.drawSingleLineMarker(e,d,p,i,m==a?0:1,s)},this.drawMultiLineMarker=function(d,e,t,n,r){var i=this.$padding,s,o,g;if(r=r||"",this.session.$bidiHandler.isBidiRow(e.start.row)){var a=e.clone();a.end.row=a.start.row,a.end.column=this.session.getLine(a.start.row).length,this.drawBidiSingleLineMarker(d,a,t+" ace_br1 ace_start",n,null,r)}else s=n.lineHeight,o=this.$getTop(e.start.row,n),g=i+e.start.column*n.characterWidth,d.push("<div class='",t," ace_br1 ace_start' style='","height:",s,"px;","right:0;","top:",o,"px;","left:",g,"px;",r,"'></div>");if(this.session.$bidiHandler.isBidiRow(e.end.row)){var a=e.clone();a.start.row=a.end.row,a.start.column=0,this.drawBidiSingleLineMarker(d,a,t+" ace_br12",n,null,r)}else{var u=e.end.column*n.characterWidth;s=n.lineHeight,o=this.$getTop(e.end.row,n),d.push("<div class='",t," ace_br12' style='","height:",s,"px;","width:",u,"px;","top:",o,"px;","left:",i,"px;",r,"'></div>")}if(s=(e.end.row-e.start.row-1)*n.lineHeight,!(0>=s)){o=this.$getTop(e.start.row+1,n);var l=(e.start.column?1:0)|(e.end.column?0:8);d.push("<div class='",t,l?" ace_br"+l:"","' style='","height:",s,"px;","right:0;","top:",o,"px;","left:",i,"px;",r,"'></div>")}},this.drawSingleLineMarker=function(l,e,t,n,r,i){var s=n.lineHeight,o=(e.end.column+(r||0)-e.start.column)*n.characterWidth,d=this.$getTop(e.start.row,n),a=this.$padding+e.start.column*n.characterWidth;l.push("<div class='",t,"' style='","height:",s,"px;","width:",o,"px;","top:",d,"px;","left:",a,"px;",i||"","'></div>")},this.drawBidiSingleLineMarker=function(l,e,d,t,n,r){var i=t.lineHeight,o=this.$getTop(e.start.row,t),s=this.$padding,a=this.session.$bidiHandler.getSelections(e.start.column,e.end.column);a.forEach(function(e){l.push("<div class='",d,"' style='","height:",i,"px;","width:",e.width+(n||0),"px;","top:",o,"px;","left:",s+e.left,"px;",r||"","'></div>")})},this.drawFullLineMarker=function(a,e,t,n,r){var i=this.$getTop(e.start.row,n),s=n.lineHeight;e.start.row!=e.end.row&&(s+=this.$getTop(e.end.row,n)-i),a.push("<div class='",t,"' style='","height:",s,"px;","top:",i,"px;","left:0;right:0;",r||"","'></div>")},this.drawScreenLineMarker=function(a,e,t,n,r){var i=this.$getTop(e.start.row,n),s=n.lineHeight;a.push("<div class='",t,"' style='","height:",s,"px;","top:",i,"px;","left:0;right:0;",r||"","'></div>")}}).call(o.prototype),e.Marker=o}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(n,e){"use strict";var t=n("../lib/oop"),l=n("../lib/dom"),d=n("../lib/lang"),r=n("../lib/useragent"),o=n("../lib/event_emitter").EventEmitter,i=function(t){this.element=l.createElement("div"),this.element.className="ace_layer ace_text-layer",t.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){t.implement(this,o),this.EOF_CHAR="\xB6",this.EOL_CHAR_LF="\xAC",this.EOL_CHAR_CRLF="\xA4",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="\u2014",this.SPACE_CHAR="\xB7",this.$padding=0,this.$updateEolChar=function(){var t="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0},this.setPadding=function(t){this.$padding=t,this.element.style.padding="0 "+t+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(t){this.$fontMetrics=t,this.$fontMetrics.on("changeCharacterSize",function(t){this._signal("changeCharacterSize",t)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(t){this.session=t,t&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(t){return this.showInvisibles!=t&&(this.showInvisibles=t,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(t){return this.displayIndentGuides!=t&&(this.displayIndentGuides=t,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var s=this.session.getTabSize();this.tabSize=s;for(var e=this.$tabStrings=[0],t=1;t<s+1;t++)this.showInvisibles?e.push("<span class='ace_invisible ace_invisible_tab'>"+d.stringRepeat(this.TAB_CHAR,t)+"</span>"):e.push(d.stringRepeat(" ",t));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var n="ace_indent-guide",r="",i="";if(this.showInvisibles){n+=" ace_invisible",r=" ace_invisible_space",i=" ace_invisible_tab";var o=d.stringRepeat(this.SPACE_CHAR,this.tabSize),l=d.stringRepeat(this.TAB_CHAR,this.tabSize)}else var o=d.stringRepeat(" ",this.tabSize),l=o;this.$tabStrings[" "]="<span class='"+n+r+"'>"+o+"</span>",this.$tabStrings["\t"]="<span class='"+n+i+"'>"+l+"</span>"}},this.updateLines=function(d,e,t){(this.config.lastRow!=d.lastRow||this.config.firstRow!=d.firstRow)&&this.scrollLines(d),this.config=d;for(var n=Math.max(e,d.firstRow),r=Math.min(t,d.lastRow),i=this.element.childNodes,s=0,o=d.firstRow,g;o<n;o++){if(g=this.session.getFoldLine(o),g){if(g.containsRow(n)){n=g.start.row;break}o=g.end.row}s++}for(var o=n,g=this.session.getNextFoldLine(o),a=g?g.start.row:Infinity;;){if(o>a&&(o=g.end.row+1,g=this.session.getNextFoldLine(o,g),a=g?g.start.row:Infinity),o>r)break;var u=i[s++];if(u){var l=[];this.$renderLine(l,o,!this.$useLineGroups(),o==a&&g),u.style.height=d.lineHeight*this.session.getRowLength(o)+"px",u.innerHTML=l.join("")}o++}},this.scrollLines=function(o){var e=this.config;if(this.config=o,!e||e.lastRow<o.firstRow)return this.update(o);if(o.lastRow<e.firstRow)return this.update(o);var s=this.element;if(e.firstRow<o.firstRow)for(var n=this.session.getFoldedRowCount(e.firstRow,o.firstRow-1);0<n;n--)s.removeChild(s.firstChild);if(e.lastRow>o.lastRow)for(var n=this.session.getFoldedRowCount(o.lastRow+1,e.lastRow);0<n;n--)s.removeChild(s.lastChild);if(o.firstRow<e.firstRow){var r=this.$renderLinesFragment(o,o.firstRow,e.firstRow-1);s.firstChild?s.insertBefore(r,s.firstChild):s.appendChild(r)}if(o.lastRow>e.lastRow){var r=this.$renderLinesFragment(o,e.lastRow+1,o.lastRow);s.appendChild(r)}},this.$renderLinesFragment=function(i,e,t){for(var n=this.element.ownerDocument.createDocumentFragment(),r=e,s=this.session.getNextFoldLine(r),o=s?s.start.row:Infinity;;){if(r>o&&(r=s.end.row+1,s=this.session.getNextFoldLine(r,s),o=s?s.start.row:Infinity),r>t)break;var d=l.createElement("div"),a=[];if(this.$renderLine(a,r,!1,r==o&&s),d.innerHTML=a.join(""),this.$useLineGroups())d.className="ace_line_group",n.appendChild(d),d.style.height=i.lineHeight*this.session.getRowLength(r)+"px";else for(;d.firstChild;)n.appendChild(d.firstChild);r++}return n},this.update=function(a){this.config=a;for(var e=[],t=a.firstRow,n=a.lastRow,r=t,i=this.session.getNextFoldLine(r),s=i?i.start.row:Infinity;;){if(r>s&&(r=i.end.row+1,i=this.session.getNextFoldLine(r,i),s=i?i.start.row:Infinity),r>n)break;this.$useLineGroups()&&e.push("<div class='ace_line_group' style='height:",a.lineHeight*this.session.getRowLength(r),"px'>"),this.$renderLine(e,r,!1,r==s&&i),this.$useLineGroups()&&e.push("</div>"),r++}this.element.innerHTML=e.join("")},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(s,c,e,t){var g=this,n=/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,o=t.replace(n,function(t,e,n,r){if(e)return g.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+d.stringRepeat(g.SPACE_CHAR,t.length)+"</span>":t;if("&"==t)return"&#38;";if("<"==t)return"&#60;";if(">"==t)return"&#62;";if("\t"==t){var o=g.session.getScreenTabSize(c+r);return c+=o-1,g.$tabStrings[o]}if("\u3000"==t){var i=g.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",s=g.showInvisibles?g.SPACE_CHAR:"";return c+=1,"<span class='"+i+"' style='width:"+2*g.config.characterWidth+"px'>"+s+"</span>"}return n?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+g.SPACE_CHAR+"</span>":(c+=1,"<span class='ace_cjk' style='width:"+2*g.config.characterWidth+"px'>"+t+"</span>")});if(!this.$textToken[e.type]){var r="ace_"+e.type.replace(/\./g," ace_"),i="";"fold"==e.type&&(i=" style='width:"+e.value.length*this.config.characterWidth+"px;' "),s.push("<span class='",r,"'",i,">",o,"</span>")}else s.push(o);return c+t.length},this.renderIndentGuide=function(o,e,t){var n=e.search(this.$indentGuideRe);return 0>=n||n>=t?e:" "==e[0]?(n-=n%this.tabSize,o.push(d.stringRepeat(this.$tabStrings[" "],n/this.tabSize)),e.substr(n)):"\t"==e[0]?(o.push(d.stringRepeat(this.$tabStrings["\t"],n)),e.substr(n)):e},this.$renderWrappedLine=function(s,e,t,n){for(var r=0,i=0,o=t[0],g=0,a=0;a<e.length;a++){var u=e[a],l=u.value;if(0==a&&this.displayIndentGuides){if(r=l.length,l=this.renderIndentGuide(s,l,o),!l)continue;r-=l.length}if(r+l.length<o)g=this.$renderToken(s,g,u,l),r+=l.length;else{for(;r+l.length>=o;)g=this.$renderToken(s,g,u,l.substring(0,o-r)),l=l.substring(o-r),r=o,n||s.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),s.push(d.stringRepeat("\xA0",t.indent)),i++,g=0,o=t[i]||Number.MAX_VALUE;0!=l.length&&(r+=l.length,g=this.$renderToken(s,g,u,l))}}},this.$renderSimpleLine=function(o,e){var t=0,n=e[0],r=n.value;this.displayIndentGuides&&(r=this.renderIndentGuide(o,r)),r&&(t=this.$renderToken(o,t,n,r));for(var i=1;i<e.length;i++)n=e[i],r=n.value,t=this.$renderToken(o,t,n,r)},this.$renderLine=function(o,e,t,n){if(n||0==n||(n=this.session.getFoldLine(e)),n)var r=this.$getFoldLineTokens(e,n);else var r=this.session.getTokens(e);if(t||o.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(e)),"px'>"),r.length){var i=this.session.getRowSplitData(e);i&&i.length?this.$renderWrappedLine(o,r,i,t):this.$renderSimpleLine(o,r)}this.showInvisibles&&(n&&(e=n.end.row),o.push("<span class='ace_invisible ace_invisible_eol'>",e==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),t||o.push("</div>")},this.$getFoldLineTokens=function(o,e){function l(r,e,t){for(var n=0,a=0;a+r[n].value.length<e;)if(a+=r[n].value.length,n++,n==r.length)return;if(a!=e){var s=r[n].value.substring(e-a);s.length>t-e&&(s=s.substring(0,t-e)),d.push({type:r[n].type,value:s}),a=e+s.length,n+=1}for(;a<t&&n<r.length;){var s=r[n].value;s.length+a>t?d.push({type:r[n].type,value:s.substring(0,t-a)}):d.push(r[n]),a+=s.length,n+=1}}var i=this.session,d=[],n=i.getTokens(o);return e.walk(function(r,s,t,o,c){null==r?(c&&(n=i.getTokens(s)),n.length&&l(n,o,t)):d.push({type:"fold",value:r})},e.end.row,this.session.getLine(e.end.row).length),d},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(i.prototype),e.Text=i}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(n,e){"use strict";var o=n("../lib/dom"),t=function(t){this.element=o.createElement("div"),this.element.className="ace_layer ace_cursor-layer",t.appendChild(this.element),r==void 0&&(r=!("opacity"in this.element.style)),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),o.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=(r?this.$updateVisibility:this.$updateOpacity).bind(this)},r;(function(){this.$updateVisibility=function(o){for(var e=this.cursors,t=e.length;t--;)e[t].style.visibility=o?"":"hidden"},this.$updateOpacity=function(o){for(var e=this.cursors,t=e.length;t--;)e[t].style.opacity=o?"":"0"},this.$padding=0,this.setPadding=function(t){this.$padding=t},this.setSession=function(t){this.session=t},this.setBlinking=function(t){t!=this.isBlinking&&(this.isBlinking=t,this.restartTimer())},this.setBlinkInterval=function(t){t!=this.blinkInterval&&(this.blinkInterval=t,this.restartTimer())},this.setSmoothBlinking=function(t){t==this.smoothBlinking||r||(this.smoothBlinking=t,o.setCssClass(this.element,"ace_smooth-blinking",t),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())},this.addCursor=function(){var t=o.createElement("div");return t.className="ace_cursor",this.element.appendChild(t),this.cursors.push(t),t},this.removeCursor=function(){if(1<this.cursors.length){var t=this.cursors.pop();return t.parentNode.removeChild(t),t}},this.hideCursor=function(){this.isVisible=!1,o.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,o.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var n=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&o.removeCssClass(this.element,"ace_smooth-blinking"),n(!0),this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){o.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var e=function(){this.timeoutId=setTimeout(function(){n(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){n(!0),e()},this.blinkInterval),e()}},this.getPixelPosition=function(o,e){if(!this.config||!this.session)return{left:0,top:0};o||(o=this.session.selection.getCursor());var t=this.session.documentToScreenPosition(o),n=this.$padding+(this.session.$bidiHandler.isBidiRow(t.row,o.row)?this.session.$bidiHandler.getPosLeft(t.column):t.column*this.config.characterWidth),s=(t.row-(e?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:n,top:s}},this.update=function(a){this.config=a;var e=this.session.$selectionMarkers,t=0,n=0;(e===void 0||0===e.length)&&(e=[{cursor:null}]);for(var t=0,r=e.length,i;t<r;t++)if(i=this.getPixelPosition(e[t].cursor,!0),!((i.top>a.height+a.offset||0>i.top)&&1<t)){var s=(this.cursors[n++]||this.addCursor()).style;this.drawCursor?this.drawCursor(s,i,a,e[t],this.session):(s.left=i.left+"px",s.top=i.top+"px",s.width=a.characterWidth+"px",s.height=a.lineHeight+"px")}for(;this.cursors.length>n;)this.removeCursor();var o=this.session.getOverwrite();this.$setOverwrite(o),this.$pixelPos=i,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(t){t!=this.overwrite&&(this.overwrite=t,t?o.addCssClass(this.element,"ace_overwrite-cursors"):o.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(t.prototype),e.Cursor=t}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(n,e){"use strict";var t=n("./lib/oop"),r=n("./lib/dom"),i=n("./lib/event"),s=n("./lib/event_emitter").EventEmitter,o=32768,d=function(t){this.element=r.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=r.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),t.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,i.addListener(this.element,"scroll",this.onScroll.bind(this)),i.addListener(this.element,"mousedown",i.preventDefault)};(function(){t.implement(this,s),this.setVisible=function(t){this.element.style.display=t?"":"none",this.isVisible=t,this.coeff=1}}).call(d.prototype);var a=function(n,e){d.call(this,n),this.scrollTop=0,this.scrollHeight=0,e.$scrollbarWidth=this.width=r.scrollbarWidth(n.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};t.inherits(a,d),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var t=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-t)/(this.coeff-t)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(t){this.element.style.height=t+"px"},this.setInnerHeight=this.setScrollHeight=function(t){this.scrollHeight=t,t>o?(this.coeff=o/t,t=o):1!=this.coeff&&(this.coeff=1),this.inner.style.height=t+"px"},this.setScrollTop=function(t){this.scrollTop!=t&&(this.skipEvent=!0,this.scrollTop=t,this.element.scrollTop=t*this.coeff)}}.call(a.prototype);var c=function(n,e){d.call(this,n),this.scrollLeft=0,this.height=e.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};t.inherits(c,d),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(t){this.element.style.width=t+"px"},this.setInnerWidth=function(t){this.inner.style.width=t+"px"},this.setScrollWidth=function(t){this.inner.style.width=t+"px"},this.setScrollLeft=function(t){this.scrollLeft!=t&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=t)}}.call(c.prototype),e.ScrollBar=a,e.ScrollBarV=a,e.ScrollBarH=c,e.VScrollBar=a,e.HScrollBar=c}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(n,e){"use strict";var o=n("./lib/event"),t=function(n,e){this.onRender=n,this.pending=!1,this.changes=0,this.window=e||window};(function(){this.schedule=function(n){if(this.changes|=n,!this.pending&&this.changes){this.pending=!0;var r=this;o.nextFrame(function(){r.pending=!1;for(var t;t=r.changes;)r.changes=0,r.onRender(t)},this.window)}}}).call(t.prototype),e.RenderLoop=t}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(n,e){var t=n("../lib/oop"),r=n("../lib/dom"),i=n("../lib/lang"),s=n("../lib/useragent"),o=n("../lib/event_emitter").EventEmitter,l=0,a=e.FontMetrics=function(t){this.el=r.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=r.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=r.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),t.appendChild(this.el),l||this.$testFractionalRect(),this.$measureNode.innerHTML=i.stringRepeat("X",l),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};(function(){t.implement(this,o),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var n=r.createElement("div");this.$setMeasureNodeStyles(n.style),n.style.width="0.2px",document.documentElement.appendChild(n);var e=n.getBoundingClientRect().width;l=0<e&&1>e?50:100,n.parentNode.removeChild(n)},this.$setMeasureNodeStyles=function(n,e){n.width=n.height="auto",n.left=n.top="0px",n.visibility="hidden",n.position="absolute",n.whiteSpace="pre",8>s.isIE?n["font-family"]="inherit":n.font="inherit",n.overflow=e?"hidden":"visible"},this.checkForSizeChanges=function(){var n=this.$measureSizes();if(n&&(this.$characterSize.width!==n.width||this.$characterSize.height!==n.height)){this.$measureNode.style.fontWeight="bold";var o=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=n,this.charSizes=Object.create(null),this.allowBoldFonts=o&&o.width===n.width&&o.height===n.height,this._emit("changeCharacterSize",{data:n})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var t=this;return this.$pollSizeChangesTimer=setInterval(function(){t.checkForSizeChanges()},500)},this.setPolling=function(t){t?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(){if(50==l){var t=null;try{t=this.$measureNode.getBoundingClientRect()}catch(e){t={width:0,height:0}}var e={height:t.height,width:t.width/l}}else var e={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/l};return 0===e.width||0===e.height?null:e},this.$measureCharWidth=function(n){this.$main.innerHTML=i.stringRepeat(n,l);var e=this.$main.getBoundingClientRect();return e.width/l},this.getCharacterWidth=function(n){var e=this.charSizes[n];return e===void 0&&(e=this.charSizes[n]=this.$measureCharWidth(n)/this.$characterSize.width),e},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(a.prototype)}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],function(n,e){"use strict";var A=Math.ceil,C=Math.round,F=Math.min,$=Math.max,m=Math.floor,t=n("./lib/oop"),E=n("./lib/dom"),i=n("./config"),s=n("./lib/useragent"),o=n("./layer/gutter").Gutter,u=n("./layer/marker").Marker,a=n("./layer/text").Text,f=n("./layer/cursor").Cursor,l=n("./scrollbar").HScrollBar,c=n("./scrollbar").VScrollBar,h=n("./renderloop").RenderLoop,p=n("./layer/font_metrics").FontMetrics,r=n("./lib/event_emitter").EventEmitter;E.importCssString(".ace_editor {position: relative;overflow: hidden;font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: '';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==\");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==\");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=\");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC\");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\"),url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=\");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\"),url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC\");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==\");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==\");}.ace_fold-widget.ace_closed {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==\");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\");}.ace_dark .ace_fold-widget.ace_end {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\");}.ace_dark .ace_fold-widget.ace_closed {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_text-input-ios {position: absolute !important;top: -100000px !important;left: -100000px !important;}","ace_editor.css");var d=function(d,e){var t=this;this.container=d||E.createElement("div"),this.$keepTextAreaAtCursor=!s.isOldIE,E.addCssClass(this.container,"ace_editor"),this.setTheme(e),this.$gutter=E.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=E.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=E.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new o(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new u(this.content);var n=this.$textLayer=new a(this.content);this.canvas=n.element,this.$markerFront=new u(this.content),this.$cursorLayer=new f(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new c(this.container,this),this.scrollBarH=new l(this.container,this),this.scrollBarV.addEventListener("scroll",function(n){t.$scrollAnimation||t.session.setScrollTop(n.data-t.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(n){t.$scrollAnimation||t.session.setScrollLeft(n.data-t.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new p(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",function(n){t.updateCharacterSize(),t.onResize(!0,t.gutterWidth,t.$size.width,t.$size.height),t._signal("changeCharacterSize",n)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new h(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),i.resetOptions(this),i._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,t.implement(this,r),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(t){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=t,t&&this.scrollMargin.top&&0>=t.getScrollTop()&&t.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(t),this.$markerBack.setSession(t),this.$markerFront.setSession(t),this.$gutterLayer.setSession(t),this.$textLayer.setSession(t);t&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(o,r,i){if(void 0===r&&(r=Infinity),this.$changedLines?(this.$changedLines.firstRow>o&&(this.$changedLines.firstRow=o),this.$changedLines.lastRow<r&&(this.$changedLines.lastRow=r)):this.$changedLines={firstRow:o,lastRow:r},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!i)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(t){t?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(o,e,t,n){if(!(2<this.resizing)){0<this.resizing?this.resizing++:this.resizing=o?1:0;var r=this.container;n||(n=r.clientHeight||r.scrollHeight),t||(t=r.clientWidth||r.scrollWidth);var i=this.$updateCachedSize(o,e,t,n);return this.$size.scrollerHeight&&(t||n)?void(o&&(this.$gutterLayer.$padding=null),o?this.$renderChanges(i|this.$changes,!0):this.$loop.schedule(i|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null):this.resizing=0}},this.$updateCachedSize=function(a,e,t,l){l-=this.$extraHeight||0;var d=0,i=this.$size,s={width:i.width,height:i.height,scrollerHeight:i.scrollerHeight,scrollerWidth:i.scrollerWidth};return l&&(a||i.height!=l)&&(i.height=l,d|=this.CHANGE_SIZE,i.scrollerHeight=i.height,this.$horizScroll&&(i.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",d|=this.CHANGE_SCROLL),t&&(a||i.width!=t)&&(d|=this.CHANGE_SIZE,i.width=t,null==e&&(e=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=e,this.scrollBarH.element.style.left=this.scroller.style.left=e+"px",i.scrollerWidth=$(0,t-e-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||a)&&(d|=this.CHANGE_FULL)),(i.$dirty=!t||!l,d&&this._signal("resize",s),d)},this.onGutterResize=function(){var t=this.$showGutter?this.$gutter.offsetWidth:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var n=this.$size.scrollerWidth-2*this.$padding,e=m(n/this.characterWidth);return this.session.adjustWrapLimit(e,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(t){this.setOption("animatedScroll",t)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(t){this.setOption("showInvisibles",t),this.session.$bidiHandler.setShowInvisibles(t)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(t){this.setOption("displayIndentGuides",t)},this.setShowPrintMargin=function(t){this.setOption("showPrintMargin",t)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(t){this.setOption("printMarginColumn",t)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(t){return this.setOption("showGutter",t)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(t){this.setOption("fadeFoldWidgets",t)},this.setHighlightGutterLine=function(t){this.setOption("highlightGutterLine",t)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var o=this.$cursorLayer.$pixelPos,e=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var t=this.session.selection.getCursor();t.column=0,o=this.$cursorLayer.getPixelPosition(t,!0),e*=this.session.getRowLength(t.row)}this.$gutterLineHighlight.style.top=o.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=e+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var n=E.createElement("div");n.className="ace_layer ace_print-margin-layer",this.$printMarginEl=E.createElement("div"),this.$printMarginEl.className="ace_print-margin",n.appendChild(this.$printMarginEl),this.content.insertBefore(n,this.content.firstChild)}var e=this.$printMarginEl.style;e.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",e.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var a=this.layerConfig,e=this.$cursorLayer.$pixelPos.top,t=this.$cursorLayer.$pixelPos.left;e-=a.offset;var n=this.textarea.style,r=this.lineHeight;if(0>e||e>a.height-r)return void(n.top=n.left="0");var i=this.characterWidth;if(this.$composition){var s=this.textarea.value.replace(/^\x01+/,"");i*=this.session.$getStringScreenWidth(s)[0]+2,r+=2}t-=this.scrollLeft,t>this.$size.scrollerWidth-i&&(t=this.$size.scrollerWidth-i),t+=this.gutterWidth,n.height=r+"px",n.width=i+"px",n.left=F(t,this.$size.scrollerWidth-i)+"px",n.top=F(e,this.$size.height-r)+"px"}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var o=this.layerConfig,e=o.lastRow,t=this.session.documentToScreenRow(e,0)*o.lineHeight;return t-this.session.getScrollTop()>o.height-o.lineHeight?e-1:e},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(t){this.$padding=t,this.$textLayer.setPadding(t),this.$cursorLayer.setPadding(t),this.$markerFront.setPadding(t),this.$markerBack.setPadding(t),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(o,e,t,n){var r=this.scrollMargin;r.top=0|o,r.bottom=0|e,r.right=0|n,r.left=0|t,r.v=r.top+r.bottom,r.h=r.left+r.right,r.top&&0>=this.scrollTop&&this.session&&this.session.setScrollTop(-r.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(t){this.setOption("hScrollBarAlwaysVisible",t)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(t){this.setOption("vScrollBarAlwaysVisible",t)},this.$updateScrollBarV=function(){var n=this.layerConfig.maxHeight,e=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(n-=(e-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>n-e&&(n=this.scrollTop+e,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(n+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(o,i){if(this.$changes&&(o|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!o&&!i)return void(this.$changes|=o);if(this.$size.$dirty)return this.$changes|=o,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender"),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var s=this.layerConfig;if(o&this.CHANGE_FULL||o&this.CHANGE_SIZE||o&this.CHANGE_TEXT||o&this.CHANGE_LINES||o&this.CHANGE_SCROLL||o&this.CHANGE_H_SCROLL){if(o|=this.$computeLayerConfig(),s.firstRow!=this.layerConfig.firstRow&&s.firstRowScreen==this.layerConfig.firstRowScreen){var n=this.scrollTop+(s.firstRow-this.layerConfig.firstRow)*this.lineHeight;0<n&&(this.scrollTop=n,o|=this.CHANGE_SCROLL,o|=this.$computeLayerConfig())}s=this.layerConfig,this.$updateScrollBarV(),o&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-s.offset+"px",this.content.style.marginTop=-s.offset+"px",this.content.style.width=s.width+2*this.$padding+"px",this.content.style.height=s.minHeight+"px"}return o&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=0>=this.scrollLeft?"ace_scroller":"ace_scroller ace_scroll-left"),o&this.CHANGE_FULL?(this.$textLayer.update(s),this.$showGutter&&this.$gutterLayer.update(s),this.$markerBack.update(s),this.$markerFront.update(s),this.$cursorLayer.update(s),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),void this._signal("afterRender")):o&this.CHANGE_SCROLL?(o&this.CHANGE_TEXT||o&this.CHANGE_LINES?this.$textLayer.update(s):this.$textLayer.scrollLines(s),this.$showGutter&&this.$gutterLayer.update(s),this.$markerBack.update(s),this.$markerFront.update(s),this.$cursorLayer.update(s),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),void this._signal("afterRender")):void(o&this.CHANGE_TEXT?(this.$textLayer.update(s),this.$showGutter&&this.$gutterLayer.update(s)):o&this.CHANGE_LINES?(this.$updateLines()||o&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(s):(o&this.CHANGE_TEXT||o&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(s),o&this.CHANGE_CURSOR&&(this.$cursorLayer.update(s),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),o&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(s),o&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(s),this._signal("afterRender"))},this.$autosize=function(){var o=this.session.getScreenLength()*this.lineHeight,e=this.$maxLines*this.lineHeight,t=F(e,$((this.$minLines||1)*this.lineHeight,o))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(t+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&t>this.$maxPixelHeight&&(t=this.$maxPixelHeight);var n=o>e;if(t!=this.desiredHeight||this.$size.height!=this.desiredHeight||n!=this.$vScroll){n!=this.$vScroll&&(this.$vScroll=n,this.scrollBarV.setVisible(n));var r=this.container.clientWidth;this.container.style.height=t+"px",this.$updateCachedSize(!0,this.$gutterWidth,r,t),this.desiredHeight=t,this._signal("autosize")}},this.$computeLayerConfig=function(){var B=this.session,e=this.$size,t=e.height<=2*this.lineHeight,D=this.session.getScreenLength(),r=D*this.lineHeight,x=this.$getLongestLine(),k=!t&&(this.$hScrollBarAlwaysVisible||0>e.scrollerWidth-x-2*this.$padding),o=this.$horizScroll!==k;o&&(this.$horizScroll=k,this.scrollBarH.setVisible(k));var u=this.$vScroll;this.$maxLines&&1<this.lineHeight&&this.$autosize();var a=this.scrollTop%this.lineHeight,L=e.scrollerHeight+this.lineHeight,R=!this.$maxLines&&this.$scrollPastEnd?(e.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;r+=R;var c=this.scrollMargin;this.session.setScrollTop($(-c.top,F(this.scrollTop,r-e.scrollerHeight+c.bottom))),this.session.setScrollLeft($(-c.left,F(this.scrollLeft,x+2*this.$padding-e.scrollerWidth+c.right)));var h=!t&&(this.$vScrollBarAlwaysVisible||0>e.scrollerHeight-r+R||this.scrollTop>c.top),p=u!==h;p&&(this.$vScroll=h,this.scrollBarV.setVisible(h));var d=A(L/this.lineHeight)-1,v=$(0,C((this.scrollTop-a)/this.lineHeight)),T=v+d,_=this.lineHeight,M,W;v=B.screenToDocumentRow(v,0);var b=B.getFoldLine(v);b&&(v=b.start.row),M=B.documentToScreenRow(v,0),W=B.getRowLength(v)*_,T=F(B.screenToDocumentRow(T,0),B.getLength()-1),L=e.scrollerHeight+B.getRowLength(T)*_+W,a=this.scrollTop-M*_;var E=0;return this.layerConfig.width!=x&&(E=this.CHANGE_H_SCROLL),(o||p)&&(E=this.$updateCachedSize(!0,this.gutterWidth,e.width,e.height),this._signal("scrollbarVisibilityChanged"),p&&(x=this.$getLongestLine())),(this.layerConfig={width:x,padding:this.$padding,firstRow:v,firstRowScreen:M,lastRow:T,lineHeight:_,characterWidth:this.characterWidth,minHeight:L,maxHeight:r,offset:a,gutterOffset:_?$(0,A((a+e.height-e.scrollerHeight)/_)):0,height:this.$size.scrollerHeight},E)},this.$updateLines=function(){if(this.$changedLines){var o=this.$changedLines.firstRow,e=this.$changedLines.lastRow;this.$changedLines=null;var t=this.layerConfig;return o>t.lastRow+1||e<t.firstRow?void 0:e===Infinity?(this.$showGutter&&this.$gutterLayer.update(t),void this.$textLayer.update(t)):(this.$textLayer.updateLines(t,o,e),!0)}},this.$getLongestLine=function(){var t=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(t+=1),$(this.$size.scrollerWidth-2*this.$padding,C(t*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(n,e){this.$gutterLayer.addGutterDecoration(n,e)},this.removeGutterDecoration=function(n,e){this.$gutterLayer.removeGutterDecoration(n,e)},this.updateBreakpoints=function(){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(t){this.$gutterLayer.setAnnotations(t),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(o,e,t){this.scrollCursorIntoView(o,t),this.scrollCursorIntoView(e,t)},this.scrollCursorIntoView=function(l,e,t){if(0!==this.$size.scrollerHeight){var n=this.$cursorLayer.getPixelPosition(l),r=n.left,i=n.top,s=t&&t.top||0,o=t&&t.bottom||0,d=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;d+s>i?(e&&d+s>i+this.lineHeight&&(i-=e*this.$size.scrollerHeight),0==i&&(i=-this.scrollMargin.top),this.session.setScrollTop(i)):d+this.$size.scrollerHeight-o<i+this.lineHeight&&(e&&d+this.$size.scrollerHeight-o<i-this.lineHeight&&(i+=e*this.$size.scrollerHeight),this.session.setScrollTop(i+this.lineHeight-this.$size.scrollerHeight));var a=this.scrollLeft;a>r?(r<this.$padding+2*this.layerConfig.characterWidth&&(r=-this.scrollMargin.left),this.session.setScrollLeft(r)):a+this.$size.scrollerWidth<r+this.characterWidth?this.session.setScrollLeft(C(r+this.characterWidth-this.$size.scrollerWidth)):a<=this.$padding&&r-a<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return $(0,m((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(t){this.session.setScrollTop(t*this.lineHeight)},this.alignCursor=function(o,s){"number"==typeof o&&(o={row:o,column:0});var t=this.$cursorLayer.getPixelPosition(o),n=this.$size.scrollerHeight-this.lineHeight,r=t.top-n*(s||0);return this.session.setScrollTop(r),r},this.STEPS=8,this.$calcSteps=function(o,e){var t=0,n=this.STEPS,r=[],i=function(o,e,t){return t*(Math.pow(o-1,3)+1)+e};for(t=0;t<n;++t)r.push(i(t/this.STEPS,o,e-o));return r},this.scrollToLine=function(a,l,t,n){var r=this.$cursorLayer.getPixelPosition({row:a,column:0}),i=r.top;l&&(i-=this.$size.scrollerHeight/2);var s=this.scrollTop;this.session.setScrollTop(i),!1!==t&&this.animateScrolling(s,n)},this.animateScrolling=function(o,a){var t=this.scrollTop;if(this.$animatedScroll){var l=this;if(o!=t){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(o=r[0],o==t))return}var i=l.$calcSteps(o,t);this.$scrollAnimation={from:o,to:t,steps:i},clearInterval(this.$timer),l.session.setScrollTop(i.shift()),l.session.$scrollTop=t,this.$timer=setInterval(function(){i.length?(l.session.setScrollTop(i.shift()),l.session.$scrollTop=t):null==t?(l.$timer=clearInterval(l.$timer),l.$scrollAnimation=null,a&&a()):(l.session.$scrollTop=-1,l.session.setScrollTop(t),t=null)},10)}}},this.scrollToY=function(t){this.scrollTop!==t&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=t)},this.scrollToX=function(t){this.scrollLeft!==t&&(this.scrollLeft=t),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(n,e){this.session.setScrollTop(e),this.session.setScrollLeft(e)},this.scrollBy=function(n,e){e&&this.session.setScrollTop(this.session.getScrollTop()+e),n&&this.session.setScrollLeft(this.session.getScrollLeft()+n)},this.isScrollableBy=function(n,e){return 0>e&&this.session.getScrollTop()>=1-this.scrollMargin.top||0<e&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||0>n&&this.session.getScrollLeft()>=1-this.scrollMargin.left||0<n&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0},this.pixelToScreenCoordinates=function(a,e){var t=this.scroller.getBoundingClientRect(),n=a+this.scrollLeft-t.left-this.$padding,l=n/this.characterWidth,i=m((e+this.scrollTop-t.top)/this.lineHeight),d=C(l);return{row:i,column:d,side:0<l-d?1:-1,offsetX:n}},this.screenToTextCoordinates=function(o,e){var t=this.scroller.getBoundingClientRect(),n=o+this.scrollLeft-t.left-this.$padding,r=C(n/this.characterWidth),i=(e+this.scrollTop-t.top)/this.lineHeight;return this.session.screenToDocumentPosition(i,$(r,0),n)},this.textToScreenCoordinates=function(o,e){var t=this.scroller.getBoundingClientRect(),n=this.session.documentToScreenPosition(o,e),r=this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,o)?this.session.$bidiHandler.getPosLeft(n.column):C(n.column*this.characterWidth)),i=n.row*this.lineHeight;return{pageX:t.left+r-this.scrollLeft,pageY:t.top+i-this.scrollTop}},this.visualizeFocus=function(){E.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){E.removeCssClass(this.container,"ace_focus")},this.showComposition=function(){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,E.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(E.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(a,l){function t(e){if(o.$themeId!=a)return l&&l();if(!e||!e.cssClass)throw new Error("couldn't load module "+a+" or it didn't call define");E.importCssString(e.cssText,e.cssClass,o.container.ownerDocument),o.theme&&E.removeCssClass(o.container,o.theme.cssClass);var t="padding"in e?e.padding:"padding"in(o.theme||{})?4:o.$padding;o.$padding&&t!=o.$padding&&o.setPadding(t),o.$theme=e.cssClass,o.theme=e,E.addCssClass(o.container,e.cssClass),E.setCssClass(o.container,"ace_dark",e.isDark),o.$size&&(o.$size.width=0,o.$updateSizeAsync()),o._dispatchEvent("themeLoaded",{theme:e}),l&&l()}var o=this;if(this.$themeId=a,o._dispatchEvent("themeChange",{theme:a}),!a||"string"==typeof a){var n=a||this.$options.theme.initialValue;i.loadModule(["theme",n],t)}else t(a)},this.getTheme=function(){return this.$themeId},this.setStyle=function(n,e){E.setCssClass(this.container,n,!1!==e)},this.unsetStyle=function(t){E.removeCssClass(this.container,t)},this.setCursorStyle=function(t){this.scroller.style.cursor!=t&&(this.scroller.style.cursor=t)},this.setMouseCursor=function(t){this.scroller.style.cursor=t},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(d.prototype),i.defineOptions(d.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(t){this.$textLayer.setShowInvisibles(t)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(t){"number"==typeof t&&(this.$printMarginColumn=t),this.$showPrintMargin=!!t,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(t){this.$gutter.style.display=t?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(t){E.setCssClass(this.$gutter,"ace_fade-fold-widgets",t)},initialValue:!1},showFoldWidgets:{set:function(t){this.$gutterLayer.setShowFoldWidgets(t)},initialValue:!0},showLineNumbers:{set:function(t){this.$gutterLayer.setShowLineNumbers(t),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(t){this.$textLayer.setDisplayIndentGuides(t)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(t){return this.$gutterLineHighlight?void(this.$gutterLineHighlight.style.display=t?"":"none",this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight()):(this.$gutterLineHighlight=E.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",void this.$gutter.appendChild(this.$gutterLineHighlight))},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(t){"number"==typeof t&&(t+="px"),this.container.style.fontSize=t,this.updateFontSize()},initialValue:12},fontFamily:{set:function(t){this.container.style.fontFamily=t,this.updateFontSize()}},maxLines:{set:function(){this.updateFull()}},minLines:{set:function(){this.updateFull()}},maxPixelHeight:{set:function(){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(t){t=+t||0;this.$scrollPastEnd==t||(this.$scrollPastEnd=t,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(t){this.$gutterLayer.$fixedWidth=!!t,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(t){this.setTheme(t)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),e.VirtualRenderer=d}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(d,e){"use strict";function c(o){var e="importScripts('"+n.qualifyURL(o)+"');";try{return new Blob([e],{type:"application/javascript"})}catch(o){var t=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,r=new t;return r.append(e),r.getBlob("application/javascript")}}function g(o){var e=c(o),t=window.URL||window.webkitURL,n=t.createObjectURL(e);return new Worker(n)}var t=d("../lib/oop"),n=d("../lib/net"),m=d("../lib/event_emitter").EventEmitter,h=d("../config"),o=function(e,t,o,a,i){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),d.nameToUrl&&!d.toUrl&&(d.toUrl=d.nameToUrl),h.get("packaged")||!d.toUrl)a=a||h.moduleUrl(t,"worker");else{var s=this.$normalizePath;a=a||s(d.toUrl("ace/worker/worker.js",null,"_"));var l={};e.forEach(function(e){l[e]=s(d.toUrl(e,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}this.$worker=g(a),i&&this.send("importScripts",i),this.$worker.postMessage({init:!0,tlns:l,module:t,classname:o}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){t.implement(this,m),this.onMessage=function(o){var e=o.data;switch(e.type){case"event":this._signal(e.name,{data:e.data});break;case"call":var t=this.callbacks[e.id];t&&(t(e.data),delete this.callbacks[e.id]);break;case"error":this.reportError(e.data);break;case"log":window.console&&console.log&&console.log.apply(console,e.data);}},this.reportError=function(t){window.console&&console.error&&console.error(t)},this.$normalizePath=function(t){return n.qualifyURL(t)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(n,o){this.$worker.postMessage({command:n,args:o})},this.call=function(o,e,t){if(t){var n=this.callbackId++;this.callbacks[n]=t,e.push(n)}this.send(o,e)},this.emit=function(n,o){try{this.$worker.postMessage({event:n,data:{data:o.data}})}catch(e){console.error(e.stack)}},this.attachToDocument=function(t){this.$doc&&this.terminate(),this.$doc=t,this.call("setValue",[t.getValue()]),t.on("change",this.changeListener)},this.changeListener=function(t){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==t.action?this.deltaQueue.push(t.start,t.lines):this.deltaQueue.push(t.start,t.end)},this.$sendDeltaQueue=function(){var t=this.deltaQueue;t&&(this.deltaQueue=null,50<t.length&&t.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:t}))}}).call(o.prototype);var r=function(o,e,t){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var n=null,r=!1,i=Object.create(m),s=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(t){s.messageBuffer.push(t),n&&(r?setTimeout(a):a())},this.setEmitSync=function(t){r=t};var a=function(){var t=s.messageBuffer.shift();t.command?n[t.command].apply(n,t.args):t.event&&i._signal(t.event,t.data)};i.postMessage=function(t){s.onMessage({data:t})},i.callback=function(n,o){this.postMessage({type:"call",id:o,data:n})},i.emit=function(n,o){this.postMessage({type:"event",name:n,data:o})},h.loadModule(["worker",e],function(o){for(n=new o[t](i);s.messageBuffer.length;)a()})};r.prototype=o.prototype,e.UIWorkerClient=r,e.WorkerClient=o,e.createWorker=g}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(n,e){"use strict";var l=n("./range").Range,t=n("./lib/event_emitter").EventEmitter,r=n("./lib/oop"),i=function(a,e,t,n,r,i){var s=this;this.length=e,this.session=a,this.doc=a.getDocument(),this.mainClass=r,this.othersClass=i,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=n,this.$onCursorChange=function(){setTimeout(function(){s.onCursorChange()})},this.$pos=t;var o=a.getUndoManager().$undoStack||a.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=o.length,this.setup(),a.selection.on("changeCursor",this.$onCursorChange)};(function(){r.implement(this,t),this.setup=function(){var o=this,e=this.doc,t=this.session;this.selectionBefore=t.selection.toJSON(),t.selection.inMultiSelectMode&&t.selection.toSingleRange(),this.pos=e.createAnchor(this.$pos.row,this.$pos.column);var n=this.pos;n.$insertRight=!0,n.detach(),n.markerId=t.addMarker(new l(n.row,n.column,n.row,n.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(t){var n=e.createAnchor(t.row,t.column);n.$insertRight=!0,n.detach(),o.others.push(n)}),t.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var o=this.session,e=this;this.othersActive=!0,this.others.forEach(function(t){t.markerId=o.addMarker(new l(t.row,t.column,t.row,t.column+e.length),e.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var t=0;t<this.others.length;t++)this.session.removeMarker(this.others[t].markerId)}},this.onUpdate=function(r){if(this.$updating)return this.updateAnchors(r);var e=r;if(e.start.row===e.end.row&&e.start.row===this.pos.row){this.$updating=!0;var t="insert"===r.action?e.end.column-e.start.column:e.start.column-e.end.column,n=e.start.column>=this.pos.column&&e.start.column<=this.pos.column+this.length+1,i=e.start.column-this.pos.column;if(this.updateAnchors(r),n&&(this.length+=t),n&&!this.session.$fromUndo)if("insert"===r.action)for(var s=this.others.length-1;0<=s;s--){var o=this.others[s],d={row:o.row,column:o.column+i};this.doc.insertMergedLines(d,r.lines)}else if("remove"===r.action)for(var s=this.others.length-1;0<=s;s--){var o=this.others[s],d={row:o.row,column:o.column+i};this.doc.remove(new l(d.row,d.column,d.row,d.column-t))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(n){this.pos.onChange(n);for(var e=this.others.length;e--;)this.others[e].onChange(n);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var o=this,e=this.session,t=function(t,n){e.removeMarker(t.markerId),t.markerId=e.addMarker(new l(t.row,t.column,t.row,t.column+o.length),n,null,!1)};t(this.pos,this.mainClass);for(var n=this.others.length;n--;)t(this.others[n],this.othersClass)}},this.onCursorChange=function(n){if(!this.$updating&&this.session){var e=this.session.selection.getCursor();e.row===this.pos.row&&e.column>=this.pos.column&&e.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",n)):(this.hideOtherMarkers(),this._emit("cursorLeave",n))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var o=this.session.getUndoManager(),e=(o.$undoStack||o.$undostack).length-this.$undoStackDepth,t=0;t<e;t++)o.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(i.prototype),e.PlaceHolder=i}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,e){function A(n,e){return n.row==e.row&&n.column==e.column}function t(i){var e=i.domEvent,t=e.altKey,F=e.shiftKey,$=e.ctrlKey,B=i.getAccelKey(),D=i.getButton();if($&&r.isMac&&(D=e.button),i.editor.inMultiSelectMode&&2==D)return void i.editor.textInput.onContextMenu(i.domEvent);if(!$&&!t&&!B)return void(0===D&&i.editor.inMultiSelectMode&&i.editor.exitMultiSelectMode());if(0===D){var f=i.editor,l=f.selection,c=f.inMultiSelectMode,R=i.getDocumentPosition(),p=l.getCursor(),d=i.inSelection()||l.isEmpty()&&A(R,p),v=i.x,m=i.y,g=function(t){v=t.clientX,m=t.clientY},y=f.session,b=f.renderer.pixelToScreenCoordinates(v,m),w=b,E;if(f.$mouseHandler.$enableJumpToDef)$&&t||B&&t?E=F?"block":"add":t&&f.$blockSelectEnabled&&(E="block");else if(!B||t)t&&f.$blockSelectEnabled&&(E="block");else if(E="add",!c&&F)return;if(E&&r.isMac&&e.ctrlKey&&f.$mouseHandler.cancelContextMenu(),"add"==E){if(!c&&d)return;if(!c){var S=l.toOrientedRange();f.addSelectionMarker(S)}var x=l.rangeList.rangeAtPoint(R);f.$blockScrolling++,f.inVirtualSelectionMode=!0,F&&(x=null,S=l.ranges[0]||S,f.removeSelectionMarker(S)),f.once("mouseup",function(){var t=l.toOrientedRange();x&&t.isEmpty()&&A(x.cursor,t.cursor)?l.substractPoint(t.cursor):(F?l.substractPoint(S.cursor):S&&(f.removeSelectionMarker(S),l.addRange(S)),l.addRange(t)),f.$blockScrolling--,f.inVirtualSelectionMode=!1})}else if("block"==E){i.stop(),f.inVirtualSelectionMode=!0;var T=[],C=function(){var n=f.renderer.pixelToScreenCoordinates(v,m),e=y.screenToDocumentPosition(n.row,n.column,n.offsetX);A(w,n)&&A(e,l.lead)||(w=n,f.$blockScrolling++,f.selection.moveToPosition(e),f.renderer.scrollCursorIntoView(),f.removeSelectionMarkers(T),T=l.rectangularRangeBlock(w,b),f.$mouseHandler.$clickSelection&&1==T.length&&T[0].isEmpty()&&(T[0]=f.$mouseHandler.$clickSelection.clone()),T.forEach(f.addSelectionMarker,f),f.updateSelectionMarkers(),f.$blockScrolling--)},k;f.$blockScrolling++,c&&!B?l.toSingleRange():!c&&B&&(k=l.toOrientedRange(),f.addSelectionMarker(k)),F?b=y.documentToScreenPosition(l.lead):l.moveToPosition(R),f.$blockScrolling--,w={row:-1,column:-1};var _=function(){clearInterval(L),f.removeSelectionMarkers(T),T.length||(T=[l.toOrientedRange()]),f.$blockScrolling++,k&&(f.removeSelectionMarker(k),l.toSingleRange(k));for(var e=0;e<T.length;e++)l.addRange(T[e]);f.inVirtualSelectionMode=!1,f.$mouseHandler.$clickSelection=null,f.$blockScrolling--};s.capture(f.container,g,_);var L=setInterval(function(){C()},20);return i.preventDefault()}}}var s=n("../lib/event"),r=n("../lib/useragent");e.onMouseDown=t}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(n,e){e.defaultCommands=[{name:"addCursorAbove",exec:function(t){t.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(t){t.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(t){t.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(t){t.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(t){t.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(t){t.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(t){t.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(t){t.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(t){t.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(t){t.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(t){t.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],e.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(t){t.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(t){return t&&t.inMultiSelectMode}}];var t=n("../keyboard/hash_handler").HashHandler;e.keyboardHandler=new t(e.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(n,A){function C(o,e,t){return l.$options.wrap=!0,l.$options.needle=e,l.$options.backwards=-1==t,l.find(o)}function e(n,e){return n.row==e.row&&n.column==e.column}function t(t){t.$multiselectOnSessionChange||(t.$onAddRange=t.$onAddRange.bind(t),t.$onRemoveRange=t.$onRemoveRange.bind(t),t.$onMultiSelect=t.$onMultiSelect.bind(t),t.$onSingleSelect=t.$onSingleSelect.bind(t),t.$multiselectOnSessionChange=A.onSessionChange.bind(t),t.$checkMultiselectChange=t.$checkMultiselectChange.bind(t),t.$multiselectOnSessionChange(t),t.on("changeSession",t.$multiselectOnSessionChange),t.on("mousedown",r),t.commands.addCommands(s.defaultCommands),m(t))}function m(s){function e(){a&&(s.renderer.setMouseCursor(""),a=!1)}var r=s.textInput.getElement(),a=!1;o.addListener(r,"keydown",function(n){var t=18==n.keyCode&&!(n.ctrlKey||n.shiftKey||n.metaKey);s.$blockSelectEnabled&&t?a||(s.renderer.setMouseCursor("crosshair"),a=!0):a&&e()}),o.addListener(r,"keyup",e),o.addListener(r,"blur",e)}var g=n("./range_list").RangeList,h=n("./range").Range,F=n("./selection").Selection,r=n("./mouse/multi_select_handler").onMouseDown,o=n("./lib/event"),i=n("./lib/lang"),s=n("./commands/multi_select_commands");A.commands=s.defaultCommands.concat(s.multiSelectCommands);var a=n("./search").Search,l=new a,c=n("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(c.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(o,e){if(o){if(!this.inMultiSelectMode&&0===this.rangeCount){var t=this.toOrientedRange();if(this.rangeList.add(t),this.rangeList.add(o),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),e||this.fromOrientedRange(o);this.rangeList.removeAll(),this.rangeList.add(t),this.$onAddRange(t)}o.cursor||(o.cursor=o.end);var n=this.rangeList.add(o);return this.$onAddRange(o),n.length&&this.$onRemoveRange(n),1<this.rangeCount&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),e||this.fromOrientedRange(o)}},this.toSingleRange=function(n){n=n||this.ranges[0];var e=this.rangeList.removeAll();e.length&&this.$onRemoveRange(e),n&&this.fromOrientedRange(n)},this.substractPoint=function(n){var e=this.rangeList.substractPoint(n);if(e)return this.$onRemoveRange(e),e[0]},this.mergeOverlappingRanges=function(){var t=this.rangeList.merge();t.length?this.$onRemoveRange(t):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(t){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(t),this._signal("addRange",{range:t})},this.$onRemoveRange=function(o){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var i=this.rangeList.ranges.pop();o.push(i),this.rangeCount=0}for(var t=o.length,n;t--;)n=this.ranges.indexOf(o[t]),this.ranges.splice(n,1);this._signal("removeRange",{ranges:o}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),i=i||this.ranges[0],i&&!i.isEqual(this.getRange())&&this.fromOrientedRange(i)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new g,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(1<this.rangeCount){var i=this.rangeList.ranges,e=i[i.length-1],t=h.fromPoints(i[0].start,e.end);this.toSingleRange(),this.setSelectionRange(t,e.cursor==e.start)}else{var t=this.getRange(),n=this.isBackwards(),r=t.start.row,s=t.end.row;if(r==s){if(n)var o=t.end,d=t.start;else var o=t.start,d=t.end;return this.addRange(h.fromPoints(d,d)),void this.addRange(h.fromPoints(o,o))}var a=[],g=this.getLineRange(r,!0);g.start.column=t.start.column,a.push(g);for(var l=r+1;l<s;l++)a.push(this.getLineRange(l,!0));g=this.getLineRange(s,!0),g.end.column=t.end.column,a.push(g),a.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(1<this.rangeCount){var i=this.rangeList.ranges,e=i[i.length-1],t=h.fromPoints(i[0].start,e.end);this.toSingleRange(),this.setSelectionRange(t,e.cursor==e.start)}else{var n=this.session.documentToScreenPosition(this.selectionLead),r=this.session.documentToScreenPosition(this.selectionAnchor),s=this.rectangularRangeBlock(n,r);s.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(i,A,t){var C=[],r=i.column<A.column;if(r)var s=i.column,o=A.column,u=i.offsetX,a=A.offsetX;else var s=A.column,o=i.column,u=A.offsetX,a=i.offsetX;var F=i.row<A.row;if(F)var l=i.row,c=A.row;else var l=A.row,c=i.row;0>s&&(s=0),0>l&&(l=0),l==c&&(t=!0);for(var E=l,p;E<=c;E++){if(p=h.fromPoints(this.session.screenToDocumentPosition(E,s,u),this.session.screenToDocumentPosition(E,o,a)),p.isEmpty()){if(d&&e(p.end,d))break;var d=p.end}p.cursor=r?p.start:p.end,C.push(p)}if(F&&C.reverse(),!t){for(var m=C.length-1;C[m].isEmpty()&&0<m;)m--;if(0<m)for(var g=0;C[g].isEmpty();)g++;for(var f=m;f>=g;f--)C[f].isEmpty()&&C.splice(f,1)}return C}}.call(F.prototype);var u=n("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(n){n.cursor||(n.cursor=n.end);var e=this.getSelectionStyle();return n.marker=this.session.addMarker(n,"ace_selection",e),this.session.$selectionMarkers.push(n),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,n},this.removeSelectionMarker=function(n){if(n.marker){this.session.removeMarker(n.marker);var e=this.session.$selectionMarkers.indexOf(n);-1!=e&&this.session.$selectionMarkers.splice(e,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(o){for(var e=this.session.$selectionMarkers,t=o.length,n;t--;)if(n=o[t],n.marker){this.session.removeMarker(n.marker);var r=e.indexOf(n);-1!=r&&e.splice(r,1)}this.session.selectionMarkerCount=e.length},this.$onAddRange=function(t){this.addSelectionMarker(t.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(t){this.removeSelectionMarkers(t.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(s.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(s.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(o){var e=o.command,t=o.editor;if(t.multiSelect){if(!e.multiSelectAction){var n=e.exec(t,o.args||{});t.multiSelect.addRange(t.multiSelect.toOrientedRange()),t.multiSelect.mergeOverlappingRanges()}else"forEach"==e.multiSelectAction?n=t.forEachSelection(e,o.args):"forEachLine"==e.multiSelectAction?n=t.forEachSelection(e,o.args,!0):"single"==e.multiSelectAction?(t.exitMultiSelectMode(),n=e.exec(t,o.args||{})):n=e.multiSelectAction(t,o.args||{});return n}},this.forEachSelection=function(s,e,t){if(!this.inVirtualSelectionMode){var n=t&&t.keepOrder,r=1==t||t&&t.$byLines,i=this.session,o=this.selection,g=o.rangeList,a=(n?o:g).ranges,u;if(!a.length)return s.exec?s.exec(this,e||{}):s(this,e||{});var l=o._eventRegistry;o._eventRegistry={};var c=new F(i);this.inVirtualSelectionMode=!0;for(var m=a.length;m--;){if(r)for(;0<m&&a[m].start.row==a[m-1].end.row;)m--;c.fromOrientedRange(a[m]),c.index=m,this.selection=i.selection=c;var h=s.exec?s.exec(this,e||{}):s(this,e||{});u||void 0===h||(u=h),c.toOrientedRange(a[m])}c.detach(),this.selection=i.selection=o,this.inVirtualSelectionMode=!1,o._eventRegistry=l,o.mergeOverlappingRanges();var d=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),d&&d.from==d.to&&this.renderer.animateScrolling(d.from),u}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var o="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var e=this.multiSelect.rangeList.ranges,t=[],n=0;n<e.length;n++)t.push(this.session.getTextRange(e[n]));var r=this.session.getDocument().getNewLineCharacter();o=t.join(r),o.length==(t.length-1)*r.length&&(o="")}else this.selection.isEmpty()||(o=this.session.getTextRange(this.getSelectionRange()));return o},this.$checkMultiselectChange=function(o,e){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var t=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&e==this.multiSelect.anchor)return;var n=e==this.multiSelect.anchor?t.cursor==t.start?t.end:t.start:t.cursor;(n.row!=e.row||this.session.$clipPositionToDocument(n.row,n.column).column!=e.column)&&this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.findAll=function(a,e,t){if(e=e||{},e.needle=a||e.needle,void 0==e.needle){var n=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();e.needle=this.session.getTextRange(n)}this.$search.set(e);var r=this.$search.findAll(this.session);if(!r.length)return 0;this.$blockScrolling+=1;var i=this.multiSelect;t||i.toSingleRange(r[0]);for(var s=r.length;s--;)i.addRange(r[s],!0);return n&&i.rangeList.rangeAtPoint(n.start)&&i.addRange(n,!0),this.$blockScrolling-=1,r.length},this.selectMoreLines=function(i,e){var t=this.selection.toOrientedRange(),n=t.cursor==t.end,r=this.session.documentToScreenPosition(t.cursor);this.selection.$desiredColumn&&(r.column=this.selection.$desiredColumn);var s=this.session.screenToDocumentPosition(r.row+i,r.column);if(!t.isEmpty())var o=this.session.documentToScreenPosition(n?t.end:t.start),d=this.session.screenToDocumentPosition(o.row+i,o.column);else var d=s;if(n){var a=h.fromPoints(s,d);a.cursor=a.start}else{var a=h.fromPoints(d,s);a.cursor=a.end}if(a.desiredColumn=r.column,!this.selection.inMultiSelectMode)this.selection.addRange(t);else if(e)var c=t.cursor;this.selection.addRange(a),c&&this.selection.substractPoint(c)},this.transposeSelections=function(a){for(var e=this.session,t=e.multiSelect,n=t.ranges,r=n.length,i;r--;)if(i=n[r],i.isEmpty()){var s=e.getWordRange(i.start.row,i.start.column);i.start.row=s.start.row,i.start.column=s.start.column,i.end.row=s.end.row,i.end.column=s.end.column}t.mergeOverlappingRanges();for(var o=[],r=n.length,i;r--;)i=n[r],o.unshift(e.getTextRange(i));0>a?o.unshift(o.pop()):o.push(o.shift());for(var r=n.length;r--;){var i=n[r],s=i.clone();e.replace(i,o[r]),i.start.row=s.start.row,i.start.column=s.start.column}},this.selectMore=function(a,e,t){var n=this.session,r=n.multiSelect,i=r.toOrientedRange();if(!(i.isEmpty()&&(i=n.getWordRange(i.start.row,i.start.column),i.cursor=-1==a?i.start:i.end,this.multiSelect.addRange(i),t))){var s=n.getTextRange(i),o=C(n,s,a);o&&(o.cursor=-1==a?o.start:o.end,this.$blockScrolling+=1,this.session.unfold(o),this.multiSelect.addRange(o),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),e&&this.multiSelect.substractPoint(i.cursor)}},this.alignCursors=function(){var a=this.session,g=a.multiSelect,e=g.ranges,t=-1,n=e.filter(function(n){return!(n.cursor.row!=t)||void(t=n.cursor.row)});if(!e.length||n.length==e.length-1){var r=this.selection.getRange(),o=r.start.row,s=r.end.row,A=o==s;if(A){var l=this.session.getLength(),c;do c=this.session.getLine(s);while(/[=:]/.test(c)&&++s<l);do c=this.session.getLine(o);while(/[=:]/.test(c)&&0<--o);0>o&&(o=0),s>=l&&(s=l-1)}var C=this.session.removeFullLines(o,s);C=this.$reAlignText(C,A),this.session.insert({row:o,column:0},C.join("\n")+"\n"),A||(r.start.column=0,r.end.column=C[C.length-1].length),this.selection.setRange(r)}else{n.forEach(function(t){g.substractPoint(t.cursor)});var p=0,d=Infinity,F=e.map(function(e){var t=e.cursor,n=a.getLine(t.row),o=n.substr(t.column).search(/\S/g);return-1==o&&(o=0),t.column>p&&(p=t.column),o<d&&(d=o),o});e.forEach(function(e,t){var n=e.cursor,r=p-n.column,s=F[t]-d;r>s?a.insert(n,i.stringRepeat(" ",r-s)):a.remove(new h(n.row,n.column,n.row,n.column-r+s)),e.start.column=e.end.column=p,e.start.row=e.end.row=n.row,e.cursor=e.end}),g.fromOrientedRange(e[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(a,e){function t(t){return i.stringRepeat(" ",t)}function l(n){return n[2]?t(r)+n[2]+t(c-n[2].length+s)+n[4].replace(/^([=:])\s+/,"$1 "):n[0]}var d=!0,n=!0,r,c,s;return a.map(function(o){var e=o.match(/(\s*)(.*?)(\s*)([=:].*)/);return e?null==r?(r=e[1].length,c=e[2].length,s=e[3].length,e):(r+c+s!=e[1].length+e[2].length+e[3].length&&(n=!1),r!=e[1].length&&(d=!1),r>e[1].length&&(r=e[1].length),c<e[2].length&&(c=e[2].length),s>e[3].length&&(s=e[3].length),e):[o]}).map(e?l:d?n?function(n){return n[2]?t(r+c-n[2].length)+n[2]+t(s," ")+n[4].replace(/^([=:])\s+/,"$1 "):n[0]}:l:function(n){return n[2]?t(r)+n[2]+t(s)+n[4].replace(/^([=:])\s+/,"$1 "):n[0]})}}).call(u.prototype),A.onSessionChange=function(o){var e=o.session;e&&!e.multiSelect&&(e.$selectionMarkers=[],e.selection.$initRangeList(),e.multiSelect=e.selection),this.multiSelect=e&&e.multiSelect;var t=o.oldSession;t&&(t.multiSelect.off("addRange",this.$onAddRange),t.multiSelect.off("removeRange",this.$onRemoveRange),t.multiSelect.off("multiSelect",this.$onMultiSelect),t.multiSelect.off("singleSelect",this.$onSingleSelect),t.multiSelect.lead.off("change",this.$checkMultiselectChange),t.multiSelect.anchor.off("change",this.$checkMultiselectChange)),e&&(e.multiSelect.on("addRange",this.$onAddRange),e.multiSelect.on("removeRange",this.$onRemoveRange),e.multiSelect.on("multiSelect",this.$onMultiSelect),e.multiSelect.on("singleSelect",this.$onSingleSelect),e.multiSelect.lead.on("change",this.$checkMultiselectChange),e.multiSelect.anchor.on("change",this.$checkMultiselectChange)),e&&this.inMultiSelectMode!=e.selection.inMultiSelectMode&&(e.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},A.MultiSelect=t,n("./config").defineOptions(u.prototype,"editor",{enableMultiselect:{set:function(n){t(this),n?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",r)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",r))},value:!0},enableBlockSelect:{set:function(t){this.$blockSelectEnabled=t},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(n,e){"use strict";var s=n("../../range").Range,t=e.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(o,e,t){var n=o.getLine(t);return this.foldingStartMarker.test(n)?"start":"markbeginend"==e&&this.foldingStopMarker&&this.foldingStopMarker.test(n)?"end":""},this.getFoldWidgetRange=function(){return null},this.indentationBlock=function(r,e,t){var n=/\S/,i=r.getLine(e),d=i.search(n);if(-1!=d){for(var o=t||i.length,g=r.getLength(),a=e,u=e,l;++e<g;)if(l=r.getLine(e).search(n),-1!=l){if(l<=d)break;u=e}if(u>a){var c=r.getLine(u).length;return new s(a,o,u,c)}}},this.openingBracketBlock=function(r,e,t,l,i){var d={row:t,column:l+1},o=r.$findClosingBracket(e,d,i);if(o){var c=r.foldWidgets[o.row];return null==c&&(c=r.getFoldWidget(o.row)),"start"==c&&o.row>d.row&&(o.row--,o.column=r.getLine(o.row).length),s.fromPoints(d,o)}},this.closingBracketBlock=function(r,e,t,a){var l={row:t,column:a},o=r.$findOpeningBracket(e,l);return o?(o.column++,l.column--,s.fromPoints(o,l)):void 0}}).call(t.prototype)}),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(n,e){"use strict";e.isDark=!1,e.cssClass="ace-tm",e.cssText=".ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\") right repeat-y;}";var t=n("../lib/dom");t.importCssString(e.cssText,e.cssClass)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(n,e){"use strict";function t(t){this.session=t,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}var o=n("./lib/oop"),a=n("./lib/dom"),r=n("./range").Range;(function(){this.getRowLength=function(n){var e;return e=this.lineWidgets?this.lineWidgets[n]&&this.lineWidgets[n].rowCount||0:0,this.$useWrapMode&&this.$wrapData[n]?this.$wrapData[n].length+1+e:1+e},this.$getWidgetScreenLength=function(){var n=0;return this.lineWidgets.forEach(function(e){e&&e.rowCount&&!e.hidden&&(n+=e.rowCount)}),n},this.$onChangeEditor=function(t){this.attach(t.editor)},this.attach=function(t){t&&t.widgetManager&&t.widgetManager!=this&&t.widgetManager.detach();this.editor==t||(this.detach(),this.editor=t,t&&(t.widgetManager=this,t.renderer.on("beforeRender",this.measureWidgets),t.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(){var e=this.editor;if(e){this.editor=null,e.widgetManager=null,e.renderer.off("beforeRender",this.measureWidgets),e.renderer.off("afterRender",this.renderWidgets);var t=this.session.lineWidgets;t&&t.forEach(function(t){t&&t.el&&t.el.parentNode&&(t._inDocument=!1,t.el.parentNode.removeChild(t.el))})}},this.updateOnFold=function(a,e){var t=e.lineWidgets;if(t&&a.action){for(var n=a.data,r=n.start.row,i=n.end.row,s="add"==a.action,o=r+1;o<i;o++)t[o]&&(t[o].hidden=s);t[i]&&(s?t[r]?t[i].hidden=s:t[r]=t[i]:(t[r]==t[i]&&(t[r]=void 0),t[i].hidden=s))}},this.updateOnChange=function(o){var e=this.session.lineWidgets;if(e){var t=o.start.row,n=o.end.row-t;if(0!=n)if("remove"==o.action){var r=e.splice(t+1,n);r.forEach(function(t){t&&this.removeLineWidget(t)},this),this.$updateRows()}else{var i=Array(n);i.unshift(t,0),e.splice.apply(e,i),this.$updateRows()}}},this.$updateRows=function(){var n=this.session.lineWidgets;if(n){var o=!0;n.forEach(function(t,e){if(t)for(o=!1,t.row=e;t.$oldWidget;)t.$oldWidget.row=e,t=t.$oldWidget}),o&&(this.session.lineWidgets=null)}},this.addLineWidget=function(o){this.session.lineWidgets||(this.session.lineWidgets=Array(this.session.getLength()));var e=this.session.lineWidgets[o.row];e&&(o.$oldWidget=e,e.el&&e.el.parentNode&&(e.el.parentNode.removeChild(e.el),e._inDocument=!1)),this.session.lineWidgets[o.row]=o,o.session=this.session;var t=this.editor.renderer;o.html&&!o.el&&(o.el=a.createElement("div"),o.el.innerHTML=o.html),o.el&&(a.addCssClass(o.el,"ace_lineWidgetContainer"),o.el.style.position="absolute",o.el.style.zIndex=5,t.container.appendChild(o.el),o._inDocument=!0),o.coverGutter||(o.el.style.zIndex=3),null==o.pixelHeight&&(o.pixelHeight=o.el.offsetHeight),null==o.rowCount&&(o.rowCount=o.pixelHeight/t.layerConfig.lineHeight);var n=this.session.getFoldAt(o.row,0);if(o.$fold=n,n){var r=this.session.lineWidgets;o.row!=n.end.row||r[n.start.row]?o.hidden=!0:r[n.start.row]=o}return this.session._emit("changeFold",{data:{start:{row:o.row}}}),this.$updateRows(),this.renderWidgets(null,t),this.onWidgetChanged(o),o},this.removeLineWidget=function(t){if(t._inDocument=!1,t.session=null,t.el&&t.el.parentNode&&t.el.parentNode.removeChild(t.el),t.editor&&t.editor.destroy)try{t.editor.destroy()}catch(e){}if(this.session.lineWidgets){var e=this.session.lineWidgets[t.row];if(e==t)this.session.lineWidgets[t.row]=t.$oldWidget,t.$oldWidget&&this.onWidgetChanged(t.$oldWidget);else for(;e;){if(e.$oldWidget==t){e.$oldWidget=t.$oldWidget;break}e=e.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:t.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(o){for(var e=this.session.lineWidgets,t=e&&e[o],n=[];t;)n.push(t),t=t.$oldWidget;return n},this.onWidgetChanged=function(t){this.session._changedWidgets.push(t),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(a,e){var t=this.session._changedWidgets,n=e.layerConfig;if(t&&t.length){for(var r=Infinity,l=0,s;l<t.length;l++)if(s=t[l],s&&s.el&&s.session==this.session){if(!s._inDocument){if(this.session.lineWidgets[s.row]!=s)continue;s._inDocument=!0,e.container.appendChild(s.el)}s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/n.characterWidth));var o=s.h/n.lineHeight;s.coverLine&&(o-=this.session.getRowLineCount(s.row),0>o&&(o=0)),s.rowCount!=o&&(s.rowCount=o,s.row<r&&(r=s.row))}r!=Infinity&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(l,e){var t=e.layerConfig,n=this.session.lineWidgets;if(n){for(var r=Math.min(this.firstRow,t.firstRow),i=Math.max(this.lastRow,t.lastRow,n.length);0<r&&!n[r];)r--;this.firstRow=t.firstRow,this.lastRow=t.lastRow,e.$cursorLayer.config=t;for(var s=r,d;s<=i;s++)if(d=n[s],d&&d.el){if(d.hidden){d.el.style.top=-100-(d.pixelHeight||0)+"px";continue}d._inDocument||(d._inDocument=!0,e.container.appendChild(d.el));var c=e.$cursorLayer.getPixelPosition({row:s,column:0},!0).top;d.coverLine||(c+=t.lineHeight*this.session.getRowLineCount(d.row)),d.el.style.top=c-t.offset+"px";var a=d.coverGutter?0:e.gutterWidth;d.fixedWidth||(a-=e.scrollLeft),d.el.style.left=a+"px",d.fullWidth&&d.screenWidth&&(d.el.style.minWidth=t.width+2*t.padding+"px"),d.el.style.right=d.fixedWidth?e.scrollBar.getWidth()+"px":""}}}}).call(t.prototype),e.LineWidgets=t}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(n,e){"use strict";function l(a,e,t){for(var n=0,r=a.length-1;n<=r;){var i=n+r>>1,s=t(e,a[i]);if(0<s)n=i+1;else{if(!(0>s))return i;r=i-1}}return-(n+1)}function g(s,e,d){var n=s.getAnnotations().sort(o.comparePoints);if(n.length){var r=l(n,{row:e,column:-1},o.comparePoints);0>r&&(r=-r-1),r>=n.length?r=0<d?0:n.length-1:0==r&&0>d&&(r=n.length-1);var c=n[r];if(c&&d){if(c.row===e){do c=n[r+=d];while(c&&c.row===e);if(!c)return n.slice()}var g=[];e=c.row;do g[0>d?"unshift":"push"](c),c=n[r+=d];while(c&&c.row==e);return g.length&&g}}}var u=n("../line_widgets").LineWidgets,r=n("../lib/dom"),o=n("../range").Range;e.showErrorMarker=function(i,e){var t=i.session;t.widgetManager||(t.widgetManager=new u(t),t.widgetManager.attach(i));var n=i.getCursorPosition(),s=n.row,o=t.widgetManager.getWidgetsAtRow(s).filter(function(t){return"errorMarker"==t.type})[0];o?o.destroy():s-=e;var a=g(t,s,e),A;if(a){var l=a[0];n.column=(l.pos&&"number"!=typeof l.column?l.pos.sc:l.column)||0,n.row=l.row,A=i.renderer.$gutterLayer.$annotations[n.row]}else{if(o)return;A={text:["Looks good!"],className:"ace_ok"}}i.session.unfold(n.row),i.selection.moveToPosition(n);var c={row:n.row,fixedWidth:!0,coverGutter:!0,el:r.createElement("div"),type:"errorMarker"},h=c.el.appendChild(r.createElement("div")),p=c.el.appendChild(r.createElement("div"));p.className="error_widget_arrow "+A.className;var d=i.renderer.$cursorLayer.getPixelPosition(n).left;p.style.left=d+i.renderer.gutterWidth-5+"px",c.el.className="error_widget_wrapper",h.className="error_widget "+A.className,h.innerHTML=A.text.join("<br>"),h.appendChild(r.createElement("div"));var C=function(o,e,t){if(0===e&&("esc"===t||"return"===t))return c.destroy(),{command:"null"}};c.destroy=function(){i.$mouseHandler.isMousePressed||(i.keyBinding.removeKeyboardHandler(C),t.widgetManager.removeLineWidget(c),i.off("changeSelection",c.destroy),i.off("changeSession",c.destroy),i.off("mouseup",c.destroy),i.off("change",c.destroy))},i.keyBinding.addKeyboardHandler(C),i.on("changeSelection",c.destroy),i.on("changeSession",c.destroy),i.on("mouseup",c.destroy),i.on("change",c.destroy),i.session.widgetManager.addLineWidget(c),c.el.onmousedown=i.focus.bind(i),i.renderer.scrollCursorIntoView(null,.5,{bottom:c.el.offsetHeight})},r.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")}),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(n,d){"use strict";n("./lib/fixoldbrowsers");var t=n("./lib/dom"),r=n("./lib/event"),i=n("./editor").Editor,s=n("./edit_session").EditSession,o=n("./undomanager").UndoManager,g=n("./virtual_renderer").VirtualRenderer;n("./worker/worker_client"),n("./keyboard/hash_handler"),n("./placeholder"),n("./multi_select"),n("./mode/folding/fold_mode"),n("./theme/textmate"),n("./ext/error_marker"),d.config=n("./config"),d.require=n,"function"==typeof define&&(d.define=define),d.edit=function(s){if("string"==typeof s){var a=s;if(s=document.getElementById(a),!s)throw new Error("ace.edit can't find div #"+a)}if(s&&s.env&&s.env.editor instanceof i)return s.env.editor;var n="";if(s&&/input|textarea/i.test(s.tagName)){var o=s;n=o.value,s=t.createElement("pre"),o.parentNode.replaceChild(s,o)}else s&&(n=t.getInnerText(s),s.innerHTML="");var u=d.createEditSession(n),m=new i(new g(s));m.setSession(u);var h={document:u,editor:m,onResize:m.resize.bind(m,null)};return o&&(h.textarea=o),r.addListener(window,"resize",h.onResize),m.on("destroy",function(){r.removeListener(window,"resize",h.onResize),h.editor.container.env=null}),m.container.env=m.env=h,m},d.createEditSession=function(r,e){var t=new s(r,e);return t.setUndoManager(new o),t},d.EditSession=s,d.UndoManager=o,d.version="1.2.9"}),function(){ace.require(["ace/ace"],function(e){for(var t in e&&(e.config.init(!0),e.define=ace.define),window.ace||(window.ace=e),e)e.hasOwnProperty(t)&&(window.ace[t]=e[t])})}();</script><script type="text/javascript" charset="utf-8">ace.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/keyboard/hash_handler","ace/lib/keys"],function(b,d){"use strict";var g=b("../lib/dom"),h=b("../lib/lang"),j=b("../lib/event"),e=b("../keyboard/hash_handler").HashHandler,k=b("../lib/keys"),a=999;g.importCssString(".ace_search {background-color: #ddd;color: #666;border: 1px solid #cbcbcb;border-top: 0 none;overflow: hidden;margin: 0;padding: 4px 6px 0 4px;position: absolute;top: 0;z-index: 99;white-space: normal;}.ace_search.left {border-left: 0 none;border-radius: 0px 0px 5px 0px;left: 0;}.ace_search.right {border-radius: 0px 0px 0px 5px;border-right: 0 none;right: 0;}.ace_search_form, .ace_replace_form {margin: 0 20px 4px 0;overflow: hidden;line-height: 1.9;}.ace_replace_form {margin-right: 0;}.ace_search_form.ace_nomatch {outline: 1px solid red;}.ace_search_field {border-radius: 3px 0 0 3px;background-color: white;color: black;border: 1px solid #cbcbcb;border-right: 0 none;box-sizing: border-box!important;outline: 0;padding: 0;font-size: inherit;margin: 0;line-height: inherit;padding: 0 6px;min-width: 17em;vertical-align: top;}.ace_searchbtn {border: 1px solid #cbcbcb;line-height: inherit;display: inline-block;padding: 0 6px;background: #fff;border-right: 0 none;border-left: 1px solid #dcdcdc;cursor: pointer;margin: 0;position: relative;box-sizing: content-box!important;color: #666;}.ace_searchbtn:last-child {border-radius: 0 3px 3px 0;border-right: 1px solid #cbcbcb;}.ace_searchbtn:disabled {background: none;cursor: default;}.ace_searchbtn:hover {background-color: #eef1f6;}.ace_searchbtn.prev, .ace_searchbtn.next {padding: 0px 0.7em}.ace_searchbtn.prev:after, .ace_searchbtn.next:after {content: \"\";border: solid 2px #888;width: 0.5em;height: 0.5em;border-width:  2px 0 0 2px;display:inline-block;transform: rotate(-45deg);}.ace_searchbtn.next:after {border-width: 0 2px 2px 0 ;}.ace_searchbtn_close {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;border-radius: 50%;border: 0 none;color: #656565;cursor: pointer;font: 16px/16px Arial;padding: 0;height: 14px;width: 14px;top: 9px;right: 7px;position: absolute;}.ace_searchbtn_close:hover {background-color: #656565;background-position: 50% 100%;color: white;}.ace_button {margin-left: 2px;cursor: pointer;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;overflow: hidden;opacity: 0.7;border: 1px solid rgba(100,100,100,0.23);padding: 1px;box-sizing:    border-box!important;color: black;}.ace_button:hover {background-color: #eee;opacity:1;}.ace_button:active {background-color: #ddd;}.ace_button.checked {border-color: #3399ff;opacity:1;}.ace_search_options{margin-bottom: 3px;text-align: right;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;clear: both;}.ace_search_counter {float: left;font-family: arial;padding: 0 8px;}","ace_searchbox");var f="<div class=\"ace_search right\">    <span action=\"hide\" class=\"ace_searchbtn_close\"></span>    <div class=\"ace_search_form\">        <input class=\"ace_search_field\" placeholder=\"Search for\" spellcheck=\"false\"></input>        <span action=\"findPrev\" class=\"ace_searchbtn prev\"></span>        <span action=\"findNext\" class=\"ace_searchbtn next\"></span>        <span action=\"findAll\" class=\"ace_searchbtn\" title=\"Alt-Enter\">All</span>    </div>    <div class=\"ace_replace_form\">        <input class=\"ace_search_field\" placeholder=\"Replace with\" spellcheck=\"false\"></input>        <span action=\"replaceAndFindNext\" class=\"ace_searchbtn\">Replace</span>        <span action=\"replaceAll\" class=\"ace_searchbtn\">All</span>    </div>    <div class=\"ace_search_options\">        <span action=\"toggleReplace\" class=\"ace_button\" title=\"Toggel Replace mode\"            style=\"float:left;margin-top:-2px;padding:0 5px;\">+</span>        <span class=\"ace_search_counter\"></span>        <span action=\"toggleRegexpMode\" class=\"ace_button\" title=\"RegExp Search\">.*</span>        <span action=\"toggleCaseSensitive\" class=\"ace_button\" title=\"CaseSensitive Search\">Aa</span>        <span action=\"toggleWholeWords\" class=\"ace_button\" title=\"Whole Word Search\">\\b</span>        <span action=\"searchInSelection\" class=\"ace_button\" title=\"Search In Selection\">S</span>    </div></div>".replace(/> +/g,">"),i=function(a){var b=g.createElement("div");b.innerHTML=f,this.element=b.firstChild,this.setSession=this.setSession.bind(this),this.$init(),this.setEditor(a)};(function(){this.setEditor=function(a){a.searchBox=this,a.renderer.scroller.appendChild(this.element),this.editor=a},this.setSession=function(){this.searchRange=null,this.$syncOptions(!0)},this.$initElements=function(a){this.searchBox=a.querySelector(".ace_search_form"),this.replaceBox=a.querySelector(".ace_replace_form"),this.searchOption=a.querySelector("[action=searchInSelection]"),this.replaceOption=a.querySelector("[action=toggleReplace]"),this.regExpOption=a.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=a.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=a.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector(".ace_search_field"),this.replaceInput=this.replaceBox.querySelector(".ace_search_field"),this.searchCounter=a.querySelector(".ace_search_counter")},this.$init=function(){var a=this.element;this.$initElements(a);var b=this;j.addListener(a,"mousedown",function(a){setTimeout(function(){b.activeInput.focus()},0),j.stopPropagation(a)}),j.addListener(a,"click",function(a){var c=a.target||a.srcElement,d=c.getAttribute("action");d&&b[d]?b[d]():b.$searchBarKb.commands[d]&&b.$searchBarKb.commands[d].exec(b),j.stopPropagation(a)}),j.addCommandKeyListener(a,function(a,c,d){var e=k.keyCodeToString(d),f=b.$searchBarKb.findKeyCommand(c,e);f&&f.exec&&(f.exec(b),j.stopEvent(a))}),this.$onChange=h.delayedCall(function(){b.find(!1,!1)}),j.addListener(this.searchInput,"input",function(){b.$onChange.schedule(20)}),j.addListener(this.searchInput,"focus",function(){b.activeInput=b.searchInput,b.searchInput.value&&b.highlight()}),j.addListener(this.replaceInput,"focus",function(){b.activeInput=b.replaceInput,b.searchInput.value&&b.highlight()})},this.$closeSearchBarKb=new e([{bindKey:"Esc",name:"closeSearchBar",exec:function(a){a.searchBox.hide()}}]),this.$searchBarKb=new e,this.$searchBarKb.bindKeys({"Ctrl-f|Command-f":function(a){var b=a.isReplace=!a.isReplace;a.replaceBox.style.display=b?"":"none",a.replaceOption.checked=!1,a.$syncOptions(),a.searchInput.focus()},"Ctrl-H|Command-Option-F":function(a){a.replaceOption.checked=!0,a.$syncOptions(),a.replaceInput.focus()},"Ctrl-G|Command-G":function(a){a.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(a){a.findPrev()},esc:function(a){setTimeout(function(){a.hide()})},Return:function(a){a.activeInput==a.replaceInput&&a.replace(),a.findNext()},"Shift-Return":function(a){a.activeInput==a.replaceInput&&a.replace(),a.findPrev()},"Alt-Return":function(a){a.activeInput==a.replaceInput&&a.replaceAll(),a.findAll()},Tab:function(a){(a.activeInput==a.replaceInput?a.searchInput:a.replaceInput).focus()}}),this.$searchBarKb.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(a){a.regExpOption.checked=!a.regExpOption.checked,a.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(a){a.caseSensitiveOption.checked=!a.caseSensitiveOption.checked,a.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(a){a.wholeWordOption.checked=!a.wholeWordOption.checked,a.$syncOptions()}},{name:"toggleReplace",exec:function(a){a.replaceOption.checked=!a.replaceOption.checked,a.$syncOptions()}},{name:"searchInSelection",exec:function(a){a.searchOption.checked=!a.searchRange,a.setSearchRange(a.searchOption.checked&&a.editor.getSelectionRange()),a.$syncOptions()}}]),this.setSearchRange=function(a){this.searchRange=a,a?this.searchRangeMarker=this.editor.session.addMarker(a,"ace_active-line"):this.searchRangeMarker&&(this.editor.session.removeMarker(this.searchRangeMarker),this.searchRangeMarker=null)},this.$syncOptions=function(a){g.setCssClass(this.replaceOption,"checked",this.searchRange),g.setCssClass(this.searchOption,"checked",this.searchOption.checked),this.replaceOption.textContent=this.replaceOption.checked?"-":"+",g.setCssClass(this.regExpOption,"checked",this.regExpOption.checked),g.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked),g.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked),this.replaceBox.style.display=this.replaceOption.checked?"":"none",this.find(!1,!1,a)},this.highlight=function(a){this.editor.session.highlight(a||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},this.find=function(a,b,c){var d=this.editor.find(this.searchInput.value,{skipCurrent:a,backwards:b,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:c,range:this.searchRange}),f=!d&&this.searchInput.value;g.setCssClass(this.searchBox,"ace_nomatch",f),this.editor._emit("findSearchBox",{match:!f}),this.highlight(),this.updateCounter()},this.updateCounter=function(){var b=this.editor,c=b.$search.$options.re,d=0,e=0;if(c){var f=this.searchRange?b.session.getTextRange(this.searchRange):b.getValue(),g=b.session.doc.positionToIndex(b.selection.anchor);this.searchRange&&(g-=b.session.doc.positionToIndex(this.searchRange.start));for(var h,i=c.lastIndex=0;(h=c.exec(f))&&(d++,i=h.index,i<=g&&e++,!(d>a))&&!(!h[0]&&(c.lastIndex=i+=1,i>=f.length)););}this.searchCounter.textContent=e+" of "+(d>a?a+"+":d)},this.findNext=function(){this.find(!0,!1)},this.findPrev=function(){this.find(!0,!0)},this.findAll=function(){var a=this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked}),b=!a&&this.searchInput.value;g.setCssClass(this.searchBox,"ace_nomatch",b),this.editor._emit("findSearchBox",{match:!b}),this.highlight(),this.hide()},this.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},this.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},this.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},this.hide=function(){this.active=!1,this.setSearchRange(null),this.editor.off("changeSession",this.setSession),this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus()},this.show=function(a,b){this.active=!0,this.editor.on("changeSession",this.setSession),this.element.style.display="",this.replaceOption.checked=b,a&&(this.searchInput.value=a),this.searchInput.focus(),this.searchInput.select(),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb),this.$syncOptions(!0)},this.isFocused=function(){var a=document.activeElement;return a==this.searchInput||a==this.replaceInput}}).call(i.prototype),d.SearchBox=i,d.Search=function(a,b){var c=a.searchBox||new i(a);c.show(a.session.getTextRange(),b)}}),function(){ace.require(["ace/ext/searchbox"],function(){})}();</script><template id="juicy-ace-editor"><style>:host{display:flex;min-height:1em;flex-direction:column}#juicy-ace-editor-container{flex:1;height:100%}</style><div id="juicy-ace-editor-container"></div></template><script>(function(a,b){function c(a){var c=b.createElement('style');return c.id=a.id,c.textContent=a.textContent,c}var d=(b._currentScript||b.currentScript).ownerDocument,e=d.querySelector('template#juicy-ace-editor').content;a.ShadowDOMPolyfill&&WebComponents.ShadowCSS.shimStyling(e,'juicy-ace-editor');class f extends HTMLElement{get value(){return this.editor&&this.editor.getValue()||this.textContent}set value(a){this.editor?this.editor.setValue(a):this.textContent=a}static get observedAttributes(){return['theme','mode','fontsize','softtabs','tabsize','readonly','wrapmode']}constructor(a){a=super(a);var c=a.attachShadow&&a.getRootNode?a.attachShadow({mode:'open'}):a.createShadowRoot();var d=b.importNode(e,!0);return a.container=d.querySelector('#juicy-ace-editor-container'),c.appendChild(d),a}connectedCallback(){var a,b=this.childNodes[0],c=this.container,d=this;this.editor?a=this.editor:(c.textContent=this.value,a=ace.edit(c),this.dispatchEvent(new CustomEvent('editor-ready',{bubbles:!0,composed:!0,detail:a})),this.editor=a,this.injectTheme('#ace_editor\\.css'),this.injectTheme('#ace-tm'),this.injectTheme('#ace_searchbox'),a.getSession().on('change',function(a){d.dispatchEvent(new CustomEvent('change',{bubbles:!0,composed:!0,detail:a}))})),a.renderer.addEventListener('themeLoaded',this.onThemeLoaded.bind(this)),a.setTheme(this.getAttribute('theme')),a.setFontSize(parseInt(this.getAttribute('fontsize'))||12),a.setReadOnly(this.hasAttribute('readonly'));var e=a.getSession();e.setMode(this.getAttribute('mode')),e.setUseSoftTabs(this.getAttribute('softtabs')),this.getAttribute('tabsize')&&e.setTabSize(this.getAttribute('tabsize')),e.setUseWrapMode(this.hasAttribute('wrapmode'));var f=new MutationObserver(function(a){a.forEach(function(a){'characterData'==a.type&&(d.value=b.data)})});b&&f.observe(b,{characterData:!0}),this._attached=!0}disconnectedCallback(){this._attached=!1}attributeChangedCallback(a,b,c){if(!this._attached)return!1;'theme'===a?this.editor.setTheme(c):'mode'===a?this.editor.getSession().setMode(c):'fontsize'===a?this.editor.setFontSize(c):'softtabs'===a?this.editor.getSession().setUseSoftTabs(c):'tabsize'===a?this.editor.getSession().setTabSize(c):'readonly'===a?this.editor.setReadOnly(''===c||c):'wrapmode'===a?this.editor.getSession().setUseWrapMode(null!==c):void 0}onThemeLoaded(a){var b='#'+a.theme.cssClass;this.injectTheme(b),this.container.style.display='none',this.container.offsetHeight,this.container.style.display=''}injectTheme(a){var d=b.querySelector(a);this.shadowRoot.appendChild(c(d))}}a.customElements.define('juicy-ace-editor',f)})(window,document);</script><script>ace.config.set("basePath","/");class DTileCodeEditorPlugin extends Polymer.Element{static get is(){return"dtile-code-editor-plugin"}static get pluginName(){return"Code editor"}static get template(){return`
                <style>
                    :host {
                        display: block;
                        position: relative;
                    }

                    juicy-ace-editor {
                        height: 50vh;
                        position: relative;
                        z-index: 0;
                    }

                    paper-dropdown-menu {
                        width: 150px;
                        position: absolute;
                        right: 20px;
                        z-index: 1;
                    }
                </style>

                <paper-dropdown-menu label="Language" no-label-float>
                    <paper-listbox slot="dropdown-content" selected="{{_selectedLanguageIndex}}">
                        <template is="dom-repeat" items="[[_modeMap]]">
                            <paper-item>[[item.0]]</paper-item>
                        </template>
                    </paper-listbox>
                </paper-dropdown-menu>

                <juicy-ace-editor
                    mode$="[[_mode]]"
                    theme="ace/theme/gruvbox"
                    fontsize="16"
                    softtabs
                    value="{{code::change}}"></juicy-ace-editor>
            `}static get properties(){return{meta:Object,language:String,code:String,_selectedLanguageIndex:{type:Number,value:123},_mode:{type:String,computed:"_getMode(_selectedLanguageIndex)"},_modeMap:{type:Array,value:[["ABAP","abap"],["ABC","abc"],["ActionScript","actionscript"],["ADA","ada"],["Apache Conf","apache_conf"],["AsciiDoc","asciidoc"],["Assembly x86","assembly_x86"],["AutoHotKey","autohotkey"],["BatchFile","batchfile"],["Bro","bro"],["C and C++","c_cpp"],["C9Search","c9search"],["Cirru","cirru"],["Clojure","clojure"],["Cobol","cobol"],["CoffeeScript","coffee"],["ColdFusion","coldfusion"],["C#","csharp"],["CSS","css"],["Curly","curly"],["D","d"],["Dart","dart"],["Diff","diff"],["Dockerfile","dockerfile"],["Dot","dot"],["Drools","drools"],["Dummy","dummy"],["DummySyntax","dummysyntax"],["Eiffel","eiffel"],["EJS","ejs"],["Elixir","elixir"],["Elm","elm"],["Erlang","erlang"],["Forth","forth"],["Fortran","fortran"],["FreeMarker","ftl"],["Gcode","gcode"],["Gherkin","gherkin"],["Gitignore","gitignore"],["Glsl","glsl"],["Gobstones","gobstones"],["Go","golang"],["GraphQLSchema","graphqlschema"],["Groovy","groovy"],["HAML","haml"],["Handlebars","handlebars"],["Haskell","haskell"],["Haskell Cabal","haskell_cabal"],["haXe","haxe"],["Hjson","hjson"],["HTML","html"],["HTML (Elixir)","html_elixir"],["HTML (Ruby)","html_ruby"],["INI","ini"],["Io","io"],["Jack","jack"],["Jade","jade"],["Java","java"],["JavaScript","javascript"],["JSON","json"],["JSONiq","jsoniq"],["JSP","jsp"],["JSX","jsx"],["Julia","julia"],["Kotlin","kotlin"],["LaTeX","latex"],["LESS","less"],["Liquid","liquid"],["Lisp","lisp"],["LiveScript","livescript"],["LogiQL","logiql"],["LSL","lsl"],["Lua","lua"],["LuaPage","luapage"],["Lucene","lucene"],["Makefile","makefile"],["Markdown","markdown"],["Mask","mask"],["MATLAB","matlab"],["Maze","maze"],["MEL","mel"],["MUSHCode","mushcode"],["MySQL","mysql"],["Nix","nix"],["NSIS","nsis"],["Objective-C","objectivec"],["OCaml","ocaml"],["Pascal","pascal"],["Perl","perl"],["pgSQL","pgsql"],["PHP","php"],["Pig","pig"],["Powershell","powershell"],["Praat","praat"],["Prolog","prolog"],["Properties","properties"],["Protobuf","protobuf"],["Python","python"],["R","r"],["Razor","razor"],["RDoc","rdoc"],["RHTML","rhtml"],["RST","rst"],["Ruby","ruby"],["Rust","rust"],["SASS","sass"],["SCAD","scad"],["Scala","scala"],["Scheme","scheme"],["SCSS","scss"],["SH","sh"],["SJS","sjs"],["Smarty","smarty"],["snippets","snippets"],["Soy Template","soy_template"],["Space","space"],["SQL","sql"],["SQLServer","sqlserver"],["Stylus","stylus"],["SVG","svg"],["Swift","swift"],["Tcl","tcl"],["Tex","tex"],["Text","text"],["Textile","textile"],["Toml","toml"],["TSX","tsx"],["Twig","twig"],["Typescript","typescript"],["Vala","vala"],["VBScript","vbscript"],["Velocity","velocity"],["Verilog","verilog"],["VHDL","vhdl"],["Wollok","wollok"],["XML","xml"],["XQuery","xquery"],["YAML","yaml"],["Django","django"]]}}}static get observers(){return["_setLanguageAndCode(meta)"]}buildMeta(){return this.code?{"@code-language":this._modeMap[this._selectedLanguageIndex][1],"@code":this.code}:{"@code-language":null,"@code":null}}_setLanguageAndCode(a){const b=this._modeMap.findIndex(([b,c])=>c===a["@code-language"]);this.code=a["@code"]||"",this._selectedLanguageIndex=0>b?123:b}_getMode(a){return`ace/mode/${this._modeMap[a][1]}`}}DTile.metaPlugins.push(DTileCodeEditorPlugin),customElements.define(DTileCodeEditorPlugin.is,DTileCodeEditorPlugin);</script><script>Polymer.PaperRippleBehavior={properties:{noink:{type:Boolean,observer:'_noinkChanged'},_rippleContainer:{type:Object}},_buttonStateChanged:function(){this.focused&&this.ensureRipple()},_downHandler:function(a){Polymer.IronButtonStateImpl._downHandler.call(this,a),this.pressed&&this.ensureRipple(a)},ensureRipple:function(a){if(!this.hasRipple()){this._ripple=this._createRipple(),this._ripple.noink=this.noink;var b=this._rippleContainer||this.root;if(b&&Polymer.dom(b).appendChild(this._ripple),a){var c=Polymer.dom(this._rippleContainer||this),d=Polymer.dom(a).rootTarget;c.deepContains(d)&&this._ripple.uiDownAction(a)}}},getRipple:function(){return this.ensureRipple(),this._ripple},hasRipple:function(){return!!this._ripple},_createRipple:function(){var a=document.createElement('paper-ripple');return a},_noinkChanged:function(a){this.hasRipple()&&(this._ripple.noink=a)}};</script><script>Polymer.PaperButtonBehaviorImpl={properties:{elevation:{type:Number,reflectToAttribute:!0,readOnly:!0}},observers:['_calculateElevation(focused, disabled, active, pressed, receivedFocusFromKeyboard)','_computeKeyboardClass(receivedFocusFromKeyboard)'],hostAttributes:{role:'button',tabindex:'0',animated:!0},_calculateElevation:function(){var a=1;this.disabled?a=0:this.active||this.pressed?a=4:this.receivedFocusFromKeyboard&&(a=3),this._setElevation(a)},_computeKeyboardClass:function(a){this.toggleClass('keyboard-focus',a)},_spaceKeyDownHandler:function(a){Polymer.IronButtonStateImpl._spaceKeyDownHandler.call(this,a),this.hasRipple()&&1>this.getRipple().ripples.length&&this._ripple.uiDownAction()},_spaceKeyUpHandler:function(a){Polymer.IronButtonStateImpl._spaceKeyUpHandler.call(this,a),this.hasRipple()&&this._ripple.uiUpAction()}},Polymer.PaperButtonBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperButtonBehaviorImpl];</script><dom-module id="paper-material-styles" assetpath="bower_components/paper-styles/element-styles/"><template><style>:host,html{--paper-material:{display:block;position:relative};--paper-material-elevation-1:{@apply --shadow-elevation-2dp;};--paper-material-elevation-2:{@apply --shadow-elevation-4dp;};--paper-material-elevation-3:{@apply --shadow-elevation-6dp;};--paper-material-elevation-4:{@apply --shadow-elevation-8dp;};--paper-material-elevation-5:{@apply --shadow-elevation-16dp;};}.paper-material,:host(.paper-material){@apply --paper-material;}.paper-material[elevation="1"],:host(.paper-material[elevation="1"]){@apply --paper-material-elevation-1;}.paper-material[elevation="2"],:host(.paper-material[elevation="2"]){@apply --paper-material-elevation-2;}.paper-material[elevation="3"],:host(.paper-material[elevation="3"]){@apply --paper-material-elevation-3;}.paper-material[elevation="4"],:host(.paper-material[elevation="4"]){@apply --paper-material-elevation-4;}.paper-material[elevation="5"],:host(.paper-material[elevation="5"]){@apply --paper-material-elevation-5;}</style></template></dom-module><dom-module id="paper-button" assetpath="bower_components/paper-button/"><template strip-whitespace=""><style include="paper-material-styles">:host{@apply --layout-inline;@apply --layout-center-center;position:relative;box-sizing:border-box;min-width:5.14em;margin:0 .29em;background:0 0;-webkit-tap-highlight-color:transparent;-webkit-tap-highlight-color:transparent;font:inherit;text-transform:uppercase;outline-width:0;border-radius:3px;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;user-select:none;cursor:pointer;z-index:0;padding:.7em .57em;@apply --paper-font-common-base;@apply --paper-button;}:host([elevation="1"]){@apply --paper-material-elevation-1;}:host([elevation="2"]){@apply --paper-material-elevation-2;}:host([elevation="3"]){@apply --paper-material-elevation-3;}:host([elevation="4"]){@apply --paper-material-elevation-4;}:host([elevation="5"]){@apply --paper-material-elevation-5;}:host([hidden]){display:none!important}:host([raised].keyboard-focus){font-weight:700;@apply --paper-button-raised-keyboard-focus;}:host(:not([raised]).keyboard-focus){font-weight:700;@apply --paper-button-flat-keyboard-focus;}:host([disabled]){background:#eaeaea;color:#a8a8a8;cursor:auto;pointer-events:none;@apply --paper-button-disabled;}:host([animated]){@apply --shadow-transition;}paper-ripple{color:var(--paper-button-ink-color)}</style><slot></slot></template><script>Polymer({is:'paper-button',behaviors:[Polymer.PaperButtonBehavior],properties:{raised:{type:Boolean,reflectToAttribute:!0,value:!1,observer:'_calculateElevation'}},_calculateElevation:function(){this.raised?Polymer.PaperButtonBehaviorImpl._calculateElevation.apply(this):this._setElevation(0)}});</script></dom-module><dom-module id="dtile-tile-viewer" assetpath="src/dtile-tile-viewer/"><template><style>#tile,:host{display:block;image-rendering:pixelated;transform-origin:top left}</style><span id="tile"></span></template></dom-module><script>class DTileTileViewer extends Polymer.Element{static get is(){return"dtile-tile-viewer"}static get properties(){return{tileset:Object,tileId:Number,width:{type:Number,value:64,reflectToAttribute:!0},height:{type:Number,value:64,reflectToAttribute:!0},tilesWide:{type:Number,computed:"_getTilesWide(tileset, _tilesetWidth)"},tilesTall:{type:Number,computed:"_getTilesTall(tileset, _tilesetHeight)"},_tilesetWidth:Number,_tilesetHeight:Number}}static get observers(){return["_applyTileset(tileset, width, height)","_applyTileId(tileId, tileset, _tilesetWidth, _tilesetHeight)"]}_applyTileset(a,b,c){if(!a)return;this._tilesetWidth=this._tilesetHeight=0;const d=new Image;d.src=a.url,d.onload=()=>{this._tilesetWidth=d.width,this._tilesetHeight=d.height},this.style.width=`${b}px`,this.style.height=`${c}px`,this.$.tile.style.backgroundImage=`url("${a.url}")`,this.$.tile.style.width=`${a.tileWidth}px`,this.$.tile.style.height=`${a.tileHeight}px`,this.$.tile.style.transform=`scale(
                ${b/a.tileWidth},
                ${c/a.tileHeight}
            )`}_applyTileId(a,b,c){var d=Math.floor;if(b){const e=d(c/b.tileWidth),f=a%e*b.tileWidth,g=d(a/e)*b.tileHeight;this.$.tile.style.backgroundPosition=`${-f}px ${-g}px`}}_getTilesWide(a,b){return Math.floor(b/a.tileWidth)}_getTilesTall(a,b){return Math.floor(b/a.tileHeight)}}customElements.define(DTileTileViewer.is,DTileTileViewer);</script><script>class DTileAnimationEditorPlugin extends Polymer.Element{static get is(){return"dtile-animation-editor-plugin"}static get pluginName(){return"Animation"}static get template(){return`
                <style>
                    :host > div[no-animation] #has-animation {
                        display: none;
                    }

                    :host > div:not([no-animation]) #no-animation {
                        display: none;
                    }

                    :host > div {
                        display: flex;
                        width: 100%;
                        height: 100%;
                    }

                    :host > div > div {
                        flex-grow: 1;
                    }

                    #no-animation {
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                        justify-content: center;
                    }

                    #no-animation > * {
                        margin: 10px;
                    }

                    #has-animation {
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                    }

                    #preview-container {
                        flex-grow: 1;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                    }

                    #has-animation > paper-input {
                        width: 100%;
                    }

                    .row {
                        width: 100%;
                        display: flex;
                        justify-content: space-between;
                    }

                    .row > * {
                        width: 47%;
                    }
                </style>

                <div no-animation$="[[!_hasAnimation]]">
                    <div id="no-animation">
                        This tile doesn't have an animation defined.
                        <paper-button on-tap="_enableAnimation">Add animation</paper-button>
                    </div>

                    <div id="has-animation">
                        <div id="preview-container">
                            <dtile-tile-viewer id="tile-viewer"
                                width="192"
                                height="192"
                                tileset="[[tileset]]"
                                tile-id="[[tileId]]">
                            </dtile-tile-viewer>
                        </div>

                        <paper-input
                            type="number" label="Time per frame"
                            value="{{tpf}}" on-change="_resetAnimation">
                        </paper-input>
                        <div class="row">
                            <paper-input
                                type="number" label="Tiles wide"
                                value="{{tw}}" on-change="_resetAnimation">
                            </paper-input>
                            <paper-input
                                type="number" label="Tiles tall"
                                value="{{tt}}" on-change="_resetAnimation">
                            </paper-input>
                        </div>
                        <div class="row">
                            <paper-input
                                type="number" label="Stride x"
                                value="{{sx}}" on-change="_resetAnimation">
                            </paper-input>
                            <paper-input
                                type="number" label="Stride y"
                                value="{{sy}}" on-change="_resetAnimation">
                            </paper-input>
                        </div>
                    </div>
                </div>
            `}static get properties(){return{meta:Object,context:Object,tileset:Object,tileId:{type:Number,value:0},tpf:{type:Number,value:10},tw:{type:Number,value:1},tt:{type:Number,value:1},sx:{type:Number,value:1},sy:{type:Number,value:1},_hasAnimation:Boolean}}static get observers(){return["_setAnimationFromMeta(meta)"]}typeMatch(a){return"tilesetTile"===a}ready(){super.ready(),this._animate()}buildMeta(){const a=(b)=>this._hasAnimation?b:null;return{"@is-animated":a(!0),"@animation-time-per-frame":a(this.tpf),"@animation-tiles-wide":a(this.tw),"@animation-tiles-tall":a(this.tt),"@animation-stride-x":a(this.sx),"@animation-stride-y":a(this.sy)}}_setAnimationFromMeta(a){this._hasAnimation=a.hasOwnProperty("@is-animated"),this._hasAnimation&&(this.tpf=a["@animation-time-per-frame"],this.tw=a["@animation-tiles-wide"],this.tt=a["@animation-tiles-tall"],this.sx=a["@animation-stride-x"],this.sy=a["@animation-stride-y"]),this.tileset=this.context.tileset,this._resetAnimation()}_enableAnimation(){this._hasAnimation=!0,this._resetAnimation()}_animate(){if(requestAnimationFrame(()=>this._animate()),!!this._hasAnimation){const a=Math.floor;this._frameCounter++;const b=this.$["tile-viewer"].tilesWide,c=this.$["tile-viewer"].tilesTall,d=a(a(this.context.tileIds[0])%b),e=a(a(this.context.tileIds[0])/c);if(0==this.tpf)this.tileId=d+e*a(this.tileset.width);else{const c=this._frameCounter/a(this.tpf)%a(this.tw)*a(this.tt),f=a(c%a(this.tw))*a(this.sx)+d,g=a(c/a(this.tw))*a(this.sy)+e;this.tileId=f+g*b}}}_resetAnimation(){this._hasAnimation&&(this.tileId=this.context.tileIds[0],this._frameCounter=0)}}DTile.metaPlugins.push(DTileAnimationEditorPlugin),customElements.define(DTileAnimationEditorPlugin.is,DTileAnimationEditorPlugin);</script><script>class DTileAutoMapperPlugin extends Polymer.Element{static get is(){return"dtile-auto-mapper-plugin"}static get pluginName(){return"Auto-mapper"}static get template(){return`
                <style>
                    div {
                        display: flex;
                        align-items: center;
                        justify-content: space-evenly;
                        height: 100%;
                    }
                </style>

                <div>
                    <paper-dropdown-menu label="Map tile to">
                        <paper-listbox slot="dropdown-content" selected="{{_mapModeSelection}}">
                            <paper-item>Layer Name</paper-item>
                            <paper-item>Layer Index (from 0)</paper-item>
                        </paper-listbox>
                    </paper-dropdown-menu>
                    <paper-input value="{{_mapValue}}"></paper-input>
                </div>
            `}static get properties(){return{meta:Object,_mapModeSelection:Number,_mapValue:String}}static get observers(){return["_setValuesFromMeta(meta)"]}typeMatch(a){return"tilesetTile"===a}buildMeta(){if(!this._mapValue)return{};const a=0==this._mapModeSelection?"@*map-to-name":"@*map-to-index";return{"@*map-to-name":null,"@*map-to-index":null,[a]:this._mapValue}}_setValuesFromMeta(a){const b=a.hasOwnProperty("@*map-to-name"),c=a.hasOwnProperty("@*map-to-index");this._mapModeSelection=b?0:c?1:-1,this._mapValue=b?a["@*map-to-name"]:c?a["@*map-to-index"]:""}}DTile.metaPlugins.push(DTileAutoMapperPlugin),customElements.define(DTileAutoMapperPlugin.is,DTileAutoMapperPlugin);</script><script>(function(){'use strict';function a(a,f){if(void 0==b){b=!1;try{var g=new URL('b','http://a');g.pathname='c%20d',b='http://a/c%20d'===g.href,b=b&&'http://www.google.com/?foo%20bar'===new URL('http://www.google.com/?foo bar').href}catch(a){}}return b?new URL(a,f):(c||(c=document.implementation.createHTMLDocument('url'),d=c.createElement('base'),c.head.appendChild(d),e=c.createElement('a')),d.href=f,e.href=a.replace(/ /g,'%20'),e)}var b,c,d,e;Polymer({is:'iron-location',properties:{path:{type:String,notify:!0,value:function(){return window.decodeURIComponent(window.location.pathname)}},query:{type:String,notify:!0,value:function(){return window.location.search.slice(1)}},hash:{type:String,notify:!0,value:function(){return window.decodeURIComponent(window.location.hash.slice(1))}},dwellTime:{type:Number,value:2e3},urlSpaceRegex:{type:String,value:''},encodeSpaceAsPlusInQuery:{type:Boolean,value:!1},_urlSpaceRegExp:{computed:'_makeRegExp(urlSpaceRegex)'},_lastChangedAt:{type:Number},_initialized:{type:Boolean,value:!1}},hostAttributes:{hidden:!0},observers:['_updateUrl(path, query, hash)'],created:function(){this.__location=window.location},attached:function(){this.listen(window,'hashchange','_hashChanged'),this.listen(window,'location-changed','_urlChanged'),this.listen(window,'popstate','_urlChanged'),this.listen(document.body,'click','_globalOnClick'),this._lastChangedAt=window.performance.now()-(this.dwellTime-200),this._initialized=!0,this._urlChanged()},detached:function(){this.unlisten(window,'hashchange','_hashChanged'),this.unlisten(window,'location-changed','_urlChanged'),this.unlisten(window,'popstate','_urlChanged'),this.unlisten(document.body,'click','_globalOnClick'),this._initialized=!1},_hashChanged:function(){this.hash=window.decodeURIComponent(this.__location.hash.substring(1))},_urlChanged:function(){this._dontUpdateUrl=!0,this._hashChanged(),this.path=window.decodeURIComponent(this.__location.pathname),this.query=this.__location.search.substring(1),this._dontUpdateUrl=!1,this._updateUrl()},_getUrl:function(){var a=window.encodeURI(this.path).replace(/\#/g,'%23').replace(/\?/g,'%3F'),b='';this.query&&(b='?'+this.query.replace(/\#/g,'%23'),this.encodeSpaceAsPlusInQuery&&(b=b.replace(/\+/g,'%2B').replace(/ /g,'+').replace(/%20/g,'+')));var c='';return this.hash&&(c='#'+window.encodeURI(this.hash)),a+b+c},_updateUrl:function(){if(!this._dontUpdateUrl&&this._initialized&&(this.path!==window.decodeURIComponent(this.__location.pathname)||this.query!==this.__location.search.substring(1)||this.hash!==window.decodeURIComponent(this.__location.hash.substring(1)))){var b=this._getUrl(),c=a(b,this.__location.protocol+'//'+this.__location.host).href,d=window.performance.now(),e=this._lastChangedAt+this.dwellTime>d;this._lastChangedAt=d,e?window.history.replaceState({},'',c):window.history.pushState({},'',c),this.fire('location-changed',{},{node:window})}},_globalOnClick:function(a){if(!a.defaultPrevented){var b=this._getSameOriginLinkHref(a);b&&(a.preventDefault(),b===this.__location.href||(window.history.pushState({},'',b),this.fire('location-changed',{},{node:window})))}},_getSameOriginLinkHref:function(b){if(0!==b.button)return null;if(b.metaKey||b.ctrlKey)return null;for(var c,d=Polymer.dom(b).path,e=null,f=0;f<d.length;f++)if(c=d[f],'A'===c.tagName&&c.href){e=c;break}if(!e)return null;if('_blank'===e.target)return null;if(('_top'===e.target||'_parent'===e.target)&&window.top!==window)return null;if(e.download)return null;var g,h=e.href;g=null==document.baseURI?a(h):a(h,document.baseURI);var i=this.__location.origin?this.__location.origin:this.__location.protocol+'//'+this.__location.host;var j;if(g.origin)j=g.origin;else{var k=g.host,l=g.port,m=g.protocol;('https:'===m&&'443'===l||'http:'===m&&'80'===l)&&(k=g.hostname),j=m+'//'+k}if(j!==i)return null;var n=g.pathname+g.search+g.hash;if('/'!==n[0]&&(n='/'+n),this._urlSpaceRegExp&&!this._urlSpaceRegExp.test(n))return null;var o=a(n,this.__location.href).href;return o},_makeRegExp:function(a){return RegExp(a)}})})();</script><script>'use strict';Polymer({is:'iron-query-params',properties:{paramsString:{type:String,notify:!0,observer:'paramsStringChanged'},paramsObject:{type:Object,notify:!0,value:function(){return{}}},_dontReact:{type:Boolean,value:!1}},hostAttributes:{hidden:!0},observers:['paramsObjectChanged(paramsObject.*)'],paramsStringChanged:function(){this._dontReact=!0,this.paramsObject=this._decodeParams(this.paramsString),this._dontReact=!1},paramsObjectChanged:function(){this._dontReact||(this.paramsString=this._encodeParams(this.paramsObject).replace(/%3F/g,'?').replace(/%2F/g,'/').replace(/'/g,'%27'))},_encodeParams:function(a){var b=[];for(var c in a){var d=a[c];''===d?b.push(encodeURIComponent(c)):d&&b.push(encodeURIComponent(c)+'='+encodeURIComponent(d.toString()))}return b.join('&')},_decodeParams:function(a){var b={};a=(a||'').replace(/\+/g,'%20');for(var c,d=a.split('&'),e=0;e<d.length;e++)c=d[e].split('='),c[0]&&(b[decodeURIComponent(c[0])]=decodeURIComponent(c[1]||''));return b}});</script><script>(function(){'use strict';Polymer.AppRouteConverterBehavior={properties:{route:{type:Object,notify:!0},queryParams:{type:Object,notify:!0},path:{type:String,notify:!0}},observers:['_locationChanged(path, queryParams)','_routeChanged(route.prefix, route.path)','_routeQueryParamsChanged(route.__queryParams)'],created:function(){this.linkPaths('route.__queryParams','queryParams'),this.linkPaths('queryParams','route.__queryParams')},_locationChanged:function(){this.route&&this.route.path===this.path&&this.queryParams===this.route.__queryParams||(this.route={prefix:'',path:this.path,__queryParams:this.queryParams})},_routeChanged:function(){this.route&&(this.path=this.route.prefix+this.route.path)},_routeQueryParamsChanged:function(a){this.route&&(this.queryParams=a)}}})();</script><dom-module id="app-location" assetpath="bower_components/app-route/"><template><iron-query-params params-string="{{__query}}" params-object="{{queryParams}}"></iron-query-params><iron-location path="{{__path}}" query="{{__query}}" hash="{{__hash}}" url-space-regex="{{urlSpaceRegex}}"></iron-location></template><script>(function(){'use strict';Polymer({is:'app-location',properties:{route:{type:Object,notify:!0},useHashAsPath:{type:Boolean,value:!1},urlSpaceRegex:{type:String,notify:!0},__queryParams:{type:Object},__path:{type:String},__query:{type:String},__hash:{type:String},path:{type:String,observer:'__onPathChanged'},_isReady:{type:Boolean}},behaviors:[Polymer.AppRouteConverterBehavior],observers:['__computeRoutePath(useHashAsPath, __hash, __path)'],ready:function(){this._isReady=!0},__computeRoutePath:function(){this.path=this.useHashAsPath?this.__hash:this.__path},__onPathChanged:function(){this._isReady&&(this.useHashAsPath?this.__hash=this.path:this.__path=this.path)}})})();</script></dom-module><dom-module id="iron-pages" assetpath="bower_components/iron-pages/"><template><style>:host{display:block}:host>::slotted(:not(slot):not(.iron-selected)){display:none!important}</style><slot></slot></template><script>Polymer({is:'iron-pages',behaviors:[Polymer.IronResizableBehavior,Polymer.IronSelectableBehavior],properties:{activateEvent:{type:String,value:null}},observers:['_selectedPageChanged(selected)'],_selectedPageChanged:function(){this.async(this.notifyResize)}});</script></dom-module><iron-iconset-svg name="icons" size="24"><svg><defs><g id="3d-rotation"><path d="M7.52 21.48C4.25 19.94 1.91 16.76 1.55 13H.05C.56 19.16 5.71 24 12 24l.66-.03-3.81-3.81-1.33 1.32zm.89-6.52c-.19 0-.37-.03-.52-.08-.16-.06-.29-.13-.4-.24-.11-.1-.2-.22-.26-.37-.06-.14-.09-.3-.09-.47h-1.3c0 .36.07.68.21.95.14.27.33.5.56.69.24.18.51.32.82.41.3.1.62.15.96.15.37 0 .72-.05 1.03-.15.32-.1.6-.25.83-.44s.42-.43.55-.72c.13-.29.2-.61.2-.97 0-.19-.02-.38-.07-.56-.05-.18-.12-.35-.23-.51-.1-.16-.24-.3-.4-.43-.17-.13-.37-.23-.61-.31.2-.09.37-.2.52-.33.15-.13.27-.27.37-.42.1-.15.17-.3.22-.46.05-.16.07-.32.07-.48 0-.36-.06-.68-.18-.96-.12-.28-.29-.51-.51-.69-.2-.19-.47-.33-.77-.43C9.1 8.05 8.76 8 8.39 8c-.36 0-.69.05-1 .16-.3.11-.57.26-.79.45-.21.19-.38.41-.51.67-.12.26-.18.54-.18.85h1.3c0-.17.03-.32.09-.45s.14-.25.25-.34c.11-.09.23-.17.38-.22.15-.05.3-.08.48-.08.4 0 .7.1.89.31.19.2.29.49.29.86 0 .18-.03.34-.08.49-.05.15-.14.27-.25.37-.11.1-.25.18-.41.24-.16.06-.36.09-.58.09H7.5v1.03h.77c.22 0 .42.02.6.07s.33.13.45.23c.12.11.22.24.29.4.07.16.1.35.1.57 0 .41-.12.72-.35.93-.23.23-.55.33-.95.33zm8.55-5.92c-.32-.33-.7-.59-1.14-.77-.43-.18-.92-.27-1.46-.27H12v8h2.3c.55 0 1.06-.09 1.51-.27.45-.18.84-.43 1.16-.76.32-.33.57-.73.74-1.19.17-.47.26-.99.26-1.57v-.4c0-.58-.09-1.1-.26-1.57-.18-.47-.43-.87-.75-1.2zm-.39 3.16c0 .42-.05.79-.14 1.13-.1.33-.24.62-.43.85-.19.23-.43.41-.71.53-.29.12-.62.18-.99.18h-.91V9.12h.97c.72 0 1.27.23 1.64.69.38.46.57 1.12.57 1.99v.4zM12 0l-.66.03 3.81 3.81 1.33-1.33c3.27 1.55 5.61 4.72 5.96 8.48h1.5C23.44 4.84 18.29 0 12 0z"></path></g><g id="accessibility"><path d="M12 2c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm9 7h-6v13h-2v-6h-2v6H9V9H3V7h18v2z"></path></g><g id="accessible"><circle cx="12" cy="4" r="2"></circle><path d="M19 13v-2c-1.54.02-3.09-.75-4.07-1.83l-1.29-1.43c-.17-.19-.38-.34-.61-.45-.01 0-.01-.01-.02-.01H13c-.35-.2-.75-.3-1.19-.26C10.76 7.11 10 8.04 10 9.09V15c0 1.1.9 2 2 2h5v5h2v-5.5c0-1.1-.9-2-2-2h-3v-3.45c1.29 1.07 3.25 1.94 5 1.95zm-6.17 5c-.41 1.16-1.52 2-2.83 2-1.66 0-3-1.34-3-3 0-1.31.84-2.41 2-2.83V12.1c-2.28.46-4 2.48-4 4.9 0 2.76 2.24 5 5 5 2.42 0 4.44-1.72 4.9-4h-2.07z"></path></g><g id="account-balance"><path d="M4 10v7h3v-7H4zm6 0v7h3v-7h-3zM2 22h19v-3H2v3zm14-12v7h3v-7h-3zm-4.5-9L2 6v2h19V6l-9.5-5z"></path></g><g id="account-balance-wallet"><path d="M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path></g><g id="account-box"><path d="M3 5v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H5c-1.11 0-2 .9-2 2zm12 4c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zm-9 8c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1H6v-1z"></path></g><g id="account-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"></path></g><g id="add"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></g><g id="add-alert"><path d="M10.01 21.01c0 1.1.89 1.99 1.99 1.99s1.99-.89 1.99-1.99h-3.98zm8.87-4.19V11c0-3.25-2.25-5.97-5.29-6.69v-.72C13.59 2.71 12.88 2 12 2s-1.59.71-1.59 1.59v.72C7.37 5.03 5.12 7.75 5.12 11v5.82L3 18.94V20h18v-1.06l-2.12-2.12zM16 13.01h-3v3h-2v-3H8V11h3V8h2v3h3v2.01z"></path></g><g id="add-box"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"></path></g><g id="add-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"></path></g><g id="add-circle-outline"><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g><g id="add-shopping-cart"><path d="M11 9h2V6h3V4h-3V1h-2v3H8v2h3v3zm-4 9c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-9.83-3.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.86-7.01L19.42 4h-.01l-1.1 2-2.76 5H8.53l-.13-.27L6.16 6l-.95-2-.94-2H1v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.13 0-.25-.11-.25-.25z"></path></g><g id="alarm"><path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12.5 8H11v6l4.75 2.85.75-1.23-4-2.37V8zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path></g><g id="alarm-add"><path d="M7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm1-11h-2v3H8v2h3v3h2v-3h3v-2h-3V9z"></path></g><g id="alarm-off"><path d="M12 6c3.87 0 7 3.13 7 7 0 .84-.16 1.65-.43 2.4l1.52 1.52c.58-1.19.91-2.51.91-3.92 0-4.97-4.03-9-9-9-1.41 0-2.73.33-3.92.91L9.6 6.43C10.35 6.16 11.16 6 12 6zm10-.28l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM2.92 2.29L1.65 3.57 2.98 4.9l-1.11.93 1.42 1.42 1.11-.94.8.8C3.83 8.69 3 10.75 3 13c0 4.97 4.02 9 9 9 2.25 0 4.31-.83 5.89-2.2l2.2 2.2 1.27-1.27L3.89 3.27l-.97-.98zm13.55 16.1C15.26 19.39 13.7 20 12 20c-3.87 0-7-3.13-7-7 0-1.7.61-3.26 1.61-4.47l9.86 9.86zM8.02 3.28L6.6 1.86l-.86.71 1.42 1.42.86-.71z"></path></g><g id="alarm-on"><path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm-1.46-5.47L8.41 12.4l-1.06 1.06 3.18 3.18 6-6-1.06-1.06-4.93 4.95z"></path></g><g id="all-out"><path d="M16.21 4.16l4 4v-4zm4 12l-4 4h4zm-12 4l-4-4v4zm-4-12l4-4h-4zm12.95-.95c-2.73-2.73-7.17-2.73-9.9 0s-2.73 7.17 0 9.9 7.17 2.73 9.9 0 2.73-7.16 0-9.9zm-1.1 8.8c-2.13 2.13-5.57 2.13-7.7 0s-2.13-5.57 0-7.7 5.57-2.13 7.7 0 2.13 5.57 0 7.7z"></path></g><g id="android"><path d="M6 18c0 .55.45 1 1 1h1v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h2v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h1c.55 0 1-.45 1-1V8H6v10zM3.5 8C2.67 8 2 8.67 2 9.5v7c0 .83.67 1.5 1.5 1.5S5 17.33 5 16.5v-7C5 8.67 4.33 8 3.5 8zm17 0c-.83 0-1.5.67-1.5 1.5v7c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-7c0-.83-.67-1.5-1.5-1.5zm-4.97-5.84l1.3-1.3c.2-.2.2-.51 0-.71-.2-.2-.51-.2-.71 0l-1.48 1.48C13.85 1.23 12.95 1 12 1c-.96 0-1.86.23-2.66.63L7.85.15c-.2-.2-.51-.2-.71 0-.2.2-.2.51 0 .71l1.31 1.31C6.97 3.26 6 5.01 6 7h12c0-1.99-.97-3.75-2.47-4.84zM10 5H9V4h1v1zm5 0h-1V4h1v1z"></path></g><g id="announcement"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 9h-2V5h2v6zm0 4h-2v-2h2v2z"></path></g><g id="apps"><path d="M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"></path></g><g id="archive"><path d="M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5L6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z"></path></g><g id="arrow-back"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></g><g id="arrow-downward"><path d="M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"></path></g><g id="arrow-drop-down"><path d="M7 10l5 5 5-5z"></path></g><g id="arrow-drop-down-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 12l-4-4h8l-4 4z"></path></g><g id="arrow-drop-up"><path d="M7 14l5-5 5 5z"></path></g><g id="arrow-forward"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"></path></g><g id="arrow-upward"><path d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"></path></g><g id="aspect-ratio"><path d="M19 12h-2v3h-3v2h5v-5zM7 9h3V7H5v5h2V9zm14-6H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z"></path></g><g id="assessment"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path></g><g id="assignment"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"></path></g><g id="assignment-ind"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 4c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1.4c0-2 4-3.1 6-3.1s6 1.1 6 3.1V19z"></path></g><g id="assignment-late"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-6 15h-2v-2h2v2zm0-4h-2V8h2v6zm-1-9c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"></path></g><g id="assignment-return"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm4 12h-4v3l-5-5 5-5v3h4v4z"></path></g><g id="assignment-returned"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 15l-5-5h3V9h4v4h3l-5 5z"></path></g><g id="assignment-turned-in"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-2 14l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"></path></g><g id="attachment"><path d="M2 12.5C2 9.46 4.46 7 7.5 7H18c2.21 0 4 1.79 4 4s-1.79 4-4 4H9.5C8.12 15 7 13.88 7 12.5S8.12 10 9.5 10H17v2H9.41c-.55 0-.55 1 0 1H18c1.1 0 2-.9 2-2s-.9-2-2-2H7.5C5.57 9 4 10.57 4 12.5S5.57 16 7.5 16H17v2H7.5C4.46 18 2 15.54 2 12.5z"></path></g><g id="autorenew"><path d="M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"></path></g><g id="backspace"><path d="M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.9.89 1.59.89h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-3 12.59L17.59 17 14 13.41 10.41 17 9 15.59 12.59 12 9 8.41 10.41 7 14 10.59 17.59 7 19 8.41 15.41 12 19 15.59z"></path></g><g id="backup"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"></path></g><g id="block"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"></path></g><g id="book"><path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"></path></g><g id="bookmark"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"></path></g><g id="bookmark-border"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z"></path></g><g id="bug-report"><path d="M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-6 8h-4v-2h4v2zm0-4h-4v-2h4v2z"></path></g><g id="build"><path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"></path></g><g id="cached"><path d="M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"></path></g><g id="camera-enhance"><path d="M9 3L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2h-3.17L15 3H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-1l1.25-2.75L16 13l-2.75-1.25L12 9l-1.25 2.75L8 13l2.75 1.25z"></path></g><g id="cancel"><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"></path></g><g id="card-giftcard"><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z"></path></g><g id="card-membership"><path d="M20 2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h4v5l4-2 4 2v-5h4c1.11 0 2-.89 2-2V4c0-1.11-.89-2-2-2zm0 13H4v-2h16v2zm0-5H4V4h16v6z"></path></g><g id="card-travel"><path d="M20 6h-3V4c0-1.11-.89-2-2-2H9c-1.11 0-2 .89-2 2v2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zM9 4h6v2H9V4zm11 15H4v-2h16v2zm0-5H4V8h3v2h2V8h6v2h2V8h3v6z"></path></g><g id="change-history"><path d="M12 7.77L18.39 18H5.61L12 7.77M12 4L2 20h20L12 4z"></path></g><g id="check"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"></path></g><g id="check-box"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path></g><g id="check-box-outline-blank"><path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path></g><g id="check-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path></g><g id="chevron-left"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></g><g id="chevron-right"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></g><g id="chrome-reader-mode"><path d="M13 12h7v1.5h-7zm0-2.5h7V11h-7zm0 5h7V16h-7zM21 4H3c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 15h-9V6h9v13z"></path></g><g id="class"><path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"></path></g><g id="clear"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></g><g id="close"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></g><g id="cloud"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z"></path></g><g id="cloud-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.5 14H8c-1.66 0-3-1.34-3-3s1.34-3 3-3l.14.01C8.58 8.28 10.13 7 12 7c2.21 0 4 1.79 4 4h.5c1.38 0 2.5 1.12 2.5 2.5S17.88 16 16.5 16z"></path></g><g id="cloud-done"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM10 17l-3.5-3.5 1.41-1.41L10 14.17 15.18 9l1.41 1.41L10 17z"></path></g><g id="cloud-download"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"></path></g><g id="cloud-off"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4c-1.48 0-2.85.43-4.01 1.17l1.46 1.46C10.21 6.23 11.08 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3 0 1.13-.64 2.11-1.56 2.62l1.45 1.45C23.16 18.16 24 16.68 24 15c0-2.64-2.05-4.78-4.65-4.96zM3 5.27l2.75 2.74C2.56 8.15 0 10.77 0 14c0 3.31 2.69 6 6 6h11.73l2 2L21 20.73 4.27 4 3 5.27zM7.73 10l8 8H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h1.73z"></path></g><g id="cloud-queue"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h.71C7.37 7.69 9.48 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3s-1.34 3-3 3z"></path></g><g id="cloud-upload"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"></path></g><g id="code"><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></g><g id="compare-arrows"><path d="M9.01 14H2v2h7.01v3L13 15l-3.99-4v3zm5.98-1v-3H22V8h-7.01V5L11 9l3.99 4z"></path></g><g id="content-copy"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></g><g id="content-cut"><path d="M9.64 7.64c.23-.5.36-1.05.36-1.64 0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1L9.64 7.64zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm6-7.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5zM19 3l-6 6 2 2 7-7V3z"></path></g><g id="content-paste"><path d="M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z"></path></g><g id="copyright"><path d="M10.08 10.86c.05-.33.16-.62.3-.87s.34-.46.59-.62c.24-.15.54-.22.91-.23.23.01.44.05.63.13.2.09.38.21.52.36s.25.33.34.53.13.42.14.64h1.79c-.02-.47-.11-.9-.28-1.29s-.4-.73-.7-1.01-.66-.5-1.08-.66-.88-.23-1.39-.23c-.65 0-1.22.11-1.7.34s-.88.53-1.2.92-.56.84-.71 1.36S8 11.29 8 11.87v.27c0 .58.08 1.12.23 1.64s.39.97.71 1.35.72.69 1.2.91 1.05.34 1.7.34c.47 0 .91-.08 1.32-.23s.77-.36 1.08-.63.56-.58.74-.94.29-.74.3-1.15h-1.79c-.01.21-.06.4-.15.58s-.21.33-.36.46-.32.23-.52.3c-.19.07-.39.09-.6.1-.36-.01-.66-.08-.89-.23-.25-.16-.45-.37-.59-.62s-.25-.55-.3-.88-.08-.67-.08-1v-.27c0-.35.03-.68.08-1.01zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g><g id="create"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></g><g id="create-new-folder"><path d="M20 6h-8l-2-2H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-1 8h-3v3h-2v-3h-3v-2h3V9h2v3h3v2z"></path></g><g id="credit-card"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"></path></g><g id="dashboard"><path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"></path></g><g id="date-range"><path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"></path></g><g id="delete"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"></path></g><g id="delete-forever"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"></path></g><g id="delete-sweep"><path d="M15 16h4v2h-4zm0-8h7v2h-7zm0 4h6v2h-6zM3 18c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V8H3v10zM14 5h-3l-1-1H6L5 5H2v2h12z"></path></g><g id="description"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"></path></g><g id="dns"><path d="M20 13H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1zM7 19c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM20 3H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1zM7 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></path></g><g id="done"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"></path></g><g id="done-all"><path d="M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"></path></g><g id="donut-large"><path d="M11 5.08V2c-5 .5-9 4.81-9 10s4 9.5 9 10v-3.08c-3-.48-6-3.4-6-6.92s3-6.44 6-6.92zM18.97 11H22c-.47-5-4-8.53-9-9v3.08C16 5.51 18.54 8 18.97 11zM13 18.92V22c5-.47 8.53-4 9-9h-3.03c-.43 3-2.97 5.49-5.97 5.92z"></path></g><g id="donut-small"><path d="M11 9.16V2c-5 .5-9 4.79-9 10s4 9.5 9 10v-7.16c-1-.41-2-1.52-2-2.84s1-2.43 2-2.84zM14.86 11H22c-.48-4.75-4-8.53-9-9v7.16c1 .3 1.52.98 1.86 1.84zM13 14.84V22c5-.47 8.52-4.25 9-9h-7.14c-.34.86-.86 1.54-1.86 1.84z"></path></g><g id="drafts"><path d="M21.99 8c0-.72-.37-1.35-.94-1.7L12 1 2.95 6.3C2.38 6.65 2 7.28 2 8v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2l-.01-10zM12 13L3.74 7.84 12 3l8.26 4.84L12 13z"></path></g><g id="eject"><path d="M5 17h14v2H5zm7-12L5.33 15h13.34z"></path></g><g id="error"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"></path></g><g id="error-outline"><path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g><g id="euro-symbol"><path d="M15 18.5c-2.51 0-4.68-1.42-5.76-3.5H15v-2H8.58c-.05-.33-.08-.66-.08-1s.03-.67.08-1H15V9H9.24C10.32 6.92 12.5 5.5 15 5.5c1.61 0 3.09.59 4.23 1.57L21 5.3C19.41 3.87 17.3 3 15 3c-3.92 0-7.24 2.51-8.48 6H3v2h3.06c-.04.33-.06.66-.06 1 0 .34.02.67.06 1H3v2h3.52c1.24 3.49 4.56 6 8.48 6 2.31 0 4.41-.87 6-2.3l-1.78-1.77c-1.13.98-2.6 1.57-4.22 1.57z"></path></g><g id="event"><path d="M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"></path></g><g id="event-seat"><path d="M4 18v3h3v-3h10v3h3v-6H4zm15-8h3v3h-3zM2 10h3v3H2zm15 3H7V5c0-1.1.9-2 2-2h6c1.1 0 2 .9 2 2v8z"></path></g><g id="exit-to-app"><path d="M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path></g><g id="expand-less"><path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"></path></g><g id="expand-more"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></g><g id="explore"><path d="M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1c.61 0 1.1-.49 1.1-1.1s-.49-1.1-1.1-1.1zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm2.19 12.19L6 18l3.81-8.19L18 6l-3.81 8.19z"></path></g><g id="extension"><path d="M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7 1.49 0 2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5S21.88 11 20.5 11z"></path></g><g id="face"><path d="M9 11.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zm6 0c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8 0-.29.02-.58.05-.86 2.36-1.05 4.23-2.98 5.21-5.37C11.07 8.33 14.05 10 17.42 10c.78 0 1.53-.09 2.25-.26.21.71.33 1.47.33 2.26 0 4.41-3.59 8-8 8z"></path></g><g id="favorite"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"></path></g><g id="favorite-border"><path d="M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"></path></g><g id="feedback"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 12h-2v-2h2v2zm0-4h-2V6h2v4z"></path></g><g id="file-download"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"></path></g><g id="file-upload"><path d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"></path></g><g id="filter-list"><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"></path></g><g id="find-in-page"><path d="M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75L20 19.59zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z"></path></g><g id="find-replace"><path d="M11 6c1.38 0 2.63.56 3.54 1.46L12 10h6V4l-2.05 2.05C14.68 4.78 12.93 4 11 4c-3.53 0-6.43 2.61-6.92 6H6.1c.46-2.28 2.48-4 4.9-4zm5.64 9.14c.66-.9 1.12-1.97 1.28-3.14H15.9c-.46 2.28-2.48 4-4.9 4-1.38 0-2.63-.56-3.54-1.46L10 12H4v6l2.05-2.05C7.32 17.22 9.07 18 11 18c1.55 0 2.98-.51 4.14-1.36L20 21.49 21.49 20l-4.85-4.86z"></path></g><g id="fingerprint"><path d="M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28zM3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21zm6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39-2.57 0-4.66 1.97-4.66 4.39 0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15zm7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12zM14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94 1.7 0 3.08 1.32 3.08 2.94 0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.04-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38z"></path></g><g id="first-page"><path d="M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"></path></g><g id="flag"><path d="M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z"></path></g><g id="flight-land"><path d="M2.5 19h19v2h-19zm7.18-5.73l4.35 1.16 5.31 1.42c.8.21 1.62-.26 1.84-1.06.21-.8-.26-1.62-1.06-1.84l-5.31-1.42-2.76-9.02L10.12 2v8.28L5.15 8.95l-.93-2.32-1.45-.39v5.17l1.6.43 5.31 1.43z"></path></g><g id="flight-takeoff"><path d="M2.5 19h19v2h-19zm19.57-9.36c-.21-.8-1.04-1.28-1.84-1.06L14.92 10l-6.9-6.43-1.93.51 4.14 7.17-4.97 1.33-1.97-1.54-1.45.39 1.82 3.16.77 1.33 1.6-.43 5.31-1.42 4.35-1.16L21 11.49c.81-.23 1.28-1.05 1.07-1.85z"></path></g><g id="flip-to-back"><path d="M9 7H7v2h2V7zm0 4H7v2h2v-2zm0-8c-1.11 0-2 .9-2 2h2V3zm4 12h-2v2h2v-2zm6-12v2h2c0-1.1-.9-2-2-2zm-6 0h-2v2h2V3zM9 17v-2H7c0 1.1.89 2 2 2zm10-4h2v-2h-2v2zm0-4h2V7h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zM5 7H3v12c0 1.1.89 2 2 2h12v-2H5V7zm10-2h2V3h-2v2zm0 12h2v-2h-2v2z"></path></g><g id="flip-to-front"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm2 4v-2H3c0 1.1.89 2 2 2zM3 9h2V7H3v2zm12 12h2v-2h-2v2zm4-18H9c-1.11 0-2 .9-2 2v10c0 1.1.89 2 2 2h10c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 12H9V5h10v10zm-8 6h2v-2h-2v2zm-4 0h2v-2H7v2z"></path></g><g id="folder"><path d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"></path></g><g id="folder-open"><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z"></path></g><g id="folder-shared"><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-5 3c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm4 8h-8v-1c0-1.33 2.67-2 4-2s4 .67 4 2v1z"></path></g><g id="font-download"><path d="M9.93 13.5h4.14L12 7.98zM20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-4.05 16.5l-1.14-3H9.17l-1.12 3H5.96l5.11-13h1.86l5.11 13h-2.09z"></path></g><g id="forward"><path d="M12 8V4l8 8-8 8v-4H4V8z"></path></g><g id="fullscreen"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"></path></g><g id="fullscreen-exit"><path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"></path></g><g id="g-translate"><path d="M20 5h-9.12L10 2H4c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h7l1 3h8c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zM7.17 14.59c-2.25 0-4.09-1.83-4.09-4.09s1.83-4.09 4.09-4.09c1.04 0 1.99.37 2.74 1.07l.07.06-1.23 1.18-.06-.05c-.29-.27-.78-.59-1.52-.59-1.31 0-2.38 1.09-2.38 2.42s1.07 2.42 2.38 2.42c1.37 0 1.96-.87 2.12-1.46H7.08V9.91h3.95l.01.07c.04.21.05.4.05.61 0 2.35-1.61 4-3.92 4zm6.03-1.71c.33.6.74 1.18 1.19 1.7l-.54.53-.65-2.23zm.77-.76h-.99l-.31-1.04h3.99s-.34 1.31-1.56 2.74c-.52-.62-.89-1.23-1.13-1.7zM21 20c0 .55-.45 1-1 1h-7l2-2-.81-2.77.92-.92L17.79 18l.73-.73-2.71-2.68c.9-1.03 1.6-2.25 1.92-3.51H19v-1.04h-3.64V9h-1.04v1.04h-1.96L11.18 6H20c.55 0 1 .45 1 1v13z"></path></g><g id="gavel"><path d="M1 21h12v2H1zM5.245 8.07l2.83-2.827 14.14 14.142-2.828 2.828zM12.317 1l5.657 5.656-2.83 2.83-5.654-5.66zM3.825 9.485l5.657 5.657-2.828 2.828-5.657-5.657z"></path></g><g id="gesture"><path d="M4.59 6.89c.7-.71 1.4-1.35 1.71-1.22.5.2 0 1.03-.3 1.52-.25.42-2.86 3.89-2.86 6.31 0 1.28.48 2.34 1.34 2.98.75.56 1.74.73 2.64.46 1.07-.31 1.95-1.4 3.06-2.77 1.21-1.49 2.83-3.44 4.08-3.44 1.63 0 1.65 1.01 1.76 1.79-3.78.64-5.38 3.67-5.38 5.37 0 1.7 1.44 3.09 3.21 3.09 1.63 0 4.29-1.33 4.69-6.1H21v-2.5h-2.47c-.15-1.65-1.09-4.2-4.03-4.2-2.25 0-4.18 1.91-4.94 2.84-.58.73-2.06 2.48-2.29 2.72-.25.3-.68.84-1.11.84-.45 0-.72-.83-.36-1.92.35-1.09 1.4-2.86 1.85-3.52.78-1.14 1.3-1.92 1.3-3.28C8.95 3.69 7.31 3 6.44 3 5.12 3 3.97 4 3.72 4.25c-.36.36-.66.66-.88.93l1.75 1.71zm9.29 11.66c-.31 0-.74-.26-.74-.72 0-.6.73-2.2 2.87-2.76-.3 2.69-1.43 3.48-2.13 3.48z"></path></g><g id="get-app"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"></path></g><g id="gif"><path d="M11.5 9H13v6h-1.5zM9 9H6c-.6 0-1 .5-1 1v4c0 .5.4 1 1 1h3c.6 0 1-.5 1-1v-2H8.5v1.5h-2v-3H10V10c0-.5-.4-1-1-1zm10 1.5V9h-4.5v6H16v-2h2v-1.5h-2v-1z"></path></g><g id="grade"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></g><g id="group-work"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM8 17.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5zM9.5 8c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5S9.5 9.38 9.5 8zm6.5 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"></path></g><g id="help"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"></path></g><g id="help-outline"><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"></path></g><g id="highlight-off"><path d="M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g><g id="history"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"></path></g><g id="home"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path></g><g id="hourglass-empty"><path d="M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5l-4-4V4h8v3.5l-4 4z"></path></g><g id="hourglass-full"><path d="M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6z"></path></g><g id="http"><path d="M4.5 11h-2V9H1v6h1.5v-2.5h2V15H6V9H4.5v2zm2.5-.5h1.5V15H10v-4.5h1.5V9H7v1.5zm5.5 0H14V15h1.5v-4.5H17V9h-4.5v1.5zm9-1.5H18v6h1.5v-2h2c.8 0 1.5-.7 1.5-1.5v-1c0-.8-.7-1.5-1.5-1.5zm0 2.5h-2v-1h2v1z"></path></g><g id="https"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"></path></g><g id="important-devices"><path d="M23 11.01L18 11c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h5c.55 0 1-.45 1-1v-9c0-.55-.45-.99-1-.99zM23 20h-5v-7h5v7zM20 2H2C.89 2 0 2.89 0 4v12c0 1.1.89 2 2 2h7v2H7v2h8v-2h-2v-2h2v-2H2V4h18v5h2V4c0-1.11-.9-2-2-2zm-8.03 7L11 6l-.97 3H7l2.47 1.76-.94 2.91 2.47-1.8 2.47 1.8-.94-2.91L15 9h-3.03z"></path></g><g id="inbox"><path d="M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10z"></path></g><g id="indeterminate-check-box"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"></path></g><g id="info"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"></path></g><g id="info-outline"><path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"></path></g><g id="input"><path d="M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z"></path></g><g id="invert-colors"><path d="M17.66 7.93L12 2.27 6.34 7.93c-3.12 3.12-3.12 8.19 0 11.31C7.9 20.8 9.95 21.58 12 21.58c2.05 0 4.1-.78 5.66-2.34 3.12-3.12 3.12-8.19 0-11.31zM12 19.59c-1.6 0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z"></path></g><g id="label"><path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"></path></g><g id="label-outline"><path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16zM16 17H5V7h11l3.55 5L16 17z"></path></g><g id="language"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"></path></g><g id="last-page"><path d="M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"></path></g><g id="launch"><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"></path></g><g id="lightbulb-outline"><path d="M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6C7.8 12.16 7 10.63 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z"></path></g><g id="line-style"><path d="M3 16h5v-2H3v2zm6.5 0h5v-2h-5v2zm6.5 0h5v-2h-5v2zM3 20h2v-2H3v2zm4 0h2v-2H7v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zM3 12h8v-2H3v2zm10 0h8v-2h-8v2zM3 4v4h18V4H3z"></path></g><g id="line-weight"><path d="M3 17h18v-2H3v2zm0 3h18v-1H3v1zm0-7h18v-3H3v3zm0-9v4h18V4H3z"></path></g><g id="link"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></g><g id="list"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"></path></g><g id="lock"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"></path></g><g id="lock-open"><path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"></path></g><g id="lock-outline"><path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM8.9 6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H8.9V6zM18 20H6V10h12v10z"></path></g><g id="low-priority"><path d="M14 5h8v2h-8zm0 5.5h8v2h-8zm0 5.5h8v2h-8zM2 11.5C2 15.08 4.92 18 8.5 18H9v2l3-3-3-3v2h-.5C6.02 16 4 13.98 4 11.5S6.02 7 8.5 7H12V5H8.5C4.92 5 2 7.92 2 11.5z"></path></g><g id="loyalty"><path d="M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7zm11.77 8.27L13 19.54l-4.27-4.27C8.28 14.81 8 14.19 8 13.5c0-1.38 1.12-2.5 2.5-2.5.69 0 1.32.28 1.77.74l.73.72.73-.73c.45-.45 1.08-.73 1.77-.73 1.38 0 2.5 1.12 2.5 2.5 0 .69-.28 1.32-.73 1.77z"></path></g><g id="mail"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"></path></g><g id="markunread"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"></path></g><g id="markunread-mailbox"><path d="M20 6H10v6H8V4h6V0H6v6H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2z"></path></g><g id="menu"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></g><g id="more-horiz"><path d="M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></g><g id="more-vert"><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></g><g id="motorcycle"><path d="M19.44 9.03L15.41 5H11v2h3.59l2 2H5c-2.8 0-5 2.2-5 5s2.2 5 5 5c2.46 0 4.45-1.69 4.9-4h1.65l2.77-2.77c-.21.54-.32 1.14-.32 1.77 0 2.8 2.2 5 5 5s5-2.2 5-5c0-2.65-1.97-4.77-4.56-4.97zM7.82 15C7.4 16.15 6.28 17 5 17c-1.63 0-3-1.37-3-3s1.37-3 3-3c1.28 0 2.4.85 2.82 2H5v2h2.82zM19 17c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"></path></g><g id="move-to-inbox"><path d="M19 3H4.99c-1.11 0-1.98.9-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10zm-3-5h-2V7h-4v3H8l4 4 4-4z"></path></g><g id="next-week"><path d="M20 7h-4V5c0-.55-.22-1.05-.59-1.41C15.05 3.22 14.55 3 14 3h-4c-1.1 0-2 .9-2 2v2H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zM10 5h4v2h-4V5zm1 13.5l-1-1 3-3-3-3 1-1 4 4-4 4z"></path></g><g id="note-add"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3v2zm-3-7V3.5L18.5 9H13z"></path></g><g id="offline-pin"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm5 16H7v-2h10v2zm-6.7-4L7 10.7l1.4-1.4 1.9 1.9 5.3-5.3L17 7.3 10.3 14z"></path></g><g id="opacity"><path d="M17.66 8L12 2.35 6.34 8C4.78 9.56 4 11.64 4 13.64s.78 4.11 2.34 5.67 3.61 2.35 5.66 2.35 4.1-.79 5.66-2.35S20 15.64 20 13.64 19.22 9.56 17.66 8zM6 14c.01-2 .62-3.27 1.76-4.4L12 5.27l4.24 4.38C17.38 10.77 17.99 12 18 14H6z"></path></g><g id="open-in-browser"><path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h4v-2H5V8h14v10h-4v2h4c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2zm-7 6l-4 4h3v6h2v-6h3l-4-4z"></path></g><g id="open-in-new"><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"></path></g><g id="open-with"><path d="M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"></path></g><g id="pageview"><path d="M11.5 9C10.12 9 9 10.12 9 11.5s1.12 2.5 2.5 2.5 2.5-1.12 2.5-2.5S12.88 9 11.5 9zM20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-3.21 14.21l-2.91-2.91c-.69.44-1.51.7-2.39.7C9.01 16 7 13.99 7 11.5S9.01 7 11.5 7 16 9.01 16 11.5c0 .88-.26 1.69-.7 2.39l2.91 2.9-1.42 1.42z"></path></g><g id="pan-tool"><path d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"></path></g><g id="payment"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"></path></g><g id="perm-camera-mic"><path d="M20 5h-3.17L15 3H9L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h7v-2.09c-2.83-.48-5-2.94-5-5.91h2c0 2.21 1.79 4 4 4s4-1.79 4-4h2c0 2.97-2.17 5.43-5 5.91V21h7c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-6 8c0 1.1-.9 2-2 2s-2-.9-2-2V9c0-1.1.9-2 2-2s2 .9 2 2v4z"></path></g><g id="perm-contact-calendar"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1z"></path></g><g id="perm-data-setting"><path d="M18.99 11.5c.34 0 .67.03 1 .07L20 0 0 20h11.56c-.04-.33-.07-.66-.07-1 0-4.14 3.36-7.5 7.5-7.5zm3.71 7.99c.02-.16.04-.32.04-.49 0-.17-.01-.33-.04-.49l1.06-.83c.09-.08.12-.21.06-.32l-1-1.73c-.06-.11-.19-.15-.31-.11l-1.24.5c-.26-.2-.54-.37-.85-.49l-.19-1.32c-.01-.12-.12-.21-.24-.21h-2c-.12 0-.23.09-.25.21l-.19 1.32c-.3.13-.59.29-.85.49l-1.24-.5c-.11-.04-.24 0-.31.11l-1 1.73c-.06.11-.04.24.06.32l1.06.83c-.02.16-.03.32-.03.49 0 .17.01.33.03.49l-1.06.83c-.09.08-.12.21-.06.32l1 1.73c.06.11.19.15.31.11l1.24-.5c.26.2.54.37.85.49l.19 1.32c.02.12.12.21.25.21h2c.12 0 .23-.09.25-.21l.19-1.32c.3-.13.59-.29.84-.49l1.25.5c.11.04.24 0 .31-.11l1-1.73c.06-.11.03-.24-.06-.32l-1.07-.83zm-3.71 1.01c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path></g><g id="perm-device-information"><path d="M13 7h-2v2h2V7zm0 4h-2v6h2v-6zm4-9.99L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"></path></g><g id="perm-identity"><path d="M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"></path></g><g id="perm-media"><path d="M2 6H0v5h.01L0 20c0 1.1.9 2 2 2h18v-2H2V6zm20-2h-8l-2-2H6c-1.1 0-1.99.9-1.99 2L4 16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7 15l4.5-6 3.5 4.51 2.5-3.01L21 15H7z"></path></g><g id="perm-phone-msg"><path d="M20 15.5c-1.25 0-2.45-.2-3.57-.57-.35-.11-.74-.03-1.02.24l-2.2 2.2c-2.83-1.44-5.15-3.75-6.59-6.58l2.2-2.21c.28-.27.36-.66.25-1.01C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1zM12 3v10l3-3h6V3h-9z"></path></g><g id="perm-scan-wifi"><path d="M12 3C6.95 3 3.15 4.85 0 7.23L12 22 24 7.25C20.85 4.87 17.05 3 12 3zm1 13h-2v-6h2v6zm-2-8V6h2v2h-2z"></path></g><g id="pets"><circle cx="4.5" cy="9.5" r="2.5"></circle><circle cx="9" cy="5.5" r="2.5"></circle><circle cx="15" cy="5.5" r="2.5"></circle><circle cx="19.5" cy="9.5" r="2.5"></circle><path d="M17.34 14.86c-.87-1.02-1.6-1.89-2.48-2.91-.46-.54-1.05-1.08-1.75-1.32-.11-.04-.22-.07-.33-.09-.25-.04-.52-.04-.78-.04s-.53 0-.79.05c-.11.02-.22.05-.33.09-.7.24-1.28.78-1.75 1.32-.87 1.02-1.6 1.89-2.48 2.91-1.31 1.31-2.92 2.76-2.62 4.79.29 1.02 1.02 2.03 2.33 2.32.73.15 3.06-.44 5.54-.44h.18c2.48 0 4.81.58 5.54.44 1.31-.29 2.04-1.31 2.33-2.32.31-2.04-1.3-3.49-2.61-4.8z"></path></g><g id="picture-in-picture"><path d="M19 7h-8v6h8V7zm2-4H3c-1.1 0-2 .9-2 2v14c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98V5c0-1.1-.9-2-2-2zm0 16.01H3V4.98h18v14.03z"></path></g><g id="picture-in-picture-alt"><path d="M19 11h-8v6h8v-6zm4 8V4.98C23 3.88 22.1 3 21 3H3c-1.1 0-2 .88-2 1.98V19c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H3V4.97h18v14.05z"></path></g><g id="play-for-work"><path d="M11 5v5.59H7.5l4.5 4.5 4.5-4.5H13V5h-2zm-5 9c0 3.31 2.69 6 6 6s6-2.69 6-6h-2c0 2.21-1.79 4-4 4s-4-1.79-4-4H6z"></path></g><g id="polymer"><path d="M19 4h-4L7.11 16.63 4.5 12 9 4H5L.5 12 5 20h4l7.89-12.63L19.5 12 15 20h4l4.5-8z"></path></g><g id="power-settings-new"><path d="M13 3h-2v10h2V3zm4.83 2.17l-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83z"></path></g><g id="pregnant-woman"><path d="M9 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm7 9c-.01-1.34-.83-2.51-2-3 0-1.66-1.34-3-3-3s-3 1.34-3 3v7h2v5h3v-5h3v-4z"></path></g><g id="print"><path d="M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"></path></g><g id="query-builder"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"></path></g><g id="question-answer"><path d="M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z"></path></g><g id="radio-button-checked"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g><g id="radio-button-unchecked"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g><g id="receipt"><path d="M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z"></path></g><g id="record-voice-over"><circle cx="9" cy="9" r="4"></circle><path d="M9 15c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zm7.76-9.64l-1.68 1.69c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27zM20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14z"></path></g><g id="redeem"><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z"></path></g><g id="redo"><path d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"></path></g><g id="refresh"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"></path></g><g id="remove"><path d="M19 13H5v-2h14v2z"></path></g><g id="remove-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"></path></g><g id="remove-circle-outline"><path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g><g id="remove-shopping-cart"><path d="M22.73 22.73L2.77 2.77 2 2l-.73-.73L0 2.54l4.39 4.39 2.21 4.66-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h7.46l1.38 1.38c-.5.36-.83.95-.83 1.62 0 1.1.89 2 1.99 2 .67 0 1.26-.33 1.62-.84L21.46 24l1.27-1.27zM7.42 15c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h2.36l2 2H7.42zm8.13-2c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H6.54l9.01 9zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2z"></path></g><g id="reorder"><path d="M3 15h18v-2H3v2zm0 4h18v-2H3v2zm0-8h18V9H3v2zm0-6v2h18V5H3z"></path></g><g id="reply"><path d="M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"></path></g><g id="reply-all"><path d="M7 8V5l-7 7 7 7v-3l-4-4 4-4zm6 1V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"></path></g><g id="report"><path d="M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM12 17.3c-.72 0-1.3-.58-1.3-1.3 0-.72.58-1.3 1.3-1.3.72 0 1.3.58 1.3 1.3 0 .72-.58 1.3-1.3 1.3zm1-4.3h-2V7h2v6z"></path></g><g id="report-problem"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"></path></g><g id="restore"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"></path></g><g id="restore-page"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm-2 16c-2.05 0-3.81-1.24-4.58-3h1.71c.63.9 1.68 1.5 2.87 1.5 1.93 0 3.5-1.57 3.5-3.5S13.93 9.5 12 9.5c-1.35 0-2.52.78-3.1 1.9l1.6 1.6h-4V9l1.3 1.3C8.69 8.92 10.23 8 12 8c2.76 0 5 2.24 5 5s-2.24 5-5 5z"></path></g><g id="room"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"></path></g><g id="rounded-corner"><path d="M19 19h2v2h-2v-2zm0-2h2v-2h-2v2zM3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm0-4h2V3H3v2zm4 0h2V3H7v2zm8 16h2v-2h-2v2zm-4 0h2v-2h-2v2zm4 0h2v-2h-2v2zm-8 0h2v-2H7v2zm-4 0h2v-2H3v2zM21 8c0-2.76-2.24-5-5-5h-5v2h5c1.65 0 3 1.35 3 3v5h2V8z"></path></g><g id="rowing"><path d="M8.5 14.5L4 19l1.5 1.5L9 17h2l-2.5-2.5zM15 1c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 20.01L18 24l-2.99-3.01V19.5l-7.1-7.09c-.31.05-.61.07-.91.07v-2.16c1.66.03 3.61-.87 4.67-2.04l1.4-1.55c.19-.21.43-.38.69-.5.29-.14.62-.23.96-.23h.03C15.99 6.01 17 7.02 17 8.26v5.75c0 .84-.35 1.61-.92 2.16l-3.58-3.58v-2.27c-.63.52-1.43 1.02-2.29 1.39L16.5 18H18l3 3.01z"></path></g><g id="save"><path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"></path></g><g id="schedule"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"></path></g><g id="search"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path></g><g id="select-all"><path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z"></path></g><g id="send"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path></g><g id="settings"><path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"></path></g><g id="settings-applications"><path d="M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm7-7H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-1.75 9c0 .23-.02.46-.05.68l1.48 1.16c.13.11.17.3.08.45l-1.4 2.42c-.09.15-.27.21-.43.15l-1.74-.7c-.36.28-.76.51-1.18.69l-.26 1.85c-.03.17-.18.3-.35.3h-2.8c-.17 0-.32-.13-.35-.29l-.26-1.85c-.43-.18-.82-.41-1.18-.69l-1.74.7c-.16.06-.34 0-.43-.15l-1.4-2.42c-.09-.15-.05-.34.08-.45l1.48-1.16c-.03-.23-.05-.46-.05-.69 0-.23.02-.46.05-.68l-1.48-1.16c-.13-.11-.17-.3-.08-.45l1.4-2.42c.09-.15.27-.21.43-.15l1.74.7c.36-.28.76-.51 1.18-.69l.26-1.85c.03-.17.18-.3.35-.3h2.8c.17 0 .32.13.35.29l.26 1.85c.43.18.82.41 1.18.69l1.74-.7c.16-.06.34 0 .43.15l1.4 2.42c.09.15.05.34-.08.45l-1.48 1.16c.03.23.05.46.05.69z"></path></g><g id="settings-backup-restore"><path d="M14 12c0-1.1-.9-2-2-2s-2 .9-2 2 .9 2 2 2 2-.9 2-2zm-2-9c-4.97 0-9 4.03-9 9H0l4 4 4-4H5c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.51 0-2.91-.49-4.06-1.3l-1.42 1.44C8.04 20.3 9.94 21 12 21c4.97 0 9-4.03 9-9s-4.03-9-9-9z"></path></g><g id="settings-bluetooth"><path d="M11 24h2v-2h-2v2zm-4 0h2v-2H7v2zm8 0h2v-2h-2v2zm2.71-18.29L12 0h-1v7.59L6.41 3 5 4.41 10.59 10 5 15.59 6.41 17 11 12.41V20h1l5.71-5.71-4.3-4.29 4.3-4.29zM13 3.83l1.88 1.88L13 7.59V3.83zm1.88 10.46L13 16.17v-3.76l1.88 1.88z"></path></g><g id="settings-brightness"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02zM8 16h2.5l1.5 1.5 1.5-1.5H16v-2.5l1.5-1.5-1.5-1.5V8h-2.5L12 6.5 10.5 8H8v2.5L6.5 12 8 13.5V16zm4-7c1.66 0 3 1.34 3 3s-1.34 3-3 3V9z"></path></g><g id="settings-cell"><path d="M7 24h2v-2H7v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zM16 .01L8 0C6.9 0 6 .9 6 2v16c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V2c0-1.1-.9-1.99-2-1.99zM16 16H8V4h8v12z"></path></g><g id="settings-ethernet"><path d="M7.77 6.76L6.23 5.48.82 12l5.41 6.52 1.54-1.28L3.42 12l4.35-5.24zM7 13h2v-2H7v2zm10-2h-2v2h2v-2zm-6 2h2v-2h-2v2zm6.77-7.52l-1.54 1.28L20.58 12l-4.35 5.24 1.54 1.28L23.18 12l-5.41-6.52z"></path></g><g id="settings-input-antenna"><path d="M12 5c-3.87 0-7 3.13-7 7h2c0-2.76 2.24-5 5-5s5 2.24 5 5h2c0-3.87-3.13-7-7-7zm1 9.29c.88-.39 1.5-1.26 1.5-2.29 0-1.38-1.12-2.5-2.5-2.5S9.5 10.62 9.5 12c0 1.02.62 1.9 1.5 2.29v3.3L7.59 21 9 22.41l3-3 3 3L16.41 21 13 17.59v-3.3zM12 1C5.93 1 1 5.93 1 12h2c0-4.97 4.03-9 9-9s9 4.03 9 9h2c0-6.07-4.93-11-11-11z"></path></g><g id="settings-input-component"><path d="M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9v2zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1v2zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6h-2zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6v2z"></path></g><g id="settings-input-composite"><path d="M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9v2zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1v2zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6h-2zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6v2z"></path></g><g id="settings-input-hdmi"><path d="M18 7V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v3H5v6l3 6v3h8v-3l3-6V7h-1zM8 4h8v3h-2V5h-1v2h-2V5h-1v2H8V4z"></path></g><g id="settings-input-svideo"><path d="M8 11.5c0-.83-.67-1.5-1.5-1.5S5 10.67 5 11.5 5.67 13 6.5 13 8 12.33 8 11.5zm7-5c0-.83-.67-1.5-1.5-1.5h-3C9.67 5 9 5.67 9 6.5S9.67 8 10.5 8h3c.83 0 1.5-.67 1.5-1.5zM8.5 15c-.83 0-1.5.67-1.5 1.5S7.67 18 8.5 18s1.5-.67 1.5-1.5S9.33 15 8.5 15zM12 1C5.93 1 1 5.93 1 12s4.93 11 11 11 11-4.93 11-11S18.07 1 12 1zm0 20c-4.96 0-9-4.04-9-9s4.04-9 9-9 9 4.04 9 9-4.04 9-9 9zm5.5-11c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm-2 5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"></path></g><g id="settings-overscan"><path d="M12.01 5.5L10 8h4l-1.99-2.5zM18 10v4l2.5-1.99L18 10zM6 10l-2.5 2.01L6 14v-4zm8 6h-4l2.01 2.5L14 16zm7-13H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z"></path></g><g id="settings-phone"><path d="M13 9h-2v2h2V9zm4 0h-2v2h2V9zm3 6.5c-1.25 0-2.45-.2-3.57-.57-.35-.11-.74-.03-1.02.24l-2.2 2.2c-2.83-1.44-5.15-3.75-6.59-6.58l2.2-2.21c.28-.27.36-.66.25-1.01C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1zM19 9v2h2V9h-2z"></path></g><g id="settings-power"><path d="M7 24h2v-2H7v2zm4 0h2v-2h-2v2zm2-22h-2v10h2V2zm3.56 2.44l-1.45 1.45C16.84 6.94 18 8.83 18 11c0 3.31-2.69 6-6 6s-6-2.69-6-6c0-2.17 1.16-4.06 2.88-5.12L7.44 4.44C5.36 5.88 4 8.28 4 11c0 4.42 3.58 8 8 8s8-3.58 8-8c0-2.72-1.36-5.12-3.44-6.56zM15 24h2v-2h-2v2z"></path></g><g id="settings-remote"><path d="M15 9H9c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V10c0-.55-.45-1-1-1zm-3 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM7.05 6.05l1.41 1.41C9.37 6.56 10.62 6 12 6s2.63.56 3.54 1.46l1.41-1.41C15.68 4.78 13.93 4 12 4s-3.68.78-4.95 2.05zM12 0C8.96 0 6.21 1.23 4.22 3.22l1.41 1.41C7.26 3.01 9.51 2 12 2s4.74 1.01 6.36 2.64l1.41-1.41C17.79 1.23 15.04 0 12 0z"></path></g><g id="settings-voice"><path d="M7 24h2v-2H7v2zm5-11c1.66 0 2.99-1.34 2.99-3L15 4c0-1.66-1.34-3-3-3S9 2.34 9 4v6c0 1.66 1.34 3 3 3zm-1 11h2v-2h-2v2zm4 0h2v-2h-2v2zm4-14h-1.7c0 3-2.54 5.1-5.3 5.1S6.7 13 6.7 10H5c0 3.41 2.72 6.23 6 6.72V20h2v-3.28c3.28-.49 6-3.31 6-6.72z"></path></g><g id="shop"><path d="M16 6V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H2v13c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6h-6zm-6-2h4v2h-4V4zM9 18V9l7.5 4L9 18z"></path></g><g id="shop-two"><path d="M3 9H1v11c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2H3V9zm15-4V3c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H5v11c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2V5h-5zm-6-2h4v2h-4V3zm0 12V8l5.5 3-5.5 4z"></path></g><g id="shopping-basket"><path d="M17.21 9l-4.38-6.56c-.19-.28-.51-.42-.83-.42-.32 0-.64.14-.83.43L6.79 9H2c-.55 0-1 .45-1 1 0 .09.01.18.04.27l2.54 9.27c.23.84 1 1.46 1.92 1.46h13c.92 0 1.69-.62 1.93-1.46l2.54-9.27L23 10c0-.55-.45-1-1-1h-4.79zM9 9l3-4.4L15 9H9zm3 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></path></g><g id="shopping-cart"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"></path></g><g id="sort"><path d="M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"></path></g><g id="speaker-notes"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 14H6v-2h2v2zm0-3H6V9h2v2zm0-3H6V6h2v2zm7 6h-5v-2h5v2zm3-3h-8V9h8v2zm0-3h-8V6h8v2z"></path></g><g id="speaker-notes-off"><path d="M10.54 11l-.54-.54L7.54 8 6 6.46 2.38 2.84 1.27 1.73 0 3l2.01 2.01L2 22l4-4h9l5.73 5.73L22 22.46 17.54 18l-7-7zM8 14H6v-2h2v2zm-2-3V9l2 2H6zm14-9H4.08L10 7.92V6h8v2h-7.92l1 1H18v2h-4.92l6.99 6.99C21.14 17.95 22 17.08 22 16V4c0-1.1-.9-2-2-2z"></path></g><g id="spellcheck"><path d="M12.45 16h2.09L9.43 3H7.57L2.46 16h2.09l1.12-3h5.64l1.14 3zm-6.02-5L8.5 5.48 10.57 11H6.43zm15.16.59l-8.09 8.09L9.83 16l-1.41 1.41 5.09 5.09L23 13l-1.41-1.41z"></path></g><g id="star"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></g><g id="star-border"><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"></path></g><g id="star-half"><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"></path></g><g id="stars"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm4.24 16L12 15.45 7.77 18l1.12-4.81-3.73-3.23 4.92-.42L12 5l1.92 4.53 4.92.42-3.73 3.23L16.23 18z"></path></g><g id="store"><path d="M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z"></path></g><g id="subdirectory-arrow-left"><path d="M11 9l1.42 1.42L8.83 14H18V4h2v12H8.83l3.59 3.58L11 21l-6-6 6-6z"></path></g><g id="subdirectory-arrow-right"><path d="M19 15l-6 6-1.42-1.42L15.17 16H4V4h2v10h9.17l-3.59-3.58L13 9l6 6z"></path></g><g id="subject"><path d="M14 17H4v2h10v-2zm6-8H4v2h16V9zM4 15h16v-2H4v2zM4 5v2h16V5H4z"></path></g><g id="supervisor-account"><path d="M16.5 12c1.38 0 2.49-1.12 2.49-2.5S17.88 7 16.5 7C15.12 7 14 8.12 14 9.5s1.12 2.5 2.5 2.5zM9 11c1.66 0 2.99-1.34 2.99-3S10.66 5 9 5C7.34 5 6 6.34 6 8s1.34 3 3 3zm7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75zM9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13z"></path></g><g id="swap-horiz"><path d="M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"></path></g><g id="swap-vert"><path d="M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z"></path></g><g id="swap-vertical-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM6.5 9L10 5.5 13.5 9H11v4H9V9H6.5zm11 6L14 18.5 10.5 15H13v-4h2v4h2.5z"></path></g><g id="system-update-alt"><path d="M12 16.5l4-4h-3v-9h-2v9H8l4 4zm9-13h-6v1.99h6v14.03H3V5.49h6V3.5H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2z"></path></g><g id="tab"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h10v4h8v10z"></path></g><g id="tab-unselected"><path d="M1 9h2V7H1v2zm0 4h2v-2H1v2zm0-8h2V3c-1.1 0-2 .9-2 2zm8 16h2v-2H9v2zm-8-4h2v-2H1v2zm2 4v-2H1c0 1.1.9 2 2 2zM21 3h-8v6h10V5c0-1.1-.9-2-2-2zm0 14h2v-2h-2v2zM9 5h2V3H9v2zM5 21h2v-2H5v2zM5 5h2V3H5v2zm16 16c1.1 0 2-.9 2-2h-2v2zm0-8h2v-2h-2v2zm-8 8h2v-2h-2v2zm4 0h2v-2h-2v2z"></path></g><g id="text-format"><path d="M5 17v2h14v-2H5zm4.5-4.2h5l.9 2.2h2.1L12.75 4h-1.5L6.5 15h2.1l.9-2.2zM12 5.98L13.87 11h-3.74L12 5.98z"></path></g><g id="theaters"><path d="M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3h-2zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm10 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z"></path></g><g id="thumb-down"><path d="M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v1.91l.01.01L1 14c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z"></path></g><g id="thumb-up"><path d="M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-1.91l-.01-.01L23 10z"></path></g><g id="thumbs-up-down"><path d="M12 6c0-.55-.45-1-1-1H5.82l.66-3.18.02-.23c0-.31-.13-.59-.33-.8L5.38 0 .44 4.94C.17 5.21 0 5.59 0 6v6.5c0 .83.67 1.5 1.5 1.5h6.75c.62 0 1.15-.38 1.38-.91l2.26-5.29c.07-.17.11-.36.11-.55V6zm10.5 4h-6.75c-.62 0-1.15.38-1.38.91l-2.26 5.29c-.07.17-.11.36-.11.55V18c0 .55.45 1 1 1h5.18l-.66 3.18-.02.24c0 .31.13.59.33.8l.79.78 4.94-4.94c.27-.27.44-.65.44-1.06v-6.5c0-.83-.67-1.5-1.5-1.5z"></path></g><g id="timeline"><path d="M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2z"></path></g><g id="toc"><path d="M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z"></path></g><g id="today"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"></path></g><g id="toll"><path d="M15 4c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zM3 12c0-2.61 1.67-4.83 4-5.65V4.26C3.55 5.15 1 8.27 1 12s2.55 6.85 6 7.74v-2.09c-2.33-.82-4-3.04-4-5.65z"></path></g><g id="touch-app"><path d="M9 11.24V7.5C9 6.12 10.12 5 11.5 5S14 6.12 14 7.5v3.74c1.21-.81 2-2.18 2-3.74C16 5.01 13.99 3 11.5 3S7 5.01 7 7.5c0 1.56.79 2.93 2 3.74zm9.84 4.63l-4.54-2.26c-.17-.07-.35-.11-.54-.11H13v-6c0-.83-.67-1.5-1.5-1.5S10 6.67 10 7.5v10.74l-3.43-.72c-.08-.01-.15-.03-.24-.03-.31 0-.59.13-.79.33l-.79.8 4.94 4.94c.27.27.65.44 1.06.44h6.79c.75 0 1.33-.55 1.44-1.28l.75-5.27c.01-.07.02-.14.02-.2 0-.62-.38-1.16-.91-1.38z"></path></g><g id="track-changes"><path d="M19.07 4.93l-1.41 1.41C19.1 7.79 20 9.79 20 12c0 4.42-3.58 8-8 8s-8-3.58-8-8c0-4.08 3.05-7.44 7-7.93v2.02C8.16 6.57 6 9.03 6 12c0 3.31 2.69 6 6 6s6-2.69 6-6c0-1.66-.67-3.16-1.76-4.24l-1.41 1.41C15.55 9.9 16 10.9 16 12c0 2.21-1.79 4-4 4s-4-1.79-4-4c0-1.86 1.28-3.41 3-3.86v2.14c-.6.35-1 .98-1 1.72 0 1.1.9 2 2 2s2-.9 2-2c0-.74-.4-1.38-1-1.72V2h-1C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10c0-2.76-1.12-5.26-2.93-7.07z"></path></g><g id="translate"><path d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></g><g id="trending-down"><path d="M16 18l2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6z"></path></g><g id="trending-flat"><path d="M22 12l-4-4v3H3v2h15v3z"></path></g><g id="trending-up"><path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"></path></g><g id="turned-in"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"></path></g><g id="turned-in-not"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z"></path></g><g id="unarchive"><path d="M20.55 5.22l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.15.55L3.46 5.22C3.17 5.57 3 6.01 3 6.5V19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.49-.17-.93-.45-1.28zM12 9.5l5.5 5.5H14v2h-4v-2H6.5L12 9.5zM5.12 5l.82-1h12l.93 1H5.12z"></path></g><g id="undo"><path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"></path></g><g id="unfold-less"><path d="M7.41 18.59L8.83 20 12 16.83 15.17 20l1.41-1.41L12 14l-4.59 4.59zm9.18-13.18L15.17 4 12 7.17 8.83 4 7.41 5.41 12 10l4.59-4.59z"></path></g><g id="unfold-more"><path d="M12 5.83L15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9 12 5.83zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15 12 18.17z"></path></g><g id="update"><path d="M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79 2.73 2.71 7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58 3.51-3.47 9.14-3.47 12.65 0L21 3v7.12zM12.5 8v4.25l3.5 2.08-.72 1.21L11 13V8h1.5z"></path></g><g id="verified-user"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"></path></g><g id="view-agenda"><path d="M20 13H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1zm0-10H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1z"></path></g><g id="view-array"><path d="M4 18h3V5H4v13zM18 5v13h3V5h-3zM8 18h9V5H8v13z"></path></g><g id="view-carousel"><path d="M7 19h10V4H7v15zm-5-2h4V6H2v11zM18 6v11h4V6h-4z"></path></g><g id="view-column"><path d="M10 18h5V5h-5v13zm-6 0h5V5H4v13zM16 5v13h5V5h-5z"></path></g><g id="view-day"><path d="M2 21h19v-3H2v3zM20 8H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zM2 3v3h19V3H2z"></path></g><g id="view-headline"><path d="M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"></path></g><g id="view-list"><path d="M4 14h4v-4H4v4zm0 5h4v-4H4v4zM4 9h4V5H4v4zm5 5h12v-4H9v4zm0 5h12v-4H9v4zM9 5v4h12V5H9z"></path></g><g id="view-module"><path d="M4 11h5V5H4v6zm0 7h5v-6H4v6zm6 0h5v-6h-5v6zm6 0h5v-6h-5v6zm-6-7h5V5h-5v6zm6-6v6h5V5h-5z"></path></g><g id="view-quilt"><path d="M10 18h5v-6h-5v6zm-6 0h5V5H4v13zm12 0h5v-6h-5v6zM10 5v6h11V5H10z"></path></g><g id="view-stream"><path d="M4 18h17v-6H4v6zM4 5v6h17V5H4z"></path></g><g id="view-week"><path d="M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"></path></g><g id="visibility"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></g><g id="visibility-off"><path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"></path></g><g id="warning"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"></path></g><g id="watch-later"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm4.2 14.2L11 13V7h1.5v5.2l4.5 2.7-.8 1.3z"></path></g><g id="weekend"><path d="M21 10c-1.1 0-2 .9-2 2v3H5v-3c0-1.1-.9-2-2-2s-2 .9-2 2v5c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2v-5c0-1.1-.9-2-2-2zm-3-5H6c-1.1 0-2 .9-2 2v2.15c1.16.41 2 1.51 2 2.82V14h12v-2.03c0-1.3.84-2.4 2-2.82V7c0-1.1-.9-2-2-2z"></path></g><g id="work"><path d="M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"></path></g><g id="youtube-searched-for"><path d="M17.01 14h-.8l-.27-.27c.98-1.14 1.57-2.61 1.57-4.23 0-3.59-2.91-6.5-6.5-6.5s-6.5 3-6.5 6.5H2l3.84 4 4.16-4H6.51C6.51 7 8.53 5 11.01 5s4.5 2.01 4.5 4.5c0 2.48-2.02 4.5-4.5 4.5-.65 0-1.26-.14-1.82-.38L7.71 15.1c.97.57 2.09.9 3.3.9 1.61 0 3.08-.59 4.22-1.57l.27.27v.79l5.01 4.99L22 19l-4.99-5z"></path></g><g id="zoom-in"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zm2.5-4h-2v2H9v-2H7V9h2V7h1v2h2v1z"></path></g><g id="zoom-out"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"></path></g></defs></svg></iron-iconset-svg><script>Polymer.PaperInkyFocusBehaviorImpl={observers:['_focusedChanged(receivedFocusFromKeyboard)'],_focusedChanged:function(a){a&&this.ensureRipple(),this.hasRipple()&&(this._ripple.holdDown=a)},_createRipple:function(){var a=Polymer.PaperRippleBehavior._createRipple();return a.id='ink',a.setAttribute('center',''),a.classList.add('circle'),a}},Polymer.PaperInkyFocusBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperInkyFocusBehaviorImpl];</script><dom-module id="paper-icon-button" assetpath="bower_components/paper-icon-button/"><template strip-whitespace=""><style>:host{display:inline-block;position:relative;padding:8px;outline:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;z-index:0;line-height:1;width:40px;height:40px;-webkit-tap-highlight-color:transparent;-webkit-tap-highlight-color:transparent;box-sizing:border-box!important;@apply --paper-icon-button;}:host #ink{color:var(--paper-icon-button-ink-color,var(--primary-text-color));opacity:.6}:host([disabled]){color:var(--paper-icon-button-disabled-text,var(--disabled-text-color));pointer-events:none;cursor:auto;@apply --paper-icon-button-disabled;}:host([hidden]){display:none!important}:host(:hover){@apply --paper-icon-button-hover;}iron-icon{--iron-icon-width:100%;--iron-icon-height:100%}</style><iron-icon id="icon" src="[[src]]" icon="[[icon]]" alt$="[[alt]]"></iron-icon></template><script>Polymer({is:'paper-icon-button',hostAttributes:{role:'button',tabindex:'0'},behaviors:[Polymer.PaperInkyFocusBehavior],properties:{src:{type:String},icon:{type:String},alt:{type:String,observer:'_altChanged'}},_altChanged:function(a,b){var c=this.getAttribute('aria-label');c&&b!=c||this.setAttribute('aria-label',a)}});</script></dom-module><script>Polymer.AppLayout=Polymer.AppLayout||{},Polymer.AppLayout._scrollEffects={},Polymer.AppLayout._scrollTimer=null,Polymer.AppLayout.scrollTimingFunction=function(a,e,b,f){return a/=f,-b*a*(a-2)+e},Polymer.AppLayout.registerEffect=function(a,b){if(null!=Polymer.AppLayout._scrollEffects[a])throw new Error('effect `'+a+'` is already registered.');Polymer.AppLayout._scrollEffects[a]=b},Polymer.AppLayout.queryAllRoot=function(a,b){for(var c=[b],d=[];0<c.length;){var e=c.shift();d.push.apply(d,e.querySelectorAll(a));for(var f=0;e.children[f];f++)e.children[f].shadowRoot&&c.push(e.children[f].shadowRoot)}return d},Polymer.AppLayout.scroll=function(a){a=a||{};var b=document.documentElement,c=a.target||b,d='scrollBehavior'in c.style&&c.scroll,e=a.top||0,f=a.left||0,g=c===b?window.scrollTo:function(a,b){c.scrollLeft=a,c.scrollTop=b};if('smooth'===a.behavior){if(d)c.scroll(a);else{var h=Polymer.AppLayout.scrollTimingFunction,i=Date.now(),j=c===b?window.pageYOffset:c.scrollTop,k=c===b?window.pageXOffset:c.scrollLeft,l=300,m=function a(){var b=Date.now(),c=b-i;c<l?(g(h(c,k,f-k,l),h(c,j,e-j,l)),requestAnimationFrame(a)):g(f,e)}.bind(this);m()}}else if('silent'===a.behavior){var n=Polymer.AppLayout.queryAllRoot('app-header',document.body);n.forEach(function(a){a.setAttribute('silent-scroll','')}),Polymer.AppLayout._scrollTimer&&window.cancelAnimationFrame(Polymer.AppLayout._scrollTimer),Polymer.AppLayout._scrollTimer=window.requestAnimationFrame(function(){n.forEach(function(a){a.removeAttribute('silent-scroll')}),Polymer.AppLayout._scrollTimer=null}),g(f,e)}else g(f,e)};</script><dom-module id="app-drawer" assetpath="bower_components/app-layout/app-drawer/"><template><style>:host{position:fixed;top:-120px;right:0;bottom:-120px;left:0;visibility:hidden;transition-property:visibility}:host([opened]){visibility:visible}:host([persistent]){width:var(--app-drawer-width,256px)}:host([persistent][position=left]){right:auto}:host([persistent][position=right]){left:auto}#contentContainer{position:absolute;top:0;bottom:0;left:0;width:var(--app-drawer-width,256px);padding:120px 0;transition-property:-webkit-transform;transition-property:transform;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0);background-color:#fff;@apply --app-drawer-content-container;}#contentContainer[persistent]{width:100%}#contentContainer[position=right]{right:0;left:auto;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}#contentContainer[swipe-open]::after{position:fixed;top:0;bottom:0;left:100%;visibility:visible;width:20px;content:''}#contentContainer[swipe-open][position=right]::after{right:100%;left:auto}#contentContainer[opened]{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}#scrim{position:absolute;top:0;right:0;bottom:0;left:0;transition-property:opacity;-webkit-transform:translateZ(0);transform:translateZ(0);opacity:0;background:var(--app-drawer-scrim-background,rgba(0,0,0,.5))}#scrim.visible{opacity:1}:host([no-transition]) #contentContainer{transition-property:none}</style><div id="scrim" on-click="close"></div><div id="contentContainer" opened$="[[opened]]" persistent$="[[persistent]]" position$="[[position]]" swipe-open$="[[swipeOpen]]"><slot></slot></div></template><script>Polymer({is:'app-drawer',properties:{opened:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},persistent:{type:Boolean,value:!1,reflectToAttribute:!0},transitionDuration:{type:Number,value:200},align:{type:String,value:'left'},position:{type:String,readOnly:!0,reflectToAttribute:!0},swipeOpen:{type:Boolean,value:!1,reflectToAttribute:!0},noFocusTrap:{type:Boolean,value:!1},disableSwipe:{type:Boolean,value:!1}},observers:['resetLayout(position, isAttached)','_resetPosition(align, isAttached)','_styleTransitionDuration(transitionDuration)','_openedPersistentChanged(opened, persistent)'],_translateOffset:0,_trackDetails:null,_drawerState:0,_boundEscKeydownHandler:null,_firstTabStop:null,_lastTabStop:null,attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){this._boundEscKeydownHandler=this._escKeydownHandler.bind(this),this.addEventListener('keydown',this._tabKeydownHandler.bind(this)),this.listen(this,'track','_track'),this.setScrollDirection('y')}),this.fire('app-reset-layout')},detached:function(){document.removeEventListener('keydown',this._boundEscKeydownHandler)},open:function(){this.opened=!0},close:function(){this.opened=!1},toggle:function(){this.opened=!this.opened},getWidth:function(){return this._savedWidth||this.$.contentContainer.offsetWidth},_isRTL:function(){return'rtl'===window.getComputedStyle(this).direction},_resetPosition:function(){switch(this.align){case'start':return void this._setPosition(this._isRTL()?'right':'left');case'end':return void this._setPosition(this._isRTL()?'left':'right');}this._setPosition(this.align)},_escKeydownHandler:function(a){a.keyCode===27&&(a.preventDefault(),this.close())},_track:function(a){if(!(this.persistent||this.disableSwipe))switch(a.preventDefault(),a.detail.state){case'start':this._trackStart(a);break;case'track':this._trackMove(a);break;case'end':this._trackEnd(a);}},_trackStart:function(){this._drawerState=this._DRAWER_STATE.TRACKING;var a=this.$.contentContainer.getBoundingClientRect();this._savedWidth=a.width,this._translateOffset='left'===this.position?a.left:a.right-window.innerWidth,this._trackDetails=[],this._styleTransitionDuration(0),this.style.visibility='visible'},_trackMove:function(a){this._translateDrawer(a.detail.dx+this._translateOffset),this._trackDetails.push({dx:a.detail.dx,timeStamp:Date.now()})},_trackEnd:function(a){var b=a.detail.dx+this._translateOffset,c=this.getWidth(),d='left'===this.position,e=d?0<=b||b<=-c:0>=b||b>=c;if(!e){var f=this._trackDetails;if(this._trackDetails=null,this._flingDrawer(a,f),this._drawerState===this._DRAWER_STATE.FLINGING)return}var g=c/2;a.detail.dx<-g?this.opened='right'===this.position:a.detail.dx>g&&(this.opened='left'===this.position),e?this.debounce('_resetDrawerState',this._resetDrawerState):this.debounce('_resetDrawerState',this._resetDrawerState,this.transitionDuration),this._styleTransitionDuration(this.transitionDuration),this._resetDrawerTranslate(),this.style.visibility=''},_calculateVelocity:function(a,b){for(var c,e=Date.now(),f=0,g=b.length-1;f<=g;){var h=f+g>>1,i=b[h];i.timeStamp>=e-100?(c=i,g=h-1):f=h+1}if(c){var d=a.detail.dx-c.dx,j=e-c.timeStamp||1;return d/j}return 0},_flingDrawer:function(a,b){var c=this._calculateVelocity(a,b);if(!(Math.abs(c)<this._MIN_FLING_THRESHOLD)){this._drawerState=this._DRAWER_STATE.FLINGING;var d,e=a.detail.dx+this._translateOffset,f=this.getWidth(),g='left'===this.position,h=0<c;d=!h&&g?-(e+f):h&&!g?f-e:-e,h?(c=Math.max(c,this._MIN_TRANSITION_VELOCITY),this.opened='left'===this.position):(c=Math.min(c,-this._MIN_TRANSITION_VELOCITY),this.opened='right'===this.position);var i=this._FLING_INITIAL_SLOPE*d/c;this._styleTransitionDuration(i),this._styleTransitionTimingFunction(this._FLING_TIMING_FUNCTION),this._resetDrawerTranslate(),this.debounce('_resetDrawerState',this._resetDrawerState,i)}},_styleTransitionDuration:function(a){this.style.transitionDuration=a+'ms',this.$.contentContainer.style.transitionDuration=a+'ms',this.$.scrim.style.transitionDuration=a+'ms'},_styleTransitionTimingFunction:function(a){this.$.contentContainer.style.transitionTimingFunction=a,this.$.scrim.style.transitionTimingFunction=a},_translateDrawer:function(a){var b=Math.min,c=Math.max,d=this.getWidth();'left'===this.position?(a=c(-d,b(a,0)),this.$.scrim.style.opacity=1+a/d):(a=c(0,b(a,d)),this.$.scrim.style.opacity=1-a/d),this.translate3d(a+'px','0','0',this.$.contentContainer)},_resetDrawerTranslate:function(){this.$.scrim.style.opacity='',this.transform('',this.$.contentContainer)},_resetDrawerState:function(){var a=this._drawerState;a===this._DRAWER_STATE.FLINGING&&(this._styleTransitionDuration(this.transitionDuration),this._styleTransitionTimingFunction(''),this.style.visibility=''),this._savedWidth=null,this._drawerState=this.opened?this.persistent?this._DRAWER_STATE.OPENED_PERSISTENT:this._DRAWER_STATE.OPENED:this._DRAWER_STATE.CLOSED,a!==this._drawerState&&(this._drawerState===this._DRAWER_STATE.OPENED?(this._setKeyboardFocusTrap(),document.addEventListener('keydown',this._boundEscKeydownHandler),document.body.style.overflow='hidden'):(document.removeEventListener('keydown',this._boundEscKeydownHandler),document.body.style.overflow=''),a!==this._DRAWER_STATE.INIT&&this.fire('app-drawer-transitioned'))},resetLayout:function(){this.fire('app-reset-layout')},_setKeyboardFocusTrap:function(){if(!this.noFocusTrap){var a=Polymer.dom(this).querySelectorAll('a[href]:not([tabindex="-1"]),area[href]:not([tabindex="-1"]),input:not([disabled]):not([tabindex="-1"]),select:not([disabled]):not([tabindex="-1"]),textarea:not([disabled]):not([tabindex="-1"]),button:not([disabled]):not([tabindex="-1"]),iframe:not([tabindex="-1"]),[tabindex]:not([tabindex="-1"]),[contentEditable=true]:not([tabindex="-1"])');0<a.length?(this._firstTabStop=a[0],this._lastTabStop=a[a.length-1]):(this._firstTabStop=null,this._lastTabStop=null);var b=this.getAttribute('tabindex');b&&-1<parseInt(b,10)?this.focus():this._firstTabStop&&this._firstTabStop.focus()}},_tabKeydownHandler:function(a){if(!this.noFocusTrap){this._drawerState===this._DRAWER_STATE.OPENED&&a.keyCode===9&&(a.shiftKey?this._firstTabStop&&Polymer.dom(a).localTarget===this._firstTabStop&&(a.preventDefault(),this._lastTabStop.focus()):this._lastTabStop&&Polymer.dom(a).localTarget===this._lastTabStop&&(a.preventDefault(),this._firstTabStop.focus()))}},_openedPersistentChanged:function(a,b){this.toggleClass('visible',a&&!b,this.$.scrim),this.debounce('_resetDrawerState',this._resetDrawerState,this.transitionDuration)},_MIN_FLING_THRESHOLD:0.2,_MIN_TRANSITION_VELOCITY:1.2,_FLING_TIMING_FUNCTION:'cubic-bezier(0.667, 1, 0.667, 1)',_FLING_INITIAL_SLOPE:1.5,_DRAWER_STATE:{INIT:0,OPENED:1,OPENED_PERSISTENT:2,CLOSED:3,TRACKING:4,FLINGING:5}});</script></dom-module><script>Polymer({is:'iron-media-query',properties:{queryMatches:{type:Boolean,value:!1,readOnly:!0,notify:!0},query:{type:String,observer:'queryChanged'},full:{type:Boolean,value:!1},_boundMQHandler:{value:function(){return this.queryHandler.bind(this)}},_mq:{value:null}},attached:function(){this.style.display='none',this.queryChanged()},detached:function(){this._remove()},_add:function(){this._mq&&this._mq.addListener(this._boundMQHandler)},_remove:function(){this._mq&&this._mq.removeListener(this._boundMQHandler),this._mq=null},queryChanged:function(){this._remove();var a=this.query;a&&(!this.full&&'('!==a[0]&&(a='('+a+')'),this._mq=window.matchMedia(a),this._add(),this.queryHandler(this._mq))},queryHandler:function(a){this._setQueryMatches(a.matches)}});</script><script>Polymer.AppLayoutBehavior=[Polymer.IronResizableBehavior,{listeners:{"app-reset-layout":'_appResetLayoutHandler',"iron-resize":'resetLayout'},attached:function(){this.fire('app-reset-layout')},_appResetLayoutHandler:function(a){Polymer.dom(a).path[0]===this||(this.resetLayout(),a.stopPropagation())},_updateLayoutStates:function(){console.error('unimplemented')},resetLayout:function(){var a=this,b=this._updateLayoutStates.bind(this);Polymer.Async&&Polymer.Async.animationFrame?(this._layoutDebouncer=Polymer.Debouncer.debounce(this._layoutDebouncer,Polymer.Async.animationFrame,b),Polymer.enqueueDebouncer(this._layoutDebouncer)):this.debounce('resetLayout',b),this._notifyDescendantResize()},_notifyLayoutChanged:function(){var a=this;requestAnimationFrame(function(){a.fire('app-reset-layout')})},_notifyDescendantResize:function(){this.isAttached&&this._interestedResizables.forEach(function(a){this.resizerShouldNotify(a)&&this._notifyDescendant(a)},this)}}];</script><dom-module id="app-drawer-layout" assetpath="bower_components/app-layout/app-drawer-layout/"><template><style>:host{display:block;position:relative;z-index:0}:host ::slotted([slot=drawer]){z-index:1}:host([fullbleed]){@apply --layout-fit;}#contentContainer{position:relative;z-index:0;height:100%;transition:var(--app-drawer-layout-content-transition,none)}#contentContainer[drawer-position=left]{margin-left:var(--app-drawer-width,256px)}#contentContainer[drawer-position=right]{margin-right:var(--app-drawer-width,256px)}</style><slot id="drawerSlot" name="drawer"></slot><div id="contentContainer" drawer-position$="[[_drawerPosition]]"><slot></slot></div><iron-media-query query="[[_computeMediaQuery(forceNarrow, responsiveWidth)]]" on-query-matches-changed="_onQueryMatchesChanged"></iron-media-query></template><script>Polymer({is:'app-drawer-layout',behaviors:[Polymer.AppLayoutBehavior],properties:{forceNarrow:{type:Boolean,value:!1},responsiveWidth:{type:String,value:'640px'},narrow:{type:Boolean,reflectToAttribute:!0,readOnly:!0,notify:!0},openedWhenNarrow:{type:Boolean,value:!1},_drawerPosition:{type:String}},listeners:{click:'_clickHandler'},observers:['_narrowChanged(narrow)'],get drawer(){return Polymer.dom(this.$.drawerSlot).getDistributedNodes()[0]},attached:function(){var a=this.drawer;a&&a.setAttribute('no-transition','')},_clickHandler:function(a){var b=Polymer.dom(a).localTarget;if(b&&b.hasAttribute('drawer-toggle')){var c=this.drawer;c&&!c.persistent&&c.toggle()}},_updateLayoutStates:function(){var a=this.drawer;this.isAttached&&a&&(this._drawerPosition=this.narrow?null:a.position,this._drawerNeedsReset&&(this.narrow?(a.opened=this.openedWhenNarrow,a.persistent=!1):a.opened=a.persistent=!0,a.hasAttribute('no-transition')&&Polymer.RenderStatus.afterNextRender(this,function(){a.removeAttribute('no-transition')}),this._drawerNeedsReset=!1))},_narrowChanged:function(){this._drawerNeedsReset=!0,this.resetLayout()},_onQueryMatchesChanged:function(a){this._setNarrow(a.detail.value)},_computeMediaQuery:function(a,b){return a?'(min-width: 0px)':'(max-width: '+b+')'}});</script></dom-module><dom-module id="app-grid-style" assetpath="bower_components/app-layout/app-grid/"><template><style>:host{--app-grid-expandible-item:{-webkit-flex-basis:calc((100% - .1px)/ var(--app-grid-columns,1) * var(--app-grid-expandible-item-columns,1) - var(--app-grid-gutter,0px))!important;flex-basis:calc((100% - .1px)/ var(--app-grid-columns,1) * var(--app-grid-expandible-item-columns,1) - var(--app-grid-gutter,0px))!important;max-width:calc((100% - .1px)/ var(--app-grid-columns,1) * var(--app-grid-expandible-item-columns,1) - var(--app-grid-gutter,0px))!important};}.app-grid{display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;-webkit-flex-wrap:wrap;flex-wrap:wrap;padding-top:var(--app-grid-gutter,0);padding-left:var(--app-grid-gutter,0);box-sizing:border-box}.app-grid>*{-ms-flex:1 1 100%;-webkit-flex:1;flex:1;-webkit-flex-basis:calc((100% - .1px - (var(--app-grid-gutter,0px) * var(--app-grid-columns,1)))/ var(--app-grid-columns,1));flex-basis:calc((100% - .1px - (var(--app-grid-gutter,0px) * var(--app-grid-columns,1)))/ var(--app-grid-columns,1));max-width:calc((100% - .1px - (var(--app-grid-gutter,0px) * var(--app-grid-columns,1)))/ var(--app-grid-columns,1));margin-bottom:var(--app-grid-gutter,0);margin-right:var(--app-grid-gutter,0);height:var(--app-grid-item-height);box-sizing:border-box}.app-grid[has-aspect-ratio]>*{position:relative}.app-grid[has-aspect-ratio]>::before{display:block;content:"";padding-top:var(--app-grid-item-height,100%)}.app-grid[has-aspect-ratio]>*>*{position:absolute;top:0;right:0;bottom:0;left:0}</style></template></dom-module><script>Polymer.IronScrollTargetBehavior={properties:{scrollTarget:{type:HTMLElement,value:function(){return this._defaultScrollTarget}}},observers:['_scrollTargetChanged(scrollTarget, isAttached)'],_shouldHaveListener:!0,_scrollTargetChanged:function(a,b){if(this._oldScrollTarget&&(this._toggleScrollListener(!1,this._oldScrollTarget),this._oldScrollTarget=null),!!b)if('document'===a)this.scrollTarget=this._doc;else if('string'==typeof a){var c=this.domHost;this.scrollTarget=c&&c.$?c.$[a]:Polymer.dom(this.ownerDocument).querySelector('#'+a)}else this._isValidScrollTarget()&&(this._oldScrollTarget=a,this._toggleScrollListener(this._shouldHaveListener,a))},_scrollHandler:function(){},get _defaultScrollTarget(){return this._doc},get _doc(){return this.ownerDocument.documentElement},get _scrollTop(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageYOffset:this.scrollTarget.scrollTop:0},get _scrollLeft(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageXOffset:this.scrollTarget.scrollLeft:0},set _scrollTop(a){this.scrollTarget===this._doc?window.scrollTo(window.pageXOffset,a):this._isValidScrollTarget()&&(this.scrollTarget.scrollTop=a)},set _scrollLeft(a){this.scrollTarget===this._doc?window.scrollTo(a,window.pageYOffset):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=a)},scroll:function(a,b){this.scrollTarget===this._doc?window.scrollTo(a,b):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=a,this.scrollTarget.scrollTop=b)},get _scrollTargetWidth(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerWidth:this.scrollTarget.offsetWidth:0},get _scrollTargetHeight(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerHeight:this.scrollTarget.offsetHeight:0},_isValidScrollTarget:function(){return this.scrollTarget instanceof HTMLElement},_toggleScrollListener:function(a,b){var c=b===this._doc?window:b;a?!this._boundScrollHandler&&(this._boundScrollHandler=this._scrollHandler.bind(this),c.addEventListener('scroll',this._boundScrollHandler)):this._boundScrollHandler&&(c.removeEventListener('scroll',this._boundScrollHandler),this._boundScrollHandler=null)},toggleScrollListener:function(a){this._shouldHaveListener=a,this._toggleScrollListener(a,this.scrollTarget)}};</script><script>Polymer.AppScrollEffectsBehavior=[Polymer.IronScrollTargetBehavior,{properties:{effects:{type:String},effectsConfig:{type:Object,value:function(){return{}}},disabled:{type:Boolean,reflectToAttribute:!0,value:!1},threshold:{type:Number,value:0},thresholdTriggered:{type:Boolean,notify:!0,readOnly:!0,reflectToAttribute:!0}},observers:['_effectsChanged(effects, effectsConfig, isAttached)'],_updateScrollState:function(){},isOnScreen:function(){return!1},isContentBelow:function(){return!1},_effectsRunFn:null,_effects:null,get _clampedScrollTop(){return Math.max(0,this._scrollTop)},detached:function(){this._tearDownEffects()},createEffect:function(a,b){var c=Polymer.AppLayout._scrollEffects[a];if(!c)throw new ReferenceError(this._getUndefinedMsg(a));var d=this._boundEffect(c,b||{});return d.setUp(),d},_effectsChanged:function(a,b,c){this._tearDownEffects();a&&c&&(a.split(' ').forEach(function(a){var c;''!==a&&((c=Polymer.AppLayout._scrollEffects[a])?this._effects.push(this._boundEffect(c,b[a])):console.warn(this._getUndefinedMsg(a)))},this),this._setUpEffect())},_layoutIfDirty:function(){return this.offsetWidth},_boundEffect:function(a,b){b=b||{};var c=parseFloat(b.startsAt||0),d=parseFloat(b.endsAt||1),e=function(){},f=0===c&&1===d?a.run:function(b,e){a.run.call(this,Math.max(0,(b-c)/(d-c)),e)};return{setUp:a.setUp?a.setUp.bind(this,b):e,run:a.run?f.bind(this):e,tearDown:a.tearDown?a.tearDown.bind(this):e}},_setUpEffect:function(){this.isAttached&&this._effects&&(this._effectsRunFn=[],this._effects.forEach(function(a){!1!==a.setUp()&&this._effectsRunFn.push(a.run)},this))},_tearDownEffects:function(){this._effects&&this._effects.forEach(function(a){a.tearDown()}),this._effectsRunFn=[],this._effects=[]},_runEffects:function(a,b){this._effectsRunFn&&this._effectsRunFn.forEach(function(c){c(a,b)})},_scrollHandler:function(){if(!this.disabled){var a=this._clampedScrollTop;this._updateScrollState(a),0<this.threshold&&this._setThresholdTriggered(a>=this.threshold)}},_getDOMRef:function(a){console.warn('_getDOMRef','`'+a+'` is undefined')},_getUndefinedMsg:function(a){return'Scroll effect `'+a+'` is undefined. Did you forget to import app-layout/app-scroll-effects/effects/'+a+'.html ?'}}];</script><dom-module id="app-header" assetpath="bower_components/app-layout/app-header/"><template><style>:host{position:relative;display:block;transition-timing-function:linear;transition-property:-webkit-transform;transition-property:transform}:host::before{position:absolute;right:0;bottom:-5px;left:0;width:100%;height:5px;content:"";transition:opacity .4s;pointer-events:none;opacity:0;box-shadow:inset 0 5px 6px -3px rgba(0,0,0,.4);will-change:opacity;@apply --app-header-shadow;}:host([shadow])::before{opacity:1}#background{@apply --layout-fit;overflow:hidden}#backgroundFrontLayer,#backgroundRearLayer{@apply --layout-fit;height:100%;pointer-events:none;background-size:cover}#backgroundFrontLayer{@apply --app-header-background-front-layer;}#backgroundRearLayer{opacity:0;@apply --app-header-background-rear-layer;}#contentContainer{position:relative;width:100%;height:100%}:host([disabled]),:host([disabled]) #backgroundFrontLayer,:host([disabled]) #backgroundRearLayer,:host([disabled])::after,:host([silent-scroll]),:host([silent-scroll]) #backgroundFrontLayer,:host([silent-scroll]) #backgroundRearLayer,:host([silent-scroll])::after{transition:none!important}:host([disabled]) ::slotted([sticky]),:host([disabled]) ::slotted(app-toolbar:first-of-type),:host([silent-scroll]) ::slotted([sticky]),:host([silent-scroll]) ::slotted(app-toolbar:first-of-type){transition:none!important}</style><div id="contentContainer"><slot id="slot"></slot></div></template><script>Polymer({is:'app-header',behaviors:[Polymer.AppScrollEffectsBehavior,Polymer.AppLayoutBehavior],properties:{condenses:{type:Boolean,value:!1},fixed:{type:Boolean,value:!1},reveals:{type:Boolean,value:!1},shadow:{type:Boolean,reflectToAttribute:!0,value:!1}},observers:['_configChanged(isAttached, condenses, fixed)'],_height:0,_dHeight:0,_stickyElTop:0,_stickyElRef:null,_top:0,_progress:0,_wasScrollingDown:!1,_initScrollTop:0,_initTimestamp:0,_lastTimestamp:0,_lastScrollTop:0,get _maxHeaderTop(){return this.fixed?this._dHeight:this._height+5},get _stickyEl(){if(this._stickyElRef)return this._stickyElRef;for(var a,b=Polymer.dom(this.$.slot).getDistributedNodes(),c=0;a=b[c];c++)if(a.nodeType===Node.ELEMENT_NODE)if(a.hasAttribute('sticky')){this._stickyElRef=a;break}else this._stickyElRef||(this._stickyElRef=a);return this._stickyElRef},_configChanged:function(){this.resetLayout(),this._notifyLayoutChanged()},_updateLayoutStates:function(){if(0!==this.offsetWidth||0!==this.offsetHeight){var a=this._clampedScrollTop,b=0===this._height||0===a,c=this.disabled;this._height=this.offsetHeight,this._stickyElRef=null,this.disabled=!0,b||this._updateScrollState(0,!0),this._dHeight=this._mayMove()?this._stickyEl?this._height-this._stickyEl.offsetHeight:0:0,this._stickyElTop=this._stickyEl?this._stickyEl.offsetTop:0,this._setUpEffect(),b?this._updateScrollState(a,!0):(this._updateScrollState(this._lastScrollTop,!0),this._layoutIfDirty()),this.disabled=c}},_updateScrollState:function(a,b){var c=Math.abs;if(0!==this._height){var d=0,e=0,f=this._top,g=this._lastScrollTop,h=this._maxHeaderTop,i=a-this._lastScrollTop,j=c(i),k=a>this._lastScrollTop,l=performance.now();if(this._mayMove()&&(e=this._clamp(this.reveals?f+i:a,0,h)),a>=this._dHeight&&(e=this.condenses&&!this.fixed?Math.max(this._dHeight,e):e,this.style.transitionDuration='0ms'),this.reveals&&!this.disabled&&100>j&&((300<l-this._initTimestamp||this._wasScrollingDown!==k)&&(this._initScrollTop=a,this._initTimestamp=l),a>=h))if(30<c(this._initScrollTop-a)||10<j){k&&a>=h?e=h:!k&&a>=this._dHeight&&(e=this.condenses&&!this.fixed?this._dHeight:0);var m=i/(l-this._lastTimestamp);this.style.transitionDuration=this._clamp((e-f)/m,0,300)+'ms'}else e=this._top;d=0===this._dHeight?0<a?1:0:e/this._dHeight,b||(this._lastScrollTop=a,this._top=e,this._wasScrollingDown=k,this._lastTimestamp=l),(b||d!==this._progress||f!==e||0===a)&&(this._progress=d,this._runEffects(d,e),this._transformHeader(e))}},_mayMove:function(){return this.condenses||!this.fixed},willCondense:function(){return 0<this._dHeight&&this.condenses},isOnScreen:function(){return 0!==this._height&&this._top<this._height},isContentBelow:function(){return 0===this._top?0<this._clampedScrollTop:0<=this._clampedScrollTop-this._maxHeaderTop},_transformHeader:function(a){this.translate3d(0,-a+'px',0),this._stickyEl&&this.translate3d(0,this.condenses&&a>=this._stickyElTop?Math.min(a,this._dHeight)-this._stickyElTop+'px':0,0,this._stickyEl)},_clamp:function(a,b,c){return Math.min(c,Math.max(b,a))},_ensureBgContainers:function(){this._bgContainer||(this._bgContainer=document.createElement('div'),this._bgContainer.id='background',this._bgRear=document.createElement('div'),this._bgRear.id='backgroundRearLayer',this._bgContainer.appendChild(this._bgRear),this._bgFront=document.createElement('div'),this._bgFront.id='backgroundFrontLayer',this._bgContainer.appendChild(this._bgFront),Polymer.dom(this.root).insertBefore(this._bgContainer,this.$.contentContainer))},_getDOMRef:function(a){return'backgroundFrontLayer'===a?(this._ensureBgContainers(),this._bgFront):'backgroundRearLayer'===a?(this._ensureBgContainers(),this._bgRear):'background'===a?(this._ensureBgContainers(),this._bgContainer):'mainTitle'===a?Polymer.dom(this).querySelector('[main-title]'):'condensedTitle'===a?Polymer.dom(this).querySelector('[condensed-title]'):null},getScrollState:function(){return{progress:this._progress,top:this._top}}});</script></dom-module><dom-module id="app-header-layout" assetpath="bower_components/app-layout/app-header-layout/"><template><style>:host{display:block;position:relative;z-index:0}#wrapper ::slotted([slot=header]){@apply --layout-fixed-top;z-index:1}#wrapper.initializing ::slotted([slot=header]){position:relative}:host([has-scrolling-region]){height:100%}:host([has-scrolling-region]) #wrapper ::slotted([slot=header]){position:absolute}:host([has-scrolling-region]) #wrapper.initializing ::slotted([slot=header]){position:relative}:host([has-scrolling-region]) #wrapper #contentContainer{@apply --layout-fit;overflow-y:auto;-webkit-overflow-scrolling:touch}:host([has-scrolling-region]) #wrapper.initializing #contentContainer{position:relative}:host([fullbleed]){@apply --layout-vertical;@apply --layout-fit;}:host([fullbleed]) #wrapper,:host([fullbleed]) #wrapper #contentContainer{@apply --layout-vertical;@apply --layout-flex;}#contentContainer{position:relative;z-index:0}@media print{:host([has-scrolling-region]) #wrapper #contentContainer{overflow-y:visible}}</style><div id="wrapper" class="initializing"><slot id="headerSlot" name="header"></slot><div id="contentContainer"><slot></slot></div></div></template><script>Polymer({is:'app-header-layout',behaviors:[Polymer.AppLayoutBehavior],properties:{hasScrollingRegion:{type:Boolean,value:!1,reflectToAttribute:!0}},observers:['resetLayout(isAttached, hasScrollingRegion)'],get header(){return Polymer.dom(this.$.headerSlot).getDistributedNodes()[0]},_updateLayoutStates:function(){var a=this.header;if(this.isAttached&&a){this.$.wrapper.classList.remove('initializing'),a.scrollTarget=this.hasScrollingRegion?this.$.contentContainer:this.ownerDocument.documentElement;var b=a.offsetHeight;this.hasScrollingRegion?(a.style.left='',a.style.right=''):requestAnimationFrame(function(){var b=this.getBoundingClientRect(),c=document.documentElement.clientWidth-b.right;a.style.left=b.left+'px',a.style.right=c+'px'}.bind(this));var c=this.$.contentContainer.style;a.fixed&&!a.condenses&&this.hasScrollingRegion?(c.marginTop=b+'px',c.paddingTop=''):(c.paddingTop=b+'px',c.marginTop='')}}});</script></dom-module><dom-module id="app-toolbar" assetpath="bower_components/app-layout/app-toolbar/"><template><style>:host{@apply --layout-horizontal;@apply --layout-center;position:relative;height:64px;padding:0 16px;pointer-events:none;font-size:var(--app-toolbar-font-size,20px)}:host ::slotted(*){pointer-events:auto}:host ::slotted(paper-icon-button){font-size:0}:host ::slotted([condensed-title]),:host ::slotted([main-title]){pointer-events:none;@apply --layout-flex;}:host ::slotted([bottom-item]){position:absolute;right:0;bottom:0;left:0}:host ::slotted([top-item]){position:absolute;top:0;right:0;left:0}:host ::slotted([spacer]){margin-left:64px}</style><slot></slot></template><script>Polymer({is:'app-toolbar'});</script></dom-module><dom-module id="app-box" assetpath="bower_components/app-layout/app-box/"><template><style>:host{position:relative;display:block}#background{@apply --layout-fit;overflow:hidden;height:100%}#backgroundFrontLayer{min-height:100%;pointer-events:none;background-size:cover;@apply --app-box-background-front-layer;}#contentContainer{position:relative;width:100%;height:100%}:host([disabled]),:host([disabled]) #backgroundFrontLayer{transition:none!important}</style><div id="background"><div id="backgroundFrontLayer"><slot name="background"></slot></div></div><div id="contentContainer"><slot></slot></div></template><script>Polymer({is:'app-box',behaviors:[Polymer.AppScrollEffectsBehavior,Polymer.IronResizableBehavior],listeners:{"iron-resize":'_resizeHandler'},_progress:0,attached:function(){this.resetLayout()},_debounceRaf:function(a){var b=this;this._raf&&window.cancelAnimationFrame(this._raf),this._raf=window.requestAnimationFrame(function(){b._raf=null,a.call(b)})},resetLayout:function(){this._debounceRaf(function(){if(0!==this.offsetWidth||0!==this.offsetHeight){var a=this._clampedScrollTop,b=this.disabled;this.disabled=!0,this._elementTop=this._getElementTop(),this._elementHeight=this.offsetHeight,this._cachedScrollTargetHeight=this._scrollTargetHeight,this._setUpEffect(),this._updateScrollState(a),this.disabled=b}})},_getElementTop:function(){for(var a=this,b=0;a&&a!==this.scrollTarget;)b+=a.offsetTop,a=a.offsetParent;return b},_updateScrollState:function(a){if(this.isOnScreen()){var b=this._elementTop-a;this._progress=1-(b+this._elementHeight)/this._cachedScrollTargetHeight,this._runEffects(this._progress,a)}},isOnScreen:function(){return this._elementTop<this._scrollTop+this._cachedScrollTargetHeight&&this._elementTop+this._elementHeight>this._scrollTop},_resizeHandler:function(){this.resetLayout()},_getDOMRef:function(a){return'background'===a?this.$.background:'backgroundFrontLayer'===a?this.$.backgroundFrontLayer:void 0},getScrollState:function(){return{progress:this._progress}}});</script></dom-module><script type="text/javascript">var PolymerRedux=function(){'use strict';function a(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}var b,c='undefined'==typeof window?'undefined'==typeof global?'undefined'==typeof self?{}:self:global:window;b='undefined'==typeof window?'undefined'==typeof c?'undefined'==typeof self?{}:self:c:window;var d=b,e=console,f=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},g=d.CustomEvent,h=d.Polymer;return function(b){if(!b)throw new TypeError('PolymerRedux: expecting a redux store.');else if(!['getState','dispatch','subscribe'].every(function(a){return'function'==typeof b[a]}))throw new TypeError('PolymerRedux: invalid store object.');var c=new Map,d=function(a,d){var f=Object.keys(d).filter(function(b){var c=d[b];return!!Object.prototype.hasOwnProperty.call(c,'statePath')&&(!c.readOnly&&c.notify&&e.warn('PolymerRedux: <'+a.constructor.is+'>.'+b+' has "notify" enabled, two-way bindings goes against Redux\'s paradigm'),!0)}),i=function(b){var c=!1;f.forEach(function(e){var f=d[e].statePath,g='function'==typeof f?f.call(a,b):h.Path.get(b,f),i=a._setPendingPropertyOrPath(e,g,!0);c=c||i}),c&&a._invalidateProperties()},j=b.subscribe(function(){var c=b.getState();i(c),a.dispatchEvent(new g('state-changed',{detail:c}))});return c.set(a,j),i(b.getState()),i},i=function(a){var b=c.get(a);'function'==typeof b&&b()},j=function(a,b){for(var c={};a;)c=f({},a[b],c),a=Object.getPrototypeOf(a);return c};return function(c){return class extends c{constructor(){super();var a=j(this.constructor,'actions');Object.defineProperty(this,'_reduxActions',{configurable:!0,value:a})}connectedCallback(){var a=j(this.constructor,'properties');d(this,a),super.connectedCallback()}disconnectedCallback(){i(this),super.disconnectedCallback()}dispatch(){for(var c=this,d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];var g=this._reduxActions,h=e[0];if('string'==typeof h){if('function'!=typeof g[h])throw new TypeError('PolymerRedux: <'+this.constructor.is+'> invalid action creator "'+h+'"');h=g[h].apply(g,a(e.slice(1)))}if('function'==typeof h){var i=h;h=function(){for(var a=arguments.length,b=Array(a),d=0;d<a;d++)b[d]=arguments[d];return b.splice(0,1,function(){return c.dispatch.apply(c,arguments)}),i.apply(void 0,b)},Object.keys(i).forEach(function(a){h[a]=i[a]})}return b.dispatch(h)}getState(){return b.getState()}}}}}();</script><script>!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a.Redux=a.Redux||{})}(this,function(q){"use strict";function z(a){var c=b.call(a,u),d=a[u];try{a[u]=void 0}catch(a){}var f=h.call(a);return c?a[u]=d:delete a[u],f}function e(a){return g.call(a)}function B(a){return null==a?void 0===a?v:j:m&&m in Object(a)?z(a):e(a)}function r(a){return null!=a&&"object"==typeof a}function o(a){if(!r(a)||B(a)!=x)return!1;var b=w(a);if(null===b)return!0;var c=E.call(b,"constructor")&&b.constructor;return"function"==typeof c&&c instanceof c&&D.call(c)==F}function i(b,g,h){function j(){l===s&&(l=s.slice())}function k(){return d}function m(a){if("function"!=typeof a)throw Error("Expected listener to be a function.");var b=!0;return j(),l.push(a),function(){if(b){b=!1,j();var c=l.indexOf(a);l.splice(c,1)}}}function q(a){if(!o(a))throw Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===a.type)throw Error("Actions may not have an undefined \"type\" property. Have you misspelled a constant?");if(p)throw Error("Reducers may not dispatch actions.");try{p=!0,d=f(d,a)}finally{p=!1}for(var b=s=l,c=0;b.length>c;c++)(0,b[c])();return a}var r;if("function"==typeof g&&void 0===h&&(h=g,g=void 0),void 0!==h){if("function"!=typeof h)throw Error("Expected the enhancer to be a function.");return h(i)(b,g)}if("function"!=typeof b)throw Error("Expected the reducer to be a function.");var f=b,d=g,s=[],l=s,p=!1;return q({type:G.INIT}),r={dispatch:q,subscribe:m,getState:k,replaceReducer:function(a){if("function"!=typeof a)throw Error("Expected the nextReducer to be a function.");f=a,q({type:G.INIT})}},r[A]=function(){var a;return a={subscribe:function(a){function b(){a.next&&a.next(k())}if("object"!=typeof a)throw new TypeError("Expected the observer to be an object.");return b(),{unsubscribe:m(b)}}},a[A]=function(){return this},a},r}function n(a,b){var c=b&&b.type;return"Given action "+(c&&"\""+c+"\""||"an action")+", reducer \""+a+"\" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined."}function c(a){Object.keys(a).forEach(function(b){var c=a[b];if(void 0===c(void 0,{type:G.INIT}))throw Error("Reducer \""+b+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===c(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw Error("Reducer \""+b+"\" returned undefined when probed with a random type. Don't try to handle "+G.INIT+" or other actions in \"redux/*\" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.")})}function a(a,b){return function(){return b(a.apply(void 0,arguments))}}function f(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];return 0===b.length?function(a){return a}:1===b.length?b[0]:b.reduce(function(a,b){return function(){return a(b.apply(void 0,arguments))}})}var d,s="object"==typeof global&&global&&global.Object===Object&&global,l="object"==typeof self&&self&&self.Object===Object&&self,p=(s||l||Function("return this")()).Symbol,t=Object.prototype,b=t.hasOwnProperty,h=t.toString,u=p?p.toStringTag:void 0,g=Object.prototype.toString,j="[object Null]",v="[object Undefined]",m=p?p.toStringTag:void 0,w=function(a,b){return function(c){return a(b(c))}}(Object.getPrototypeOf,Object),x="[object Object]",y=Function.prototype,C=Object.prototype,D=y.toString,E=C.hasOwnProperty,F=D.call(Object),A=function(a){var b,c=a.Symbol;return"function"==typeof c?c.observable?b=c.observable:(b=c("observable"),c.observable=b):b="@@observable",b}(d="undefined"==typeof self?"undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof module?Function("return this")():module:global:window:self),G={INIT:"@@redux/INIT"},H=Object.assign||function(a){for(var b,c=1;arguments.length>c;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};q.createStore=i,q.combineReducers=function(a){for(var b,d=Object.keys(a),g={},e=0;d.length>e;e++)b=d[e],"function"==typeof a[b]&&(g[b]=a[b]);var h,j=Object.keys(g);try{c(g)}catch(a){h=a}return function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=arguments[1];if(h)throw h;for(var e=!1,i={},k=0;j.length>k;k++){var a=j[k],f=g[a],d=b[a],m=f(d,c);if(void 0===m){var l=n(a,c);throw Error(l)}i[a]=m,e=e||m!==d}return e?i:b}},q.bindActionCreators=function(b,c){if("function"==typeof b)return a(b,c);if("object"!=typeof b||null===b)throw Error("bindActionCreators expected an object or a function, instead received "+(null===b?"null":typeof b)+". Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?");for(var d=Object.keys(b),e={},f=0;d.length>f;f++){var g=d[f],h=b[g];"function"==typeof h&&(e[g]=a(h,c))}return e},q.applyMiddleware=function(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];return function(d){return function(e,g,h){var j=d(e,g,h),i=j.dispatch,k=[],c={getState:j.getState,dispatch:function(a){return i(a)}};return k=b.map(function(a){return a(c)}),i=f.apply(void 0,k)(j.dispatch),H({},j,{dispatch:i})}}},q.compose=f,Object.defineProperty(q,"__esModule",{value:!0})});</script><script>(function(a,b){'object'==typeof exports&&'object'==typeof module?module.exports=b():'function'==typeof define&&define.amd?define([],b):'object'==typeof exports?exports.ReduxUndo=b():a.ReduxUndo=b()})(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.i=function(a){return a},b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=5)}([function(a,b){'use strict';Object.defineProperty(b,'__esModule',{value:!0});var c=b.ActionTypes={UNDO:'@@redux-undo/UNDO',REDO:'@@redux-undo/REDO',JUMP_TO_FUTURE:'@@redux-undo/JUMP_TO_FUTURE',JUMP_TO_PAST:'@@redux-undo/JUMP_TO_PAST',JUMP:'@@redux-undo/JUMP',CLEAR_HISTORY:'@@redux-undo/CLEAR_HISTORY'},d=b.ActionCreators={undo:function(){return{type:c.UNDO}},redo:function(){return{type:c.REDO}},jumpToFuture:function(a){return{type:c.JUMP_TO_FUTURE,index:a}},jumpToPast:function(a){return{type:c.JUMP_TO_PAST,index:a}},jump:function(a){return{type:c.JUMP,index:a}},clearHistory:function(){return{type:c.CLEAR_HISTORY}}}},function(a,b){'use strict';function c(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[];if(Array.isArray(a))return a;return'string'==typeof a?[a]:b}Object.defineProperty(b,'__esModule',{value:!0}),b.parseActions=c,b.isHistory=function(a){return'undefined'!=typeof a.present&&'undefined'!=typeof a.future&&'undefined'!=typeof a.past&&Array.isArray(a.future)&&Array.isArray(a.past)},b.distinctState=function(){return console.warn('distinctState is deprecated in beta4 and newer. The distinctState behavior is now default, which means only actions resulting in a new state are recorded. See https://github.com/omnidan/redux-undo#filtering-actions for more details.'),function(){return!0}},b.includeAction=function(a){var b=c(a);return function(a){return 0<=b.indexOf(a.type)}},b.excludeAction=function(a){var b=c(a);return function(a){return 0>b.indexOf(a.type)}},b.combineFilters=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return b.reduce(function(a,b){return function(c,d,e){return a(c,d,e)&&b(c,d,e)}},function(){return!0})},b.groupByActionTypes=function(a){var b=c(a);return function(a){return 0<=b.indexOf(a.type)?a.type:null}}},function(a,b,c){'use strict';function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,'__esModule',{value:!0});var e=c(0);Object.defineProperty(b,'ActionTypes',{enumerable:!0,get:function(){return e.ActionTypes}}),Object.defineProperty(b,'ActionCreators',{enumerable:!0,get:function(){return e.ActionCreators}});var f=c(1);Object.defineProperty(b,'parseActions',{enumerable:!0,get:function(){return f.parseActions}}),Object.defineProperty(b,'isHistory',{enumerable:!0,get:function(){return f.isHistory}}),Object.defineProperty(b,'distinctState',{enumerable:!0,get:function(){return f.distinctState}}),Object.defineProperty(b,'includeAction',{enumerable:!0,get:function(){return f.includeAction}}),Object.defineProperty(b,'excludeAction',{enumerable:!0,get:function(){return f.excludeAction}}),Object.defineProperty(b,'combineFilters',{enumerable:!0,get:function(){return f.combineFilters}}),Object.defineProperty(b,'groupByActionTypes',{enumerable:!0,get:function(){return f.groupByActionTypes}});var g=c(4);Object.defineProperty(b,'default',{enumerable:!0,get:function(){return d(g).default}})},function(a,b){'use strict';function c(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function d(){h={header:[],prev:[],action:[],next:[],msgs:[]}}function e(){var a=h,b=a.header,d=a.prev,e=a.next,f=a.action,g=a.msgs;if(console.group){var i,j,k,l,m;(i=console).groupCollapsed.apply(i,c(b)),(j=console).log.apply(j,c(d)),(k=console).log.apply(k,c(f)),(l=console).log.apply(l,c(e)),(m=console).log.apply(m,c(g)),console.groupEnd()}else{var n,o,p,q,r;(n=console).log.apply(n,c(b)),(o=console).log.apply(o,c(d)),(p=console).log.apply(p,c(f)),(q=console).log.apply(q,c(e)),(r=console).log.apply(r,c(g))}}function f(a,b,c){return['%c'+a,'color: '+b+'; font-weight: bold',c]}Object.defineProperty(b,'__esModule',{value:!0});var g,h,i={prevState:'#9E9E9E',action:'#03A9F4',nextState:'#4CAF50'};b.set=function(a){g=a},b.start=function(a,b){d(),g&&(console.group?(h.header=['%credux-undo','font-style: italic','action',a.type],h.action=f('action',i.action,a),h.prev=f('prev history',i.prevState,b)):(h.header=['redux-undo action',a.type],h.action=['action',a],h.prev=['prev history',b]))},b.end=function(a){g&&(h.next=console.group?f('next history',i.nextState,a):['next history',a],e())},b.log=function(){if(g){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];h.msgs=h.msgs.concat([].concat(b,['\n']))}}},function(a,b,c){'use strict';function d(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function e(a,b,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{past:a,present:b,future:c,group:d,_latestUnfiltered:b,index:a.length,limit:a.length+c.length+1}}function f(a,b){var c=e([],a,[]);return b&&(c._latestUnfiltered=null),c}function g(a){return a.past.length+1}function h(a,b,c,f){o.log('inserting',b),o.log('new free: ',c-g(a));var h=a.past,i=a._latestUnfiltered,j=c&&g(a)>=c,k=h.slice(j?1:0),l=null==i?k:[].concat(d(k),[i]);return e(l,b,[],f)}function i(a,b){if(0>b||b>=a.future.length)return a;var c=a.past,f=a.future,g=a._latestUnfiltered,h=[].concat(d(c),[g],d(f.slice(0,b))),i=f[b],j=f.slice(b+1);return e(h,i,j)}function j(a,b){if(0>b||b>=a.past.length)return a;var c=a.past,f=a.future,g=a._latestUnfiltered,h=c.slice(0,b),i=[].concat(d(c.slice(b+1)),[g],d(f)),j=c[b];return e(h,j,i)}function k(a,b){return 0<b?i(a,b-1):0>b?j(a,a.past.length+b):a}function l(a,b){return-1<b.indexOf(a)?a:!a}Object.defineProperty(b,'__esModule',{value:!0});var m=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};b.default=function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};o.set(b.debug);var c={initTypes:(0,q.parseActions)(b.initTypes,['@@redux-undo/INIT']),limit:b.limit,filter:b.filter||function(){return!0},groupBy:b.groupBy||function(){return null},undoType:b.undoType||p.ActionTypes.UNDO,redoType:b.redoType||p.ActionTypes.REDO,jumpToPastType:b.jumpToPastType||p.ActionTypes.JUMP_TO_PAST,jumpToFutureType:b.jumpToFutureType||p.ActionTypes.JUMP_TO_FUTURE,jumpType:b.jumpType||p.ActionTypes.JUMP,clearHistoryType:Array.isArray(b.clearHistoryType)?b.clearHistoryType:[b.clearHistoryType||p.ActionTypes.CLEAR_HISTORY],neverSkipReducer:b.neverSkipReducer||!1,ignoreInitialState:b.ignoreInitialState||!1,syncFilter:b.syncFilter||!1},d=c.history;return function(){for(var b=arguments.length,g=Array(2<b?b-2:0),n=2;n<b;n++)g[n-2]=arguments[n];var r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:d,s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};o.start(s,r);var t=r;if(!d)if(o.log('history is uninitialized'),void 0===r){var u={type:p.ActionTypes.CLEAR_HISTORY},v=a.apply(void 0,[r,u].concat(g));t=f(v,c.ignoreInitialState),o.log('do not set initialState on probe actions')}else(0,q.isHistory)(r)?(t=d=c.ignoreInitialState?r:e(r.past,r.present,r.future),o.log('initialHistory initialized: initialState is a history',d)):(t=d=f(r,c.ignoreInitialState),o.log('initialHistory initialized: initialState is not a history',d));var w,x=function(b){return c.neverSkipReducer?m({},b,{present:a.apply(void 0,[b.present,s].concat(g))}):b};switch(s.type){case void 0:return t;case c.undoType:return w=k(t,-1),o.log('perform undo'),o.end(w),x(w);case c.redoType:return w=k(t,1),o.log('perform redo'),o.end(w),x(w);case c.jumpToPastType:return w=j(t,s.index),o.log('perform jumpToPast to '+s.index),o.end(w),x(w);case c.jumpToFutureType:return w=i(t,s.index),o.log('perform jumpToFuture to '+s.index),o.end(w),x(w);case c.jumpType:return w=k(t,s.index),o.log('perform jump to '+s.index),o.end(w),x(w);case l(s.type,c.clearHistoryType):return w=f(t.present),o.log('perform clearHistory'),o.end(w),x(w);default:if(w=a.apply(void 0,[t.present,s].concat(g)),c.initTypes.some(function(a){return a===s.type}))return o.log('reset history due to init action'),o.end(d),d;if(t._latestUnfiltered===w)return t;var y='function'==typeof c.filter&&!c.filter(s,w,t),z=c.groupBy(s,w,t);if(y){var A=e(t.past,w,t.future,t.group);return c.syncFilter||(A._latestUnfiltered=t._latestUnfiltered),o.log('filter ignored action, not storing it in past'),o.end(A),A}if(null!=z&&z===t.group){var B=e(t.past,w,t.future,t.group);return o.log('groupBy grouped the action with the previous action'),o.end(B),B}return t=h(t,w,c.limit,z),o.log('inserted new state into history'),o.end(t),t;}}};var n=c(3),o=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(n),p=c(0),q=c(1);a.exports=b['default']},function(a,b,c){a.exports=c(2)}])});</script><script>window.DTile=window.DTile||{},DTile.reducers={entities:{}};</script><script>var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};function _objectWithoutProperties(a,b){var c={};for(var d in a)0<=b.indexOf(d)||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}(()=>{DTile.reducers.entities.projects=(a={},b)=>{switch(b.type){case"SYNC_PROJECT":return _extends({},a,{[b.payload.projectId]:b.payload.project});case"ADD_PROJECT":return _extends({},a,{[b.payload.projectId]:{name:b.payload.name,mapIds:b.payload.mapIds||[],tilesetIds:b.payload.tilesetIds||[],meta:b.payload.meta||{}}});case"REMOVE_PROJECT":const{[b.payload.projectId]:c}=a,d=_objectWithoutProperties(a,[b.payload.projectId]);return d;case"RENAME_PROJECT":return _extends({},a,{[b.payload.projectId]:_extends({},a[b.payload.projectId],{name:b.payload.name})});case"ADD_MAP":if("undefined"==typeof b.payload.projectId)return a;const e=a[b.payload.projectId];return _extends({},a,{[b.payload.projectId]:_extends({},e,{mapIds:[...e.mapIds,b.payload.mapId]})});case"REMOVE_MAP":const f=Object.keys(a).find((c)=>a[c].mapIds.includes(parseInt(b.payload.mapId)));return _extends({},a,{[f]:_extends({},a[f],{mapIds:a[f].mapIds.filter((a)=>a!==b.payload.mapId)})});case"ADD_TILESET_TO_PROJECT":const g=a[b.payload.projectId];return g.tilesetIds.includes(b.payload.tilesetId)?a:_extends({},a,{[b.payload.projectId]:_extends({},g,{tilesetIds:[...g.tilesetIds,b.payload.tilesetId]})});case"REMOVE_TILESET_FROM_PROJECT":const h=a[b.payload.projectId];return _extends({},a,{[b.payload.projectId]:_extends({},h,{tilesetIds:h.tilesetIds.filter((a)=>a!==b.payload.tilesetId)})});default:return a;}}})();</script><script>var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};function _objectWithoutProperties(a,b){var c={};for(var d in a)0<=b.indexOf(d)||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}(()=>{const{default:a}=window.ReduxUndo;DTile.reducers.entities.maps=(a={},c)=>{switch(c.type){case"SYNC_MAP":return _extends({},a,{[c.payload.mapId]:b(void 0,c)});case"ADD_MAP":return _extends({},a,{[c.payload.mapId]:b(void 0,c)});case"REMOVE_MAP":const{[c.payload.mapId]:d}=a,e=_objectWithoutProperties(a,[c.payload.mapId]);return e;case"REPLACE":return Object.keys(a).reduce((d={},e)=>(d[e]=b({past:[],present:a[e],future:[],index:0},c),d),{});default:return c.payload&&"undefined"!=typeof c.payload.mapId?_extends({},a,{[c.payload.mapId]:b(a[c.payload.mapId],c)}):a;}};const b=a((a={},b)=>{switch(b.type){case"SYNC_MAP":return b.payload.map;case"ADD_MAP":return{name:b.payload.name,width:b.payload.width||0,height:b.payload.height||0,tileWidth:b.payload.tileWidth||0,tileHeight:b.payload.tileHeight||0,layers:c(b.payload.layers,b),objects:d(b.payload.objects,b),meta:b.payload.meta};case"RENAME_MAP":return _extends({},a,{name:b.payload.name});case"CHANGE_MAP_SIZE":return _extends({},a,{width:b.payload.width,height:b.payload.height,layers:b.payload.layers,objects:b.payload.objects});case"CHANGE_MAP_TILE_SIZE":return console.warn("changing map tile size is not implemented"),a;case"MODIFY_MAP_META":return _extends({},a,{meta:b.payload.meta});default:const e=b.type.match(/LAYER(?:(?:_META)|S)?$/),f=b.type.match(/OBJECT(?:(?:_META)|S)?$/);if(!(e||f))return a;const g=e?"layers":f?"objects":"",h="layers"==g?c:"objects"==g?d:null;return _extends({},a,{[g]:h(a[g],b,a)});}},{ignoreInitialState:!0}),c=(a=[],b,c)=>{switch(b.type){case"ADD_LAYER":const d=[];for(let a=0;a<c.width*c.height;a++)d.push({tileId:-1,tilesetId:-1});return[...a,{name:b.payload.name,tiles:d,meta:{}}];case"REMOVE_LAYER":return a.filter((a,c)=>c!==b.payload.layerIndex);case"RENAME_LAYER":return a.map((a,c)=>c===b.payload.layerIndex?_extends({},a,{name:b.payload.name}):a);case"MODIFY_TILE_LAYERS":return a.map((a,c)=>c in b.payload.layerTiles?_extends({},a,{tiles:a.tiles.map((a,d)=>b.payload.layerTiles[c][d]||a)}):a);case"MODIFY_LAYER_META":return a.map((a,c)=>b.payload.layerIndex===c?_extends({},a,{meta:b.payload.meta}):a);default:return a;}},d=(a=[],b)=>{switch(b.type){case"ADD_OBJECT":return[...a,{name:b.payload.name,x:b.payload.x||0,y:b.payload.y||0,width:1,height:1,meta:{}}];case"REMOVE_OBJECT":return a.filter((a,c)=>c!==b.payload.objectIndex);case"RENAME_OBJECT":return a.map((a,c)=>c===b.payload.objectIndex?_extends({},a,{name:b.payload.name}):a);case"SET_BOUNDS_FOR_OBJECT":return a.map((a,c)=>{if(b.payload.objectIndex!==c)return a;const d="x"in b.payload?b.payload.x:a.x,e="y"in b.payload?b.payload.y:a.y,f="width"in b.payload?b.payload.width:a.width,g="height"in b.payload?b.payload.height:a.height;return _extends({},a,{x:d,y:e,width:f,height:g})});case"MODIFY_OBJECT_META":return a.map((a,c)=>b.payload.objectIndex===c?_extends({},a,{meta:b.payload.meta}):a);default:return a;}}})();</script><script>var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};function _objectWithoutProperties(a,b){var c={};for(var d in a)0<=b.indexOf(d)||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}(()=>{DTile.reducers.entities.tilesets=(a={},b)=>{switch(b.type){case"SYNC_TILESET":return _extends({},a,{[b.payload.tilesetId]:b.payload.tileset});case"IMPORT_TILESET":return _extends({},a,{[b.payload.tilesetId]:{name:b.payload.name,tilesetType:b.payload.tilesetType,tileWidth:b.payload.tileWidth,tileHeight:b.payload.tileHeight,url:b.payload.url,imageId:b.payload.imageId,meta:b.payload.meta,tileMeta:b.payload.tileMeta||{}}});case"REMOVE_TILESET":const{[b.payload.tilesetId]:c}=a,d=_objectWithoutProperties(a,[b.payload.tilesetId]);return d;case"RENAME_TILESET":return _extends({},a,{[b.payload.tilesetId]:_extends({},a[b.payload.tilesetId],{name:b.payload.name})});case"MODIFY_TILESET_META":return _extends({},a,{[b.payload.tilesetId]:_extends({},a[b.payload.tilesetId],{meta:b.payload.meta})});case"MODIFY_TILESET_TILE_META":const e=_extends({},a[b.payload.tilesetId].tileMeta);return b.payload.tileIds.forEach((a)=>{e[`${a}`]=_extends({},b.payload.meta)}),_extends({},a,{[b.payload.tilesetId]:_extends({},a[b.payload.tilesetId],{tileMeta:e})});default:return a;}}})();</script><script>var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};(()=>{function a(a){return a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()}DTile.reducers.ui=(b={},c)=>{switch(c.type){case"SYNC_UI":return c.payload.ui;case"SET_CURRENT_PAGE":let d=b;{const b=Object.keys(c.payload).filter((a)=>a.endsWith("Id"));let e=_extends({},d,{currentPage:c.payload.page});for(let d of b){const b=`current${a(d.match(/(\w+?)Id/)[1])}Id`;e=_extends({},e,{[b]:c.payload[d]})}return e}case"SET_CURRENT_LAYER_INDEX":return _extends({},b,{currentLayerIndex:c.payload});case"SET_MAP_SELECTION":return _extends({},b,{mapSelection:c.payload});case"SET_TILESET_SELECTION":return _extends({},b,{tilesetSelection:c.payload});case"SET_CURRENT_TILE_AREA":return _extends({},b,{currentTileArea:c.payload});case"OPEN_TAB":return _extends({},b,{openTabs:[...(b.openTabs||[]),{type:c.payload.type,id:c.payload.id}]});case"CLOSE_TAB":return _extends({},b,{openTabs:b.openTabs.filter((a,b)=>b!==c.payload)});case"SET_CURRENT_MAP_ID":return _extends({},b,{currentMapId:c.payload,mapSelection:[],currentLayerIndex:0});case"SET_CURRENT_PROJECT_ID":return _extends({},b,{currentProjectId:c.payload,currentTilesetId:-1,tilesetSelection:[]});case"SET_CURRENT_TILESET_ID":return _extends({},b,{currentTilesetId:c.payload,tilesetSelection:[]});default:const e=c.type.match(/SET_CURRENT_([A-Z]+?)_ID/);if(e){const d=a(e[1]);return _extends({},b,{[`current${d}Id`]:c.payload})}return b;}}})();</script><script>(()=>{const a=(a)=>(b={},c)=>"REPLACE"===c.type?a(c.payload,c):a(b,c);DTile.createStore=()=>{const{createStore:b,combineReducers:c}=window.Redux,d=a(c({entities:c(DTile.reducers.entities),ui:DTile.reducers.ui}));DTile.store=b(d,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),DTile.ReduxMixin=(a)=>window.PolymerRedux(DTile.store)(class extends a{static get actions(){return{setCurrentPage:(a)=>({type:"SET_CURRENT_PAGE",payload:a}),setCurrentProjectId:(a)=>({type:"SET_CURRENT_PROJECT_ID",payload:a}),setCurrentMapId:(a)=>({type:"SET_CURRENT_MAP_ID",payload:a})}}})},DTile.createStore()})();</script><dom-module id="paper-item-body" assetpath="bower_components/paper-item/"><template><style>:host{overflow:hidden;@apply --layout-vertical;@apply --layout-center-justified;@apply --layout-flex;}:host([two-line]){min-height:var(--paper-item-body-two-line-min-height,72px)}:host([three-line]){min-height:var(--paper-item-body-three-line-min-height,88px)}:host>::slotted(*){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host>::slotted([secondary]){@apply --paper-font-body1;color:var(--paper-item-body-secondary-color,var(--secondary-text-color));@apply --paper-item-body-secondary;}</style><slot></slot></template><script>Polymer({is:'paper-item-body'});</script></dom-module><dom-module id="paper-icon-item" assetpath="bower_components/paper-item/"><template><style include="paper-item-shared-styles"></style><style>:host{@apply --layout-horizontal;@apply --layout-center;@apply --paper-font-subhead;@apply --paper-item;@apply --paper-icon-item;}.content-icon{@apply --layout-horizontal;@apply --layout-center;width:var(--paper-item-icon-width,56px);@apply --paper-item-icon;}</style><div id="contentIcon" class="content-icon"><slot name="item-icon"></slot></div><slot></slot></template><script>Polymer({is:'paper-icon-item',behaviors:[Polymer.PaperItemBehavior]});</script></dom-module><script>var b8939=function(a){"use strict";class b extends HTMLElement{constructor(a={noShadow:!1,content:""}){super(),this.usesShadow=!a.noShadow,this.usesShadyCSS=this.usesShadow&&window.ShadyCSS,this.root=this,this._initProperties(),this._initContent(a.content)}_initProperties(){const a=this.constructor._getDefaultedProperties();this._propertyTypes=new Map([...a.bool.map((a)=>[a,"bool"]),...a.string.map((a)=>[a,"string"]),...a.number.map((a)=>[a,"number"])]),this._propertyTypes.forEach((a,b)=>{const d=c(b);Object.defineProperty(this,d,{get(){return this[`__${d}`]},set(a){const c=this[`__${d}`];this._setProperty(b,c,a)},enumerable:!0})})}_initContent(a=`#${this.elementName}`){let b;if(a.match(/^[.|#]/))b=this._getTemplate(a);else{const c=document.createElement("template");c.innerHTML=a,b=c}const c=b.cloneNode(!0);this.usesShadyCSS&&window.ShadyCSS.prepareTemplate(c,this.elementName),this._instance=c.content.cloneNode(!0),this.usesShadyCSS&&window.ShadyCSS.styleElement(this._instance),this.usesShadow&&(this.root=this.attachShadow({mode:"open"})),this.root.appendChild(this._instance),this.contentReady&&this.contentReady()}_getTemplate(a){const b=(c)=>{const d=c.querySelector(a);if(d)return d;for(const a of c.querySelectorAll("link[rel=import]")){if(null===a.import)return;const c=b(a.import);if(c)return c}};return b(document)}static get observedAttributes(){const a=this._getDefaultedProperties();return[...a.bool,...a.string,...a.number]}static get elementName(){throw new TypeError("Element is missing an element name declaration")}get elementName(){return this.constructor.elementName}static init(){customElements.define(this.elementName,this)}static restyle(){this.usesShadyCSS&&window.ShadyCSS.styleDocument()}static _getDefaultedProperties(){const a=this.propertyAttributes||{};return a.bool=a.bool||[],a.string=a.string||[],a.number=a.number||[],a}attributeChangedCallback(a,b,c){const d=this._propertyTypes.get(a);"bool"===d&&(c=c||this.hasAttribute(a)),this._setProperty(a,b,c)}restyleLocal(){this.usesShadyCSS&&window.ShadyCSS.styleSubtree(this._instance)}fire(a,b){this.dispatchEvent(new CustomEvent(a,{detail:b}))}_setProperty(a,b,d){if(!this._setPropertyListenerDisabled){const e=this._propertyTypes.get(a),f=c(a);"bool"===e?(b=!!b,d=!!d):"string"===e?d=`${d}`:"number"===e&&(d=parseFloat(d)),"number"==typeof d||d?"bool"===e?!this.hasAttribute(a)&&(this._setPropertyListenerDisabled=!0,this.setAttribute(a,""),this._setPropertyListenerDisabled=!1):this.getAttribute(a)!==d&&(this._setPropertyListenerDisabled=!0,this.setAttribute(a,d),this._setPropertyListenerDisabled=!1):(this._setPropertyListenerDisabled=!0,this.removeAttribute(a),this._setPropertyListenerDisabled=!1),this[`__${f}`]=d,"function"==typeof this.propertySet&&this.propertySet(a,b,d)}}}window.MagnonElement=b;const c=(a)=>a.replace(/-([a-zA-Z0-9])/g,(a,b)=>b.toUpperCase());var d=((a)=>a instanceof Array?a[0]:a)`
<div id="container">
    <svg id="icon" viewbox="0 0 50 50" aria-hidden="true">
        <path d="M36.672 13.25a13.558 13.558 0 0 0-9.714-3.903 17.777 14.18 44.67 0 1 8.695 5.23 17.777 14.18 44.67 0 1 5.016 7.729 13.558 13.558 0 0 0-3.997-9.056z" />
        <path d="M14.474 8.417a17.293 17.293 0 0 0-3.527 24.2 17.293 17.293 0 0 0 12.596 6.9 16.809 16.809 0 0 1-9.955-6.367 16.809 16.809 0 0 1 3.428-23.522 16.809 16.809 0 0 1 17.825-1.41 17.293 17.293 0 0 0-20.367.199z" />
        <path d="M10.845 39.491a19.467 19.467 0 0 0 25.893 1.112 23.869 24.847 44.226 0 1-25.871-4.64A23.869 24.847 44.226 0 1 5 26.416a19.467 19.467 0 0 0 5.845 13.075z" />
    </svg>

    <svg id="text" viewbox="0 0 130 50" role="img" aria-label="Magnon">
        <title>Magnon</title>

        <path d="M6 7.75v25" />
        <path d="M6.119 8.231l11.16 20.773h.443L28.88 8.23" />
        <path d="M29 7.745v25" />
        <path d="M48 25a6.5 6.5 0 0 1-6.5 6.5A6.5 6.5 0 0 1 35 25a6.5 6.5 0 0 1 6.5-6.5A6.5 6.5 0 0 1 48 25z" />
        <path d="M48 17.5v15" />
        <path d="M67 25a6.5 6.5 0 0 1-6.5 6.5A6.5 6.5 0 0 1 54 25a6.5 6.5 0 0 1 6.5-6.5A6.5 6.5 0 0 1 67 25z" />
        <path d="M67 17.75v17a6.25 6.25 0 0 1-12.5 0" />
        <path d="M73 17.75v15" />
        <path d="M73 25.484c0-3.731 2.91-6.756 6.5-6.756s6.5 3.025 6.5 6.756v7.266" />
        <path d="M105 25a6.5 6.5 0 0 1-6.5 6.5A6.5 6.5 0 0 1 92 25a6.5 6.5 0 0 1 6.5-6.5A6.5 6.5 0 0 1 105 25z" />
        <path d="M111 17.75v15" />
        <path d="M111 25.484c0-3.731 2.91-6.756 6.5-6.756s6.5 3.025 6.5 6.756v7.266" />
    </svg>
</div>
`,e=((a)=>`<style>${a instanceof Array?a[0]:a}</style>`)`
:host {
    display: inline-block;
    min-height: 30px;
    height: 50px;
}

#container {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100%;
    width: 100%;
    font-size: 0;
}

#icon {
    height: 100%;

    fill: var(--magnon-logo-color, white);
    stroke: none;

    transition: transform 0.7s ease;
    transform-origin: 50% 50%;
}

#icon > path {
    transition: opacity 0.9s;
}

#text {
    height: 100%;

    fill: none;
    stroke: var(--magnon-logo-color, white);
    stroke-width: 2;
}

#text > path {
    transition: stroke-dashoffset 0.7s;
}
`;class f extends b{constructor(){super({content:d+e})}static get elementName(){return"magnon-logo"}contentReady(){this._icon=this.root.querySelector("#icon"),this._text=this.root.querySelector("#text"),this._iconPaths=this._icon.querySelectorAll("path"),this._textPaths=this._text.querySelectorAll("path"),this._animating=!1}get animating(){return this._animating}connectedCallback(){this.hasAttribute("animate")&&this.animateIn()}animateIn(a){this._animate("in",a)}animateOut(a){this._animate("out",a)}_animate(a,b){this._animating=!0;const c="in"===a;this._textPaths.forEach((a,d)=>{a.style.transition="none";const e=a.getTotalLength();a.style.strokeDasharray=e,a.style.strokeDashoffset=c?e:0,setTimeout(()=>{a.style.transition="",a.style.strokeDashoffset=c?0:e,d===this._textPaths.length-1&&(this._animating=!1,"function"==typeof b&&a.addEventListener("transitionend",()=>b()))},50*d+50)});const d="80deg";this._icon.style.transition="none",this._icon.style.transform=c?`rotate(${d})`:"rotate(0)",setTimeout(()=>{this._icon.style.transition="",this._icon.style.transform=c?"rotate(0)":`rotate(-${d})`},50);for(let d=0;d<this._iconPaths.length;d++){const a=this._iconPaths[c?d:-(d-this._iconPaths.length)-1];a.style.transition="none",a.style.opacity=c?0:1,setTimeout(()=>{a.style.transition="",a.style.opacity=c?1:0},200*d+50)}}}return f.init(),a.MagnonLogo=f,a}({});</script><dom-module id="dtile-shell-main-drawer" assetpath="src/dtile-shell/"><template><style>:host{display:flex;flex-direction:column;height:100%}*{color:var(--primary-text-color)}header{display:flex;flex-direction:column;align-items:left;height:125px}header>img{height:64px;border-radius:50%;background:#fff;@apply --shadow-elevation-8dp;margin:15px}header>.spacer{flex-grow:1}header>.user{margin:5px 15px;font-weight:700}hr{width:100%;height:0;border:none;border-top:1px solid rgba(255,255,255,.2)}h3{margin-left:15px}footer{flex-grow:1;display:flex;flex-direction:column;justify-content:flex-end;align-items:center;padding:20px}footer magnon-logo{margin-top:15px}</style><header><img src="../../img/icon/icon.svg"> <span class="spacer"></span> <span class="user">DTile</span></header><hr><nav><paper-icon-item on-tap="navigate" path="projects"><iron-icon icon="view-list" slot="item-icon"></iron-icon>All projects</paper-icon-item><template is="dom-if" if="[[project]]"><hr><h3>[[project.name]]</h3><paper-icon-item on-tap="navigate" path="project"><iron-icon icon="dashboard" slot="item-icon"></iron-icon>Home</paper-icon-item></template><template is="dom-if" if="[[map]]"><hr><h3>[[map.name]]</h3><paper-icon-item on-tap="openMapExporter"><iron-icon icon="file-download" slot="item-icon"></iron-icon>Export</paper-icon-item></template></nav><footer>DTile is made by <a href="https://magnon.net" target="_blank"><magnon-logo></magnon-logo></a></footer></template></dom-module><script>class DTileShellMainDrawer extends DTile.ReduxMixin(Polymer.Element){static get is(){return"dtile-shell-main-drawer"}static get properties(){return{project:{type:Object,statePath(a){return"projects"===a.ui.currentPage?null:a.entities.projects[a.ui.currentProjectId]}},map:{type:Object,statePath(a){if("edit-map"!==a.ui.currentPage)return null;const b=a.entities.maps[a.ui.currentMapId];return b?b.present:null}}}}navigate(a){this.dispatch("setCurrentPage",{page:a.target.getAttribute("path")})}openMapExporter(){window.dispatchEvent(new CustomEvent("dtile-map-export-request",{bubbles:!0})),this.close()}close(){this.dispatchEvent(new CustomEvent("dtile-drawer-close"))}}customElements.define(DTileShellMainDrawer.is,DTileShellMainDrawer);</script><script>Polymer.PaperSpinnerBehavior={properties:{active:{type:Boolean,value:!1,reflectToAttribute:!0,observer:'__activeChanged'},alt:{type:String,value:'loading',observer:'__altChanged'},__coolingDown:{type:Boolean,value:!1}},__computeContainerClasses:function(a,b){return[a||b?'active':'',b?'cooldown':''].join(' ')},__activeChanged:function(a,b){this.__setAriaHidden(!a),this.__coolingDown=!a&&b},__altChanged:function(a){'loading'===a?this.alt=this.getAttribute('aria-label')||a:(this.__setAriaHidden(''==a),this.setAttribute('aria-label',a))},__setAriaHidden:function(a){var b='aria-hidden';a?this.setAttribute(b,'true'):this.removeAttribute(b)},__reset:function(){this.active=!1,this.__coolingDown=!1}};</script><dom-module id="paper-spinner-styles" assetpath="bower_components/paper-spinner/"><template><style>:host{display:inline-block;position:relative;width:28px;height:28px;--paper-spinner-container-rotation-duration:1568ms;--paper-spinner-expand-contract-duration:1333ms;--paper-spinner-full-cycle-duration:5332ms;--paper-spinner-cooldown-duration:400ms}#spinnerContainer{width:100%;height:100%;direction:ltr}#spinnerContainer.active{-webkit-animation:container-rotate var(--paper-spinner-container-rotation-duration) linear infinite;animation:container-rotate var(--paper-spinner-container-rotation-duration) linear infinite}@-webkit-keyframes container-rotate{to{-webkit-transform:rotate(360deg)}}@keyframes container-rotate{to{transform:rotate(360deg)}}.spinner-layer{position:absolute;width:100%;height:100%;opacity:0;white-space:nowrap;color:var(--paper-spinner-color,var(--google-blue-500))}.layer-1{color:var(--paper-spinner-layer-1-color,var(--google-blue-500))}.layer-2{color:var(--paper-spinner-layer-2-color,var(--google-red-500))}.layer-3{color:var(--paper-spinner-layer-3-color,var(--google-yellow-500))}.layer-4{color:var(--paper-spinner-layer-4-color,var(--google-green-500))}.active .spinner-layer{-webkit-animation-name:fill-unfill-rotate;-webkit-animation-duration:var(--paper-spinner-full-cycle-duration);-webkit-animation-timing-function:cubic-bezier(.4,0,.2,1);-webkit-animation-iteration-count:infinite;animation-name:fill-unfill-rotate;animation-duration:var(--paper-spinner-full-cycle-duration);animation-timing-function:cubic-bezier(.4,0,.2,1);animation-iteration-count:infinite;opacity:1}.active .spinner-layer.layer-1{-webkit-animation-name:fill-unfill-rotate,layer-1-fade-in-out;animation-name:fill-unfill-rotate,layer-1-fade-in-out}.active .spinner-layer.layer-2{-webkit-animation-name:fill-unfill-rotate,layer-2-fade-in-out;animation-name:fill-unfill-rotate,layer-2-fade-in-out}.active .spinner-layer.layer-3{-webkit-animation-name:fill-unfill-rotate,layer-3-fade-in-out;animation-name:fill-unfill-rotate,layer-3-fade-in-out}.active .spinner-layer.layer-4{-webkit-animation-name:fill-unfill-rotate,layer-4-fade-in-out;animation-name:fill-unfill-rotate,layer-4-fade-in-out}@-webkit-keyframes fill-unfill-rotate{12.5%{-webkit-transform:rotate(135deg)}25%{-webkit-transform:rotate(270deg)}37.5%{-webkit-transform:rotate(405deg)}50%{-webkit-transform:rotate(540deg)}62.5%{-webkit-transform:rotate(675deg)}75%{-webkit-transform:rotate(810deg)}87.5%{-webkit-transform:rotate(945deg)}to{-webkit-transform:rotate(1080deg)}}@keyframes fill-unfill-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}to{transform:rotate(1080deg)}}@-webkit-keyframes layer-1-fade-in-out{0%{opacity:1}25%{opacity:1}26%{opacity:0}89%{opacity:0}90%{opacity:1}to{opacity:1}}@keyframes layer-1-fade-in-out{0%{opacity:1}25%{opacity:1}26%{opacity:0}89%{opacity:0}90%{opacity:1}to{opacity:1}}@-webkit-keyframes layer-2-fade-in-out{0%{opacity:0}15%{opacity:0}25%{opacity:1}50%{opacity:1}51%{opacity:0}to{opacity:0}}@keyframes layer-2-fade-in-out{0%{opacity:0}15%{opacity:0}25%{opacity:1}50%{opacity:1}51%{opacity:0}to{opacity:0}}@-webkit-keyframes layer-3-fade-in-out{0%{opacity:0}40%{opacity:0}50%{opacity:1}75%{opacity:1}76%{opacity:0}to{opacity:0}}@keyframes layer-3-fade-in-out{0%{opacity:0}40%{opacity:0}50%{opacity:1}75%{opacity:1}76%{opacity:0}to{opacity:0}}@-webkit-keyframes layer-4-fade-in-out{0%{opacity:0}65%{opacity:0}75%{opacity:1}90%{opacity:1}to{opacity:0}}@keyframes layer-4-fade-in-out{0%{opacity:0}65%{opacity:0}75%{opacity:1}90%{opacity:1}to{opacity:0}}.circle-clipper{display:inline-block;position:relative;width:50%;height:100%;overflow:hidden}.spinner-layer::after{left:45%;width:10%;border-top-style:solid}.circle-clipper::after,.spinner-layer::after{content:'';box-sizing:border-box;position:absolute;top:0;border-width:var(--paper-spinner-stroke-width,3px);border-radius:50%}.circle-clipper::after{bottom:0;width:200%;border-style:solid;border-bottom-color:transparent!important}.circle-clipper.left::after{left:0;border-right-color:transparent!important;-webkit-transform:rotate(129deg);transform:rotate(129deg)}.circle-clipper.right::after{left:-100%;border-left-color:transparent!important;-webkit-transform:rotate(-129deg);transform:rotate(-129deg)}.active .circle-clipper::after,.active .gap-patch::after{-webkit-animation-duration:var(--paper-spinner-expand-contract-duration);-webkit-animation-timing-function:cubic-bezier(.4,0,.2,1);-webkit-animation-iteration-count:infinite;animation-duration:var(--paper-spinner-expand-contract-duration);animation-timing-function:cubic-bezier(.4,0,.2,1);animation-iteration-count:infinite}.active .circle-clipper.left::after{-webkit-animation-name:left-spin;animation-name:left-spin}.active .circle-clipper.right::after{-webkit-animation-name:right-spin;animation-name:right-spin}@-webkit-keyframes left-spin{0%{-webkit-transform:rotate(130deg)}50%{-webkit-transform:rotate(-5deg)}to{-webkit-transform:rotate(130deg)}}@keyframes left-spin{0%{transform:rotate(130deg)}50%{transform:rotate(-5deg)}to{transform:rotate(130deg)}}@-webkit-keyframes right-spin{0%{-webkit-transform:rotate(-130deg)}50%{-webkit-transform:rotate(5deg)}to{-webkit-transform:rotate(-130deg)}}@keyframes right-spin{0%{transform:rotate(-130deg)}50%{transform:rotate(5deg)}to{transform:rotate(-130deg)}}#spinnerContainer.cooldown{-webkit-animation:container-rotate var(--paper-spinner-container-rotation-duration) linear infinite,fade-out var(--paper-spinner-cooldown-duration) cubic-bezier(.4,0,.2,1);animation:container-rotate var(--paper-spinner-container-rotation-duration) linear infinite,fade-out var(--paper-spinner-cooldown-duration) cubic-bezier(.4,0,.2,1)}@-webkit-keyframes fade-out{0%{opacity:1}to{opacity:0}}@keyframes fade-out{0%{opacity:1}to{opacity:0}}</style></template></dom-module><dom-module id="paper-spinner-lite" assetpath="bower_components/paper-spinner/"><template strip-whitespace=""><style include="paper-spinner-styles"></style><div id="spinnerContainer" class-name="[[__computeContainerClasses(active, __coolingDown)]]" on-animationend="__reset" on-webkit-animation-end="__reset"><div class="spinner-layer"><div class="circle-clipper left"></div><div class="circle-clipper right"></div></div></div></template><script>Polymer({is:'paper-spinner-lite',behaviors:[Polymer.PaperSpinnerBehavior]});</script></dom-module><dom-module id="paper-toast" assetpath="bower_components/paper-toast/"><template><style>:host{display:block;position:fixed;background-color:var(--paper-toast-background-color,#323232);color:var(--paper-toast-color,#f1f1f1);min-height:48px;min-width:288px;padding:16px 24px;box-sizing:border-box;box-shadow:0 2px 5px 0 rgba(0,0,0,.26);border-radius:2px;margin:12px;font-size:14px;cursor:default;-webkit-transition:-webkit-transform .3s,opacity .3s;transition:transform .3s,opacity .3s;opacity:0;-webkit-transform:translateY(100px);transform:translateY(100px);@apply --paper-font-common-base;}:host(.capsule){border-radius:24px}:host(.fit-bottom){width:100%;min-width:0;border-radius:0;margin:0}:host(.paper-toast-open){opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}</style><span id="label">{{text}}</span><slot></slot></template><script>(function(){'use strict';var a=null;Polymer({is:'paper-toast',behaviors:[Polymer.IronOverlayBehavior],properties:{fitInto:{type:Object,value:window,observer:'_onFitIntoChanged'},horizontalAlign:{type:String,value:'left'},verticalAlign:{type:String,value:'bottom'},duration:{type:Number,value:3e3},text:{type:String,value:''},noCancelOnOutsideClick:{type:Boolean,value:!0},noAutoFocus:{type:Boolean,value:!0}},listeners:{transitionend:'__onTransitionEnd'},get visible(){return Polymer.Base._warn('`visible` is deprecated, use `opened` instead'),this.opened},get _canAutoClose(){return 0<this.duration&&this.duration!==Infinity},created:function(){this._autoClose=null,Polymer.IronA11yAnnouncer.requestAvailability()},show:function(a){for(var b in'string'==typeof a&&(a={text:a}),a)0===b.indexOf('_')?Polymer.Base._warn('The property "'+b+'" is private and was not set.'):b in this?this[b]=a[b]:Polymer.Base._warn('The property "'+b+'" is not valid.');this.open()},hide:function(){this.close()},__onTransitionEnd:function(a){a&&a.target===this&&'opacity'===a.propertyName&&(this.opened?this._finishRenderOpened():this._finishRenderClosed())},_openedChanged:function(){null!==this._autoClose&&(this.cancelAsync(this._autoClose),this._autoClose=null),this.opened?(a&&a!==this&&a.close(),a=this,this.fire('iron-announce',{text:this.text}),this._canAutoClose&&(this._autoClose=this.async(this.close,this.duration))):a===this&&(a=null),Polymer.IronOverlayBehaviorImpl._openedChanged.apply(this,arguments)},_renderOpened:function(){this.classList.add('paper-toast-open')},_renderClosed:function(){this.classList.remove('paper-toast-open')},_onFitIntoChanged:function(a){this.positionTarget=a}})})();</script></dom-module><script>(function(){'use strict';Polymer.PaperDialogBehaviorImpl={hostAttributes:{role:'dialog',tabindex:'-1'},properties:{modal:{type:Boolean,value:!1},__readied:{type:Boolean,value:!1}},observers:['_modalChanged(modal, __readied)'],listeners:{tap:'_onDialogClick'},ready:function(){this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick,this.__prevNoCancelOnEscKey=this.noCancelOnEscKey,this.__prevWithBackdrop=this.withBackdrop,this.__readied=!0},_modalChanged:function(a,b){b&&(a?(this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick,this.__prevNoCancelOnEscKey=this.noCancelOnEscKey,this.__prevWithBackdrop=this.withBackdrop,this.noCancelOnOutsideClick=!0,this.noCancelOnEscKey=!0,this.withBackdrop=!0):(this.noCancelOnOutsideClick=this.noCancelOnOutsideClick&&this.__prevNoCancelOnOutsideClick,this.noCancelOnEscKey=this.noCancelOnEscKey&&this.__prevNoCancelOnEscKey,this.withBackdrop=this.withBackdrop&&this.__prevWithBackdrop))},_updateClosingReasonConfirmed:function(a){this.closingReason=this.closingReason||{},this.closingReason.confirmed=a},_onDialogClick:function(a){for(var b,c=Polymer.dom(a).path,d=0,e=c.indexOf(this);d<e;d++)if(b=c[d],b.hasAttribute&&(b.hasAttribute('dialog-dismiss')||b.hasAttribute('dialog-confirm'))){this._updateClosingReasonConfirmed(b.hasAttribute('dialog-confirm')),this.close(),a.stopPropagation();break}}},Polymer.PaperDialogBehavior=[Polymer.IronOverlayBehavior,Polymer.PaperDialogBehaviorImpl]})();</script><dom-module id="paper-dialog-shared-styles" assetpath="bower_components/paper-dialog-behavior/"><template><style>:host{display:block;margin:24px 40px;background:var(--paper-dialog-background-color,var(--primary-background-color));color:var(--paper-dialog-color,var(--primary-text-color));@apply --paper-font-body1;@apply --shadow-elevation-16dp;@apply --paper-dialog;}:host>::slotted(*){margin-top:20px;padding:0 24px}:host>::slotted(.no-padding){padding:0}:host>::slotted(:first-child){margin-top:24px}:host>::slotted(:last-child){margin-bottom:24px}:host>::slotted(h2){position:relative;margin:0;@apply --paper-font-title;@apply --paper-dialog-title;}:host>::slotted(h2:first-child){margin-top:24px;@apply --paper-dialog-title;}:host>::slotted(h2:last-child){margin-bottom:24px;@apply --paper-dialog-title;}:host>::slotted(.buttons),:host>::slotted(.paper-dialog-buttons){position:relative;padding:8px 8px 8px 24px;margin:0;color:var(--paper-dialog-button-color,var(--primary-color));@apply --layout-horizontal;@apply --layout-end-justified;}</style></template></dom-module><dom-module id="paper-dialog" assetpath="bower_components/paper-dialog/"><template><style include="paper-dialog-shared-styles"></style><slot></slot></template></dom-module><script>Polymer({is:'paper-dialog',behaviors:[Polymer.PaperDialogBehavior,Polymer.NeonAnimationRunnerBehavior],listeners:{"neon-animation-finish":'_onNeonAnimationFinish'},_renderOpened:function(){this.cancelAnimation(),this.playAnimation('entry')},_renderClosed:function(){this.cancelAnimation(),this.playAnimation('exit')},_onNeonAnimationFinish:function(){this.opened?this._finishRenderOpened():this._finishRenderClosed()}});</script><dom-module id="dtile-shell-status-indicator" assetpath="src/dtile-shell/"><template><style>div{width:40px;height:40px;display:block;position:relative}div>*{position:absolute;top:0;left:0;transition:opacity .3s}#spinner{--paper-spinner-color:white;width:24px;height:24px;padding:8px}#icon{cursor:default}a{color:#fff!important}#failed-toast paper-button{color:var(--paper-red-300)}</style><div><paper-spinner-lite id="spinner" active=""></paper-spinner-lite><paper-icon-button id="icon" icon="check" on-tap="_showFailedInfo" title$="[[_getStatusMessage(status)]]"></paper-icon-button></div><paper-toast id="failed-toast" text="Oops. Something went wrong." duration="0"><paper-button on-tap="_showFailedInfo">Show more</paper-button></paper-toast><paper-dialog id="error-dialog"><h2>An error occured</h2><span>An unexpected error occured within DTile. Please report this on the <a href$="[[_getDTileIssuesLink(failedMessage)]]" target="_blank">DTile GitHub issues page </a>.</span><pre>[[failedMessage]]</pre></paper-dialog></template></dom-module><script>class DTileShellStatusIndicator extends Polymer.Element{static get is(){return"dtile-shell-status-indicator"}static get properties(){return{status:{type:String,value:"none"},failedMessage:String}}static get observers(){return["_updateStatus(status)"]}_updateStatus(a){"none"===a?(this.$.spinner.style.opacity=0,this.$.icon.style.opacity=0):"activity"===a?(this.$.spinner.style.opacity=1,this.$.icon.style.opacity=0):"done"===a?(this.$.spinner.style.opacity=0,this.$.icon.style.opacity=1,this.$.icon.icon="check"):"failed"===a&&(this.$.spinner.style.opacity=0,this.$.icon.style.opacity=1,this.$.icon.icon="warning",this.$["failed-toast"].open())}_showFailedInfo(){this.failedMessage&&(this.$["failed-toast"].close(),this.$["error-dialog"].open())}_getStatusMessage(a){if("done"===a)return"All changes saved";return"failed"===a?"An error occured, click for more info":void 0}_getDTileIssuesLink(a){return`https://github.com/theMagnon/DTile/issues/new?body="${a}"`}}customElements.define(DTileShellStatusIndicator.is,DTileShellStatusIndicator);</script><script>Polymer.IronMenubarBehaviorImpl={hostAttributes:{role:'menubar'},keyBindings:{left:'_onLeftKey',right:'_onRightKey'},_onUpKey:function(a){this.focusedItem.click(),a.detail.keyboardEvent.preventDefault()},_onDownKey:function(a){this.focusedItem.click(),a.detail.keyboardEvent.preventDefault()},get _isRTL(){return'rtl'===window.getComputedStyle(this).direction},_onLeftKey:function(a){this._isRTL?this._focusNext():this._focusPrevious(),a.detail.keyboardEvent.preventDefault()},_onRightKey:function(a){this._isRTL?this._focusPrevious():this._focusNext(),a.detail.keyboardEvent.preventDefault()},_onKeydown:function(a){this.keyboardEventMatchesKeys(a,'up down left right esc')||this._focusWithKeyboardEvent(a)}},Polymer.IronMenubarBehavior=[Polymer.IronMenuBehavior,Polymer.IronMenubarBehaviorImpl];</script><iron-iconset-svg name="paper-tabs" size="24"><svg><defs><g id="chevron-left"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></g><g id="chevron-right"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></g></defs></svg></iron-iconset-svg><dom-module id="paper-tab" assetpath="bower_components/paper-tabs/"><template><style>:host{@apply --layout-inline;@apply --layout-center;@apply --layout-center-justified;@apply --layout-flex-auto;position:relative;padding:0 12px;overflow:hidden;cursor:pointer;vertical-align:middle;@apply --paper-font-common-base;@apply --paper-tab;}:host(:focus){outline:0}:host([link]){padding:0}.tab-content{height:100%;transform:translateZ(0);-webkit-transform:translateZ(0);transition:opacity .1s cubic-bezier(.4,0,1,1);@apply --layout-horizontal;@apply --layout-center-center;@apply --layout-flex-auto;@apply --paper-tab-content;}:host(:not(.iron-selected))>.tab-content{opacity:.8;@apply --paper-tab-content-unselected;}:host(:focus) .tab-content{opacity:1;font-weight:700}paper-ripple{color:var(--paper-tab-ink,var(--paper-yellow-a100))}.tab-content>::slotted(a){@apply --layout-flex-auto;height:100%}</style><div class="tab-content"><slot></slot></div></template><script>Polymer({is:'paper-tab',behaviors:[Polymer.IronControlState,Polymer.IronButtonState,Polymer.PaperRippleBehavior],properties:{link:{type:Boolean,value:!1,reflectToAttribute:!0}},hostAttributes:{role:'tab'},listeners:{down:'_updateNoink',tap:'_onTap'},attached:function(){this._updateNoink()},get _parentNoink(){var a=Polymer.dom(this).parentNode;return!!a&&!!a.noink},_updateNoink:function(){this.noink=!!this.noink||!!this._parentNoink},_onTap:function(a){if(this.link){var b=this.queryEffectiveChildren('a');if(!b)return;if(a.target===b)return;b.click()}}});</script></dom-module><dom-module id="paper-tabs" assetpath="bower_components/paper-tabs/"><template><style>:host{@apply --layout;@apply --layout-center;height:48px;font-size:14px;font-weight:500;overflow:hidden;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;-webkit-tap-highlight-color:transparent;@apply --paper-tabs;}:host(:dir(rtl)){@apply --layout-horizontal-reverse;}#tabsContainer{position:relative;height:100%;white-space:nowrap;overflow:hidden;@apply --layout-flex-auto;@apply --paper-tabs-container;}#tabsContent{height:100%;-moz-flex-basis:auto;-ms-flex-basis:auto;flex-basis:auto;@apply --paper-tabs-content;}#tabsContent.scrollable{position:absolute;white-space:nowrap}#tabsContent.scrollable.fit-container,#tabsContent:not(.scrollable){@apply --layout-horizontal;}#tabsContent.scrollable.fit-container{min-width:100%}#tabsContent.scrollable.fit-container>::slotted(*){-ms-flex:1 0 auto;-webkit-flex:1 0 auto;flex:1 0 auto}.hidden{display:none}.not-visible{opacity:0;cursor:default}paper-icon-button{width:48px;height:48px;padding:12px;margin:0 4px}#selectionBar{position:absolute;height:0;bottom:0;left:0;right:0;border-bottom:2px solid var(--paper-tabs-selection-bar-color,var(--paper-yellow-a100));-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:left center;transform-origin:left center;transition:-webkit-transform;transition:transform;@apply --paper-tabs-selection-bar;}#selectionBar.align-bottom{top:0;bottom:auto}#selectionBar.expand{transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,1,1)}#selectionBar.contract{transition-duration:.18s;transition-timing-function:cubic-bezier(0,0,.2,1)}#tabsContent>::slotted(:not(#selectionBar)){height:100%}</style><paper-icon-button icon="paper-tabs:chevron-left" class$="[[_computeScrollButtonClass(_leftHidden, scrollable, hideScrollButtons)]]" on-up="_onScrollButtonUp" on-down="_onLeftScrollButtonDown" tabindex="-1"></paper-icon-button><div id="tabsContainer" on-track="_scroll" on-down="_down"><div id="tabsContent" class$="[[_computeTabsContentClass(scrollable, fitContainer)]]"><div id="selectionBar" class$="[[_computeSelectionBarClass(noBar, alignBottom)]]" on-transitionend="_onBarTransitionEnd"></div><slot></slot></div></div><paper-icon-button icon="paper-tabs:chevron-right" class$="[[_computeScrollButtonClass(_rightHidden, scrollable, hideScrollButtons)]]" on-up="_onScrollButtonUp" on-down="_onRightScrollButtonDown" tabindex="-1"></paper-icon-button></template><script>Polymer({is:'paper-tabs',behaviors:[Polymer.IronResizableBehavior,Polymer.IronMenubarBehavior],properties:{noink:{type:Boolean,value:!1,observer:'_noinkChanged'},noBar:{type:Boolean,value:!1},noSlide:{type:Boolean,value:!1},scrollable:{type:Boolean,value:!1},fitContainer:{type:Boolean,value:!1},disableDrag:{type:Boolean,value:!1},hideScrollButtons:{type:Boolean,value:!1},alignBottom:{type:Boolean,value:!1},selectable:{type:String,value:'paper-tab'},autoselect:{type:Boolean,value:!1},autoselectDelay:{type:Number,value:0},_step:{type:Number,value:10},_holdDelay:{type:Number,value:1},_leftHidden:{type:Boolean,value:!1},_rightHidden:{type:Boolean,value:!1},_previousTab:{type:Object}},hostAttributes:{role:'tablist'},listeners:{"iron-resize":'_onTabSizingChanged',"iron-items-changed":'_onTabSizingChanged',"iron-select":'_onIronSelect',"iron-deselect":'_onIronDeselect'},keyBindings:{"left:keyup right:keyup":'_onArrowKeyup'},created:function(){this._holdJob=null,this._pendingActivationItem=void 0,this._pendingActivationTimeout=void 0,this._bindDelayedActivationHandler=this._delayedActivationHandler.bind(this),this.addEventListener('blur',this._onBlurCapture.bind(this),!0)},ready:function(){this.setScrollDirection('y',this.$.tabsContainer)},detached:function(){this._cancelPendingActivation()},_noinkChanged:function(a){var b=Polymer.dom(this).querySelectorAll('paper-tab');b.forEach(a?this._setNoinkAttribute:this._removeNoinkAttribute)},_setNoinkAttribute:function(a){a.setAttribute('noink','')},_removeNoinkAttribute:function(a){a.removeAttribute('noink')},_computeScrollButtonClass:function(a,b,c){return!b||c?'hidden':a?'not-visible':''},_computeTabsContentClass:function(a,b){return a?'scrollable'+(b?' fit-container':''):' fit-container'},_computeSelectionBarClass:function(a,b){if(a)return'hidden';return b?'align-bottom':''},_onTabSizingChanged:function(){this.debounce('_onTabSizingChanged',function(){this._scroll(),this._tabChanged(this.selectedItem)},10)},_onIronSelect:function(a){this._tabChanged(a.detail.item,this._previousTab),this._previousTab=a.detail.item,this.cancelDebouncer('tab-changed')},_onIronDeselect:function(){this.debounce('tab-changed',function(){this._tabChanged(null,this._previousTab),this._previousTab=null},1)},_activateHandler:function(){this._cancelPendingActivation(),Polymer.IronMenuBehaviorImpl._activateHandler.apply(this,arguments)},_scheduleActivation:function(a,b){this._pendingActivationItem=a,this._pendingActivationTimeout=this.async(this._bindDelayedActivationHandler,b)},_delayedActivationHandler:function(){var a=this._pendingActivationItem;this._pendingActivationItem=void 0,this._pendingActivationTimeout=void 0,a.fire(this.activateEvent,null,{bubbles:!0,cancelable:!0})},_cancelPendingActivation:function(){this._pendingActivationTimeout!==void 0&&(this.cancelAsync(this._pendingActivationTimeout),this._pendingActivationItem=void 0,this._pendingActivationTimeout=void 0)},_onArrowKeyup:function(){this.autoselect&&this._scheduleActivation(this.focusedItem,this.autoselectDelay)},_onBlurCapture:function(a){a.target===this._pendingActivationItem&&this._cancelPendingActivation()},get _tabContainerScrollSize(){return Math.max(0,this.$.tabsContainer.scrollWidth-this.$.tabsContainer.offsetWidth)},_scroll:function(a,b){if(this.scrollable){var c=b&&-b.ddx||0;this._affectScroll(c)}},_down:function(){this.async(function(){this._defaultFocusAsync&&(this.cancelAsync(this._defaultFocusAsync),this._defaultFocusAsync=null)},1)},_affectScroll:function(a){this.$.tabsContainer.scrollLeft+=a;var b=this.$.tabsContainer.scrollLeft;this._leftHidden=0===b,this._rightHidden=b===this._tabContainerScrollSize},_onLeftScrollButtonDown:function(){this._scrollToLeft(),this._holdJob=setInterval(this._scrollToLeft.bind(this),this._holdDelay)},_onRightScrollButtonDown:function(){this._scrollToRight(),this._holdJob=setInterval(this._scrollToRight.bind(this),this._holdDelay)},_onScrollButtonUp:function(){clearInterval(this._holdJob),this._holdJob=null},_scrollToLeft:function(){this._affectScroll(-this._step)},_scrollToRight:function(){this._affectScroll(this._step)},_tabChanged:function(a,b){if(!a)return this.$.selectionBar.classList.remove('expand'),this.$.selectionBar.classList.remove('contract'),void this._positionBar(0,0);var c=this.$.tabsContent.getBoundingClientRect(),d=c.width,e=a.getBoundingClientRect(),f=e.left-c.left;if(this._pos={width:this._calcPercent(e.width,d),left:this._calcPercent(f,d)},this.noSlide||null==b)return this.$.selectionBar.classList.remove('expand'),this.$.selectionBar.classList.remove('contract'),void this._positionBar(this._pos.width,this._pos.left);var g=b.getBoundingClientRect(),h=this.items.indexOf(b),i=this.items.indexOf(a),j=5;this.$.selectionBar.classList.add('expand');var k=h<i,l=this._isRTL;l&&(k=!k),k?this._positionBar(this._calcPercent(e.left+e.width-g.left,d)-j,this._left):this._positionBar(this._calcPercent(g.left+g.width-e.left,d)-j,this._calcPercent(f,d)+j),this.scrollable&&this._scrollToSelectedIfNeeded(e.width,f)},_scrollToSelectedIfNeeded:function(a,b){var c=b-this.$.tabsContainer.scrollLeft;0>c?this.$.tabsContainer.scrollLeft+=c:(c+=a-this.$.tabsContainer.offsetWidth,0<c&&(this.$.tabsContainer.scrollLeft+=c))},_calcPercent:function(a,b){return 100*a/b},_positionBar:function(a,b){a=a||0,b=b||0,this._width=a,this._left=b,this.transform('translateX('+b+'%) scaleX('+a/100+')',this.$.selectionBar)},_onBarTransitionEnd:function(){var a=this.$.selectionBar.classList;a.contains('expand')?(a.remove('expand'),a.add('contract'),this._positionBar(this._pos.width,this._pos.left)):a.contains('contract')&&a.remove('contract')}});</script></dom-module><dom-module id="dtile-tabs" assetpath="src/dtile-shell/"><template><style>:host{--paper-tabs-selection-bar-color:var(--primary-color);--paper-tab-ink:var(--primary-color)}paper-tab{min-width:200px}.tab-name{flex-grow:1}</style><paper-tabs id="tabs" selected="[[_selectedTabIndex]]"><template is="dom-repeat" items="[[_openTabs]]"><paper-tab><span class="tab-name">[[_getTabName(item, _maps)]]</span><paper-icon-button icon="close" on-tap="_closeTab"></paper-icon-button></paper-tab></template></paper-tabs></template></dom-module><script>class DTileTabs extends DTile.ReduxMixin(Polymer.Element){static get is(){return"dtile-tabs"}static get properties(){return{tabsOpen:{type:Boolean,computed:"_hasOpenTabs(_openTabs)",notify:!0},_currentMapId:{type:String,statePath:"ui.currentMapId"},_currentPage:{type:String,statePath:"ui.currentPage"},_openTabs:{type:Array,statePath(){return DTile.store.getState().ui.openTabs||[]}},_selectedTabIndex:Number,_maps:{statePath:"entities.maps"}}}static get actions(){return{openTab(a,b){return{type:"OPEN_TAB",payload:{type:a,id:b}}},closeTab(a){return{type:"CLOSE_TAB",payload:a}}}}static get observers(){return["_mapChanged(_currentMapId)","_tabChanged(_selectedTabIndex, _openTabs)","_pageChanged(_currentPage)"]}ready(){super.ready(),this.$.tabs.addEventListener("selected-changed",(a)=>{const b=a.detail.value;this._selectedTabIndex=b})}_hasOpenTabs(){return!!this._openTabs&&0<this._openTabs.length}_getTabName(a){const b=this.getState();if("map"===a.type){const c=b.entities.maps[a.id];return c?c.present.name:""}}_mapChanged(a){const b=this.getState().ui.openTabs;let c=b?b.findIndex((b)=>b.id==a):-1;0>c&&(this.dispatch("openTab","map",a),c=this._openTabs.findIndex((b)=>b.id==a)),this._hasRun?this._selectedTabIndex=c:this._hasRun=!0}_tabChanged(a){if(0>a)return;const b=this._openTabs[a];if(b&&"map"===b.type){const a=this.getState(),c=Object.entries(a.entities.projects).find(([a,c])=>c.mapIds.includes(b.id))[0],d=a.ui.currentProjectId===c,e=a.ui.currentMapId===b.id,f="edit-map"===a.ui.currentPage;d||this.dispatch("setCurrentProjectId",c),e||this.dispatch("setCurrentMapId",b.id),f||this.dispatch("setCurrentPage",{page:"edit-map"})}}_pageChanged(a){const b=this.getState();this._selectedTabIndex="edit-map"===a?(b.ui.openTabs||[]).findIndex((a)=>"map"===a.type&&a.id===b.ui.currentMapId):-1}_closeTab(a){a.stopPropagation(),this.dispatch("closeTab",a.model.index),this._openTabs.length?this._selectedTabIndex>=this._openTabs.length&&this._selectedTabIndex--:0<=this._selectedTabIndex&&(this._selectedTabIndex=-1,this.dispatch("setCurrentPage",{page:"project"}))}}customElements.define(DTileTabs.is,DTileTabs);</script><custom-style><style>body,html{margin:0;padding:0;width:100%;height:100%;background-color:var(--page-background-color);@apply --paper-font-common-base;--header-color:var(--paper-grey-900);--primary-color:var(--paper-cyan-a400);--primary-text-color:white;--secondary-text-color:rgba(255, 255, 255, 0.7);--contrasting-text-color:rgba(0, 0, 0, 0.87);--primary-background-color:#424242;--page-background-color:#303030}</style></custom-style><dom-module id="dtile-shell" assetpath="src/dtile-shell/"><template><style>app-toolbar{color:var(--primary-text-color);background:var(--header-color)}app-toolbar:last-of-type{height:48px}app-toolbar[hidden]{display:none}paper-icon-button+[main-title]{margin-left:24px}app-drawer{--app-drawer-content-container:{background:var(--primary-background-color)};}footer{pointer-events:none;position:fixed;bottom:10px;left:0;right:0;text-align:center;color:#fff;opacity:.6}#content-container{height:100%}</style><app-drawer-layout fullbleed="" force-narrow=""><app-drawer slot="drawer" id="main-drawer" swipe-open=""><dtile-shell-main-drawer id="drawer-content" enable-map-export="[[_enableMapExport]]"></dtile-shell-main-drawer></app-drawer><app-header-layout id="header" fullbleed=""><app-header slot="header" shadow="" fixed=""><app-toolbar><paper-icon-button icon="menu" drawer-toggle=""></paper-icon-button><div main-title="">DTile</div><paper-icon-button icon="undo" on-tap="_undo" disabled="[[!_hasPast]]"></paper-icon-button><paper-icon-button icon="redo" on-tap="_redo" disabled="[[!_hasFuture]]"></paper-icon-button><dtile-shell-status-indicator status="[[_status]]" failed-message="[[_failedMessage]]"></dtile-shell-status-indicator></app-toolbar><app-toolbar hidden$="[[!_tabsOpen]]"><dtile-tabs tabs-open="{{_tabsOpen}}"></dtile-tabs></app-toolbar></app-header><div id="content-container"><slot></slot></div></app-header-layout></app-drawer-layout><footer>Build: [[_version]]</footer></template></dom-module><script>class DTileShell extends DTile.ReduxMixin(Polymer.Element){static get is(){return"dtile-shell"}static get properties(){return{_status:{type:String,value:"done"},_failedMessage:String,_version:{type:String,value:"master110 (22a977f)",readOnly:!0},_currentMapId:{type:Number,statePath:"ui.currentMapId"},_currentPage:{type:String,statePath:"ui.currentPage"},_hasPast:{type:Boolean,statePath(a){if("edit-map"!==a.ui.currentPage)return!1;const b=a.entities.maps[a.ui.currentMapId];return!!b&&b.past.length}},_hasFuture:{type:Boolean,statePath(a){if("edit-map"!==a.ui.currentPage)return!1;const b=a.entities.maps[a.ui.currentMapId];return!!b&&b.future.length}},_enableMapExport:{type:Boolean,statePath:(a)=>"edit-map"===a.ui.currentPage},_tabsOpen:Boolean}}static get actions(){return{undo(a){return{type:window.ReduxUndo.ActionTypes.UNDO,payload:{mapId:a}}},redo(a){return{type:window.ReduxUndo.ActionTypes.REDO,payload:{mapId:a}}}}}static get observers(){return["_tabsOpenChanged(_tabsOpen)"]}constructor(){super(),DTile.status.subscribe((a,b)=>{b?(this._status="failed",this._failedMessage=b):this._status=0<a?"activity":"done"})}ready(){super.ready(),window.addEventListener("keydown",(a)=>{"edit-map"!==this._currentPage||a.ctrlKey&&"z"===a.key.toLowerCase()&&(a.preventDefault(),a.stopPropagation(),a.shiftKey?this._redo():this._undo())}),this.$["drawer-content"].addEventListener("dtile-drawer-close",()=>{this.$["main-drawer"].close()})}_undo(){this.dispatch("undo",this._currentMapId)}_redo(){this.dispatch("redo",this._currentMapId)}_tabsOpenChanged(){this.$.header.notifyResize()}}customElements.define(DTileShell.is,DTileShell);</script><dom-module id="iron-image" assetpath="bower_components/iron-image/"><template><style>:host{display:inline-block;overflow:hidden;position:relative}#baseURIAnchor{display:none}#sizedImgDiv{position:absolute;top:0;right:0;bottom:0;left:0;display:none}#img{display:block;width:var(--iron-image-width,auto);height:var(--iron-image-height,auto)}:host([sizing]) #sizedImgDiv{display:block}:host([sizing]) #img{display:none}#placeholder{position:absolute;top:0;right:0;bottom:0;left:0;background-color:inherit;opacity:1;@apply --iron-image-placeholder;}#placeholder.faded-out{transition:opacity .5s linear;opacity:0}</style><a id="baseURIAnchor" href="#"></a><div id="sizedImgDiv" role="img" hidden$="[[_computeImgDivHidden(sizing)]]" aria-hidden$="[[_computeImgDivARIAHidden(alt)]]" aria-label$="[[_computeImgDivARIALabel(alt, src)]]"></div><img id="img" alt$="[[alt]]" hidden$="[[_computeImgHidden(sizing)]]" crossorigin$="[[crossorigin]]" on-load="_imgOnLoad" on-error="_imgOnError"><div id="placeholder" hidden$="[[_computePlaceholderHidden(preload, fade, loading, loaded)]]" class$="[[_computePlaceholderClassName(preload, fade, loading, loaded)]]"></div></template><script>Polymer({is:'iron-image',properties:{src:{type:String,value:''},alt:{type:String,value:null},crossorigin:{type:String,value:null},preventLoad:{type:Boolean,value:!1},sizing:{type:String,value:null,reflectToAttribute:!0},position:{type:String,value:'center'},preload:{type:Boolean,value:!1},placeholder:{type:String,value:null,observer:'_placeholderChanged'},fade:{type:Boolean,value:!1},loaded:{notify:!0,readOnly:!0,type:Boolean,value:!1},loading:{notify:!0,readOnly:!0,type:Boolean,value:!1},error:{notify:!0,readOnly:!0,type:Boolean,value:!1},width:{observer:'_widthChanged',type:Number,value:null},height:{observer:'_heightChanged',type:Number,value:null}},observers:['_transformChanged(sizing, position)','_loadStateObserver(src, preventLoad)'],created:function(){this._resolvedSrc=''},_imgOnLoad:function(){this.$.img.src!==this._resolveSrc(this.src)||(this._setLoading(!1),this._setLoaded(!0),this._setError(!1))},_imgOnError:function(){this.$.img.src!==this._resolveSrc(this.src)||(this.$.img.removeAttribute('src'),this.$.sizedImgDiv.style.backgroundImage='',this._setLoading(!1),this._setLoaded(!1),this._setError(!0))},_computePlaceholderHidden:function(){return!this.preload||!this.fade&&!this.loading&&this.loaded},_computePlaceholderClassName:function(){return this.preload&&this.fade&&!this.loading&&this.loaded?'faded-out':''},_computeImgDivHidden:function(){return!this.sizing},_computeImgDivARIAHidden:function(){return''===this.alt?'true':void 0},_computeImgDivARIALabel:function(){if(null!==this.alt)return this.alt;if(''===this.src)return'';var a=this._resolveSrc(this.src);return a.replace(/[?|#].*/g,'').split('/').pop()},_computeImgHidden:function(){return!!this.sizing},_widthChanged:function(){this.style.width=isNaN(this.width)?this.width:this.width+'px'},_heightChanged:function(){this.style.height=isNaN(this.height)?this.height:this.height+'px'},_loadStateObserver:function(a,b){var c=this._resolveSrc(a);c===this._resolvedSrc||(this._resolvedSrc='',this.$.img.removeAttribute('src'),this.$.sizedImgDiv.style.backgroundImage='',''===a||b?(this._setLoading(!1),this._setLoaded(!1),this._setError(!1)):(this._resolvedSrc=c,this.$.img.src=this._resolvedSrc,this.$.sizedImgDiv.style.backgroundImage='url("'+this._resolvedSrc+'")',this._setLoading(!0),this._setLoaded(!1),this._setError(!1)))},_placeholderChanged:function(){this.$.placeholder.style.backgroundImage=this.placeholder?'url("'+this.placeholder+'")':''},_transformChanged:function(){var a=this.$.sizedImgDiv.style,b=this.$.placeholder.style;a.backgroundSize=b.backgroundSize=this.sizing,a.backgroundPosition=b.backgroundPosition=this.sizing?this.position:'',a.backgroundRepeat=b.backgroundRepeat=this.sizing?'no-repeat':''},_resolveSrc:function(a){var b=Polymer.ResolveUrl.resolveUrl(a,this.$.baseURIAnchor.href);return'/'===b[0]&&(b=(location.origin||location.protocol+'//'+location.host)+b),b}});</script></dom-module><dom-module id="paper-card" assetpath="bower_components/paper-card/"><template><style include="paper-material-styles">:host{display:inline-block;position:relative;box-sizing:border-box;background-color:var(--paper-card-background-color,var(--primary-background-color));border-radius:2px;@apply --paper-font-common-base;@apply --paper-card;}:host([hidden]),[hidden]{display:none!important}.header{position:relative;border-top-left-radius:inherit;border-top-right-radius:inherit;overflow:hidden;@apply --paper-card-header;}.header iron-image{display:block;width:100%;--iron-image-width:100%;pointer-events:none;@apply --paper-card-header-image;}.header .title-text{padding:16px;font-size:24px;font-weight:400;color:var(--paper-card-header-color,#000);@apply --paper-card-header-text;}.header .title-text.over-image{position:absolute;bottom:0;@apply --paper-card-header-image-text;}:host ::slotted(.card-content){padding:16px;position:relative;@apply --paper-card-content;}:host ::slotted(.card-actions){border-top:1px solid #e8e8e8;padding:5px 16px;position:relative;@apply --paper-card-actions;}:host([elevation="1"]){@apply --paper-material-elevation-1;}:host([elevation="2"]){@apply --paper-material-elevation-2;}:host([elevation="3"]){@apply --paper-material-elevation-3;}:host([elevation="4"]){@apply --paper-material-elevation-4;}:host([elevation="5"]){@apply --paper-material-elevation-5;}</style><div class="header"><iron-image hidden$="[[!image]]" aria-hidden$="[[_isHidden(image)]]" src="[[image]]" alt="[[alt]]" placeholder="[[placeholderImage]]" preload="[[preloadImage]]" fade="[[fadeImage]]"></iron-image><div hidden$="[[!heading]]" class$="title-text [[_computeHeadingClass(image)]]">[[heading]]</div></div><slot></slot></template><script>Polymer({is:'paper-card',properties:{heading:{type:String,value:'',observer:'_headingChanged'},image:{type:String,value:''},alt:{type:String},preloadImage:{type:Boolean,value:!1},fadeImage:{type:Boolean,value:!1},placeholderImage:{type:String,value:null},elevation:{type:Number,value:1,reflectToAttribute:!0},animatedShadow:{type:Boolean,value:!1},animated:{type:Boolean,reflectToAttribute:!0,readOnly:!0,computed:'_computeAnimated(animatedShadow)'}},_isHidden:function(a){return a?'false':'true'},_headingChanged:function(a){var b=this.getAttribute('heading'),c=this.getAttribute('aria-label');('string'!=typeof c||c===b)&&this.setAttribute('aria-label',a)},_computeHeadingClass:function(a){return a?' over-image':''},_computeAnimated:function(a){return a}});</script></dom-module><script>var saveAs=saveAs||function(b){"use strict";if(!("undefined"==typeof b||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var d=b.document,g=function(){return b.URL||b.webkitURL||b},j=d.createElementNS("http://www.w3.org/1999/xhtml","a"),k=function(a){var b=new MouseEvent("click");a.dispatchEvent(b)},a=/constructor/i.test(b.HTMLElement)||b.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent),f=function(a){(b.setImmediate||b.setTimeout)(function(){throw a},0)},n=function(a){setTimeout(function(){"string"==typeof a?g().revokeObjectURL(a):a.remove()},40000)},c=function(a,b,c){b=[].concat(b);for(var d,e=b.length;e--;)if(d=a["on"+b[e]],"function"==typeof d)try{d.call(a,c||a)}catch(b){f(b)}},l=function(a){return /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a},h=function(e,f,o){o||(e=l(e));var d,p=this,q=e.type,s=q==="application/octet-stream",m=function(){c(p,["writestart","progress","write","writeend"])};return p.readyState=p.INIT,"download"in j?(d=g().createObjectURL(e),void setTimeout(function(){j.href=d,j.download=f,k(j),m(),n(d),p.readyState=p.DONE})):void function(){if((i||s&&a)&&b.FileReader){var c=new FileReader;return c.onloadend=function(){var a=i?c.result:c.result.replace(/^data:[^;]*;/,"data:attachment/file;"),d=b.open(a,"_blank");d||(b.location.href=a),a=void 0,p.readyState=p.DONE,m()},c.readAsDataURL(e),void(p.readyState=p.INIT)}if(d||(d=g().createObjectURL(e)),s)b.location.href=d;else{var f=b.open(d,"_blank");f||(b.location.href=d)}p.readyState=p.DONE,m(),n(d)}()},o=h.prototype,p=function(a,b,c){return new h(a,b||a.name||"download",c)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(a,b,c){return b=b||a.name||"download",c||(a=l(a)),navigator.msSaveOrOpenBlob(a,b)}:(o.abort=function(){},o.readyState=o.INIT=0,o.WRITING=1,o.DONE=2,o.error=o.onwritestart=o.onprogress=o.onwrite=o.onabort=o.onerror=o.onwriteend=null,p)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return saveAs});</script><script>!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window,b.pako=a()}}(function(){var b=String.fromCharCode;return function b(c,e,a){function d(g,i){if(!e[g]){if(!c[g]){var j="function"==typeof require&&require;if(!i&&j)return j(g,!0);if(f)return f(g,!0);var k=new Error("Cannot find module '"+g+"'");throw k.code="MODULE_NOT_FOUND",k}var h=e[g]={exports:{}};c[g][0].call(h.exports,function(b){var e=c[g][1][b];return d(e?e:b)},h,h.exports,b,c,e,a)}return e[g].exports}for(var f="function"==typeof require&&require,g=0;g<a.length;g++)d(a[g]);return d}({1:[function(j,k,e){"use strict";function q(b){if(!(this instanceof q))return new q(b);this.options=o.assign({level:i,method:r,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},b||{});var g=this.options;g.raw&&0<g.windowBits?g.windowBits=-g.windowBits:g.gzip&&0<g.windowBits&&16>g.windowBits&&(g.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var e=s.deflateInit2(this.strm,g.level,g.method,g.windowBits,g.memLevel,g.strategy);if(e!==c)throw new Error(h[e]);if(g.header&&s.deflateSetHeader(this.strm,g.header),g.dictionary){var a;if(a="string"==typeof g.dictionary?l.string2buf(g.dictionary):"[object ArrayBuffer]"===f.call(g.dictionary)?new Uint8Array(g.dictionary):g.dictionary,e=s.deflateSetDictionary(this.strm,a),e!==c)throw new Error(h[e]);this._dict_set=!0}}function a(b,c){var d=new q(c);if(d.push(b,!0),d.err)throw d.msg||h[d.err];return d.result}var s=j("./zlib/deflate"),o=j("./utils/common"),l=j("./utils/strings"),h=j("./zlib/messages"),d=j("./zlib/zstream"),f=Object.prototype.toString,u=4,c=0,b=1,g=2,i=-1,m=0,r=8;q.prototype.push=function(d,h){var j,a,i=this.strm,k=this.options.chunkSize;if(this.ended)return!1;a=h===~~h?h:!0===h?u:0,i.input="string"==typeof d?l.string2buf(d):"[object ArrayBuffer]"===f.call(d)?new Uint8Array(d):d,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new o.Buf8(k),i.next_out=0,i.avail_out=k),j=s.deflate(i,a),j!==b&&j!==c)return this.onEnd(j),this.ended=!0,!1;0!==i.avail_out&&(0!==i.avail_in||a!==u&&a!==g)||("string"===this.options.to?this.onData(l.buf2binstring(o.shrinkBuf(i.output,i.next_out))):this.onData(o.shrinkBuf(i.output,i.next_out)))}while((0<i.avail_in||0===i.avail_out)&&j!==b);return a===u?(j=s.deflateEnd(this.strm),this.onEnd(j),this.ended=!0,j===c):a!=g||(this.onEnd(c),i.avail_out=0,!0)},q.prototype.onData=function(a){this.chunks.push(a)},q.prototype.onEnd=function(a){a===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},e.Deflate=q,e.deflate=a,e.deflateRaw=function(b,c){return c=c||{},c.raw=!0,a(b,c)},e.gzip=function(b,c){return c=c||{},c.gzip=!0,a(b,c)}},{"./utils/common":3,"./utils/strings":4,"./zlib/deflate":8,"./zlib/messages":13,"./zlib/zstream":15}],2:[function(b,c,e){"use strict";function g(b){if(!(this instanceof g))return new g(b);this.options=k.assign({chunkSize:16384,windowBits:0,to:""},b||{});var c=this.options;c.raw&&0<=c.windowBits&&16>c.windowBits&&(c.windowBits=-c.windowBits,0===c.windowBits&&(c.windowBits=-15)),!(0<=c.windowBits&&16>c.windowBits)||b&&b.windowBits||(c.windowBits+=32),15<c.windowBits&&48>c.windowBits&&0==(15&c.windowBits)&&(c.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var e=j.inflateInit2(this.strm,c.windowBits);if(e!==l.Z_OK)throw new Error(h[e]);this.header=new f,j.inflateGetHeader(this.strm,this.header)}function a(b,c){var d=new g(c);if(d.push(b,!0),d.err)throw d.msg||h[d.err];return d.result}var j=b("./zlib/inflate"),k=b("./utils/common"),m=b("./utils/strings"),l=b("./zlib/constants"),h=b("./zlib/messages"),d=b("./zlib/zstream"),f=b("./zlib/gzheader"),o=Object.prototype.toString;g.prototype.push=function(h,p){var q,a,i,n,r,d,f=this.strm,s=this.options.chunkSize,c=this.options.dictionary,u=!1;if(this.ended)return!1;a=p===~~p?p:!0===p?l.Z_FINISH:l.Z_NO_FLUSH,f.input="string"==typeof h?m.binstring2buf(h):"[object ArrayBuffer]"===o.call(h)?new Uint8Array(h):h,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new k.Buf8(s),f.next_out=0,f.avail_out=s),q=j.inflate(f,l.Z_NO_FLUSH),q===l.Z_NEED_DICT&&c&&(d="string"==typeof c?m.string2buf(c):"[object ArrayBuffer]"===o.call(c)?new Uint8Array(c):c,q=j.inflateSetDictionary(this.strm,d)),q===l.Z_BUF_ERROR&&!0==u&&(q=l.Z_OK,u=!1),q!==l.Z_STREAM_END&&q!==l.Z_OK)return this.onEnd(q),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&q!==l.Z_STREAM_END&&(0!==f.avail_in||a!==l.Z_FINISH&&a!==l.Z_SYNC_FLUSH)||("string"===this.options.to?(i=m.utf8border(f.output,f.next_out),n=f.next_out-i,r=m.buf2string(f.output,i),f.next_out=n,f.avail_out=s-n,n&&k.arraySet(f.output,f.output,i,n,0),this.onData(r)):this.onData(k.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(u=!0)}while((0<f.avail_in||0===f.avail_out)&&q!==l.Z_STREAM_END);return q===l.Z_STREAM_END&&(a=l.Z_FINISH),a===l.Z_FINISH?(q=j.inflateEnd(this.strm),this.onEnd(q),this.ended=!0,q===l.Z_OK):a!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),f.avail_out=0,!0)},g.prototype.onData=function(a){this.chunks.push(a)},g.prototype.onEnd=function(a){a===l.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=k.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},e.Inflate=g,e.inflate=a,e.inflateRaw=function(b,c){return c=c||{},c.raw=!0,a(b,c)},e.ungzip=a},{"./utils/common":3,"./utils/strings":4,"./zlib/constants":6,"./zlib/gzheader":9,"./zlib/inflate":11,"./zlib/messages":13,"./zlib/zstream":15}],3:[function(b,c,d){"use strict";var a="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;d.assign=function(b){for(var c,d=Array.prototype.slice.call(arguments,1);d.length;)if(c=d.shift(),c){if("object"!=typeof c)throw new TypeError(c+"must be non-object");for(var e in c)c.hasOwnProperty(e)&&(b[e]=c[e])}return b},d.shrinkBuf=function(a,b){return a.length===b?a:a.subarray?a.subarray(0,b):(a.length=b,a)};var e={arraySet:function(b,c,d,a,e){if(c.subarray&&b.subarray)return void b.set(c.subarray(d,d+a),e);for(var f=0;f<a;f++)b[e+f]=c[d+f]},flattenChunks:function(b){var c,d,a,e,f,g;for(a=0,c=0,d=b.length;c<d;c++)a+=b[c].length;for(g=new Uint8Array(a),e=0,c=0,d=b.length;c<d;c++)f=b[c],g.set(f,e),e+=f.length;return g}},f={arraySet:function(b,c,d,a,e){for(var f=0;f<a;f++)b[e+f]=c[d+f]},flattenChunks:function(a){return[].concat.apply([],a)}};d.setTyped=function(a){a?(d.Buf8=Uint8Array,d.Buf16=Uint16Array,d.Buf32=Int32Array,d.assign(d,e)):(d.Buf8=Array,d.Buf16=Array,d.Buf32=Array,d.assign(d,f))},d.setTyped(a)},{}],4:[function(c,d,e){"use strict";function f(c,d){if(65537>d&&(c.subarray&&j||!c.subarray&&h))return b.apply(null,g.shrinkBuf(c,d));for(var e="",a=0;a<d;a++)e+=b(c[a]);return e}var g=c("./common"),h=!0,j=!0;try{b.apply(null,[0])}catch(a){h=!1}try{b.apply(null,new Uint8Array(1))}catch(a){j=!1}for(var i=new g.Buf8(256),a=0;256>a;a++)i[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;i[254]=i[254]=1,e.string2buf=function(b){var c,d,a,e,f,h=b.length,i=0;for(e=0;e<h;e++)d=b.charCodeAt(e),55296==(64512&d)&&e+1<h&&(a=b.charCodeAt(e+1),56320==(64512&a)&&(d=65536+(d-55296<<10)+(a-56320),e++)),i+=128>d?1:2048>d?2:65536>d?3:4;for(c=new g.Buf8(i),f=0,e=0;f<i;e++)d=b.charCodeAt(e),55296==(64512&d)&&e+1<h&&(a=b.charCodeAt(e+1),56320==(64512&a)&&(d=65536+(d-55296<<10)+(a-56320),e++)),128>d?c[f++]=d:2048>d?(c[f++]=192|d>>>6,c[f++]=128|63&d):65536>d?(c[f++]=224|d>>>12,c[f++]=128|63&d>>>6,c[f++]=128|63&d):(c[f++]=240|d>>>18,c[f++]=128|63&d>>>12,c[f++]=128|63&d>>>6,c[f++]=128|63&d);return c},e.buf2binstring=function(a){return f(a,a.length)},e.binstring2buf=function(b){for(var c=new g.Buf8(b.length),d=0,a=c.length;d<a;d++)c[d]=b.charCodeAt(d);return c},e.buf2string=function(b,c){var d,a,e,g,j=c||b.length,k=Array(2*j);for(a=0,d=0;d<j;)if(e=b[d++],128>e)k[a++]=e;else if(g=i[e],4<g)k[a++]=65533,d+=g-1;else{for(e&=2===g?31:3===g?15:7;1<g&&d<j;)e=e<<6|63&b[d++],g--;1<g?k[a++]=65533:65536>e?k[a++]=e:(e-=65536,k[a++]=55296|1023&e>>10,k[a++]=56320|1023&e)}return f(k,a)},e.utf8border=function(b,c){var d;for(c=c||b.length,c>b.length&&(c=b.length),d=c-1;0<=d&&128==(192&b[d]);)d--;return 0>d?c:0===d?c:d+i[b[d]]>c?d:c}},{"./common":3}],5:[function(a,b){"use strict";function c(b,c,d,a){for(var e=0|65535&b,f=0|65535&b>>>16,g=0;0!==d;){g=2e3<d?2e3:d,d-=g;do e=0|e+c[a++],f=0|f+e;while(--g);e%=65521,f%=65521}return 0|(e|f<<16)}b.exports=c},{}],6:[function(a,b){"use strict";b.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],7:[function(a,b){"use strict";function c(){for(var b,c=[],d=0;256>d;d++){b=d;for(var a=0;8>a;a++)b=1&b?3988292384^b>>>1:b>>>1;c[d]=b}return c}function d(b,c,d,a){b^=-1;for(var e=a;e<a+d;e++)b=b>>>8^f[255&(b^c[e])];return-1^b}var f=c();b.exports=d},{}],8:[function(u,t,e){"use strict";function x(a,b){return a.msg=J[b],b}function i(a){return(a<<1)-(4<a?9:0)}function A(a){for(var b=a.length;0<=--b;)a[b]=0}function n(b){var c=b.state,d=c.pending;d>b.avail_out&&(d=b.avail_out),0!==d&&(w.arraySet(b.output,c.pending_buf,c.pending_out,d,b.next_out),b.next_out+=d,c.pending_out+=d,b.total_out+=d,b.avail_out-=d,c.pending-=d,0===c.pending&&(c.pending_out=0))}function B(a,b){y._tr_flush_block(a,0<=a.block_start?a.block_start:-1,a.strstart-a.block_start,b),a.block_start=a.strstart,n(a.strm)}function r(a,b){a.pending_buf[a.pending++]=b}function l(a,b){a.pending_buf[a.pending++]=255&b>>>8,a.pending_buf[a.pending++]=255&b}function h(b,c,d,a){var e=b.avail_in;return e>a&&(e=a),0===e?0:(b.avail_in-=e,w.arraySet(c,b.input,b.next_in,e,d),1===b.state.wrap?b.adler=z(b.adler,c,e,d):2===b.state.wrap&&(b.adler=C(b.adler,c,e,d)),b.next_in+=e,b.total_in+=e,e)}function d(b,g){var e,a,i=b.max_chain_length,j=b.strstart,k=b.prev_length,m=b.nice_match,n=b.strstart>b.w_size-Y?b.strstart-(b.w_size-Y):0,l=b.window,h=b.w_mask,d=b.prev,o=b.strstart+X,p=l[j+k-1],q=l[j+k];b.prev_length>=b.good_match&&(i>>=2),m>b.lookahead&&(m=b.lookahead);do if(e=g,l[e+k]===q&&l[e+k-1]===p&&l[e]===l[j]&&l[++e]===l[j+1]){j+=2,e++;do;while(l[++j]===l[++e]&&l[++j]===l[++e]&&l[++j]===l[++e]&&l[++j]===l[++e]&&l[++j]===l[++e]&&l[++j]===l[++e]&&l[++j]===l[++e]&&l[++j]===l[++e]&&j<o);if(a=X-(o-j),j=o-X,a>k){if(b.match_start=g,k=a,a>=m)break;p=l[j+k-1],q=l[j+k]}}while((g=d[g&h])>n&&0!=--i);return k<=b.lookahead?k:b.lookahead}function E(b){var c,d,a,e,f,g=b.w_size;do{if(e=b.window_size-b.lookahead-b.strstart,b.strstart>=g+(g-Y)){w.arraySet(b.window,b.window,g,g,0),b.match_start-=g,b.strstart-=g,b.block_start-=g,d=b.hash_size,c=d;do a=b.head[--c],b.head[c]=a>=g?a-g:0;while(--d);d=g,c=d;do a=b.prev[--c],b.prev[c]=a>=g?a-g:0;while(--d);e+=g}if(0===b.strm.avail_in)break;if(d=h(b.strm,b.window,b.strstart+b.lookahead,e),b.lookahead+=d,b.lookahead+b.insert>=W)for(f=b.strstart-b.insert,b.ins_h=b.window[f],b.ins_h=(b.ins_h<<b.hash_shift^b.window[f+1])&b.hash_mask;b.insert&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[f+W-1])&b.hash_mask,b.prev[f&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=f,f++,b.insert--,!(b.lookahead+b.insert<W)););}while(b.lookahead<Y&&0!==b.strm.avail_in)}function a(b,c){for(var e,a;;){if(b.lookahead<Y){if(E(b),b.lookahead<Y&&c===D)return _;if(0===b.lookahead)break}if(e=0,b.lookahead>=W&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+W-1])&b.hash_mask,e=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),0!==e&&b.strstart-e<=b.w_size-Y&&(b.match_length=d(b,e)),!(b.match_length>=W))a=y._tr_tally(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;else if(a=y._tr_tally(b,b.strstart-b.match_start,b.match_length-W),b.lookahead-=b.match_length,b.match_length<=b.max_lazy_match&&b.lookahead>=W){b.match_length--;do b.strstart++,b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+W-1])&b.hash_mask,e=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart;while(0!=--b.match_length);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+1])&b.hash_mask;if(a&&(B(b,!1),0===b.strm.avail_out))return _}return b.insert=b.strstart<W-1?b.strstart:W-1,c===I?(B(b,!0),0===b.strm.avail_out?ga:ha):b.last_lit&&(B(b,!1),0===b.strm.avail_out)?_:fa}function c(b,c){for(var e,a,f;;){if(b.lookahead<Y){if(E(b),b.lookahead<Y&&c===D)return _;if(0===b.lookahead)break}if(e=0,b.lookahead>=W&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+W-1])&b.hash_mask,e=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),b.prev_length=b.match_length,b.prev_match=b.match_start,b.match_length=W-1,0!==e&&b.prev_length<b.max_lazy_match&&b.strstart-e<=b.w_size-Y&&(b.match_length=d(b,e),5>=b.match_length&&(b.strategy===N||b.match_length===W&&4096<b.strstart-b.match_start)&&(b.match_length=W-1)),b.prev_length>=W&&b.match_length<=b.prev_length){f=b.strstart+b.lookahead-W,a=y._tr_tally(b,b.strstart-1-b.prev_match,b.prev_length-W),b.lookahead-=b.prev_length-1,b.prev_length-=2;do++b.strstart<=f&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+W-1])&b.hash_mask,e=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart);while(0!=--b.prev_length);if(b.match_available=0,b.match_length=W-1,b.strstart++,a&&(B(b,!1),0===b.strm.avail_out))return _}else if(!b.match_available)b.match_available=1,b.strstart++,b.lookahead--;else if(a=y._tr_tally(b,0,b.window[b.strstart-1]),a&&B(b,!1),b.strstart++,b.lookahead--,0===b.strm.avail_out)return _}return b.match_available&&(a=y._tr_tally(b,0,b.window[b.strstart-1]),b.match_available=0),b.insert=b.strstart<W-1?b.strstart:W-1,c===I?(B(b,!0),0===b.strm.avail_out?ga:ha):b.last_lit&&(B(b,!1),0===b.strm.avail_out)?_:fa}function b(b,c){for(var d,a,e,f,g=b.window;;){if(b.lookahead<=X){if(E(b),b.lookahead<=X&&c===D)return _;if(0===b.lookahead)break}if(b.match_length=0,b.lookahead>=W&&0<b.strstart&&(e=b.strstart-1,a=g[e],a===g[++e]&&a===g[++e]&&a===g[++e])){f=b.strstart+X;do;while(a===g[++e]&&a===g[++e]&&a===g[++e]&&a===g[++e]&&a===g[++e]&&a===g[++e]&&a===g[++e]&&a===g[++e]&&e<f);b.match_length=X-(f-e),b.match_length>b.lookahead&&(b.match_length=b.lookahead)}if(b.match_length>=W?(d=y._tr_tally(b,1,b.match_length-W),b.lookahead-=b.match_length,b.strstart+=b.match_length,b.match_length=0):(d=y._tr_tally(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++),d&&(B(b,!1),0===b.strm.avail_out))return _}return b.insert=0,c===I?(B(b,!0),0===b.strm.avail_out?ga:ha):b.last_lit&&(B(b,!1),0===b.strm.avail_out)?_:fa}function f(b,c){for(var d;;){if(0===b.lookahead&&(E(b),0===b.lookahead)){if(c===D)return _;break}if(b.match_length=0,d=y._tr_tally(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++,d&&(B(b,!1),0===b.strm.avail_out))return _}return b.insert=0,c===I?(B(b,!0),0===b.strm.avail_out?ga:ha):b.last_lit&&(B(b,!1),0===b.strm.avail_out)?_:fa}function g(b,c,d,a,e){this.good_length=b,this.max_lazy=c,this.nice_length=d,this.max_chain=a,this.func=e}function m(a){a.window_size=2*a.w_size,A(a.head),a.max_lazy_match=v[a.level].max_lazy,a.good_match=v[a.level].good_length,a.nice_match=v[a.level].nice_length,a.max_chain_length=v[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=W-1,a.match_available=0,a.ins_h=0}function p(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=P,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new w.Buf16(2*U),this.dyn_dtree=new w.Buf16(2*(2*S+1)),this.bl_tree=new w.Buf16(2*(2*T+1)),A(this.dyn_ltree),A(this.dyn_dtree),A(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new w.Buf16(V+1),this.heap=new w.Buf16(2*R+1),A(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new w.Buf16(2*R+1),A(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function o(a){var b;return a&&a.state?(a.total_in=a.total_out=0,a.data_type=O,b=a.state,b.pending=0,b.pending_out=0,0>b.wrap&&(b.wrap=-b.wrap),b.status=b.wrap?Z:da,a.adler=2===b.wrap?0:1,b.last_flush=D,y._tr_init(b),L):x(a,j)}function k(a){var b=o(a);return b===L&&m(a.state),b}function s(b,c,d,a,e,f){if(!b)return j;var g=1;if(c===M&&(c=6),0>a?(g=0,a=-a):15<a&&(g=2,a-=16),1>e||e>Q||d!==P||8>a||15<a||0>c||9<c||0>f||f>G)return x(b,j);8===a&&(a=9);var h=new p;return b.state=h,h.strm=b,h.wrap=g,h.gzhead=null,h.w_bits=a,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=e+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+W-1)/W),h.window=new w.Buf8(2*h.w_size),h.head=new w.Buf16(h.hash_size),h.prev=new w.Buf16(h.w_size),h.lit_bufsize=1<<e+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new w.Buf8(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=c,h.strategy=f,h.method=d,k(b)}var v,w=u("../utils/common"),y=u("./trees"),z=u("./adler32"),C=u("./crc32"),J=u("./messages"),D=0,I=4,F=5,L=0,H=1,j=-2,K=-5,M=-1,N=1,q=2,G=4,O=2,P=8,Q=9,R=256+1+29,S=30,T=19,U=2*R+1,V=15,W=3,X=258,Y=X+W+1,Z=42,$=69,aa=73,ba=91,ca=103,da=113,ea=666,_=1,fa=2,ga=3,ha=4;v=[new g(0,0,0,0,function(b,c){var d=65535;for(d>b.pending_buf_size-5&&(d=b.pending_buf_size-5);;){if(1>=b.lookahead){if(E(b),0===b.lookahead&&c===D)return _;if(0===b.lookahead)break}b.strstart+=b.lookahead,b.lookahead=0;var a=b.block_start+d;if((0===b.strstart||b.strstart>=a)&&(b.lookahead=b.strstart-a,b.strstart=a,B(b,!1),0===b.strm.avail_out))return _;if(b.strstart-b.block_start>=b.w_size-Y&&(B(b,!1),0===b.strm.avail_out))return _}return b.insert=0,c===I?(B(b,!0),0===b.strm.avail_out?ga:ha):b.strstart>b.block_start&&(B(b,!1),0===b.strm.avail_out)?_:_}),new g(4,4,8,4,a),new g(4,5,16,8,a),new g(4,6,32,32,a),new g(4,4,16,16,c),new g(8,16,32,32,c),new g(8,16,128,128,c),new g(8,32,128,256,c),new g(32,128,258,1024,c),new g(32,258,258,4096,c)],e.deflateInit=function(a,b){return s(a,b,P,15,8,0)},e.deflateInit2=s,e.deflateReset=k,e.deflateResetKeep=o,e.deflateSetHeader=function(a,b){return a&&a.state?2===a.state.wrap?(a.state.gzhead=b,L):j:j},e.deflate=function(g,h){var e,a,k,d;if(!g||!g.state||h>F||0>h)return g?x(g,j):j;if(a=g.state,!g.output||!g.input&&0!==g.avail_in||a.status===ea&&h!==I)return x(g,0===g.avail_out?K:j);if(a.strm=g,e=a.last_flush,a.last_flush=h,a.status===Z)if(2===a.wrap)g.adler=0,r(a,31),r(a,139),r(a,8),a.gzhead?(r(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),r(a,255&a.gzhead.time),r(a,255&a.gzhead.time>>8),r(a,255&a.gzhead.time>>16),r(a,255&a.gzhead.time>>24),r(a,9===a.level?2:a.strategy>=q||2>a.level?4:0),r(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(r(a,255&a.gzhead.extra.length),r(a,255&a.gzhead.extra.length>>8)),a.gzhead.hcrc&&(g.adler=C(g.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=$):(r(a,0),r(a,0),r(a,0),r(a,0),r(a,0),r(a,9===a.level?2:a.strategy>=q||2>a.level?4:0),r(a,3),a.status=da);else{var m=P+(a.w_bits-8<<4)<<8,o=-1;o=a.strategy>=q||2>a.level?0:6>a.level?1:6===a.level?2:3,m|=o<<6,0!==a.strstart&&(m|=32),m+=31-m%31,a.status=da,l(a,m),0!==a.strstart&&(l(a,g.adler>>>16),l(a,65535&g.adler)),g.adler=1}if(a.status===$)if(a.gzhead.extra){for(k=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>k&&(g.adler=C(g.adler,a.pending_buf,a.pending-k,k)),n(g),k=a.pending,a.pending!==a.pending_buf_size));)r(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>k&&(g.adler=C(g.adler,a.pending_buf,a.pending-k,k)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=aa)}else a.status=aa;if(a.status===aa)if(a.gzhead.name){k=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>k&&(g.adler=C(g.adler,a.pending_buf,a.pending-k,k)),n(g),k=a.pending,a.pending===a.pending_buf_size)){d=1;break}d=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,r(a,d)}while(0!==d);a.gzhead.hcrc&&a.pending>k&&(g.adler=C(g.adler,a.pending_buf,a.pending-k,k)),0===d&&(a.gzindex=0,a.status=ba)}else a.status=ba;if(a.status===ba)if(a.gzhead.comment){k=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>k&&(g.adler=C(g.adler,a.pending_buf,a.pending-k,k)),n(g),k=a.pending,a.pending===a.pending_buf_size)){d=1;break}d=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,r(a,d)}while(0!==d);a.gzhead.hcrc&&a.pending>k&&(g.adler=C(g.adler,a.pending_buf,a.pending-k,k)),0===d&&(a.status=ca)}else a.status=ca;if(a.status===ca&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&n(g),a.pending+2<=a.pending_buf_size&&(r(a,255&g.adler),r(a,255&g.adler>>8),g.adler=0,a.status=da)):a.status=da),0!==a.pending){if(n(g),0===g.avail_out)return a.last_flush=-1,L;}else if(0===g.avail_in&&i(h)<=i(e)&&h!==I)return x(g,K);if(a.status===ea&&0!==g.avail_in)return x(g,K);if(0!==g.avail_in||0!==a.lookahead||h!==D&&a.status!==ea){var p=a.strategy===q?f(a,h):a.strategy===3?b(a,h):v[a.level].func(a,h);if(p!==ga&&p!==ha||(a.status=ea),p===_||p===ga)return 0===g.avail_out&&(a.last_flush=-1),L;if(p===fa&&(h===1?y._tr_align(a):h!==F&&(y._tr_stored_block(a,0,0,!1),h===3&&(A(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),n(g),0===g.avail_out))return a.last_flush=-1,L}return h===I?0>=a.wrap?H:(2===a.wrap?(r(a,255&g.adler),r(a,255&g.adler>>8),r(a,255&g.adler>>16),r(a,255&g.adler>>24),r(a,255&g.total_in),r(a,255&g.total_in>>8),r(a,255&g.total_in>>16),r(a,255&g.total_in>>24)):(l(a,g.adler>>>16),l(a,65535&g.adler)),n(g),0<a.wrap&&(a.wrap=-a.wrap),0===a.pending?H:L):L},e.deflateEnd=function(a){var b;return a&&a.state?(b=a.state.status,b!==Z&&b!==$&&b!==aa&&b!==ba&&b!==ca&&b!==da&&b!==ea?x(a,j):(a.state=null,b===da?x(a,-3):L)):j},e.deflateSetDictionary=function(b,c){var e,a,g,i,k,m,l,h,d=c.length;if(!b||!b.state)return j;if(e=b.state,i=e.wrap,2===i||1===i&&e.status!==Z||e.lookahead)return j;for(1===i&&(b.adler=z(b.adler,c,d,0)),e.wrap=0,d>=e.w_size&&(0===i&&(A(e.head),e.strstart=0,e.block_start=0,e.insert=0),h=new w.Buf8(e.w_size),w.arraySet(h,c,d-e.w_size,e.w_size,0),c=h,d=e.w_size),k=b.avail_in,m=b.next_in,l=b.input,b.avail_in=d,b.next_in=0,b.input=c,E(e);e.lookahead>=W;){a=e.strstart,g=e.lookahead-(W-1);do e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+W-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++;while(--g);e.strstart=a,e.lookahead=W-1,E(e)}return e.strstart+=e.lookahead,e.block_start=e.strstart,e.insert=e.lookahead,e.lookahead=0,e.match_length=e.prev_length=W-1,e.match_available=0,b.next_in=m,b.input=l,b.avail_in=k,e.wrap=i,L},e.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./messages":13,"./trees":14}],9:[function(a,b){"use strict";b.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],10:[function(a,b){"use strict";var c=30;b.exports=function(i,j){var e,a,n,q,o,l,h,d,f,r,s,t,b,g,m,u,p,v,k,w,x,y,z,B,C;e=i.state,a=i.next_in,B=i.input,n=a+(i.avail_in-5),q=i.next_out,C=i.output,o=q-(j-i.avail_out),l=q+(i.avail_out-257),h=e.dmax,d=e.wsize,f=e.whave,r=e.wnext,s=e.window,t=e.hold,b=e.bits,g=e.lencode,m=e.distcode,u=(1<<e.lenbits)-1,p=(1<<e.distbits)-1;t:do{15>b&&(t+=B[a++]<<b,b+=8,t+=B[a++]<<b,b+=8),v=g[t&u];e:for(;;){if(k=v>>>24,t>>>=k,b-=k,k=255&v>>>16,0===k)C[q++]=65535&v;else{if(!(16&k)){if(0==(64&k)){v=g[(65535&v)+(t&(1<<k)-1)];continue e}if(32&k){e.mode=12;break t}i.msg="invalid literal/length code",e.mode=c;break t}w=65535&v,k&=15,k&&(b<k&&(t+=B[a++]<<b,b+=8),w+=t&(1<<k)-1,t>>>=k,b-=k),15>b&&(t+=B[a++]<<b,b+=8,t+=B[a++]<<b,b+=8),v=m[t&p];a:for(;;){if(k=v>>>24,t>>>=k,b-=k,k=255&v>>>16,!(16&k)){if(0==(64&k)){v=m[(65535&v)+(t&(1<<k)-1)];continue a}i.msg="invalid distance code",e.mode=c;break t}if(x=65535&v,k&=15,b<k&&(t+=B[a++]<<b,b+=8,b<k&&(t+=B[a++]<<b,b+=8)),x+=t&(1<<k)-1,x>h){i.msg="invalid distance too far back",e.mode=c;break t}if(t>>>=k,b-=k,k=q-o,x>k){if(k=x-k,k>f&&e.sane){i.msg="invalid distance too far back",e.mode=c;break t}if(y=0,z=s,0===r){if(y+=d-k,k<w){w-=k;do C[q++]=s[y++];while(--k);y=q-x,z=C}}else if(r<k){if(y+=d+r-k,k-=r,k<w){w-=k;do C[q++]=s[y++];while(--k);if(y=0,r<w){k=r,w-=k;do C[q++]=s[y++];while(--k);y=q-x,z=C}}}else if(y+=r-k,k<w){w-=k;do C[q++]=s[y++];while(--k);y=q-x,z=C}for(;2<w;)C[q++]=z[y++],C[q++]=z[y++],C[q++]=z[y++],w-=3;w&&(C[q++]=z[y++],1<w&&(C[q++]=z[y++]))}else{y=q-x;do C[q++]=C[y++],C[q++]=C[y++],C[q++]=C[y++],w-=3;while(2<w);w&&(C[q++]=C[y++],1<w&&(C[q++]=C[y++]))}break}}break}}while(a<n&&q<l);w=b>>3,a-=w,b-=w<<3,t&=(1<<b)-1,i.next_in=a,i.next_out=q,i.avail_in=a<n?5+(n-a):5-(a-n),i.avail_out=q<l?257+(l-q):257-(q-l),e.hold=t,e.bits=b}},{}],11:[function(c,h,e){"use strict";function aa(a){return(255&a>>>24)+(65280&a>>>8)+((65280&a)<<8)+((255&a)<<24)}function u(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new ba.Buf16(320),this.work=new ba.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(a){var b;return a&&a.state?(b=a.state,a.total_in=a.total_out=b.total=0,a.msg="",b.wrap&&(a.adler=1&b.wrap),b.mode=U,b.last=0,b.havedict=0,b.dmax=32768,b.head=null,b.hold=0,b.bits=0,b.lencode=b.lendyn=new ba.Buf32(s),b.distcode=b.distdyn=new ba.Buf32(_),b.sane=1,b.back=-1,A):C}function n(b){var c;return b&&b.state?(c=b.state,c.wsize=0,c.whave=0,c.wnext=0,a(b)):C}function r(b,c){var d,a;return b&&b.state?(a=b.state,0>c?(d=0,c=-c):(d=(c>>4)+1,48>c&&(c&=15)),c&&(8>c||15<c)?C:(null!==a.window&&a.wbits!==c&&(a.window=null),a.wrap=d,a.wbits=c,n(b))):C}function i(b,c){var d,a;return b?(a=new u,b.state=a,a.window=null,d=r(b,c),d!==A&&(b.state=null),d):C}function l(a){if(pa){var b;for(o=new ba.Buf32(512),g=new ba.Buf32(32),b=0;144>b;)a.lens[b++]=8;for(;256>b;)a.lens[b++]=9;for(;280>b;)a.lens[b++]=7;for(;288>b;)a.lens[b++]=8;for(k(x,a.lens,0,288,o,0,a.work,{bits:9}),b=0;32>b;)a.lens[b++]=5;k(y,a.lens,0,32,g,0,a.work,{bits:5}),pa=!1}a.lencode=o,a.lenbits=9,a.distcode=g,a.distbits=5}function d(b,c,d,a){var e,f=b.state;return null===f.window&&(f.wsize=1<<f.wbits,f.wnext=0,f.whave=0,f.window=new ba.Buf8(f.wsize)),a>=f.wsize?(ba.arraySet(f.window,c,d-f.wsize,f.wsize,0),f.wnext=0,f.whave=f.wsize):(e=f.wsize-f.wnext,e>a&&(e=a),ba.arraySet(f.window,c,d-a,e,f.wnext),a-=e,a?(ba.arraySet(f.window,c,d-a,a,0),f.wnext=a,f.whave=f.wsize):(f.wnext+=e,f.wnext===f.wsize&&(f.wnext=0),f.whave<f.wsize&&(f.whave+=e))),0}function f(f,i){var e,a,n,r,s,o,pa,h,qa,u,c,ra,g,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da=0,Ea=new ba.Buf8(4),Fa=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!f||!f.state||!f.output||!f.input&&0!==f.avail_in)return C;e=f.state,e.mode===G&&(e.mode=X),s=f.next_out,n=f.output,pa=f.avail_out,r=f.next_in,a=f.input,o=f.avail_in,h=e.hold,qa=e.bits,u=o,c=pa,Aa=A;t:for(;;)switch(e.mode){case U:if(0===e.wrap){e.mode=X;break}for(;16>qa;){if(0===o)break t;o--,h+=a[r++]<<qa,qa+=8}if(2&e.wrap&&35615===h){e.check=0,Ea[0]=255&h,Ea[1]=255&h>>>8,e.check=p(e.check,Ea,2,0),h=0,qa=0,e.mode=T;break}if(e.flags=0,e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&h)<<8)+(h>>8))%31){f.msg="incorrect header check",e.mode=ma;break}if((15&h)!==I){f.msg="unknown compression method",e.mode=ma;break}if(h>>>=4,qa-=4,za=(15&h)+8,0===e.wbits)e.wbits=za;else if(za>e.wbits){f.msg="invalid window size",e.mode=ma;break}e.dmax=1<<za,f.adler=e.check=1,e.mode=512&h?Y:G,h=0,qa=0;break;case T:for(;16>qa;){if(0===o)break t;o--,h+=a[r++]<<qa,qa+=8}if(e.flags=h,(255&e.flags)!==I){f.msg="unknown compression method",e.mode=ma;break}if(57344&e.flags){f.msg="unknown header flags set",e.mode=ma;break}e.head&&(e.head.text=1&h>>8),512&e.flags&&(Ea[0]=255&h,Ea[1]=255&h>>>8,e.check=p(e.check,Ea,2,0)),h=0,qa=0,e.mode=F;case F:for(;32>qa;){if(0===o)break t;o--,h+=a[r++]<<qa,qa+=8}e.head&&(e.head.time=h),512&e.flags&&(Ea[0]=255&h,Ea[1]=255&h>>>8,Ea[2]=255&h>>>16,Ea[3]=255&h>>>24,e.check=p(e.check,Ea,4,0)),h=0,qa=0,e.mode=L;case L:for(;16>qa;){if(0===o)break t;o--,h+=a[r++]<<qa,qa+=8}e.head&&(e.head.xflags=255&h,e.head.os=h>>8),512&e.flags&&(Ea[0]=255&h,Ea[1]=255&h>>>8,e.check=p(e.check,Ea,2,0)),h=0,qa=0,e.mode=H;case H:if(1024&e.flags){for(;16>qa;){if(0===o)break t;o--,h+=a[r++]<<qa,qa+=8}e.length=h,e.head&&(e.head.extra_len=h),512&e.flags&&(Ea[0]=255&h,Ea[1]=255&h>>>8,e.check=p(e.check,Ea,2,0)),h=0,qa=0}else e.head&&(e.head.extra=null);e.mode=j;case j:if(1024&e.flags&&(ra=e.length,ra>o&&(ra=o),ra&&(e.head&&(za=e.head.extra_len-e.length,e.head.extra||(e.head.extra=Array(e.head.extra_len)),ba.arraySet(e.head.extra,a,r,ra,za)),512&e.flags&&(e.check=p(e.check,a,ra,r)),o-=ra,r+=ra,e.length-=ra),e.length))break t;e.length=0,e.mode=K;case K:if(2048&e.flags){if(0===o)break t;ra=0;do za=a[r+ra++],e.head&&za&&65536>e.length&&(e.head.name+=b(za));while(za&&ra<o);if(512&e.flags&&(e.check=p(e.check,a,ra,r)),o-=ra,r+=ra,za)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=M;case M:if(4096&e.flags){if(0===o)break t;ra=0;do za=a[r+ra++],e.head&&za&&65536>e.length&&(e.head.comment+=b(za));while(za&&ra<o);if(512&e.flags&&(e.check=p(e.check,a,ra,r)),o-=ra,r+=ra,za)break t}else e.head&&(e.head.comment=null);e.mode=P;case P:if(512&e.flags){for(;16>qa;){if(0===o)break t;o--,h+=a[r++]<<qa,qa+=8}if(h!==(65535&e.check)){f.msg="header crc mismatch",e.mode=ma;break}h=0,qa=0}e.head&&(e.head.hcrc=1&e.flags>>9,e.head.done=!0),f.adler=e.check=0,e.mode=G;break;case Y:for(;32>qa;){if(0===o)break t;o--,h+=a[r++]<<qa,qa+=8}f.adler=e.check=aa(h),h=0,qa=0,e.mode=q;case q:if(0===e.havedict)return f.next_out=s,f.avail_out=pa,f.next_in=r,f.avail_in=o,e.hold=h,e.bits=qa,R;f.adler=e.check=1,e.mode=G;case G:if(i===B||i===E)break t;case X:if(e.last){h>>>=7&qa,qa-=7&qa,e.mode=ja;break}for(;3>qa;){if(0===o)break t;o--,h+=a[r++]<<qa,qa+=8}switch(e.last=1&h,h>>>=1,qa-=1,3&h){case 0:e.mode=W;break;case 1:if(l(e),e.mode=ca,i===E){h>>>=2,qa-=2;break t}break;case 2:e.mode=V;break;case 3:f.msg="invalid block type",e.mode=ma;}h>>>=2,qa-=2;break;case W:for(h>>>=7&qa,qa-=7&qa;32>qa;){if(0===o)break t;o--,h+=a[r++]<<qa,qa+=8}if((65535&h)!=(65535^h>>>16)){f.msg="invalid stored block lengths",e.mode=ma;break}if(e.length=65535&h,h=0,qa=0,e.mode=J,i===E)break t;case J:e.mode=Q;case Q:if(ra=e.length){if(ra>o&&(ra=o),ra>pa&&(ra=pa),0===ra)break t;ba.arraySet(n,a,r,ra,s),o-=ra,r+=ra,pa-=ra,s+=ra,e.length-=ra;break}e.mode=G;break;case V:for(;14>qa;){if(0===o)break t;o--,h+=a[r++]<<qa,qa+=8}if(e.nlen=(31&h)+257,h>>>=5,qa-=5,e.ndist=(31&h)+1,h>>>=5,qa-=5,e.ncode=(15&h)+4,h>>>=4,qa-=4,286<e.nlen||30<e.ndist){f.msg="too many length or distance symbols",e.mode=ma;break}e.have=0,e.mode=Z;case Z:for(;e.have<e.ncode;){for(;3>qa;){if(0===o)break t;o--,h+=a[r++]<<qa,qa+=8}e.lens[Fa[e.have++]]=7&h,h>>>=3,qa-=3}for(;19>e.have;)e.lens[Fa[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,Ba={bits:e.lenbits},Aa=k(v,e.lens,0,19,e.lencode,0,e.work,Ba),e.lenbits=Ba.bits,Aa){f.msg="invalid code lengths set",e.mode=ma;break}e.have=0,e.mode=$;case $:for(;e.have<e.nlen+e.ndist;){for(;Da=e.lencode[h&(1<<e.lenbits)-1],ta=Da>>>24,ua=255&Da>>>16,va=65535&Da,!(ta<=qa);){if(0===o)break t;o--,h+=a[r++]<<qa,qa+=8}if(16>va)h>>>=ta,qa-=ta,e.lens[e.have++]=va;else{if(16===va){for(Ca=ta+2;qa<Ca;){if(0===o)break t;o--,h+=a[r++]<<qa,qa+=8}if(h>>>=ta,qa-=ta,0===e.have){f.msg="invalid bit length repeat",e.mode=ma;break}za=e.lens[e.have-1],ra=3+(3&h),h>>>=2,qa-=2}else if(17===va){for(Ca=ta+3;qa<Ca;){if(0===o)break t;o--,h+=a[r++]<<qa,qa+=8}h>>>=ta,qa-=ta,za=0,ra=3+(7&h),h>>>=3,qa-=3}else{for(Ca=ta+7;qa<Ca;){if(0===o)break t;o--,h+=a[r++]<<qa,qa+=8}h>>>=ta,qa-=ta,za=0,ra=11+(127&h),h>>>=7,qa-=7}if(e.have+ra>e.nlen+e.ndist){f.msg="invalid bit length repeat",e.mode=ma;break}for(;ra--;)e.lens[e.have++]=za}}if(e.mode===ma)break;if(0===e.lens[256]){f.msg="invalid code -- missing end-of-block",e.mode=ma;break}if(e.lenbits=9,Ba={bits:e.lenbits},Aa=k(x,e.lens,0,e.nlen,e.lencode,0,e.work,Ba),e.lenbits=Ba.bits,Aa){f.msg="invalid literal/lengths set",e.mode=ma;break}if(e.distbits=6,e.distcode=e.distdyn,Ba={bits:e.distbits},Aa=k(y,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,Ba),e.distbits=Ba.bits,Aa){f.msg="invalid distances set",e.mode=ma;break}if(e.mode=ca,i===E)break t;case ca:e.mode=da;case da:if(6<=o&&258<=pa){f.next_out=s,f.avail_out=pa,f.next_in=r,f.avail_in=o,e.hold=h,e.bits=qa,m(f,c),s=f.next_out,n=f.output,pa=f.avail_out,r=f.next_in,a=f.input,o=f.avail_in,h=e.hold,qa=e.bits,e.mode===G&&(e.back=-1);break}for(e.back=0;Da=e.lencode[h&(1<<e.lenbits)-1],ta=Da>>>24,ua=255&Da>>>16,va=65535&Da,!(ta<=qa);){if(0===o)break t;o--,h+=a[r++]<<qa,qa+=8}if(ua&&0==(240&ua)){for(wa=ta,xa=ua,ya=va;Da=e.lencode[ya+((h&(1<<wa+xa)-1)>>wa)],ta=Da>>>24,ua=255&Da>>>16,va=65535&Da,!(wa+ta<=qa);){if(0===o)break t;o--,h+=a[r++]<<qa,qa+=8}h>>>=wa,qa-=wa,e.back+=wa}if(h>>>=ta,qa-=ta,e.back+=ta,e.length=va,0===ua){e.mode=ia;break}if(32&ua){e.back=-1,e.mode=G;break}if(64&ua){f.msg="invalid literal/length code",e.mode=ma;break}e.extra=15&ua,e.mode=ea;case ea:if(e.extra){for(Ca=e.extra;qa<Ca;){if(0===o)break t;o--,h+=a[r++]<<qa,qa+=8}e.length+=h&(1<<e.extra)-1,h>>>=e.extra,qa-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=fa;case fa:for(;Da=e.distcode[h&(1<<e.distbits)-1],ta=Da>>>24,ua=255&Da>>>16,va=65535&Da,!(ta<=qa);){if(0===o)break t;o--,h+=a[r++]<<qa,qa+=8}if(0==(240&ua)){for(wa=ta,xa=ua,ya=va;Da=e.distcode[ya+((h&(1<<wa+xa)-1)>>wa)],ta=Da>>>24,ua=255&Da>>>16,va=65535&Da,!(wa+ta<=qa);){if(0===o)break t;o--,h+=a[r++]<<qa,qa+=8}h>>>=wa,qa-=wa,e.back+=wa}if(h>>>=ta,qa-=ta,e.back+=ta,64&ua){f.msg="invalid distance code",e.mode=ma;break}e.offset=va,e.extra=15&ua,e.mode=ga;case ga:if(e.extra){for(Ca=e.extra;qa<Ca;){if(0===o)break t;o--,h+=a[r++]<<qa,qa+=8}e.offset+=h&(1<<e.extra)-1,h>>>=e.extra,qa-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){f.msg="invalid distance too far back",e.mode=ma;break}e.mode=ha;case ha:if(0===pa)break t;if(ra=c-pa,e.offset>ra){if(ra=e.offset-ra,ra>e.whave&&e.sane){f.msg="invalid distance too far back",e.mode=ma;break}ra>e.wnext?(ra-=e.wnext,g=e.wsize-ra):g=e.wnext-ra,ra>e.length&&(ra=e.length),sa=e.window}else sa=n,g=s-e.offset,ra=e.length;ra>pa&&(ra=pa),pa-=ra,e.length-=ra;do n[s++]=sa[g++];while(--ra);0===e.length&&(e.mode=da);break;case ia:if(0===pa)break t;n[s++]=e.length,pa--,e.mode=da;break;case ja:if(e.wrap){for(;32>qa;){if(0===o)break t;o--,h|=a[r++]<<qa,qa+=8}if(c-=pa,f.total_out+=c,e.total+=c,c&&(f.adler=e.check=e.flags?p(e.check,n,c,s-c):w(e.check,n,c,s-c)),c=pa,(e.flags?h:aa(h))!==e.check){f.msg="incorrect data check",e.mode=ma;break}h=0,qa=0}e.mode=ka;case ka:if(e.wrap&&e.flags){for(;32>qa;){if(0===o)break t;o--,h+=a[r++]<<qa,qa+=8}if(h!==(4294967295&e.total)){f.msg="incorrect length check",e.mode=ma;break}h=0,qa=0}e.mode=la;case la:Aa=S;break t;case ma:Aa=N;break t;case na:return O;case oa:default:return C;}return f.next_out=s,f.avail_out=pa,f.next_in=r,f.avail_in=o,e.hold=h,e.bits=qa,(e.wsize||c!==f.avail_out&&e.mode<ma&&(e.mode<ja||i!==z))&&d(f,f.output,f.next_out,c-f.avail_out)?(e.mode=na,O):(u-=f.avail_in,c-=f.avail_out,f.total_in+=u,f.total_out+=c,e.total+=c,e.wrap&&c&&(f.adler=e.check=e.flags?p(e.check,n,c,f.next_out-c):w(e.check,n,c,f.next_out-c)),f.data_type=e.bits+(e.last?64:0)+(e.mode===G?128:0)+(e.mode===ca||e.mode===J?256:0),(0===u&&0===c||i===z)&&Aa===A&&(Aa=D),Aa)}var o,g,ba=c("../utils/common"),w=c("./adler32"),p=c("./crc32"),m=c("./inffast"),k=c("./inftrees"),v=0,x=1,y=2,z=4,B=5,E=6,A=0,S=1,R=2,C=-2,N=-3,O=-4,D=-5,I=8,U=1,T=2,F=3,L=4,H=5,j=6,K=7,M=8,P=9,Y=10,q=11,G=12,X=13,W=14,J=15,Q=16,V=17,Z=18,$=19,ca=20,da=21,ea=22,fa=23,ga=24,ha=25,ia=26,ja=27,ka=28,la=29,ma=30,na=31,oa=32,s=852,_=592,pa=!0;e.inflateReset=n,e.inflateReset2=r,e.inflateResetKeep=a,e.inflateInit=function(a){return i(a,15)},e.inflateInit2=i,e.inflate=f,e.inflateEnd=function(a){if(!a||!a.state)return C;var b=a.state;return b.window&&(b.window=null),a.state=null,A},e.inflateGetHeader=function(b,c){var d;return b&&b.state?(d=b.state,0==(2&d.wrap)?C:(d.head=c,c.done=!1,A)):C},e.inflateSetDictionary=function(b,c){var e,a,f,g=c.length;return b&&b.state?(e=b.state,0!==e.wrap&&e.mode!==q?C:e.mode===q&&(a=1,a=w(a,c,g,0),a!==e.check)?N:(f=d(b,c,g,g))?(e.mode=na,O):(e.havedict=1,A)):C},e.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./inffast":10,"./inftrees":12}],12:[function(a,b){"use strict";var q=a("../utils/common"),i=15,n=852,r=592,s=0,o=1,l=2,h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],G=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];b.exports=function(u,t,e,a,c,b,g,m){var w,p,v,k,y,x,z,B,J,E=m.bits,A=0,Q=0,R=0,C=0,N=0,O=0,D=0,I=0,S=0,T=0,F=null,L=0,H=new q.Buf16(i+1),j=new q.Buf16(i+1),K=null,M=0;for(A=0;A<=i;A++)H[A]=0;for(Q=0;Q<a;Q++)H[t[e+Q]]++;for(N=E,C=i;1<=C&&0===H[C];C--);if(N>C&&(N=C),0==C)return c[b++]=20971520,c[b++]=20971520,m.bits=1,0;for(R=1;R<C&&0===H[R];R++);for(N<R&&(N=R),I=1,A=1;A<=i;A++)if(I<<=1,I-=H[A],0>I)return-1;if(0<I&&(u===s||1!=C))return-1;for(j[1]=0,A=1;A<i;A++)j[A+1]=j[A]+H[A];for(Q=0;Q<a;Q++)0!==t[e+Q]&&(g[j[t[e+Q]]++]=Q);if(u===s?(F=K=g,x=19):u===o?(F=h,L-=257,K=d,M-=257,x=256):(F=f,K=G,x=-1),T=0,Q=0,A=R,y=b,O=N,D=0,v=-1,S=1<<N,k=S-1,u===o&&S>n||u===l&&S>r)return 1;for(;;){z=A-D,g[Q]<x?(B=0,J=g[Q]):g[Q]>x?(B=K[M+g[Q]],J=F[L+g[Q]]):(B=96,J=0),w=1<<A-D,p=1<<O,R=p;do p-=w,c[y+(T>>D)+p]=0|(z<<24|B<<16|J);while(0!==p);for(w=1<<A-1;T&w;)w>>=1;if(0===w?T=0:(T&=w-1,T+=w),Q++,0==--H[A]){if(A==C)break;A=t[e+g[Q]]}if(A>N&&(T&k)!==v){for(0==D&&(D=N),y+=R,O=A-D,I=1<<O;O+D<C&&(I-=H[O+D],!(0>=I));)O++,I<<=1;if(S+=1<<O,u===o&&S>n||u===l&&S>r)return 1;v=T&k,c[v]=0|(N<<24|O<<16|y-b)}}return 0!==T&&(c[y+T]=0|(A-D<<24|4194304)),m.bits=N,0}},{"../utils/common":3}],13:[function(a,b){"use strict";b.exports={0:"",1:"stream end",2:"need dictionary","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],14:[function(j,t,e){"use strict";function a(a){for(var b=a.length;0<=--b;)a[b]=0}function C(b,c,d,a,e){this.static_tree=b,this.extra_bits=c,this.extra_base=d,this.elems=a,this.max_length=e,this.has_stree=b&&b.length}function i(a,b){this.dyn_tree=a,this.max_code=0,this.stat_desc=b}function E(a){return 256>a?$[a]:$[256+(a>>>7)]}function n(a,b){a.pending_buf[a.pending++]=255&b,a.pending_buf[a.pending++]=255&b>>>8}function H(b,c,d){b.bi_valid>P-d?(b.bi_buf|=65535&c<<b.bi_valid,n(b,b.bi_buf),b.bi_buf=c>>P-b.bi_valid,b.bi_valid+=d-P):(b.bi_buf|=65535&c<<b.bi_valid,b.bi_valid+=d)}function l(b,c,d){H(b,d[2*c],d[2*c+1])}function h(b,c){var d=0;do d|=1&b,b>>>=1,d<<=1;while(0<--c);return d>>>1}function d(a){16===a.bi_valid?(n(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):8<=a.bi_valid&&(a.pending_buf[a.pending++]=255&a.bi_buf,a.bi_buf>>=8,a.bi_valid-=8)}function f(g,j){var e,a,i,k,m,n,o=j.dyn_tree,l=j.max_code,h=j.stat_desc.static_tree,d=j.stat_desc.has_stree,f=j.stat_desc.extra_bits,p=j.stat_desc.extra_base,r=j.stat_desc.max_length,c=0;for(k=0;k<=G;k++)g.bl_count[k]=0;for(o[2*g.heap[g.heap_max]+1]=0,e=g.heap_max+1;e<q;e++)a=g.heap[e],k=o[2*o[2*a+1]+1]+1,k>r&&(k=r,c++),o[2*a+1]=k,a>l||(g.bl_count[k]++,m=0,a>=p&&(m=f[a-p]),n=o[2*a],g.opt_len+=n*(k+m),d&&(g.static_len+=n*(h[2*a+1]+m)));if(0!=c){do{for(k=r-1;0===g.bl_count[k];)k--;g.bl_count[k]--,g.bl_count[k+1]+=2,g.bl_count[r]--,c-=2}while(0<c);for(k=r;0!==k;k--)for(a=g.bl_count[k];0!==a;)i=g.heap[--e],i>l||(o[2*i+1]!==k&&(g.opt_len+=(k-o[2*i+1])*o[2*i],o[2*i+1]=k),a--)}}function L(b,c,d){var a,e,f=Array(G+1),g=0;for(a=1;a<=G;a++)f[a]=g=g+d[a-1]<<1;for(e=0;e<=c;e++){var i=b[2*e+1];0!==i&&(b[2*e]=h(f[i]++,i))}}function o(){var b,c,d,a,e,f=Array(G+1);for(d=0,a=0;a<F-1;a++)for(aa[a]=d,b=0;b<1<<U[a];b++)_[d++]=a;for(_[d-1]=a,e=0,a=0;16>a;a++)for(ba[a]=e,b=0;b<1<<V[a];b++)$[e++]=a;for(e>>=7;a<N;a++)for(ba[a]=e<<7,b=0;b<1<<V[a]-7;b++)$[256+e++]=a;for(c=0;c<=G;c++)f[c]=0;for(b=0;143>=b;)Y[2*b+1]=8,b++,f[8]++;for(;255>=b;)Y[2*b+1]=9,b++,f[9]++;for(;279>=b;)Y[2*b+1]=7,b++,f[7]++;for(;287>=b;)Y[2*b+1]=8,b++,f[8]++;for(L(Y,M+1,f),b=0;b<N;b++)Z[2*b+1]=5,Z[2*b]=h(b,5);ca=new C(Y,U,K+1,M,G),da=new C(Z,V,0,N,G),ea=new C([],W,0,O,R)}function c(a){var b;for(b=0;b<M;b++)a.dyn_ltree[2*b]=0;for(b=0;b<N;b++)a.dyn_dtree[2*b]=0;for(b=0;b<O;b++)a.bl_tree[2*b]=0;a.dyn_ltree[2*J]=1,a.opt_len=a.static_len=0,a.last_lit=a.matches=0}function b(a){8<a.bi_valid?n(a,a.bi_buf):0<a.bi_valid&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0}function g(c,d,e,f){b(c),f&&(n(c,e),n(c,~e)),z.arraySet(c.pending_buf,c.window,d,e,c.pending),c.pending+=e}function m(b,c,d,a){var e=2*c,f=2*d;return b[e]<b[f]||b[e]===b[f]&&a[c]<=a[d]}function s(b,c,d){for(var a=b.heap[d],e=d<<1;e<=b.heap_len&&(e<b.heap_len&&m(c,b.heap[e+1],b.heap[e],b.depth)&&e++,!m(c,a,b.heap[e],b.depth));)b.heap[d]=b.heap[e],d=e,e<<=1;b.heap[d]=a}function p(b,c,e){var a,f,g,h,i=0;if(0!==b.last_lit)do a=b.pending_buf[b.d_buf+2*i]<<8|b.pending_buf[b.d_buf+2*i+1],f=b.pending_buf[b.l_buf+i],i++,0===a?l(b,f,c):(g=_[f],l(b,g+K+1,c),h=U[g],0!==h&&(f-=aa[g],H(b,f,h)),a--,g=E(a),l(b,g,e),h=V[g],0!==h&&(a-=ba[g],H(b,a,h)));while(i<b.last_lit);l(b,J,c)}function u(b,c){var d,a,e,g=c.dyn_tree,i=c.stat_desc.static_tree,j=c.stat_desc.has_stree,k=c.stat_desc.elems,l=-1;for(b.heap_len=0,b.heap_max=q,d=0;d<k;d++)0===g[2*d]?g[2*d+1]=0:(b.heap[++b.heap_len]=l=d,b.depth[d]=0);for(;2>b.heap_len;)e=b.heap[++b.heap_len]=2>l?++l:0,g[2*e]=1,b.depth[e]=0,b.opt_len--,j&&(b.static_len-=i[2*e+1]);for(c.max_code=l,d=b.heap_len>>1;1<=d;d--)s(b,g,d);e=k;do d=b.heap[1],b.heap[1]=b.heap[b.heap_len--],s(b,g,1),a=b.heap[1],b.heap[--b.heap_max]=d,b.heap[--b.heap_max]=a,g[2*e]=g[2*d]+g[2*a],b.depth[e]=(b.depth[d]>=b.depth[a]?b.depth[d]:b.depth[a])+1,g[2*d+1]=g[2*a+1]=e,b.heap[1]=e++,s(b,g,1);while(2<=b.heap_len);b.heap[--b.heap_max]=b.heap[1],f(b,c),L(g,l,b.bl_count)}function k(b,c,d){var a,e,f=-1,g=c[1],i=0,j=7,k=4;for(0===g&&(j=138,k=3),c[2*(d+1)+1]=65535,a=0;a<=d;a++)e=g,g=c[2*(a+1)+1],++i<j&&e===g||(i<k?b.bl_tree[2*e]+=i:0===e?10>=i?b.bl_tree[2*S]++:b.bl_tree[2*T]++:(e!==f&&b.bl_tree[2*e]++,b.bl_tree[2*Q]++),i=0,f=e,0===g?(j=138,k=3):e===g?(j=6,k=3):(j=7,k=4))}function r(b,c,e){var a,g,h=-1,i=c[1],j=0,k=7,d=4;for(0===i&&(k=138,d=3),a=0;a<=e;a++)if(g=i,i=c[2*(a+1)+1],!(++j<k&&g===i)){if(j<d)do l(b,g,b.bl_tree);while(0!=--j);else 0===g?10>=j?(l(b,S,b.bl_tree),H(b,j-3,3)):(l(b,T,b.bl_tree),H(b,j-11,7)):(g!==h&&(l(b,g,b.bl_tree),j--),l(b,Q,b.bl_tree),H(b,j-3,2));j=0,h=g,0===i?(k=138,d=3):g===i?(k=6,d=3):(k=7,d=4)}}function v(a){var b;for(k(a,a.dyn_ltree,a.l_desc.max_code),k(a,a.dyn_dtree,a.d_desc.max_code),u(a,a.bl_desc),b=O-1;3<=b&&0===a.bl_tree[2*X[b]+1];b--);return a.opt_len+=3*(b+1)+5+5+4,b}function w(b,c,d,a){var e;for(H(b,c-257,5),H(b,d-1,5),H(b,a-4,4),e=0;e<a;e++)H(b,b.bl_tree[2*X[e]+1],3);r(b,b.dyn_ltree,c-1),r(b,b.dyn_dtree,d-1)}function x(b){var c,d=4093624447;for(c=0;31>=c;c++,d>>>=1)if(1&d&&0!==b.dyn_ltree[2*c])return A;if(0!==b.dyn_ltree[18]||0!==b.dyn_ltree[20]||0!==b.dyn_ltree[26])return B;for(c=32;c<K;c++)if(0!==b.dyn_ltree[2*c])return B;return A}function y(b,c,d,a){H(b,(D<<1)+(a?1:0),3),g(b,c,d,!0)}var z=j("../utils/common"),A=0,B=1,D=0,I=1,F=29,K=256,M=K+1+F,N=30,O=19,q=2*M+1,G=15,P=16,R=7,J=256,Q=16,S=17,T=18,U=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],V=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],W=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=Array(2*(M+2));a(Y);var Z=Array(2*N);a(Z);var $=Array(512);a($);var _=Array(258-3+1);a(_);var aa=Array(F);a(aa);var ba=Array(N);a(ba);var ca,da,ea,fa=!1;e._tr_init=function(a){fa||(o(),fa=!0),a.l_desc=new i(a.dyn_ltree,ca),a.d_desc=new i(a.dyn_dtree,da),a.bl_desc=new i(a.bl_tree,ea),a.bi_buf=0,a.bi_valid=0,c(a)},e._tr_stored_block=y,e._tr_flush_block=function(d,f,e,a){var g,h,i=0;0<d.level?(d.strm.data_type===2&&(d.strm.data_type=x(d)),u(d,d.l_desc),u(d,d.d_desc),i=v(d),g=d.opt_len+3+7>>>3,h=d.static_len+3+7>>>3,h<=g&&(g=h)):g=h=e+5,e+4<=g&&-1!==f?y(d,f,e,a):d.strategy===4||h===g?(H(d,(I<<1)+(a?1:0),3),p(d,Y,Z)):(H(d,(2<<1)+(a?1:0),3),w(d,d.l_desc.max_code+1,d.d_desc.max_code+1,i+1),p(d,d.dyn_ltree,d.dyn_dtree)),c(d),a&&b(d)},e._tr_tally=function(b,c,d){return b.pending_buf[b.d_buf+2*b.last_lit]=255&c>>>8,b.pending_buf[b.d_buf+2*b.last_lit+1]=255&c,b.pending_buf[b.l_buf+b.last_lit]=255&d,b.last_lit++,0===c?b.dyn_ltree[2*d]++:(b.matches++,c--,b.dyn_ltree[2*(_[d]+K+1)]++,b.dyn_dtree[2*E(c)]++),b.last_lit===b.lit_bufsize-1},e._tr_align=function(a){H(a,I<<1,3),l(a,J,Y),d(a)}},{"../utils/common":3}],15:[function(a,b){"use strict";b.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/":[function(a,b){"use strict";var c=a("./lib/utils/common").assign,d=a("./lib/deflate"),e=a("./lib/inflate"),f=a("./lib/zlib/constants"),g={};c(g,d,e,f),b.exports=g},{"./lib/deflate":1,"./lib/inflate":2,"./lib/utils/common":3,"./lib/zlib/constants":6}]},{},[])("/")});</script><dom-module id="dtile-projects-view" assetpath="src/dtile-app/"><template><style>#main-container{color:#fff;padding:50px;box-sizing:border-box}#projects-container{display:flex;flex-wrap:wrap;margin:0 -30px}#projects-container>paper-card{flex:1 1 300px;margin:30px}paper-card>.card-actions{border-top:1px solid rgba(255,255,255,.12)}paper-card .card-header{display:flex;align-items:center}paper-card .card-header>h2{flex-grow:1}</style><div id="main-container"><h1>DTile Projects</h1><paper-button on-tap="_addProject">Add Project</paper-button><div id="projects-container"><template is="dom-repeat" items="{{projects}}"><paper-card><div class="card-content"><div class="card-header"><h2>[[item.name]]</h2><paper-menu-button><paper-icon-button icon="more-vert" slot="dropdown-trigger"></paper-icon-button><div slot="dropdown-content"><paper-item on-tap="_renameProject">Rename</paper-item><paper-item on-tap="_exportProject">Export</paper-item></div></paper-menu-button></div></div><div class="card-actions"><paper-icon-button icon="delete" on-tap="_removeProject"></paper-icon-button><paper-button on-tap="_openProject">Open</paper-button></div></paper-card></template></div></div></template></dom-module><script>var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};class DTileProjectsView extends DTile.ReduxMixin(Polymer.Element){static get is(){return"dtile-projects-view"}static get properties(){return{projects:{type:Object,statePath(a){return Object.keys(a.entities.projects).map((b)=>_extends({},a.entities.projects[b],{id:b}))}}}}static get actions(){return{addProject(a,b={}){const c=b.name||`Project ${a+1}`;return{type:"ADD_PROJECT",payload:_extends({projectId:a},b,{name:c})}},removeProject(a){return{type:"REMOVE_PROJECT",payload:{projectId:a.id}}},renameProject(a,b){return{type:"RENAME_PROJECT",payload:{projectId:a,name:b}}},addMap(a,b){return{type:"ADD_MAP",payload:_extends({mapId:a},b)}},importTileset(a,b){return{type:"IMPORT_TILESET",payload:_extends({tilesetId:a},b)}}}}ready(){super.ready(),this.addEventListener("dtile-file-import",async({detail:{files:a}})=>{for(let b of a){const a=new Uint8Array((await DTile.utils.readFileAsArrayBuffer(b))),c=await pako.ungzip(a),d=c.reduce((a,c)=>a+String.fromCharCode(c),""),e=JSON.parse(d);for(let a of e.projects){const b=new Map,c=[];await Promise.all(a.tilesets.map(async(a,c)=>{const d=await DTile.storage.getAvailableTilesetId(),e=await DTile.storage.getAvailableImageId();b.set(c,d),await DTile.storage.addTilesetImage(e,a.url),this.dispatch("importTileset",d,_extends({},a,{imageId:e}))})),await Promise.all(a.maps.map(async(a)=>{if(a){const d=await DTile.storage.getAvailableMapId();c.push(d),a.layers=a.layers.map((a)=>_extends({},a,{tiles:a.tiles.map((a)=>null===a?{tileId:-1,tilesetId:-1}:_extends({},a,{tilesetId:b.get(a.tilesetId)}))})),this.dispatch("addMap",d,a)}}));const d=await DTile.storage.getAvailableProjectId();this.dispatch("addProject",d,{name:a.name,meta:a.meta,tilesetIds:Array.from(b.values()),mapIds:c})}}})}async _addProject(){const a=await DTile.storage.getAvailableProjectId();this.dispatch("addProject",a)}_removeProject(a){const b=a.model.item;this.dispatch("removeProject",b)}_renameProject(a){a.target.parentElement.parentElement.close(),this.dispatchEvent(new CustomEvent("rename",{composed:!0,bubbles:!0,detail:{itemType:"Project",currentName:a.model.item.name,callback:({newName:b})=>{this.dispatch("renameProject",a.model.index,b)}}}))}_openProject(a){this.dispatch("setCurrentProjectId",a.model.item.id),this.dispatch("setCurrentPage",{page:"project"})}async _exportProject(a){a.target.parentElement.parentElement.close();const b=this.getState(),c=b.entities.projects[a.model.item.id],d=new Map,e=await Promise.all(c.tilesetIds.map(async(a,c)=>{d.set(a,c);const e=b.entities.tilesets[a],f=await(await fetch(e.url)).blob(),g=await new Promise((a)=>{const b=new FileReader;b.onloadend=()=>a(b.result),b.readAsDataURL(f)});return _extends({},e,{url:g})})),f=c.mapIds.map((a)=>{if(b.entities.maps[a]){const c=b.entities.maps[a].present;return _extends({},c,{layers:c.layers.map((a)=>_extends({},a,{tiles:a.tiles.map((a)=>0>a.tileId||0>a.tilesetId?null:{tileId:a.tileId,tilesetId:d.get(a.tilesetId)})}))})}}),g=JSON.stringify({projects:[{name:c.name,meta:c.meta,tilesets:e,maps:f}]}),h=new Blob([pako.gzip(g)]);saveAs(h,`${c.name}.dtile`)}}customElements.define(DTileProjectsView.is,DTileProjectsView);</script><dom-module id="granite-file-reader" assetpath="bower_components/granite-file-reader/"><template><style>:host{display:block;cursor:pointer}[hidden]{display:none}</style><slot></slot><input id="fileInput" on-change="_onChange" type="file" accept="{{accept}}" multiple="[[multiple]]" hidden=""></template><script>Polymer({is:'granite-file-reader',properties:{accept:{type:String,value:null},readAs:{type:String,value:'text'},multiple:{type:Boolean,value:!1},debug:{type:Boolean,value:!1}},listeners:{tap:'_onTap'},_onTap:function(a){if(this.debug&&(console.log('[granite-file-reader] _onTap',a.target.localName),console.dir(a)),'granite-file-reader'!=a.target.localName&&'fileInput'!=a.target.id){var b=this.$.fileInput;if(b&&document.createEvent){let a=document.createEvent('MouseEvents');a.initEvent('click',!0,!1),this.debug&&console.log('[granite-file-reader] _onTap - dispatch'),b.dispatchEvent(a)}}},_onChange:function(){if(this.$.fileInput.files){this.debug&&console.log('[granite-file-reader] _onChange',this.$.fileInput.files);for(const a of this.$.fileInput.files){this.debug&&console.log('[granite-file-reader] _onChange',a);let b=new FileReader;switch(b.onloadstart=(a)=>{this.debug&&console.log('[granite-file-reader] firing `load-start` event'),this.fire('load-start',a.target.result)},b.onloadend=(a)=>{this.debug&&console.log('[granite-file-reader] firing `load-end` event'),this.fire('load-end',a.target.result)},b.onerror=(a)=>{this.debug&&console.log('[granite-file-reader] firing `error` event'),this.fire('error',a.target.result),this.clearInput()},b.abort=(a)=>{this.debug&&console.log('[granite-file-reader] firing `abort` event'),this.fire('error',a.target.result),this.clearInput()},b.onload=(a)=>{this.debug&&console.log('[granite-file-reader] firing `load` event',a.target.result),this.fire('file-read',a.target.result),this.fire('load',a.target.result),this.clearInput()},this.readAs){case'binary':b.readAsBinaryString(a);break;case'ArrayBuffer':b.readAsArrayBuffer(a);break;case'dataURL':b.readAsDataURL(a);break;case'text':default:b.readAsText(a);}}}},clearInput:function(){this.debounce('clearInput',()=>{this.$.fileInput.value=''},10)}});</script></dom-module><script>window.DTile=window.DTile||{},window.DTile.utils={};const getPromiseReader=()=>{const a=new FileReader,b=new Promise((b)=>{a.onload=()=>{b(a.result)}});return{reader:a,promise:b}};window.DTile.utils.readFileAsText=(a)=>{const{reader:b,promise:c}=getPromiseReader();return b.readAsText(a,"UTF-8"),c},window.DTile.utils.readFileAsArrayBuffer=(a)=>{const{reader:b,promise:c}=getPromiseReader();return b.readAsArrayBuffer(a),c},window.DTile.utils.autotiles={tileMapping:{0:4,2:23,8:7,10:47,11:43,16:1,18:40,22:44,24:41,26:33,27:46,30:42,31:45,64:31,66:39,72:15,74:26,75:22,80:8,82:32,86:24,88:9,90:18,91:25,94:10,95:21,104:3,106:30,107:38,120:6,122:17,123:14,126:35,127:20,208:5,210:16,214:27,216:2,218:34,219:11,222:19,223:36,248:12,250:29,251:28,254:13,255:37},getId(a,c,d,e,f,g,h,b){!a||f&&b||(a=!1),!c||f&&g||(c=!1),!d||h&&b||(d=!1),!e||h&&g||(e=!1);const i=parseInt(1*a+2*f+4*c+8*b+16*g+32*d+64*h+128*e);return window.DTile.utils.autotiles.tileMapping[i]}};</script><dom-module id="dtile-map-importer" assetpath="src/map-importer/"><template><style>.tileset{display:flex;align-items:center}.tileset>.image-container{width:100px;max-height:70px;display:flex;justify-content:center;align-items:center}.tileset img{max-width:100px;max-height:70px}.tileset>.info{flex-grow:1;display:flex;flex-direction:column;justify-content:center;padding:20px;box-sizing:border-box}</style><paper-dialog id="dialog"><h2>Import map</h2><span>The following tilesets couldn't be automatially imported. Please provide the image file(s) manually.</span><template id="tileset-repeater" is="dom-repeat" items="[[requestedTilesets]]"><div class="tileset"><div class="image-container"><img src="[[_getTilesetImage(item.id, importedTilesets.*, _tilesetSelections.*)]]"></div><div class="info"><span class="title">[[item.tileset.name]]</span><paper-dropdown-menu on-selected-item-changed="_setSelectedTileset"><paper-listbox slot="dropdown-content"><template class="tilesets-repeater" is="dom-repeat" items="[[projectTilesets]]"><paper-item>[[item.tileset.name]]</paper-item></template><granite-file-reader read-as="dataURL"><paper-item>Browse for tileset</paper-item></granite-file-reader></paper-listbox></paper-dropdown-menu></div></div></template><div class="buttons"><paper-button dialog-dismiss="" on-tap="_reset">Cancel</paper-button><paper-button dialog-confirm="" on-tap="_importTapped">Import</paper-button></div></paper-dialog></template></dom-module><script>DTile.importers=[];</script><script>var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};(()=>{DTile.importers.push(class{static match(a){return a.name.match(/\.json(?:\.gz)?$/)}static async parseData(a){let b=new Uint8Array(a);try{b=pako.ungzip(a)}catch(a){}const c=b.reduce((a,c)=>a+String.fromCharCode(c),"");return JSON.parse(c)}static async getNeededTilesets(a){return a.tilesets?a.tilesets.map((a,b)=>({tileset:a,id:b})).filter(({tileset:a})=>!a.url&&a.path):void 0}static async importTilesets(a,b){return await Promise.all(a.tilesets.map(async(a,c)=>{b[c]&&(a.url=b[c]);const d=await(await fetch(a.url)).blob();return{tileset:a,imageBlob:d}}))}static async importMap(a,b){const c=a.layers.map((a)=>_extends({},a,{tiles:a.tiles.map((a)=>null===a?{tileId:-1,tilesetId:-1}:_extends({},a,{tilesetId:b.get(parseInt(a.tilesetId))}))}));return _extends({},a,{layers:c})}})})();</script><script>var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};(()=>{function a(a){const b=[];for(let c=0;c<a.length/4;c++){const d=4*c;b[c]=a[d]+255*a[d+1]+65025*a[d+2]+16581375*a[d+3]}return b}function b(a){const b={};if(!a)return b;const c=[...a.getElementsByTagName("property")];return c.forEach((a)=>{const c=a.getAttribute("name"),d=a.getAttribute("value")||a.innerHTML;b[c]=d}),b}DTile.importers.push(class{static match(a){return a.name.match(/\.tmx$/)}static async parseData(c,d){const e=c.reduce((a,c)=>a+String.fromCharCode(c),""),f=new DOMParser,g=f.parseFromString(e,"text/xml"),h=g.getElementsByTagName("map")[0],i=h.getElementsByTagName("tileset"),j=h.getElementsByTagName("layer"),k=h.getElementsByTagName("object"),l=d.name.match(/(.+?)\.tmx/)[1],m=parseInt(h.getAttribute("tilewidth")),n=parseInt(h.getAttribute("tileheight"));let o=h.getAttribute("orientation");"orthogonal"===o?o="ortho":void 0;const p=[...i].map((a)=>{const c=a.getElementsByTagName("properties")[0];return{name:a.getAttribute("name"),firstGid:parseInt(a.getAttribute("firstgid")),tileWidth:parseInt(a.getAttribute("tilewidth")),tileHeight:parseInt(a.getAttribute("tileheight")),path:a.getElementsByTagName("image")[0].getAttribute("source"),tilesetType:o,meta:b(c)}}),q=[...j].map((c)=>{const d=c.getElementsByTagName("data")[0];let e=d.innerHTML;"base64"===d.getAttribute("encoding")&&(e=atob(e));let f=new Uint8Array([...e].map((a)=>a.charCodeAt(0)));d.getAttribute("compression")&&(f=pako.inflate(f)),f=a(f),f=f.map((a)=>{const b=p.reduce((b,c)=>c.firstGid<=a&&c.firstGid>b?c:b),c=p.findIndex((a)=>b===a),d=a-b.firstGid;return{tileId:d,tilesetId:c}});const g=c.getElementsByTagName("properties")[0];return{name:c.getAttribute("name"),tiles:f,meta:b(g)}}),r=[...k].map((a)=>{const c=a.getElementsByTagName("properties")[0];return{name:a.getAttribute("name"),x:parseInt(a.getAttribute("x"))/m,y:parseInt(a.getAttribute("y"))/n,width:parseInt(a.getAttribute("width"))/m,height:parseInt(a.getAttribute("height"))/n,meta:b(c)}}),s=b(h.getElementsByTagName("properties")[0]);return{name:l,width:parseInt(h.getAttribute("width")),height:parseInt(h.getAttribute("height")),tileWidth:m,tileHeight:n,layers:q,objects:r,tilesets:p,meta:s}}static async getNeededTilesets(a){return a.tilesets?a.tilesets.map((a,b)=>({tileset:a,id:b})).filter(({tileset:a})=>!a.url&&a.path):void 0}static async importTilesets(a,b){return await Promise.all(a.tilesets.map(async(a,c)=>{b[c]&&(a.url=b[c]);const d=await(await fetch(a.url)).blob();return{tileset:a,imageBlob:d}}))}static async importMap(a,b){const c=a.layers.map((a)=>_extends({},a,{tiles:a.tiles.map((a)=>null===a?{tileId:-1,tilesetId:-1}:_extends({},a,{tilesetId:b.get(parseInt(a.tilesetId))}))}));return _extends({},a,{layers:c})}})})();</script><script>var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};const UPLOADED_TILESET="@@__TILESET_UPLOAD";class DTileMapImporter extends DTile.ReduxMixin(Polymer.Element){static get is(){return"dtile-map-importer"}static get properties(){return{requestedTilesets:{type:Array,value:()=>[]},importedTilesets:{type:Object,value:()=>({})},projectTilesets:{type:Array},_tilesetSelections:{type:Object,value:()=>({})}}}static get actions(){return{importMap(a,b,c){return{type:"ADD_MAP",payload:_extends({projectId:a,mapId:b},c)}},importTileset(a,b){return{type:"IMPORT_TILESET",payload:_extends({tilesetId:a},b)}},addTilesetToProject(a,b){return{type:"ADD_TILESET_TO_PROJECT",payload:{projectId:a,tilesetId:b}}}}}async importFiles(a){const b=this.getState();for(let c of a){const a=this._findImporter(c),d=new Uint8Array((await DTile.utils.readFileAsArrayBuffer(c))),e=await a.parseData(d,c);if(this.requestedTilesets=await a.getNeededTilesets(e),this.requestedTilesets.length){this.$.dialog.open();const a=(a)=>{const b=this.$["tileset-repeater"].itemForElement(a.target);this.set(`importedTilesets.${b.id}`,a.detail)};this.$.dialog.addEventListener("file-read",a),await this._waitForTilesetImporting(),this.$.dialog.removeEventListener("file-read",a)}const f=Object.keys(this.importedTilesets).reduce((a,b)=>{const c=this.importedTilesets[b];return this._tilesetSelections[b]===UPLOADED_TILESET&&(a[b]=c),a},{}),g=await a.importTilesets(e,f),h=new Map;Object.keys(this._tilesetSelections).forEach((a)=>{const{id:b}=this._tilesetSelections[a];h.set(parseInt(a),b)}),await Promise.all(g.map(async({tileset:a,imageBlob:c},d)=>{if(this._tilesetSelections[d]===UPLOADED_TILESET){const e=await DTile.storage.getAvailableTilesetId(),f=await DTile.storage.getAvailableImageId();h.set(d,e),DTile.storage.addTilesetImage(f,URL.createObjectURL(c)),this.dispatch("importTileset",e,_extends({},a,{imageId:f})),this.dispatch("addTilesetToProject",b.ui.currentProjectId,e)}}));const i=await a.importMap(e,h),j=await DTile.storage.getAvailableMapId();this.dispatch("importMap",b.ui.currentProjectId,j,i),this._reset()}}_getTileset(a,b){return b[a]}_getTilesetImage(a){const b=this._tilesetSelections[a];return b?b===UPLOADED_TILESET?this.importedTilesets[a]:b.tileset.url:void 0}_setSelectedTileset(a){const b=`_tilesetSelections.${a.model.item.id}`;if(a.detail.value&&"GRANITE-FILE-READER"===a.detail.value.tagName)this.set(b,UPLOADED_TILESET);else{const c=a.target.querySelector(".tilesets-repeater"),d=c.itemForElement(a.detail.value);this.set(b,d)}}_waitForTilesetImporting(){return new Promise((a,b)=>{this._tilesetImport={resolve:a,reject:b}})}_findImporter(a){return DTile.importers.find((b)=>b.match(a))}_reset(){this._tilesetImport.reject(),this.requestedTilesets=[],this.importedTilesets={},this._tilesetSelections={}}_importTapped(){this._tilesetImport.resolve()}}customElements.define(DTileMapImporter.is,DTileMapImporter);</script><dom-module id="dtile-project-view" assetpath="src/dtile-app/"><template><style>#main-container{color:#fff;padding:50px;box-sizing:border-box}#items-container{display:flex;margin:0 -30px;align-items:flex-start}#items-container>*{display:flex;flex-wrap:wrap}#items-container>*>paper-card{margin:30px;image-rendering:pixelated}#maps-container{flex-grow:1;align-items:flex-start;justify-content:flex-start}#maps-container>paper-card{flex:0 0 calc(33.3% - 60px)}#tilesets-container{flex-direction:column}#tilesets-container>paper-card{width:20vw}paper-card>.card-actions{border-top:1px solid rgba(255,255,255,.12)}paper-card .card-header{display:flex;align-items:center}paper-card .card-header>h2{flex-grow:1}</style><paper-dialog id="remove-map-dialog"><h2>Remove Map</h2><p>Are you sure you want to remove this map?</p><div class="buttons"><paper-button dialog-dismiss="">Cancel</paper-button><paper-button dialog-confirm="" on-tap="_removeMap">Remove</paper-button></div></paper-dialog><paper-dialog id="remove-tileset-dialog"><h2>Remove Tileset</h2><p>Are you sure you want to remove this tileset? It could still be in use.</p><div class="buttons"><paper-button dialog-dismiss="">Cancel</paper-button><paper-button dialog-confirm="" on-tap="_removeTileset">Remove</paper-button></div></paper-dialog><dtile-map-importer id="map-importer" project-tilesets="[[projectTilesets]]"></dtile-map-importer><div id="main-container"><h1>[[projectName]]</h1><paper-button on-tap="_addMap">Add Map</paper-button><paper-button on-tap="_openTilesetImport">Add Tileset</paper-button><div id="items-container"><div id="maps-container"><template is="dom-repeat" items="{{maps}}"><paper-card><div class="card-content"><div class="card-header"><h2>[[item.name]]</h2><paper-menu-button><paper-icon-button icon="more-vert" slot="dropdown-trigger"></paper-icon-button><div slot="dropdown-content"><paper-item on-tap="_renameMap">Rename</paper-item></div></paper-menu-button></div></div><div class="card-actions"><paper-icon-button icon="delete" on-tap="_askRemoveMap"></paper-icon-button><paper-button on-tap="_openMap">Open</paper-button></div></paper-card></template></div><div id="tilesets-container"><template is="dom-repeat" items="[[projectTilesets]]"><paper-card image="[[item.tileset.url]]" fade-image=""><div class="card-content"><div class="card-header"><h2>[[item.tileset.name]]</h2><paper-menu-button><paper-icon-button icon="more-vert" slot="dropdown-trigger"></paper-icon-button><div slot="dropdown-content"><paper-item on-tap="_renameTileset">Rename</paper-item></div></paper-menu-button></div></div><div class="card-actions"><paper-icon-button icon="delete" on-tap="_askRemoveTileset"></paper-icon-button><paper-button on-tap="_openTileset">Edit</paper-button><paper-button on-tap="_updateTileset">Update</paper-button></div></paper-card></template></div></div></div></template></dom-module><script>var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};class DTileProjectView extends DTile.ReduxMixin(Polymer.Element){static get is(){return"dtile-project-view"}static get properties(){return{maps:{type:Array,statePath(a){const b=a.entities.projects[a.ui.currentProjectId];return b?b.mapIds.map((b)=>{const c=a.entities.maps[b];if(c)return _extends({},c.present,{id:b})}):void 0}},projectId:{type:String,statePath:(a)=>a.ui.currentProjectId},projectName:{type:String,statePath(a){const b=a.entities.projects[a.ui.currentProjectId];if(b)return b.name}},projectTilesets:{type:Array,statePath(a){const b=a.ui.currentProjectId,c=[];if(b)return a.entities.projects[b].tilesetIds.forEach((b)=>{const d=a.entities.tilesets[b];d&&c.push({id:b,tileset:d})}),c}}}}static get actions(){return{removeMap(a){return{type:"REMOVE_MAP",payload:{mapId:a}}},renameMap(a,b){return{type:"RENAME_MAP",payload:{mapId:a,name:b}}},removeTilesetFromProject(a,b){return{type:"REMOVE_TILESET_FROM_PROJECT",payload:{projectId:a,tilesetId:b}}},removeTileset(a){return{type:"REMOVE_TILESET",payload:{tilesetId:a}}},renameTileset(a,b){return{type:"RENAME_TILESET",payload:{tilesetId:a,name:b}}}}}static get observers(){return["_sync(projectId)"]}ready(){super.ready(),this.addEventListener("dtile-file-import",({detail:{files:a}})=>{this.$["map-importer"].importFiles(a)})}async _sync(a){const b=this.getState().entities.projects[a],c=b.mapIds,d=b.tilesetIds,e=[];e.push(...c.map((a)=>DTile.storage.syncMap(a))),e.push(...d.map((a)=>DTile.storage.syncTileset(a))),await Promise.all(e)}_addMap(){this.dispatch("setCurrentPage",{page:"new-map"})}_askRemoveMap(a){this._removeMapId=a.model.item.id,this.$["remove-map-dialog"].open()}_removeMap(){this.dispatch("removeMap",this._removeMapId)}_renameMap(a){a.target.parentElement.parentElement.close(),this.dispatchEvent(new CustomEvent("rename",{composed:!0,bubbles:!0,detail:{itemType:"Map",currentName:a.model.item.name,callback:({newName:b})=>{this.dispatch("renameMap",a.model.index,b)}}}))}_openMap(a){this.dispatch("setCurrentPage",{page:"edit-map",mapId:a.model.item.id})}_askRemoveTileset(a){this._removeTilesetId=a.model.item.id,this.$["remove-tileset-dialog"].open()}_removeTileset(){this.dispatch("removeTilesetFromProject",this.projectId,this._removeTilesetId),this.dispatch("removeTileset",this._removeTilesetId)}_renameTileset(a){a.target.parentElement.parentElement.close(),this.dispatchEvent(new CustomEvent("rename",{composed:!0,bubbles:!0,detail:{itemType:"Tileset",currentName:a.model.item.tileset.name,callback:({newName:b})=>{this.dispatch("renameTileset",a.model.index,b)}}}))}_openTileset(a){this.dispatch("setCurrentPage",{page:"edit-tileset",tilesetId:a.model.item.id})}_updateTileset(a){const b=this.getState().entities.tilesets[a.model.item.id],c=this.parentElement.querySelector("dtile-tileset-importer");c.tilesetName=b.name,c.imageUrl=b.url,c.tileWidth=b.tileWidth,c.tileHeight=b.tileHeight,c.updatingTileset=a.model.item.id,this._openTilesetImport()}_openTilesetImport(){this.dispatch("setCurrentPage",{page:"import-tileset"})}}customElements.define(DTileProjectView.is,DTileProjectView);</script><dom-module id="dtile-dropdown-selector" assetpath="src/generic-elements/"><template><style>:host{display:block;width:100%}paper-dropdown-menu{width:100%;padding:0 16px;box-sizing:border-box;--paper-menu-button-dropdown:{width:200px};}</style><paper-dropdown-menu><paper-listbox slot="dropdown-content" selected="{{_selectedArrayIndex}}"><template is="dom-repeat" items="[[_itemsArray]]"><paper-item>[[item.item.name]]</paper-item></template></paper-listbox></paper-dropdown-menu></template></dom-module><script>class DTileDropdownSelector extends Polymer.Element{static get is(){return"dtile-dropdown-selector"}static get properties(){return{items:Object,selectedId:String,_itemsArray:{type:Array,computed:"_computeItemsArray(items)"},_selectedArrayIndex:Number}}static get observers(){return["_onSelectedIdChanged(selectedId, _itemsArray)","_onSelectedIndexChanged(_selectedArrayIndex, _itemsArray)","_fixInvalidSelection(selectedId, items)"]}_computeItemsArray(a){return Object.keys(a).map((b)=>({itemId:b,item:a[b]}))}_fixInvalidSelection(a,b){if(!(0<=a&&b[a])){const a=Object.entries(b);this.selectedId=0<a.length?a[0][0]:-1}}_onSelectedIdChanged(a){if(a===this._previousId)return;this._previousId=a;const b=this.items?this.items[a]:void 0,c=this._itemsArray.findIndex((a)=>a.item===b);this._selectedArrayIndex=c}_onSelectedIndexChanged(a){if(a!==this._previousIndex){this._previousIndex=a;const b=this._itemsArray[a];if(b){const a=b.itemId;this.dispatchEvent(new CustomEvent(`${this.getAttribute("itemType")}-selected`,{detail:a,bubbles:!0}))}}}}customElements.define(DTileDropdownSelector.is,DTileDropdownSelector);</script><dom-module id="dtile-tileset-importer" assetpath="src/dtile-app/"><template><style>#main-container{color:#fff;padding:50px;box-sizing:border-box;height:100%;display:flex;flex-direction:column}#preview{display:flex;flex-direction:column;align-items:center;justify-content:center;flex-grow:1}#preview[loaded]>span{display:none}#preview>img{max-width:100vw;max-height:50vh}#actions{text-align:right}</style><div id="main-container"><h2>Import Tileset</h2><div><paper-input label="Tileset name" required="" auto-validate="" error-message="A name is needed for the tileset" value="{{tilesetName}}"></paper-input><paper-input label="Tile width" required="" type="number" value="{{tileWidth}}"></paper-input><paper-input label="Tile height" required="" type="number" value="{{tileHeight}}"></paper-input></div><div id="preview" loaded$="[[_imageLoaded(imageUrl)]]"><span>Upload an image by dragging it here</span> <img src="[[imageUrl]]"></div><div id="actions"><paper-button on-tap="_return">Cancel</paper-button><paper-button on-tap="_import">[[importText]]</paper-button></div></div></template></dom-module><script>var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};class DTileTilesetImporter extends DTile.ReduxMixin(Polymer.Element){static get is(){return"dtile-tileset-importer"}static get properties(){return{_currentProjectName:{type:String,statePath(a){const b=a.entities.projects[a.ui.currentProjectId];return b?b.name:void 0}},tilesetName:String,tileWidth:{type:Number,value:16},tileHeight:{type:Number,value:16},imageUrl:String,updatingTileset:{type:Number,value:null},importText:{type:String,computed:"_getImportText(updatingTileset, _currentProjectName)"}}}static get actions(){return{importTileset(a,b){return{type:"IMPORT_TILESET",payload:_extends({tilesetId:a},b)}},addTilesetToProject(a,b){return{type:"ADD_TILESET_TO_PROJECT",payload:{projectId:a,tilesetId:b}}}}}ready(){super.ready(),this.addEventListener("dtile-file-import",({detail:{files:a}})=>{const b=a[0],c=URL.createObjectURL(b);this.imageUrl=c})}async _import(){const a=this.getState(),b=a.entities.tilesets,c=this._updatingTileset()?this.updatingTileset:await DTile.storage.getAvailableTilesetId(),d=await DTile.storage.getAvailableImageId(),e={name:this.tilesetName,tilesetType:"ortho",tileWidth:this.tileWidth,tileHeight:this.tileHeight,url:this.imageUrl,meta:this._updatingTileset()?b[c].meta:{},tileMeta:this._updatingTileset()?b[c].tileMeta:{},imageId:`${d}`};await DTile.storage.addImage(d,this.imageUrl),this.dispatch("importTileset",c,e),this.dispatch("addTilesetToProject",a.ui.currentProjectId,c),this._return()}_return(){this.tilesetName=this.imageUrl="",this.tileWidth=this.tileHeight=16,this.updatingTileset=null,this.dispatch("setCurrentPage",{page:"project"})}_imageLoaded(a){return!!a}_updatingTileset(){return null!==this.updatingTileset}_getImportText(){return this._updatingTileset()?"Update":`Import to ${this._currentProjectName}`}}customElements.define(DTileTilesetImporter.is,DTileTilesetImporter);</script><dom-module id="dtile-new-map-page" assetpath="src/dtile-app/"><template><style>#main-container{color:#fff;padding:50px;box-sizing:border-box;height:100%;display:flex;flex-direction:column}.spacer{flex-grow:1}#actions{text-align:right}</style><div id="main-container"><h2>Add Map</h2><paper-input label="Map name" required="" auto-validate="" error-message="A name is needed for the map" value="{{_mapName}}"></paper-input><paper-input label="Map width" required="" type="number" value="{{_mapWidth}}"></paper-input><paper-input label="Map height" required="" type="number" value="{{_mapHeight}}"></paper-input><paper-input label="Map tile-width" required="" type="number" value="{{_tileWidth}}"></paper-input><paper-input label="Map tile-height" required="" type="number" value="{{_tileHeight}}"></paper-input><span class="spacer"></span><div id="actions"><paper-button on-tap="_return">Cancel</paper-button><paper-button on-tap="_add">Add to [[_currentProjectName]]</paper-button></div></div></template></dom-module><script>var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};class DTileNewMapPage extends DTile.ReduxMixin(Polymer.Element){static get is(){return"dtile-new-map-page"}static get properties(){return{_currentProjectName:{type:String,statePath(a){const b=a.entities.projects[a.ui.currentProjectId];return b?b.name:void 0}},_mapName:String,_mapWidth:{type:Number,value:50},_mapHeight:{type:Number,value:50},_tileWidth:{type:Number,value:16},_tileHeight:{type:Number,value:16}}}static get actions(){return{addMap(a,b,c){return{type:"ADD_MAP",payload:_extends({projectId:a,mapId:b},c)}}}}async _add(){const a=[];for(let b=0;b<this._mapWidth*this._mapHeight;b++)a[b]={tileId:-1,tilesetId:-1};const b={name:this._mapName,width:this._mapWidth,height:this._mapHeight,tileWidth:this._tileWidth,tileHeight:this._tileHeight,layers:[{name:"Layer 1",tiles:a}]},c=this.getState(),d=await DTile.storage.getAvailableMapId();this.dispatch("addMap",c.ui.currentProjectId,d,b),this._return()}_return(){this._mapName="",this._mapWidth=this._mapHeight=50,this._tileWidth=this._tileHeight=16,this.dispatch("setCurrentPage",{page:"project"})}}customElements.define(DTileNewMapPage.is,DTileNewMapPage);</script><script>(function(a,b){'object'==typeof exports&&'undefined'!=typeof module?b(exports):'function'==typeof define&&define.amd?define(['exports'],b):b(a.TileTools={})})(this,function(a){'use strict';function b(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function c(a,b,c){if(a*b!==c.length)throw new RangeError('The width and height doesn\'t match the amount of tiles given.');return{width:a,height:b,tiles:c}}function d(a,b,c){if(!g(a,b,c))throw new RangeError;return c*a.width+b}function e(a,b,c){return i({},a.tiles[d(a,b,c)])}function f(a,b,c,d,f){var g=a.width,h=a.height;return i({},e(a,((d-b)%g+g)%g,((f-c)%h+h)%h))}function g(a,b,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,e=4<arguments.length&&arguments[4]!==void 0?arguments[4]:1;return!(0>b||b>=a.width||0>c||c>a.height||0>=d||b+d>a.width||0>=e||c+e>a.height)}function h(){return{tileId:-1,tilesetId:-1}}var i=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};a.createTileArea=c,a.getTileIndex=d,a.getTile=e,a.getTileAreaSlice=function(a,b,d,f,i){if(0>=f||0>=i)throw new RangeError;for(var j=[],k=d;k<d+i;k++)for(var l=b;l<b+f;l++)g(a,l,k,1,1)?j.push(e(a,l,k)):j.push(h());return c(f,i,j)},a.getTilingTileData=f,a.mergeTileAreas=function(a,f,g,h,j){for(var k=[].concat(b(a.tiles)),l=g;l<g+f.width;l++)for(var m=h;m<h+f.height;m++)try{var n=e(f,l-g,m-h);if(j&&-1===n.tileId)continue;var o=d(a,l,m);k[o]=i({},n)}catch(a){if(a instanceof RangeError)continue;else throw a}return c(a.width,a.height,k)},a.fillTileAreaAt=function(a,g,h,j){var k=[],l=i({},e(a,g,h)),m=[{x:g,y:h}],n=function(a,b){return a.tileId===b.tileId&&a.tilesetId===b.tilesetId},o=function(b,c,d){var f=c+d;0<=f&&f<a.height&&n(e(a,b,f),l)&&(0>=b||!n(e(a,b-1,f),l)||!n(e(a,b-1,c),l))&&m.push({x:b,y:f})},p=new Set,q=function(b){return b.y*a.width+b.x},r=[].concat(b(a.tiles));do{var s=m[0],t=s.x,u=s.y;if(p.has(q(s))){m.splice(0,1);continue}do k.push({x:t,y:u}),o(t,u,1),o(t,u,-1),t++;while(t<a.width&&n(e(a,t,u),l));for(t=s.x,u=s.y;0<t&&n(e(a,t-1,u),l);)t--,k.push({x:t,y:u}),o(t,u,1),o(t,u,-1);m.splice(0,1),k.forEach(function(b){p.add(q(b));var c=f(j,g,h,b.x,b.y),e=d(a,b.x,b.y);r[e]=i({},c)}),k=[]}while(0<m.length);return c(a.width,a.height,r)},Object.defineProperty(a,'__esModule',{value:!0})});</script><script>var b45=function(e){'use strict';function t(){}function r(e,t){this.x=e||0,this.y=t||0}function a(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error('THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.')}function i(e,t,r,a){this._x=e||0,this._y=t||0,this._z=r||0,this._w=void 0===a?1:a}function m(e,t,r){this.x=e||0,this.y=t||0,this.z=r||0}function o(){this.elements=[1,0,0,0,1,0,0,0,1],0<arguments.length&&console.error('THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.')}function n(e,t,a,i,s,l,p,d,c,m){Object.defineProperty(this,'id',{value:Cs++}),this.uuid=Ps.generateUUID(),this.name='',this.image=void 0===e?n.DEFAULT_IMAGE:e,this.mipmaps=[],this.mapping=void 0===t?n.DEFAULT_MAPPING:t,this.wrapS=void 0===a?Rn:a,this.wrapT=void 0===i?Rn:i,this.magFilter=void 0===s?Un:s,this.minFilter=void 0===l?zn:l,this.anisotropy=void 0===c?1:c,this.format=void 0===p?Qn:p,this.type=void 0===d?Bn:d,this.offset=new r(0,0),this.repeat=new r(1,1),this.center=new r(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new o,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0===m?bs:m,this.version=0,this.onUpdate=null}function s(e,t,r,a){this.x=e||0,this.y=t||0,this.z=r||0,this.w=void 0===a?1:a}function l(e,t,r){this.uuid=Ps.generateUUID(),this.width=e,this.height=t,this.scissor=new s(0,0,e,t),this.scissorTest=!1,this.viewport=new s(0,0,e,t),r=r||{},void 0===r.minFilter&&(r.minFilter=Un),this.texture=new n(void 0,void 0,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,this.stencilBuffer=void 0===r.stencilBuffer||r.stencilBuffer,this.depthTexture=void 0===r.depthTexture?null:r.depthTexture}function p(e,t,r){l.call(this,e,t,r),this.activeCubeFace=0,this.activeMipMapLevel=0}function d(e,t,r,a,i,o,s,l,p,d,c,m){n.call(this,null,o,s,l,p,d,a,i,c,m),this.image={data:e,width:t,height:r},this.magFilter=void 0===p?Cn:p,this.minFilter=void 0===d?Cn:d,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function c(e,t,r,a,i,o,s,l,p,d){e=void 0===e?[]:e,t=void 0===t?bn:t,n.call(this,e,t,r,a,i,o,s,l,p,d),this.flipY=!1}function u(){this.seq=[],this.map={}}function g(e,t,a){var o=e[0];if(0>=o||0<o)return e;var s=t*a,n=Us[s];if(void 0===n&&(n=new Float32Array(s),Us[s]=n),0!==t){o.toArray(n,0);for(var r=1,i=0;r!==t;++r)i+=a,e[r].toArray(n,i)}return n}function f(e,t){var a=Ds[t];void 0===a&&(a=new Int32Array(t),Ds[t]=a);for(var r=0;r!==t;++r)a[r]=e.allocTextureUnit();return a}function h(e,t){e.uniform1f(this.addr,t)}function y(e,t){e.uniform1i(this.addr,t)}function x(e,t){void 0===t.x?e.uniform2fv(this.addr,t):e.uniform2f(this.addr,t.x,t.y)}function v(e,t){void 0===t.x?void 0===t.r?e.uniform3fv(this.addr,t):e.uniform3f(this.addr,t.r,t.g,t.b):e.uniform3f(this.addr,t.x,t.y,t.z)}function _(e,t){void 0===t.x?e.uniform4fv(this.addr,t):e.uniform4f(this.addr,t.x,t.y,t.z,t.w)}function b(e,t){e.uniformMatrix2fv(this.addr,!1,t.elements||t)}function E(e,t){void 0===t.elements?e.uniformMatrix3fv(this.addr,!1,t):(Bs.set(t.elements),e.uniformMatrix3fv(this.addr,!1,Bs))}function T(e,t){void 0===t.elements?e.uniformMatrix4fv(this.addr,!1,t):(zs.set(t.elements),e.uniformMatrix4fv(this.addr,!1,zs))}function S(e,t,r){var a=r.allocTextureUnit();e.uniform1i(this.addr,a),r.setTexture2D(t||Is,a)}function M(e,t,r){var a=r.allocTextureUnit();e.uniform1i(this.addr,a),r.setTextureCube(t||Ns,a)}function A(e,t){e.uniform2iv(this.addr,t)}function w(e,t){e.uniform3iv(this.addr,t)}function L(e,t){e.uniform4iv(this.addr,t)}function R(e){return 5126===e?h:35664===e?x:35665===e?v:35666===e?_:35674===e?b:35675===e?E:35676===e?T:35678===e||36198===e?S:35680===e?M:5124===e||35670===e?y:35667===e||35671===e?A:35668===e||35672===e?w:35669===e||35673===e?L:void 0}function P(e,t){e.uniform1fv(this.addr,t)}function C(e,t){e.uniform1iv(this.addr,t)}function I(e,t){e.uniform2fv(this.addr,g(t,this.size,2))}function N(e,t){e.uniform3fv(this.addr,g(t,this.size,3))}function U(e,t){e.uniform4fv(this.addr,g(t,this.size,4))}function D(e,t){e.uniformMatrix2fv(this.addr,!1,g(t,this.size,4))}function z(e,t){e.uniformMatrix3fv(this.addr,!1,g(t,this.size,9))}function B(e,t){e.uniformMatrix4fv(this.addr,!1,g(t,this.size,16))}function F(e,t,r){var a=t.length,o=f(r,a);e.uniform1iv(this.addr,o);for(var n=0;n!==a;++n)r.setTexture2D(t[n]||Is,o[n])}function O(e,t,r){var a=t.length,o=f(r,a);e.uniform1iv(this.addr,o);for(var n=0;n!==a;++n)r.setTextureCube(t[n]||Ns,o[n])}function G(e){return 5126===e?P:35664===e?I:35665===e?N:35666===e?U:35674===e?D:35675===e?z:35676===e?B:35678===e?F:35680===e?O:5124===e||35670===e?C:35667===e||35671===e?A:35668===e||35672===e?w:35669===e||35673===e?L:void 0}function H(e,t,r){this.id=e,this.addr=r,this.setValue=R(t.type)}function V(e,t,r){this.id=e,this.addr=r,this.size=t.size,this.setValue=G(t.type)}function k(e){this.id=e,u.call(this)}function W(e,t){e.seq.push(t),e.map[t.id]=t}function j(e,t,r){var a=e.name,i=a.length;for(Fs.lastIndex=0;;){var o=Fs.exec(a),n=Fs.lastIndex,s=o[1],l=']'===o[2],p=o[3];if(l&&(s|=0),void 0===p||'['===p&&n+2===i){W(r,void 0===p?new H(s,e,t):new V(s,e,t));break}else{var d=r.map,c=d[s];void 0===c&&(c=new k(s),W(r,c)),r=c}}}function X(e,t,r){u.call(this),this.renderer=r;for(var a=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),o=0;o<a;++o){var i=e.getActiveUniform(t,o),n=i.name,s=e.getUniformLocation(t,n);j(i,s,this)}}function Y(e,t,r){return void 0===t&&void 0===r?this.set(e):this.setRGB(e,t,r)}function q(e,t){this.min=void 0===e?new r(+Infinity,+Infinity):e,this.max=void 0===t?new r(-Infinity,-Infinity):t}function Z(e,t,a,i,o){function n(){var e=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),r=new Uint16Array([0,1,2,0,2,3]);p=t.createBuffer(),d=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,p),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,d),t.bufferData(t.ELEMENT_ARRAY_BUFFER,r,t.STATIC_DRAW),f=t.createTexture(),h=t.createTexture(),a.bindTexture(t.TEXTURE_2D,f),t.texImage2D(t.TEXTURE_2D,0,t.RGB,16,16,0,t.RGB,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),a.bindTexture(t.TEXTURE_2D,h),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,16,16,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),l={vertexShader:'uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nuniform sampler2D occlusionMap;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\n\tvUV = uv;\n\tvec2 pos = position;\n\tif ( renderType == 2 ) {\n\t\tvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\n\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\n\t\tvVisibility =        visibility.r / 9.0;\n\t\tvVisibility *= 1.0 - visibility.g / 9.0;\n\t\tvVisibility *=       visibility.b / 9.0;\n\t\tvVisibility *= 1.0 - visibility.a / 9.0;\n\t\tpos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\n\t\tpos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\n\t}\n\tgl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}',fragmentShader:'uniform lowp int renderType;\nuniform sampler2D map;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\n\tif ( renderType == 0 ) {\n\t\tgl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\n\t} else if ( renderType == 1 ) {\n\t\tgl_FragColor = texture2D( map, vUV );\n\t} else {\n\t\tvec4 texture = texture2D( map, vUV );\n\t\ttexture.a *= opacity * vVisibility;\n\t\tgl_FragColor = texture;\n\t\tgl_FragColor.rgb *= color;\n\t}\n}'},c=s(l),u={vertex:t.getAttribLocation(c,'position'),uv:t.getAttribLocation(c,'uv')},g={renderType:t.getUniformLocation(c,'renderType'),map:t.getUniformLocation(c,'map'),occlusionMap:t.getUniformLocation(c,'occlusionMap'),opacity:t.getUniformLocation(c,'opacity'),color:t.getUniformLocation(c,'color'),scale:t.getUniformLocation(c,'scale'),rotation:t.getUniformLocation(c,'rotation'),screenPosition:t.getUniformLocation(c,'screenPosition')}}function s(e){var r=t.createProgram(),a=t.createShader(t.FRAGMENT_SHADER),i=t.createShader(t.VERTEX_SHADER),n='precision '+o.precision+' float;\n';return t.shaderSource(a,n+e.fragmentShader),t.shaderSource(i,n+e.vertexShader),t.compileShader(a),t.compileShader(i),t.attachShader(r,a),t.attachShader(r,i),t.linkProgram(r),r}var p,d,l,c,u,g,f,h;this.render=function(e,o,s,y){if(0!==e.length){var x=new m,v=y.w/y.z,_=0.5*y.z,b=0.5*y.w,E=16/y.w,T=new r(E*v,E),S=new m(1,1,0),M=new r(1,1),A=new q;A.min.set(y.x,y.y),A.max.set(y.x+(y.z-16),y.y+(y.w-16)),void 0===c&&n(),a.useProgram(c),a.initAttributes(),a.enableAttribute(u.vertex),a.enableAttribute(u.uv),a.disableUnusedAttributes(),t.uniform1i(g.occlusionMap,0),t.uniform1i(g.map,1),t.bindBuffer(t.ARRAY_BUFFER,p),t.vertexAttribPointer(u.vertex,2,t.FLOAT,!1,16,0),t.vertexAttribPointer(u.uv,2,t.FLOAT,!1,16,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,d),a.disable(t.CULL_FACE),a.buffers.depth.setMask(!1);for(var w=0,L=e.length;w<L;w++){E=16/y.w,T.set(E*v,E);var l=e[w];if(x.set(l.matrixWorld.elements[12],l.matrixWorld.elements[13],l.matrixWorld.elements[14]),x.applyMatrix4(s.matrixWorldInverse),x.applyMatrix4(s.projectionMatrix),S.copy(x),M.x=y.x+S.x*_+_-8,M.y=y.y+S.y*b+b-8,!0===A.containsPoint(M)){a.activeTexture(t.TEXTURE0),a.bindTexture(t.TEXTURE_2D,null),a.activeTexture(t.TEXTURE1),a.bindTexture(t.TEXTURE_2D,f),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGB,M.x,M.y,16,16,0),t.uniform1i(g.renderType,0),t.uniform2f(g.scale,T.x,T.y),t.uniform3f(g.screenPosition,S.x,S.y,S.z),a.disable(t.BLEND),a.enable(t.DEPTH_TEST),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),a.activeTexture(t.TEXTURE0),a.bindTexture(t.TEXTURE_2D,h),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGBA,M.x,M.y,16,16,0),t.uniform1i(g.renderType,1),a.disable(t.DEPTH_TEST),a.activeTexture(t.TEXTURE1),a.bindTexture(t.TEXTURE_2D,f),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),l.positionScreen.copy(S),l.customUpdateCallback?l.customUpdateCallback(l):l.updateLensFlares(),t.uniform1i(g.renderType,2),a.enable(t.BLEND);for(var R=0,P=l.lensFlares.length,C;R<P;R++)C=l.lensFlares[R],1e-3<C.opacity&&1e-3<C.scale&&(S.x=C.x,S.y=C.y,S.z=C.z,E=C.size*C.scale/y.w,T.x=E*v,T.y=E,t.uniform3f(g.screenPosition,S.x,S.y,S.z),t.uniform2f(g.scale,T.x,T.y),t.uniform1f(g.rotation,C.rotation),t.uniform1f(g.opacity,C.opacity),t.uniform3f(g.color,C.color.r,C.color.g,C.color.b),a.setBlending(C.blending,C.blendEquation,C.blendSrc,C.blendDst),i.setTexture2D(C.texture,1),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0))}}a.enable(t.CULL_FACE),a.enable(t.DEPTH_TEST),a.buffers.depth.setMask(!0),a.reset()}}}function J(e,t,r,a,i,o,s,l,p){n.call(this,e,t,r,a,i,o,s,l,p),this.needsUpdate=!0}function Q(e,t,r,a,o){function n(){var e=new Float32Array([-0.5,-0.5,0,0,0.5,-0.5,1,0,0.5,0.5,1,1,-0.5,0.5,0,1]),r=new Uint16Array([0,1,2,0,2,3]);u=t.createBuffer(),g=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,g),t.bufferData(t.ELEMENT_ARRAY_BUFFER,r,t.STATIC_DRAW),f=s(),h={position:t.getAttribLocation(f,'position'),uv:t.getAttribLocation(f,'uv')},y={uvOffset:t.getUniformLocation(f,'uvOffset'),uvScale:t.getUniformLocation(f,'uvScale'),rotation:t.getUniformLocation(f,'rotation'),scale:t.getUniformLocation(f,'scale'),color:t.getUniformLocation(f,'color'),map:t.getUniformLocation(f,'map'),opacity:t.getUniformLocation(f,'opacity'),modelViewMatrix:t.getUniformLocation(f,'modelViewMatrix'),projectionMatrix:t.getUniformLocation(f,'projectionMatrix'),fogType:t.getUniformLocation(f,'fogType'),fogDensity:t.getUniformLocation(f,'fogDensity'),fogNear:t.getUniformLocation(f,'fogNear'),fogFar:t.getUniformLocation(f,'fogFar'),fogColor:t.getUniformLocation(f,'fogColor'),fogDepth:t.getUniformLocation(f,'fogDepth'),alphaTest:t.getUniformLocation(f,'alphaTest')};var a=document.createElementNS('http://www.w3.org/1999/xhtml','canvas');a.width=8,a.height=8;var i=a.getContext('2d');i.fillStyle='white',i.fillRect(0,0,8,8),x=new J(a)}function s(){var e=t.createProgram(),r=t.createShader(t.VERTEX_SHADER),a=t.createShader(t.FRAGMENT_SHADER);return t.shaderSource(r,['precision '+o.precision+' float;','#define SHADER_NAME SpriteMaterial','uniform mat4 modelViewMatrix;','uniform mat4 projectionMatrix;','uniform float rotation;','uniform vec2 scale;','uniform vec2 uvOffset;','uniform vec2 uvScale;','attribute vec2 position;','attribute vec2 uv;','varying vec2 vUV;','varying float fogDepth;','void main() {','\tvUV = uvOffset + uv * uvScale;','\tvec2 alignedPosition = position * scale;','\tvec2 rotatedPosition;','\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;','\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;','\tvec4 mvPosition;','\tmvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );','\tmvPosition.xy += rotatedPosition;','\tgl_Position = projectionMatrix * mvPosition;','\tfogDepth = - mvPosition.z;','}'].join('\n')),t.shaderSource(a,['precision '+o.precision+' float;','#define SHADER_NAME SpriteMaterial','uniform vec3 color;','uniform sampler2D map;','uniform float opacity;','uniform int fogType;','uniform vec3 fogColor;','uniform float fogDensity;','uniform float fogNear;','uniform float fogFar;','uniform float alphaTest;','varying vec2 vUV;','varying float fogDepth;','void main() {','\tvec4 texture = texture2D( map, vUV );','\tgl_FragColor = vec4( color * texture.xyz, texture.a * opacity );','\tif ( gl_FragColor.a < alphaTest ) discard;','\tif ( fogType > 0 ) {','\t\tfloat fogFactor = 0.0;','\t\tif ( fogType == 1 ) {','\t\t\tfogFactor = smoothstep( fogNear, fogFar, fogDepth );','\t\t} else {','\t\t\tconst float LOG2 = 1.442695;','\t\t\tfogFactor = exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 );','\t\t\tfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );','\t\t}','\t\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );','\t}','}'].join('\n')),t.compileShader(r),t.compileShader(a),t.attachShader(e,r),t.attachShader(e,a),t.linkProgram(e),e}function p(e,t){return e.renderOrder===t.renderOrder?e.z===t.z?t.id-e.id:t.z-e.z:e.renderOrder-t.renderOrder}var l=new m,d=new i,c=new m,u,g,f,h,y,x;this.render=function(o,s,m){if(0!==o.length){void 0===f&&n(),r.useProgram(f),r.initAttributes(),r.enableAttribute(h.position),r.enableAttribute(h.uv),r.disableUnusedAttributes(),r.disable(t.CULL_FACE),r.enable(t.BLEND),t.bindBuffer(t.ARRAY_BUFFER,u),t.vertexAttribPointer(h.position,2,t.FLOAT,!1,16,0),t.vertexAttribPointer(h.uv,2,t.FLOAT,!1,16,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,g),t.uniformMatrix4fv(y.projectionMatrix,!1,m.projectionMatrix.elements),r.activeTexture(t.TEXTURE0),t.uniform1i(y.map,0);var v=0,_=0,b=s.fog;b?(t.uniform3f(y.fogColor,b.color.r,b.color.g,b.color.b),b.isFog?(t.uniform1f(y.fogNear,b.near),t.uniform1f(y.fogFar,b.far),t.uniform1i(y.fogType,1),v=1,_=1):b.isFogExp2&&(t.uniform1f(y.fogDensity,b.density),t.uniform1i(y.fogType,2),v=2,_=2)):(t.uniform1i(y.fogType,0),v=0,_=0);for(var E=0,i=o.length,T;E<i;E++)T=o[E],T.modelViewMatrix.multiplyMatrices(m.matrixWorldInverse,T.matrixWorld),T.z=-T.modelViewMatrix.elements[14];o.sort(p);for(var S=[],E=0,i=o.length;E<i;E++){var T=o[E],M=T.material;if(!1!==M.visible){T.onBeforeRender(e,s,m,void 0,M,void 0),t.uniform1f(y.alphaTest,M.alphaTest),t.uniformMatrix4fv(y.modelViewMatrix,!1,T.modelViewMatrix.elements),T.matrixWorld.decompose(l,d,c),S[0]=c.x,S[1]=c.y;var A=0;s.fog&&M.fog&&(A=_),v!=A&&(t.uniform1i(y.fogType,A),v=A),null===M.map?(t.uniform2f(y.uvOffset,0,0),t.uniform2f(y.uvScale,1,1)):(t.uniform2f(y.uvOffset,M.map.offset.x,M.map.offset.y),t.uniform2f(y.uvScale,M.map.repeat.x,M.map.repeat.y)),t.uniform1f(y.opacity,M.opacity),t.uniform3f(y.color,M.color.r,M.color.g,M.color.b),t.uniform1f(y.rotation,M.rotation),t.uniform2fv(y.scale,S),r.setBlending(M.blending,M.blendEquation,M.blendSrc,M.blendDst,M.blendEquationAlpha,M.blendSrcAlpha,M.blendDstAlpha,M.premultipliedAlpha),r.buffers.depth.setTest(M.depthTest),r.buffers.depth.setMask(M.depthWrite),r.buffers.color.setMask(M.colorWrite),a.setTexture2D(M.map||x,0),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),T.onAfterRender(e,s,m,void 0,M,void 0)}}r.enable(t.CULL_FACE),r.reset()}}}function K(){Object.defineProperty(this,'id',{value:Ws++}),this.uuid=Ps.generateUUID(),this.name='',this.type='Material',this.fog=!0,this.lights=!0,this.blending=zo,this.side=Lo,this.flatShading=!1,this.vertexColors=Io,this.opacity=1,this.transparent=!1,this.blendSrc=Jo,this.blendDst=Qo,this.blendEquation=Ho,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=sn,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.userData={},this.needsUpdate=!0}function $(e){K.call(this),this.type='MeshDepthMaterial',this.depthPacking=Ls,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)}function ee(e){K.call(this),this.type='MeshDistanceMaterial',this.referencePosition=new m,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(e)}function te(e,t){this.min=void 0===e?new m(+Infinity,+Infinity,+Infinity):e,this.max=void 0===t?new m(-Infinity,-Infinity,-Infinity):t}function re(e,t){this.center=void 0===e?new m:e,this.radius=void 0===t?0:t}function ae(e,t){this.normal=void 0===e?new m(1,0,0):e,this.constant=void 0===t?0:t}function ie(e,t,r,a,i,o){this.planes=[void 0===e?new ae:e,void 0===t?new ae:t,void 0===r?new ae:r,void 0===a?new ae:a,void 0===i?new ae:i,void 0===o?new ae:o]}function oe(e,t,o){function n(t,r,a,i,o,n){var s=t.geometry,l=null,p=v,d=t.customDepthMaterial;if(a&&(p=_,d=t.customDistanceMaterial),!d){var c=!1;r.morphTargets&&(s&&s.isBufferGeometry?c=s.morphAttributes&&s.morphAttributes.position&&0<s.morphAttributes.position.length:s&&s.isGeometry&&(c=s.morphTargets&&0<s.morphTargets.length)),t.isSkinnedMesh&&!1===r.skinning&&console.warn('THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:',t);var m=t.isSkinnedMesh&&r.skinning,u=0;c&&(u|=y),m&&(u|=x),l=p[u]}else l=d;if(e.localClippingEnabled&&!0===r.clipShadows&&0!==r.clippingPlanes.length){var g=l.uuid,f=r.uuid,h=b[g];void 0===h&&(h={},b[g]=h);var E=h[f];void 0===E&&(E=l.clone(),h[f]=E),l=E}l.visible=r.visible,l.wireframe=r.wireframe;var T=r.side;return R.renderSingleSided&&T==Po&&(T=Lo),R.renderReverseSided&&(T===Lo?T=Ro:T===Ro&&(T=Lo)),l.side=T,l.clipShadows=r.clipShadows,l.clippingPlanes=r.clippingPlanes,l.clipIntersection=r.clipIntersection,l.wireframeLinewidth=r.wireframeLinewidth,l.linewidth=r.linewidth,a&&l.isMeshDistanceMaterial&&(l.referencePosition.copy(i),l.nearDistance=o,l.farDistance=n),l}function p(r,a,o,s){if(!1!==r.visible){var c=r.layers.test(a.layers);if(c&&(r.isMesh||r.isLine||r.isPoints)&&r.castShadow&&(!r.frustumCulled||d.intersectsObject(r))){r.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,r.matrixWorld);var m=t.update(r),u=r.material;if(Array.isArray(u))for(var g=m.groups,f=0,y=g.length;f<y;f++){var x=g[f],v=u[x.materialIndex];if(v&&v.visible){var _=n(r,v,s,h,o.near,o.far);e.renderBufferDirect(o,null,m,_,r,x)}}else if(u.visible){var _=n(r,u,s,h,o.near,o.far);e.renderBufferDirect(o,null,m,_,r,null)}}for(var b=r.children,E=0,i=b.length;E<i;E++)p(b[E],a,o,s)}}for(var d=new ie,c=new a,u=new r,g=new r(o,o),f=new m,h=new m,y=1,x=2,v=[,,,,],_=[,,,,],b={},E=[new m(1,0,0),new m(-1,0,0),new m(0,0,1),new m(0,0,-1),new m(0,1,0),new m(0,-1,0)],T=[new m(0,1,0),new m(0,1,0),new m(0,1,0),new m(0,1,0),new m(0,0,1),new m(0,0,-1)],S=[new s,new s,new s,new s,new s,new s],M=0;M!==(y|x)+1;++M){var i=0!=(M&y),A=0!=(M&x),w=new $({depthPacking:Rs,morphTargets:i,skinning:A});v[M]=w;var L=new ee({morphTargets:i,skinning:A});_[M]=L}var R=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Ao,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(t,r,a){if(!1!==R.enabled&&(!1!==R.autoUpdate||!1!==R.needsUpdate)&&0!==t.length){var o=e.context,n=e.state;n.disable(o.BLEND),n.buffers.color.setClear(1,1,1,1),n.buffers.depth.setTest(!0),n.setScissorTest(!1);for(var s=0,i=t.length,m;s<i;s++){var y=t[s],x=y.shadow,v=y&&y.isPointLight;if(void 0===x){console.warn('THREE.WebGLShadowMap:',y,'has no shadow.');continue}var _=x.camera;if(u.copy(x.mapSize),u.min(g),v){var b=u.x,M=u.y;S[0].set(2*b,M,b,M),S[1].set(0,M,b,M),S[2].set(3*b,M,b,M),S[3].set(b,M,b,M),S[4].set(3*b,0,b,M),S[5].set(b,0,b,M),u.x*=4,u.y*=2}if(null===x.map){x.map=new l(u.x,u.y,{minFilter:Cn,magFilter:Cn,format:Qn}),x.map.texture.name=y.name+'.shadowMap',_.updateProjectionMatrix()}x.isSpotLightShadow&&x.update(y);var A=x.map,w=x.matrix;h.setFromMatrixPosition(y.matrixWorld),_.position.copy(h),v?(m=6,w.makeTranslation(-h.x,-h.y,-h.z)):(m=1,f.setFromMatrixPosition(y.target.matrixWorld),_.lookAt(f),_.updateMatrixWorld(),w.set(0.5,0,0,0.5,0,0.5,0,0.5,0,0,0.5,0.5,0,0,0,1),w.multiply(_.projectionMatrix),w.multiply(_.matrixWorldInverse)),e.setRenderTarget(A),e.clear();for(var L=0;L<m;L++){if(v){f.copy(_.position),f.add(E[L]),_.up.copy(T[L]),_.lookAt(f),_.updateMatrixWorld();var P=S[L];n.viewport(P)}c.multiplyMatrices(_.projectionMatrix,_.matrixWorldInverse),d.setFromMatrix(c),p(r,a,_,v)}}R.needsUpdate=!1}}}function ne(e){function t(t,r){var a=t.array,i=t.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW,o=e.createBuffer();e.bindBuffer(r,o),e.bufferData(r,a,i),t.onUploadCallback();var n=e.FLOAT;return a instanceof Float32Array?n=e.FLOAT:a instanceof Float64Array?console.warn('THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.'):a instanceof Uint16Array?n=e.UNSIGNED_SHORT:a instanceof Int16Array?n=e.SHORT:a instanceof Uint32Array?n=e.UNSIGNED_INT:a instanceof Int32Array?n=e.INT:a instanceof Int8Array?n=e.BYTE:a instanceof Uint8Array&&(n=e.UNSIGNED_BYTE),{buffer:o,type:n,bytesPerElement:a.BYTES_PER_ELEMENT,version:t.version}}function r(t,r,a){var i=r.array,o=r.updateRange;e.bindBuffer(a,t),!1===r.dynamic?e.bufferData(a,i,e.STATIC_DRAW):-1===o.count?e.bufferSubData(a,0,i):0===o.count?console.error('THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.'):(e.bufferSubData(a,o.offset*i.BYTES_PER_ELEMENT,i.subarray(o.offset,o.offset+o.count)),o.count=-1)}var a={};return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),a[e.uuid]},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var r=a[t.uuid];r&&(e.deleteBuffer(r.buffer),delete a[t.uuid])},update:function(e,i){e.isInterleavedBufferAttribute&&(e=e.data);var o=a[e.uuid];void 0===o?a[e.uuid]=t(e,i):o.version<e.version&&(r(o.buffer,e,i),o.version=e.version)}}}function se(e,t,r,a){this._x=e||0,this._y=t||0,this._z=r||0,this._order=a||se.DefaultOrder}function le(){this.mask=1}function pe(){Object.defineProperty(this,'id',{value:js++}),this.uuid=Ps.generateUUID(),this.name='',this.type='Object3D',this.parent=null,this.children=[],this.up=pe.DefaultUp.clone();var e=new m,t=new se,r=new i,n=new m(1,1,1);t.onChange(function(){r.setFromEuler(t,!1)}),r.onChange(function(){t.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{enumerable:!0,value:e},rotation:{enumerable:!0,value:t},quaternion:{enumerable:!0,value:r},scale:{enumerable:!0,value:n},modelViewMatrix:{value:new a},normalMatrix:{value:new o}}),this.matrix=new a,this.matrixWorld=new a,this.matrixAutoUpdate=pe.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new le,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function de(){pe.call(this),this.type='Camera',this.matrixWorldInverse=new a,this.projectionMatrix=new a}function ce(e,t,r,a,i,o){de.call(this),this.type='OrthographicCamera',this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=a,this.near=void 0===i?0.1:i,this.far=void 0===o?2e3:o,this.updateProjectionMatrix()}function me(e,t,r,a,i,o){this.a=e,this.b=t,this.c=r,this.normal=a&&a.isVector3?a:new m,this.vertexNormals=Array.isArray(a)?a:[],this.color=i&&i.isColor?i:new Y,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0===o?0:o}function ue(){Object.defineProperty(this,'id',{value:Xs+=2}),this.uuid=Ps.generateUUID(),this.name='',this.type='Geometry',this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function ge(e,t,r){if(Array.isArray(e))throw new TypeError('THREE.BufferAttribute: array should be a Typed Array.');this.uuid=Ps.generateUUID(),this.name='',this.array=e,this.itemSize=t,this.count=void 0===e?0:e.length/t,this.normalized=!0===r,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function fe(e,t,r){ge.call(this,new Int8Array(e),t,r)}function he(e,t,r){ge.call(this,new Uint8Array(e),t,r)}function ye(e,t,r){ge.call(this,new Uint8ClampedArray(e),t,r)}function xe(e,t,r){ge.call(this,new Int16Array(e),t,r)}function ve(e,t,r){ge.call(this,new Uint16Array(e),t,r)}function _e(e,t,r){ge.call(this,new Int32Array(e),t,r)}function be(e,t,r){ge.call(this,new Uint32Array(e),t,r)}function Ee(e,t,r){ge.call(this,new Float32Array(e),t,r)}function Te(e,t,r){ge.call(this,new Float64Array(e),t,r)}function Se(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Me(e){if(0===e.length)return-Infinity;for(var t=e[0],r=1,a=e.length;r<a;++r)e[r]>t&&(t=e[r]);return t}function Ae(){Object.defineProperty(this,'id',{value:Ys+=2}),this.uuid=Ps.generateUUID(),this.name='',this.type='BufferGeometry',this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:Infinity}}function we(e,t,r,a,i,o){ue.call(this),this.type='BoxGeometry',this.parameters={width:e,height:t,depth:r,widthSegments:a,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new Le(e,t,r,a,i,o)),this.mergeVertices()}function Le(e,t,r,a,i,o){function n(e,t,r,i,o,n,u,h,v,_,E){var T=v+1,S=0,M=0,A=new m,w,L;for(L=0;L<_+1;L++){var R=L*(u/_)-u/2;for(w=0;w<T;w++){var y=w*(n/v)-n/2;A[e]=y*i,A[t]=R*o,A[r]=h/2,p.push(A.x,A.y,A.z),A[e]=0,A[t]=0,A[r]=0<h?1:-1,d.push(A.x,A.y,A.z),c.push(w/v),c.push(1-L/_),S+=1}}for(L=0;L<_;L++)for(w=0;w<v;w++){var x=g+w+T*L,a=g+w+T*(L+1),b=g+(w+1)+T*(L+1),P=g+(w+1)+T*L;l.push(x,a,P),l.push(a,b,P),M+=6}s.addGroup(f,M,E),f+=M,g+=S}Ae.call(this),this.type='BoxBufferGeometry',this.parameters={width:e,height:t,depth:r,widthSegments:a,heightSegments:i,depthSegments:o};var s=this;e=e||1,t=t||1,r=r||1,a=xo(a)||1,i=xo(i)||1,o=xo(o)||1;var l=[],p=[],d=[],c=[],g=0,f=0;n('z','y','x',-1,-1,r,t,e,o,i,0),n('z','y','x',1,-1,r,t,-e,o,i,1),n('x','z','y',1,1,e,r,t,a,o,2),n('x','z','y',1,-1,e,r,-t,a,o,3),n('x','y','z',1,-1,e,t,r,a,i,4),n('x','y','z',-1,-1,e,t,-r,a,i,5),this.setIndex(l),this.addAttribute('position',new Ee(p,3)),this.addAttribute('normal',new Ee(d,3)),this.addAttribute('uv',new Ee(c,2))}function Re(e,t,r,a){ue.call(this),this.type='PlaneGeometry',this.parameters={width:e,height:t,widthSegments:r,heightSegments:a},this.fromBufferGeometry(new Pe(e,t,r,a)),this.mergeVertices()}function Pe(e,t,r,i){Ae.call(this),this.type='PlaneBufferGeometry',this.parameters={width:e,height:t,widthSegments:r,heightSegments:i},e=e||1,t=t||1;var o=e/2,n=t/2,s=xo(r)||1,l=xo(i)||1,p=s+1,m=e/s,u=t/l,g=[],f=[],h=[],v=[],_,E;for(E=0;E<l+1;E++){var T=E*u-n;for(_=0;_<p;_++){var S=_*m-o;f.push(S,-T,0),h.push(0,0,1),v.push(_/s),v.push(1-E/l)}}for(E=0;E<l;E++)for(_=0;_<s;_++){var x=_+p*E,a=_+p*(E+1),b=_+1+p*(E+1),c=_+1+p*E;g.push(x,a,c),g.push(a,b,c)}this.setIndex(g),this.addAttribute('position',new Ee(f,3)),this.addAttribute('normal',new Ee(h,3)),this.addAttribute('uv',new Ee(v,2))}function Ce(e){K.call(this),this.type='MeshBasicMaterial',this.color=new Y(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=mn,this.reflectivity=1,this.refractionRatio=0.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap='round',this.wireframeLinejoin='round',this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function Ie(e){K.call(this),this.type='ShaderMaterial',this.defines={},this.uniforms={},this.vertexShader='void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}',this.fragmentShader='void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}',this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==e&&(void 0!==e.attributes&&console.error('THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.'),this.setValues(e))}function Ne(e,t){this.origin=void 0===e?new m:e,this.direction=void 0===t?new m:t}function Ue(e,t){this.start=void 0===e?new m:e,this.end=void 0===t?new m:t}function De(e,t,r){this.a=void 0===e?new m:e,this.b=void 0===t?new m:t,this.c=void 0===r?new m:r}function ze(e,t){pe.call(this),this.type='Mesh',this.geometry=void 0===e?new Ae:e,this.material=void 0===t?new Ce({color:16777215*Math.random()}):t,this.drawMode=xs,this.updateMorphTargets()}function Be(e,t,r,a){function i(e,r){t.buffers.color.setClear(e.r,e.g,e.b,r,a)}var o=new Y(0),n=0,s,l,p;return{getClearColor:function(){return o},setClearColor:function(e,t){o.set(e),n=void 0===t?1:t,i(o,n)},getClearAlpha:function(){return n},setClearAlpha:function(e){n=e,i(o,n)},render:function(t,a,d,c){var m=a.background;null===m?i(o,n):m&&m.isColor&&(i(m,1),c=!0),(e.autoClear||c)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),m&&m.isCubeTexture?(void 0==p&&(p=new ze(new Le(1,1,1),new Ie({uniforms:ks.cube.uniforms,vertexShader:ks.cube.vertexShader,fragmentShader:ks.cube.fragmentShader,side:Ro,depthTest:!0,depthWrite:!1,fog:!1})),p.geometry.removeAttribute('normal'),p.geometry.removeAttribute('uv'),p.onBeforeRender=function(e,t,r){this.matrixWorld.copyPosition(r.matrixWorld)},r.update(p.geometry)),p.material.uniforms.tCube.value=m,t.push(p,p.geometry,p.material,0,null)):m&&m.isTexture&&(void 0==s&&(s=new ce(-1,1,1,-1,0,1),l=new ze(new Pe(2,2),new Ce({depthTest:!1,depthWrite:!1,fog:!1})),r.update(l.geometry)),l.material.map=m,e.renderBufferDirect(s,null,l.geometry,l.material,l,null))}}}function Fe(e,t){return e.renderOrder===t.renderOrder?e.program&&t.program&&e.program!==t.program?e.program.id-t.program.id:e.material.id===t.material.id?e.z===t.z?e.id-t.id:e.z-t.z:e.material.id-t.material.id:e.renderOrder-t.renderOrder}function Oe(e,t){return e.renderOrder===t.renderOrder?e.z===t.z?e.id-t.id:t.z-e.z:e.renderOrder-t.renderOrder}function Ge(){var e=[],t=0,r=[],a=[];return{opaque:r,transparent:a,init:function(){t=0,r.length=0,a.length=0},push:function(i,o,n,s,l){var p=e[t];void 0===p?(p={id:i.id,object:i,geometry:o,material:n,program:n.program,renderOrder:i.renderOrder,z:s,group:l},e[t]=p):(p.id=i.id,p.object=i,p.geometry=o,p.material=n,p.program=n.program,p.renderOrder=i.renderOrder,p.z=s,p.group=l),(!0===n.transparent?a:r).push(p),t++},sort:function(){1<r.length&&r.sort(Fe),1<a.length&&a.sort(Oe)}}}function He(){var e={};return{get:function(t,r){var a=t.id+','+r.id,i=e[a];return void 0===i&&(i=new Ge,e[a]=i),i},dispose:function(){e={}}}}function Ve(e,t){return no(t[1])-no(e[1])}function ke(e){var t={},r=new Float32Array(8);return{update:function(a,o,n,s){var l=a.morphTargetInfluences,p=l.length,d=t[o.id];if(void 0===d){d=[];for(var c=0;c<p;c++)d[c]=[c,0];t[o.id]=d}for(var i=n.morphTargets&&o.morphAttributes.position,m=n.morphNormals&&o.morphAttributes.normal,c=0,u;c<p;c++)u=d[c],0!==u[1]&&(i&&o.removeAttribute('morphTarget'+c),m&&o.removeAttribute('morphNormal'+c));for(var c=0,u;c<p;c++)u=d[c],u[0]=c,u[1]=l[c];d.sort(Ve);for(var c=0,u;8>c;c++){if(u=d[c],u){var g=u[0],f=u[1];if(f){i&&o.addAttribute('morphTarget'+c,i[g]),m&&o.addAttribute('morphNormal'+c,m[g]),r[c]=f;continue}}r[c]=0}s.getUniforms().setValue(e,'morphTargetInfluences',r)}}}function We(e,t,r){var a,i,o;this.setMode=function(e){a=e},this.setIndex=function(e){i=e.type,o=e.bytesPerElement},this.render=function(t,n){e.drawElements(a,n,i,t*o),r.calls++,r.vertices+=n,a===e.TRIANGLES?r.faces+=n/3:a===e.POINTS&&(r.points+=n)},this.renderInstances=function(n,s,l){var p=t.get('ANGLE_instanced_arrays');return null===p?void console.error('THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.'):void(p.drawElementsInstancedANGLE(a,l,i,s*o,n.maxInstancedCount),r.calls++,r.vertices+=l*n.maxInstancedCount,a===e.TRIANGLES?r.faces+=n.maxInstancedCount*l/3:a===e.POINTS&&(r.points+=n.maxInstancedCount*l))}}function je(e,t,r){var a;this.setMode=function(e){a=e},this.render=function(t,i){e.drawArrays(a,t,i),r.calls++,r.vertices+=i,a===e.TRIANGLES?r.faces+=i/3:a===e.POINTS&&(r.points+=i)},this.renderInstances=function(i,o,n){var s=t.get('ANGLE_instanced_arrays');if(null===s)return void console.error('THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');var l=i.attributes.position;l.isInterleavedBufferAttribute?(n=l.data.count,s.drawArraysInstancedANGLE(a,0,n,i.maxInstancedCount)):s.drawArraysInstancedANGLE(a,o,n,i.maxInstancedCount),r.calls++,r.vertices+=n*i.maxInstancedCount,a===e.TRIANGLES?r.faces+=i.maxInstancedCount*n/3:a===e.POINTS&&(r.points+=i.maxInstancedCount*n)}}function Xe(e,t,r){function a(e){var n=e.target,s=i[n.id];for(var l in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[l]);n.removeEventListener('dispose',a),delete i[n.id];var p=o[n.id];p&&(t.remove(p),delete o[n.id]),p=o[s.id],p&&(t.remove(p),delete o[s.id]),r.geometries--}var i={},o={};return{get:function(e,t){var o=i[t.id];return o?o:(t.addEventListener('dispose',a),t.isBufferGeometry?o=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=new Ae().setFromObject(e)),o=t._bufferGeometry),i[t.id]=o,r.geometries++,o)},update:function(r){var a=r.index,o=r.attributes;for(var n in null!==a&&t.update(a,e.ELEMENT_ARRAY_BUFFER),o)t.update(o[n],e.ARRAY_BUFFER);var s=r.morphAttributes;for(var n in s)for(var p=s[n],d=0,i=p.length;d<i;d++)t.update(p[d],e.ARRAY_BUFFER)},getWireframeAttribute:function(r){var n=o[r.id];if(n)return n;var s=[],p=r.index,d=r.attributes;if(null!==p)for(var m=p.array,u=0,i=m.length;u<i;u+=3){var l=m[u+0],a=m[u+1],g=m[u+2];s.push(l,a,a,g,g,l)}else for(var m=d.position.array,u=0,i=m.length/3-1;u<i;u+=3){var l=u+0,a=u+1,g=u+2;s.push(l,a,a,g,g,l)}return n=new(65535<Me(s)?be:ve)(s,1),t.update(n,e.ELEMENT_ARRAY_BUFFER),o[r.id]=n,n}}}function Ye(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var a;switch(t.type){case'DirectionalLight':a={direction:new m,color:new Y,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new r};break;case'SpotLight':a={position:new m,direction:new m,color:new Y,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new r};break;case'PointLight':a={position:new m,color:new Y,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new r,shadowCameraNear:1,shadowCameraFar:1e3};break;case'HemisphereLight':a={direction:new m,skyColor:new Y,groundColor:new Y};break;case'RectAreaLight':a={color:new Y,position:new m,halfWidth:new m,halfHeight:new m};}return e[t.id]=a,a}}}function qe(){var e=new Ye,t={hash:'',ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},r=new m,i=new a,o=new a;return{setup:function(a,n,s){for(var p=0,d=0,c=0,m=0,u=0,g=0,f=0,h=0,y=s.matrixWorldInverse,x=0,v=a.length;x<v;x++){var l=a[x],_=l.color,b=l.intensity,E=l.distance,T=l.shadow&&l.shadow.map?l.shadow.map.texture:null;if(l.isAmbientLight)p+=_.r*b,d+=_.g*b,c+=_.b*b;else if(l.isDirectionalLight){var S=e.get(l);if(S.color.copy(l.color).multiplyScalar(l.intensity),S.direction.setFromMatrixPosition(l.matrixWorld),r.setFromMatrixPosition(l.target.matrixWorld),S.direction.sub(r),S.direction.transformDirection(y),S.shadow=l.castShadow,l.castShadow){var M=l.shadow;S.shadowBias=M.bias,S.shadowRadius=M.radius,S.shadowMapSize=M.mapSize}t.directionalShadowMap[m]=T,t.directionalShadowMatrix[m]=l.shadow.matrix,t.directional[m]=S,m++}else if(l.isSpotLight){var S=e.get(l);if(S.position.setFromMatrixPosition(l.matrixWorld),S.position.applyMatrix4(y),S.color.copy(_).multiplyScalar(b),S.distance=E,S.direction.setFromMatrixPosition(l.matrixWorld),r.setFromMatrixPosition(l.target.matrixWorld),S.direction.sub(r),S.direction.transformDirection(y),S.coneCos=io(l.angle),S.penumbraCos=io(l.angle*(1-l.penumbra)),S.decay=0===l.distance?0:l.decay,S.shadow=l.castShadow,l.castShadow){var M=l.shadow;S.shadowBias=M.bias,S.shadowRadius=M.radius,S.shadowMapSize=M.mapSize}t.spotShadowMap[g]=T,t.spotShadowMatrix[g]=l.shadow.matrix,t.spot[g]=S,g++}else if(l.isRectAreaLight){var S=e.get(l);S.color.copy(_).multiplyScalar(b/(l.width*l.height)),S.position.setFromMatrixPosition(l.matrixWorld),S.position.applyMatrix4(y),o.identity(),i.copy(l.matrixWorld),i.premultiply(y),o.extractRotation(i),S.halfWidth.set(0.5*l.width,0,0),S.halfHeight.set(0,0.5*l.height,0),S.halfWidth.applyMatrix4(o),S.halfHeight.applyMatrix4(o),t.rectArea[f]=S,f++}else if(l.isPointLight){var S=e.get(l);if(S.position.setFromMatrixPosition(l.matrixWorld),S.position.applyMatrix4(y),S.color.copy(l.color).multiplyScalar(l.intensity),S.distance=l.distance,S.decay=0===l.distance?0:l.decay,S.shadow=l.castShadow,l.castShadow){var M=l.shadow;S.shadowBias=M.bias,S.shadowRadius=M.radius,S.shadowMapSize=M.mapSize,S.shadowCameraNear=M.camera.near,S.shadowCameraFar=M.camera.far}t.pointShadowMap[u]=T,t.pointShadowMatrix[u]=l.shadow.matrix,t.point[u]=S,u++}else if(l.isHemisphereLight){var S=e.get(l);S.direction.setFromMatrixPosition(l.matrixWorld),S.direction.transformDirection(y),S.direction.normalize(),S.skyColor.copy(l.color).multiplyScalar(b),S.groundColor.copy(l.groundColor).multiplyScalar(b),t.hemi[h]=S,h++}}t.ambient[0]=p,t.ambient[1]=d,t.ambient[2]=c,t.directional.length=m,t.spot.length=g,t.rectArea.length=f,t.point.length=u,t.hemi.length=h,t.hash=m+','+u+','+g+','+f+','+h+','+n.length},state:t}}function Ze(e,t){var r={};return{update:function(a){var i=t.frame,o=a.geometry,n=e.get(a,o);return r[n.id]!==i&&(o.isGeometry&&n.updateFromObject(a),e.update(n),r[n.id]=i),n},clear:function(){r={}}}}function Je(e){for(var t=e.split('\n'),r=0;r<t.length;r++)t[r]=r+1+': '+t[r];return t.join('\n')}function Qe(e,t,r){var a=e.createShader(t);return e.shaderSource(a,r),e.compileShader(a),!1===e.getShaderParameter(a,e.COMPILE_STATUS)&&console.error('THREE.WebGLShader: Shader couldn\'t compile.'),''!==e.getShaderInfoLog(a)&&console.warn('THREE.WebGLShader: gl.getShaderInfoLog()',t===e.VERTEX_SHADER?'vertex':'fragment',e.getShaderInfoLog(a),Je(r)),a}function Ke(e){switch(e){case bs:return['Linear','( value )'];case Es:return['sRGB','( value )'];case Ss:return['RGBE','( value )'];case Ms:return['RGBM','( value, 7.0 )'];case As:return['RGBM','( value, 16.0 )'];case ws:return['RGBD','( value, 256.0 )'];case Ts:return['Gamma','( value, float( GAMMA_FACTOR ) )'];default:throw new Error('unsupported encoding: '+e);}}function $e(e,t){var r=Ke(t);return'vec4 '+e+'( vec4 value ) { return '+r[0]+'ToLinear'+r[1]+'; }'}function et(e,t){var r=Ke(t);return'vec4 '+e+'( vec4 value ) { return LinearTo'+r[0]+r[1]+'; }'}function tt(e,t){var r;switch(t){case hn:r='Linear';break;case yn:r='Reinhard';break;case xn:r='Uncharted2';break;case vn:r='OptimizedCineon';break;default:throw new Error('unsupported toneMapping: '+t);}return'vec3 '+e+'( vec3 color ) { return '+r+'ToneMapping( color ); }'}function rt(e,t,r){e=e||{};var a=[e.derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap||t.flatShading?'#extension GL_OES_standard_derivatives : enable':'',(e.fragDepth||t.logarithmicDepthBuffer)&&r.get('EXT_frag_depth')?'#extension GL_EXT_frag_depth : enable':'',e.drawBuffers&&r.get('WEBGL_draw_buffers')?'#extension GL_EXT_draw_buffers : require':'',(e.shaderTextureLOD||t.envMap)&&r.get('EXT_shader_texture_lod')?'#extension GL_EXT_shader_texture_lod : enable':''];return a.filter(ot).join('\n')}function at(e){var t=[];for(var r in e){var a=e[r];!1===a||t.push('#define '+r+' '+a)}return t.join('\n')}function it(e,t){for(var r={},a=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<a;o++){var i=e.getActiveAttrib(t,o),n=i.name;r[n]=e.getAttribLocation(t,n)}return r}function ot(e){return''!==e}function nt(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function st(e){function t(e,t){var r=Vs[t];if(void 0===r)throw new Error('Can not resolve #include <'+t+'>');return st(r)}var r=/^[ \t]*#include +<([\w\d.]+)>/gm;return e.replace(r,t)}function lt(e){var t=/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;return e.replace(t,function(e,t,r,a){for(var o='',n=parseInt(t);n<parseInt(r);n++)o+=a.replace(/\[ i \]/g,'[ '+n+' ]');return o})}function pt(e,t,r,a,i,o){var n=e.context,s=a.defines,l=i.vertexShader,p=i.fragmentShader,d='SHADOWMAP_TYPE_BASIC';o.shadowMapType===Ao?d='SHADOWMAP_TYPE_PCF':o.shadowMapType===wo&&(d='SHADOWMAP_TYPE_PCF_SOFT');var c='ENVMAP_TYPE_CUBE',m='ENVMAP_MODE_REFLECTION',u='ENVMAP_BLENDING_MULTIPLY';if(o.envMap){switch(a.envMap.mapping){case bn:case En:c='ENVMAP_TYPE_CUBE';break;case An:case wn:c='ENVMAP_TYPE_CUBE_UV';break;case Tn:case Sn:c='ENVMAP_TYPE_EQUIREC';break;case Mn:c='ENVMAP_TYPE_SPHERE';}switch(a.envMap.mapping){case En:case Sn:m='ENVMAP_MODE_REFRACTION';}switch(a.combine){case mn:u='ENVMAP_BLENDING_MULTIPLY';break;case un:u='ENVMAP_BLENDING_MIX';break;case gn:u='ENVMAP_BLENDING_ADD';}}var g=0<e.gammaFactor?e.gammaFactor:1,f=rt(a.extensions,o,t),h=at(s),y=n.createProgram(),x,v;a.isRawShaderMaterial?(x=[h].filter(ot).join('\n'),0<x.length&&(x+='\n'),v=[f,h].filter(ot).join('\n'),0<v.length&&(v+='\n')):(x=['precision '+o.precision+' float;','precision '+o.precision+' int;','#define SHADER_NAME '+i.name,h,o.supportsVertexTextures?'#define VERTEX_TEXTURES':'','#define GAMMA_FACTOR '+g,'#define MAX_BONES '+o.maxBones,o.useFog&&o.fog?'#define USE_FOG':'',o.useFog&&o.fogExp?'#define FOG_EXP2':'',o.map?'#define USE_MAP':'',o.envMap?'#define USE_ENVMAP':'',o.envMap?'#define '+m:'',o.lightMap?'#define USE_LIGHTMAP':'',o.aoMap?'#define USE_AOMAP':'',o.emissiveMap?'#define USE_EMISSIVEMAP':'',o.bumpMap?'#define USE_BUMPMAP':'',o.normalMap?'#define USE_NORMALMAP':'',o.displacementMap&&o.supportsVertexTextures?'#define USE_DISPLACEMENTMAP':'',o.specularMap?'#define USE_SPECULARMAP':'',o.roughnessMap?'#define USE_ROUGHNESSMAP':'',o.metalnessMap?'#define USE_METALNESSMAP':'',o.alphaMap?'#define USE_ALPHAMAP':'',o.vertexColors?'#define USE_COLOR':'',o.flatShading?'#define FLAT_SHADED':'',o.skinning?'#define USE_SKINNING':'',o.useVertexTexture?'#define BONE_TEXTURE':'',o.morphTargets?'#define USE_MORPHTARGETS':'',o.morphNormals&&!1===o.flatShading?'#define USE_MORPHNORMALS':'',o.doubleSided?'#define DOUBLE_SIDED':'',o.flipSided?'#define FLIP_SIDED':'','#define NUM_CLIPPING_PLANES '+o.numClippingPlanes,o.shadowMapEnabled?'#define USE_SHADOWMAP':'',o.shadowMapEnabled?'#define '+d:'',o.sizeAttenuation?'#define USE_SIZEATTENUATION':'',o.logarithmicDepthBuffer?'#define USE_LOGDEPTHBUF':'',o.logarithmicDepthBuffer&&t.get('EXT_frag_depth')?'#define USE_LOGDEPTHBUF_EXT':'','uniform mat4 modelMatrix;','uniform mat4 modelViewMatrix;','uniform mat4 projectionMatrix;','uniform mat4 viewMatrix;','uniform mat3 normalMatrix;','uniform vec3 cameraPosition;','attribute vec3 position;','attribute vec3 normal;','attribute vec2 uv;','#ifdef USE_COLOR','\tattribute vec3 color;','#endif','#ifdef USE_MORPHTARGETS','\tattribute vec3 morphTarget0;','\tattribute vec3 morphTarget1;','\tattribute vec3 morphTarget2;','\tattribute vec3 morphTarget3;','\t#ifdef USE_MORPHNORMALS','\t\tattribute vec3 morphNormal0;','\t\tattribute vec3 morphNormal1;','\t\tattribute vec3 morphNormal2;','\t\tattribute vec3 morphNormal3;','\t#else','\t\tattribute vec3 morphTarget4;','\t\tattribute vec3 morphTarget5;','\t\tattribute vec3 morphTarget6;','\t\tattribute vec3 morphTarget7;','\t#endif','#endif','#ifdef USE_SKINNING','\tattribute vec4 skinIndex;','\tattribute vec4 skinWeight;','#endif','\n'].filter(ot).join('\n'),v=[f,'precision '+o.precision+' float;','precision '+o.precision+' int;','#define SHADER_NAME '+i.name,h,o.alphaTest?'#define ALPHATEST '+o.alphaTest:'','#define GAMMA_FACTOR '+g,o.useFog&&o.fog?'#define USE_FOG':'',o.useFog&&o.fogExp?'#define FOG_EXP2':'',o.map?'#define USE_MAP':'',o.envMap?'#define USE_ENVMAP':'',o.envMap?'#define '+c:'',o.envMap?'#define '+m:'',o.envMap?'#define '+u:'',o.lightMap?'#define USE_LIGHTMAP':'',o.aoMap?'#define USE_AOMAP':'',o.emissiveMap?'#define USE_EMISSIVEMAP':'',o.bumpMap?'#define USE_BUMPMAP':'',o.normalMap?'#define USE_NORMALMAP':'',o.specularMap?'#define USE_SPECULARMAP':'',o.roughnessMap?'#define USE_ROUGHNESSMAP':'',o.metalnessMap?'#define USE_METALNESSMAP':'',o.alphaMap?'#define USE_ALPHAMAP':'',o.vertexColors?'#define USE_COLOR':'',o.gradientMap?'#define USE_GRADIENTMAP':'',o.flatShading?'#define FLAT_SHADED':'',o.doubleSided?'#define DOUBLE_SIDED':'',o.flipSided?'#define FLIP_SIDED':'','#define NUM_CLIPPING_PLANES '+o.numClippingPlanes,'#define UNION_CLIPPING_PLANES '+(o.numClippingPlanes-o.numClipIntersection),o.shadowMapEnabled?'#define USE_SHADOWMAP':'',o.shadowMapEnabled?'#define '+d:'',o.premultipliedAlpha?'#define PREMULTIPLIED_ALPHA':'',o.physicallyCorrectLights?'#define PHYSICALLY_CORRECT_LIGHTS':'',o.logarithmicDepthBuffer?'#define USE_LOGDEPTHBUF':'',o.logarithmicDepthBuffer&&t.get('EXT_frag_depth')?'#define USE_LOGDEPTHBUF_EXT':'',o.envMap&&t.get('EXT_shader_texture_lod')?'#define TEXTURE_LOD_EXT':'','uniform mat4 viewMatrix;','uniform vec3 cameraPosition;',o.toneMapping===fn?'':'#define TONE_MAPPING',o.toneMapping===fn?'':Vs.tonemapping_pars_fragment,o.toneMapping===fn?'':tt('toneMapping',o.toneMapping),o.dithering?'#define DITHERING':'',o.outputEncoding||o.mapEncoding||o.envMapEncoding||o.emissiveMapEncoding?Vs.encodings_pars_fragment:'',o.mapEncoding?$e('mapTexelToLinear',o.mapEncoding):'',o.envMapEncoding?$e('envMapTexelToLinear',o.envMapEncoding):'',o.emissiveMapEncoding?$e('emissiveMapTexelToLinear',o.emissiveMapEncoding):'',o.outputEncoding?et('linearToOutputTexel',o.outputEncoding):'',o.depthPacking?'#define DEPTH_PACKING '+a.depthPacking:'','\n'].filter(ot).join('\n')),l=st(l),l=nt(l,o),p=st(p),p=nt(p,o),a.isShaderMaterial||(l=lt(l),p=lt(p));var _=x+l,b=v+p,E=Qe(n,n.VERTEX_SHADER,_),T=Qe(n,n.FRAGMENT_SHADER,b);n.attachShader(y,E),n.attachShader(y,T),void 0===a.index0AttributeName?!0===o.morphTargets&&n.bindAttribLocation(y,0,'position'):n.bindAttribLocation(y,0,a.index0AttributeName),n.linkProgram(y);var S=n.getProgramInfoLog(y),M=n.getShaderInfoLog(E),A=n.getShaderInfoLog(T),w=!0,L=!0;!1===n.getProgramParameter(y,n.LINK_STATUS)?(w=!1,console.error('THREE.WebGLProgram: shader error: ',n.getError(),'gl.VALIDATE_STATUS',n.getProgramParameter(y,n.VALIDATE_STATUS),'gl.getProgramInfoLog',S,M,A)):''===S?(''===M||''===A)&&(L=!1):console.warn('THREE.WebGLProgram: gl.getProgramInfoLog()',S),L&&(this.diagnostics={runnable:w,material:a,programLog:S,vertexShader:{log:M,prefix:x},fragmentShader:{log:A,prefix:v}}),n.deleteShader(E),n.deleteShader(T);var R;this.getUniforms=function(){return void 0==R&&(R=new X(n,y,e)),R};var P;return this.getAttributes=function(){return void 0==P&&(P=it(n,y)),P},this.destroy=function(){n.deleteProgram(y),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn('THREE.WebGLProgram: .uniforms is now .getUniforms().'),this.getUniforms()}},attributes:{get:function(){return console.warn('THREE.WebGLProgram: .attributes is now .getAttributes().'),this.getAttributes()}}}),this.id=qs++,this.code=r,this.usedTimes=1,this.program=y,this.vertexShader=E,this.fragmentShader=T,this}function dt(e,t,r){function a(e){var t=e.skeleton,a=t.bones;if(r.floatVertexTextures)return 1024;var i=r.maxVertexUniforms,o=xo((i-20)/4),n=fo(o,a.length);return n<a.length?(console.warn('THREE.WebGLRenderer: Skeleton has '+a.length+' bones. This GPU supports '+n+'.'),0):n}function i(e,t){var r;return e?e.isTexture?r=e.encoding:e.isWebGLRenderTarget&&(console.warn('THREE.WebGLPrograms.getTextureEncodingFromMap: don\'t use render targets as textures. Use their .texture property instead.'),r=e.texture.encoding):r=bs,r===bs&&t&&(r=Ts),r}var o=[],n={MeshDepthMaterial:'depth',MeshDistanceMaterial:'distanceRGBA',MeshNormalMaterial:'normal',MeshBasicMaterial:'basic',MeshLambertMaterial:'lambert',MeshPhongMaterial:'phong',MeshToonMaterial:'phong',MeshStandardMaterial:'physical',MeshPhysicalMaterial:'physical',LineBasicMaterial:'basic',LineDashedMaterial:'dashed',PointsMaterial:'points',ShadowMaterial:'shadow'},s=['precision','supportsVertexTextures','map','mapEncoding','envMap','envMapMode','envMapEncoding','lightMap','aoMap','emissiveMap','emissiveMapEncoding','bumpMap','normalMap','displacementMap','specularMap','roughnessMap','metalnessMap','gradientMap','alphaMap','combine','vertexColors','fog','useFog','fogExp','flatShading','sizeAttenuation','logarithmicDepthBuffer','skinning','maxBones','useVertexTexture','morphTargets','morphNormals','maxMorphTargets','maxMorphNormals','premultipliedAlpha','numDirLights','numPointLights','numSpotLights','numHemiLights','numRectAreaLights','shadowMapEnabled','shadowMapType','toneMapping','physicallyCorrectLights','alphaTest','doubleSided','flipSided','numClippingPlanes','numClipIntersection','depthPacking','dithering'];this.getParameters=function(t,o,s,l,p,d,c){var m=n[t.type],u=c.isSkinnedMesh?a(c):0,g=r.precision;null!==t.precision&&(g=r.getMaxPrecision(t.precision),g!==t.precision&&console.warn('THREE.WebGLProgram.getParameters:',t.precision,'not supported, using',g,'instead.'));var f=e.getRenderTarget(),h={shaderID:m,precision:g,supportsVertexTextures:r.vertexTextures,outputEncoding:i(f?f.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:i(t.map,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:i(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(t.envMap.mapping===An||t.envMap.mapping===wn),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:i(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,combine:t.combine,vertexColors:t.vertexColors,fog:!!l,useFog:t.fog,fogExp:l&&l.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:r.logarithmicDepthBuffer,skinning:t.skinning&&0<u,maxBones:u,useVertexTexture:r.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numClippingPlanes:p,numClipIntersection:d,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&c.receiveShadow&&0<s.length,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:t.side===Po,flipSided:t.side===Ro,depthPacking:void 0!==t.depthPacking&&t.depthPacking};return h},this.getProgramCode=function(t,r){var a=[];if(r.shaderID?a.push(r.shaderID):(a.push(t.fragmentShader),a.push(t.vertexShader)),void 0!==t.defines)for(var o in t.defines)a.push(o),a.push(t.defines[o]);for(var n=0;n<s.length;n++)a.push(r[s[n]]);return a.push(t.onBeforeCompile.toString()),a.push(e.gammaOutput),a.join()},this.acquireProgram=function(r,a,i,n){for(var s=0,l=o.length,p,d;s<l;s++)if(d=o[s],d.code===n){p=d,++p.usedTimes;break}return void 0===p&&(p=new pt(e,t,n,r,a,i),o.push(p)),p},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=o.indexOf(e);o[t]=o[o.length-1],o.pop(),e.destroy()}},this.programs=o}function ct(e,t,r,a,o,n,s){function l(e,t){if(e.width>t||e.height>t){var r=t/go(e.width,e.height),a=document.createElementNS('http://www.w3.org/1999/xhtml','canvas');a.width=xo(e.width*r),a.height=xo(e.height*r);var i=a.getContext('2d');return i.drawImage(e,0,0,e.width,e.height,0,0,a.width,a.height),console.warn('THREE.WebGLRenderer: image is too big ('+e.width+'x'+e.height+'). Resized to '+a.width+'x'+a.height,e),a}return e}function p(e){return Ps.isPowerOfTwo(e.width)&&Ps.isPowerOfTwo(e.height)}function d(e){if(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageBitmap){var t=document.createElementNS('http://www.w3.org/1999/xhtml','canvas');t.width=Ps.floorPowerOfTwo(e.width),t.height=Ps.floorPowerOfTwo(e.height);var r=t.getContext('2d');return r.drawImage(e,0,0,t.width,t.height),console.warn('THREE.WebGLRenderer: image is not power of two ('+e.width+'x'+e.height+'). Resized to '+t.width+'x'+t.height,e),t}return e}function c(e){return e.wrapS!==Rn||e.wrapT!==Rn||e.minFilter!==Cn&&e.minFilter!==Un}function m(e,t){return e.generateMipmaps&&t&&e.minFilter!==Cn&&e.minFilter!==Un}function i(t){return t===Cn||t===In||t===Nn?e.NEAREST:e.LINEAR}function u(e){var t=e.target;t.removeEventListener('dispose',u),f(t),t.isVideoTexture&&delete M[t.id],s.textures--}function g(e){var t=e.target;t.removeEventListener('dispose',g),h(t),s.textures--}function f(t){var r=a.get(t);if(t.image&&r.__image__webglTextureCube)e.deleteTexture(r.__image__webglTextureCube);else{if(void 0===r.__webglInit)return;e.deleteTexture(r.__webglTexture)}a.remove(t)}function h(t){var r=a.get(t),o=a.get(t.texture);if(t){if(void 0!==o.__webglTexture&&e.deleteTexture(o.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLRenderTargetCube)for(var n=0;6>n;n++)e.deleteFramebuffer(r.__webglFramebuffer[n]),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer[n]);else e.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer);a.remove(t.texture),a.remove(t)}}function y(t,i){var o=a.get(t);if(0<t.version&&o.__version!==t.version){var n=t.image;if(void 0===n)console.warn('THREE.WebGLRenderer: Texture marked for update but image is undefined',t);else if(!1===n.complete)console.warn('THREE.WebGLRenderer: Texture marked for update but image is incomplete',t);else return void v(o,t,i)}r.activeTexture(e.TEXTURE0+i),r.bindTexture(e.TEXTURE_2D,o.__webglTexture)}function x(r,s,l){var p;if(l?(e.texParameteri(r,e.TEXTURE_WRAP_S,n.convert(s.wrapS)),e.texParameteri(r,e.TEXTURE_WRAP_T,n.convert(s.wrapT)),e.texParameteri(r,e.TEXTURE_MAG_FILTER,n.convert(s.magFilter)),e.texParameteri(r,e.TEXTURE_MIN_FILTER,n.convert(s.minFilter))):(e.texParameteri(r,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(r,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),(s.wrapS!==Rn||s.wrapT!==Rn)&&console.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.',s),e.texParameteri(r,e.TEXTURE_MAG_FILTER,i(s.magFilter)),e.texParameteri(r,e.TEXTURE_MIN_FILTER,i(s.minFilter)),s.minFilter!==Cn&&s.minFilter!==Un&&console.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.',s)),p=t.get('EXT_texture_filter_anisotropic'),p){if(s.type===kn&&null===t.get('OES_texture_float_linear'))return;if(s.type===Wn&&null===t.get('OES_texture_half_float_linear'))return;(1<s.anisotropy||a.get(s).__currentAnisotropy)&&(e.texParameterf(r,p.TEXTURE_MAX_ANISOTROPY_EXT,fo(s.anisotropy,o.getMaxAnisotropy())),a.get(s).__currentAnisotropy=s.anisotropy)}}function v(t,a,g){void 0===t.__webglInit&&(t.__webglInit=!0,a.addEventListener('dispose',u),t.__webglTexture=e.createTexture(),a.isVideoTexture&&(M[a.id]=a),s.textures++),r.activeTexture(e.TEXTURE0+g),r.bindTexture(e.TEXTURE_2D,t.__webglTexture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,a.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,a.unpackAlignment);var f=l(a.image,o.maxTextureSize);c(a)&&!1===p(f)&&(f=d(f));var h=p(f),y=n.convert(a.format),v=n.convert(a.type);x(e.TEXTURE_2D,a,h);var _=a.mipmaps,b;if(a.isDepthTexture){var E=e.DEPTH_COMPONENT;if(a.type===kn){if(!S)throw new Error('Float Depth Texture only supported in WebGL2.0');E=e.DEPTH_COMPONENT32F}else S&&(E=e.DEPTH_COMPONENT16);a.format===es&&E===e.DEPTH_COMPONENT&&a.type!==Gn&&a.type!==Vn&&(console.warn('THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.'),a.type=Gn,v=n.convert(a.type)),a.format===ts&&(E=e.DEPTH_STENCIL,a.type!==qn&&(console.warn('THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.'),a.type=qn,v=n.convert(a.type))),r.texImage2D(e.TEXTURE_2D,0,E,f.width,f.height,0,y,v,null)}else if(a.isDataTexture){if(0<_.length&&h){for(var T=0,i=_.length;T<i;T++)b=_[T],r.texImage2D(e.TEXTURE_2D,T,y,b.width,b.height,0,y,v,b.data);a.generateMipmaps=!1}else r.texImage2D(e.TEXTURE_2D,0,y,f.width,f.height,0,y,v,f.data);}else if(a.isCompressedTexture)for(var T=0,i=_.length;T<i;T++)b=_[T],a.format!==Qn&&a.format!==Jn?-1<r.getCompressedTextureFormats().indexOf(y)?r.compressedTexImage2D(e.TEXTURE_2D,T,y,b.width,b.height,0,b.data):console.warn('THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()'):r.texImage2D(e.TEXTURE_2D,T,y,b.width,b.height,0,y,v,b.data);else if(0<_.length&&h){for(var T=0,i=_.length;T<i;T++)b=_[T],r.texImage2D(e.TEXTURE_2D,T,y,y,v,b);a.generateMipmaps=!1}else r.texImage2D(e.TEXTURE_2D,0,y,y,v,f);m(a,h)&&e.generateMipmap(e.TEXTURE_2D),t.__version=a.version,a.onUpdate&&a.onUpdate(a)}function _(t,i,o,s){var l=n.convert(i.texture.format),p=n.convert(i.texture.type);r.texImage2D(s,0,l,i.width,i.height,0,l,p,null),e.bindFramebuffer(e.FRAMEBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,o,s,a.get(i.texture).__webglTexture,0),e.bindFramebuffer(e.FRAMEBUFFER,null)}function b(t,r){e.bindRenderbuffer(e.RENDERBUFFER,t),r.depthBuffer&&!r.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,r.width,r.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)):r.depthBuffer&&r.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,r.width,r.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)):e.renderbufferStorage(e.RENDERBUFFER,e.RGBA4,r.width,r.height),e.bindRenderbuffer(e.RENDERBUFFER,null)}function E(t,r){var i=r&&r.isWebGLRenderTargetCube;if(i)throw new Error('Depth Texture with cube render targets is not supported');if(e.bindFramebuffer(e.FRAMEBUFFER,t),!(r.depthTexture&&r.depthTexture.isDepthTexture))throw new Error('renderTarget.depthTexture must be an instance of THREE.DepthTexture');a.get(r.depthTexture).__webglTexture&&r.depthTexture.image.width===r.width&&r.depthTexture.image.height===r.height||(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),y(r.depthTexture,0);var o=a.get(r.depthTexture).__webglTexture;if(r.depthTexture.format===es)e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0);else if(r.depthTexture.format===ts)e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0);else throw new Error('Unknown depthTexture format')}function T(t){var r=a.get(t),o=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(o)throw new Error('target.depthTexture not supported in Cube render targets');E(r.__webglFramebuffer,t)}else if(o){r.__webglDepthbuffer=[];for(var n=0;6>n;n++)e.bindFramebuffer(e.FRAMEBUFFER,r.__webglFramebuffer[n]),r.__webglDepthbuffer[n]=e.createRenderbuffer(),b(r.__webglDepthbuffer[n],t)}else e.bindFramebuffer(e.FRAMEBUFFER,r.__webglFramebuffer),r.__webglDepthbuffer=e.createRenderbuffer(),b(r.__webglDepthbuffer,t);e.bindFramebuffer(e.FRAMEBUFFER,null)}var S='undefined'!=typeof WebGL2RenderingContext&&e instanceof window.WebGL2RenderingContext,M={};this.setTexture2D=y,this.setTextureCube=function(t,d){var c=a.get(t);if(6===t.image.length)if(0<t.version&&c.__version!==t.version){c.__image__webglTextureCube||(t.addEventListener('dispose',u),c.__image__webglTextureCube=e.createTexture(),s.textures++),r.activeTexture(e.TEXTURE0+d),r.bindTexture(e.TEXTURE_CUBE_MAP,c.__image__webglTextureCube),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var g=t&&t.isCompressedTexture,f=t.image[0]&&t.image[0].isDataTexture,h=[],y=0;6>y;y++)h[y]=g||f?f?t.image[y].image:t.image[y]:l(t.image[y],o.maxCubemapSize);var i=h[0],v=p(i),_=n.convert(t.format),b=n.convert(t.type);x(e.TEXTURE_CUBE_MAP,t,v);for(var y=0;6>y;y++)if(!g)f?r.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+y,0,_,h[y].width,h[y].height,0,_,b,h[y].data):r.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+y,0,_,_,b,h[y]);else for(var E=h[y].mipmaps,T=0,S=E.length,M;T<S;T++)M=E[T],t.format!==Qn&&t.format!==Jn?-1<r.getCompressedTextureFormats().indexOf(_)?r.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+y,T,_,M.width,M.height,0,M.data):console.warn('THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()'):r.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+y,T,_,M.width,M.height,0,_,b,M.data);m(t,v)&&e.generateMipmap(e.TEXTURE_CUBE_MAP),c.__version=t.version,t.onUpdate&&t.onUpdate(t)}else r.activeTexture(e.TEXTURE0+d),r.bindTexture(e.TEXTURE_CUBE_MAP,c.__image__webglTextureCube)},this.setTextureCubeDynamic=function(t,i){r.activeTexture(e.TEXTURE0+i),r.bindTexture(e.TEXTURE_CUBE_MAP,a.get(t).__webglTexture)},this.setupRenderTarget=function(t){var o=a.get(t),n=a.get(t.texture);t.addEventListener('dispose',g),n.__webglTexture=e.createTexture(),s.textures++;var l=!0===t.isWebGLRenderTargetCube,d=p(t);if(l){o.__webglFramebuffer=[];for(var c=0;6>c;c++)o.__webglFramebuffer[c]=e.createFramebuffer()}else o.__webglFramebuffer=e.createFramebuffer();if(l){r.bindTexture(e.TEXTURE_CUBE_MAP,n.__webglTexture),x(e.TEXTURE_CUBE_MAP,t.texture,d);for(var c=0;6>c;c++)_(o.__webglFramebuffer[c],t,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+c);m(t.texture,d)&&e.generateMipmap(e.TEXTURE_CUBE_MAP),r.bindTexture(e.TEXTURE_CUBE_MAP,null)}else r.bindTexture(e.TEXTURE_2D,n.__webglTexture),x(e.TEXTURE_2D,t.texture,d),_(o.__webglFramebuffer,t,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),m(t.texture,d)&&e.generateMipmap(e.TEXTURE_2D),r.bindTexture(e.TEXTURE_2D,null);t.depthBuffer&&T(t)},this.updateRenderTargetMipmap=function(t){var i=t.texture,o=p(t);if(m(i,o)){var n=t.isWebGLRenderTargetCube?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,s=a.get(i).__webglTexture;r.bindTexture(n,s),e.generateMipmap(n),r.bindTexture(n,null)}},this.updateVideoTextures=function(){for(var e in M)M[e].update()}}function mt(){var e={};return{get:function(t){var r=t.uuid,a=e[r];return void 0===a&&(a={},e[r]=a),a},remove:function(t){delete e[t.uuid]},clear:function(){e={}}}}function ut(e,t,r){function a(t,r,a){var o=new Uint8Array(4),n=e.createTexture();e.bindTexture(t,n),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var s=0;s<a;s++)e.texImage2D(r+s,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,o);return n}function i(t){!0!==b[t]&&(e.enable(t),b[t]=!0)}function o(t){!1!==b[t]&&(e.disable(t),b[t]=!1)}function n(t,a,n,s,l,p,d,c){t===Do?o(e.BLEND):i(e.BLEND),t===Go?(l=l||a,p=p||n,d=d||s,(a!==M||l!==L)&&(e.blendEquationSeparate(r.convert(a),r.convert(l)),M=a,L=l),(n!==A||s!==w||p!==R||d!==P)&&(e.blendFuncSeparate(r.convert(n),r.convert(s),r.convert(p),r.convert(d)),A=n,w=s,R=p,P=d)):((t!==S||c!==C)&&(t===Bo?c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE,e.ONE,e.ONE)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE)):t===Fo?c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_COLOR)):t===Oo?c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.SRC_COLOR)):c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA))),M=null,A=null,w=null,L=null,R=null,P=null),S=t,C=c}function l(t){I!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),I=t)}function p(t){t===Eo?o(e.CULL_FACE):(i(e.CULL_FACE),t!==N&&(t===To?e.cullFace(e.BACK):t===So?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))),N=t}function d(t,r,a){t?(i(e.POLYGON_OFFSET_FILL),(D!==r||z!==a)&&(e.polygonOffset(r,a),D=r,z=a)):o(e.POLYGON_OFFSET_FILL)}function c(t){void 0===t&&(t=e.TEXTURE0+B-1),G!==t&&(e.activeTexture(t),G=t)}function m(t){!1===V.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),V.copy(t))}function u(t){!1===k.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),k.copy(t))}var g=new function(){var t=!1,i=new s,r=null,o=new s(0,0,0,0);return{setMask:function(a){r===a||t||(e.colorMask(a,a,a,a),r=a)},setLocked:function(e){t=e},setClear:function(t,r,n,s,a){!0===a&&(t*=s,r*=s,n*=s),i.set(t,r,n,s),!1===o.equals(i)&&(e.clearColor(t,r,n,s),o.copy(i))},reset:function(){t=!1,r=null,o.set(-1,0,0,0)}}},f=new function(){var t=!1,r=null,a=null,n=null;return{setTest:function(t){t?i(e.DEPTH_TEST):o(e.DEPTH_TEST)},setMask:function(a){r===a||t||(e.depthMask(a),r=a)},setFunc:function(t){a!==t&&(t?t===an?e.depthFunc(e.NEVER):t===on?e.depthFunc(e.ALWAYS):t===nn?e.depthFunc(e.LESS):t===sn?e.depthFunc(e.LEQUAL):t===ln?e.depthFunc(e.EQUAL):t===pn?e.depthFunc(e.GEQUAL):t===dn?e.depthFunc(e.GREATER):t===cn?e.depthFunc(e.NOTEQUAL):e.depthFunc(e.LEQUAL):e.depthFunc(e.LEQUAL),a=t)},setLocked:function(e){t=e},setClear:function(t){n!==t&&(e.clearDepth(t),n=t)},reset:function(){t=!1,r=null,a=null,n=null}}},h=new function(){var t=!1,r=null,a=null,n=null,s=null,l=null,p=null,d=null,c=null;return{setTest:function(t){t?i(e.STENCIL_TEST):o(e.STENCIL_TEST)},setMask:function(a){r===a||t||(e.stencilMask(a),r=a)},setFunc:function(t,r,i){(a!==t||n!==r||s!==i)&&(e.stencilFunc(t,r,i),a=t,n=r,s=i)},setOp:function(t,r,a){(l!==t||p!==r||d!==a)&&(e.stencilOp(t,r,a),l=t,p=r,d=a)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,r=null,a=null,n=null,s=null,l=null,p=null,d=null,c=null}}},y=e.getParameter(e.MAX_VERTEX_ATTRIBS),x=new Uint8Array(y),v=new Uint8Array(y),_=new Uint8Array(y),b={},E=null,T=null,S=null,M=null,A=null,w=null,L=null,R=null,P=null,C=!1,I=null,N=null,U=null,D=null,z=null,B=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),F=parseFloat(/^WebGL\ ([0-9])/.exec(e.getParameter(e.VERSION))[1]),O=1<=parseFloat(F),G=null,H={},V=new s,k=new s,W={};return W[e.TEXTURE_2D]=a(e.TEXTURE_2D,e.TEXTURE_2D,1),W[e.TEXTURE_CUBE_MAP]=a(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),g.setClear(0,0,0,1),f.setClear(1),h.setClear(0),i(e.DEPTH_TEST),f.setFunc(sn),l(!1),p(To),i(e.CULL_FACE),i(e.BLEND),n(zo),{buffers:{color:g,depth:f,stencil:h},initAttributes:function(){for(var e=0,t=x.length;e<t;e++)x[e]=0},enableAttribute:function(r){if(x[r]=1,0===v[r]&&(e.enableVertexAttribArray(r),v[r]=1),0!==_[r]){var a=t.get('ANGLE_instanced_arrays');a.vertexAttribDivisorANGLE(r,0),_[r]=0}},enableAttributeAndDivisor:function(r,a){if(x[r]=1,0===v[r]&&(e.enableVertexAttribArray(r),v[r]=1),_[r]!==a){var i=t.get('ANGLE_instanced_arrays');i.vertexAttribDivisorANGLE(r,a),_[r]=a}},disableUnusedAttributes:function(){for(var t=0,r=v.length;t!==r;++t)v[t]!==x[t]&&(e.disableVertexAttribArray(t),v[t]=0)},enable:i,disable:o,getCompressedTextureFormats:function(){if(null==E&&(E=[],t.get('WEBGL_compressed_texture_pvrtc')||t.get('WEBGL_compressed_texture_s3tc')||t.get('WEBGL_compressed_texture_etc1')))for(var r=e.getParameter(e.COMPRESSED_TEXTURE_FORMATS),a=0;a<r.length;a++)E.push(r[a]);return E},useProgram:function(t){return T!==t&&(e.useProgram(t),T=t,!0)},setBlending:n,setMaterial:function(t,r){t.side===Po?o(e.CULL_FACE):i(e.CULL_FACE);var a=t.side===Ro;r&&(a=!a),l(a),!0===t.transparent?n(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha):n(Do),f.setFunc(t.depthFunc),f.setTest(t.depthTest),f.setMask(t.depthWrite),g.setMask(t.colorWrite),d(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:l,setCullFace:p,setLineWidth:function(t){t!==U&&(O&&e.lineWidth(t),U=t)},setPolygonOffset:d,setScissorTest:function(t){t?i(e.SCISSOR_TEST):o(e.SCISSOR_TEST)},activeTexture:c,bindTexture:function(t,r){null===G&&c();var a=H[G];void 0===a&&(a={type:void 0,texture:void 0},H[G]=a),(a.type!==t||a.texture!==r)&&(e.bindTexture(t,r||W[t]),a.type=t,a.texture=r)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error('THREE.WebGLState:',e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error('THREE.WebGLState:',e)}},scissor:m,viewport:u,reset:function(){for(var t=0;t<v.length;t++)1===v[t]&&(e.disableVertexAttribArray(t),v[t]=0);b={},E=null,G=null,H={},T=null,S=null,I=null,N=null,g.reset(),f.reset(),h.reset()}}}function gt(e,t,r){function a(t){if('highp'===t){if(0<e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision&&0<e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision)return'highp';t='mediump'}return'mediump'===t&&0<e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision&&0<e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision?'mediump':'lowp'}var i=void 0===r.precision?'highp':r.precision,o=a(i),n;o!==i&&(console.warn('THREE.WebGLRenderer:',i,'not supported, using',o,'instead.'),i=o);var s=!0===r.logarithmicDepthBuffer,l=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),p=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),d=e.getParameter(e.MAX_TEXTURE_SIZE),c=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),m=e.getParameter(e.MAX_VERTEX_ATTRIBS),u=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),g=e.getParameter(e.MAX_VARYING_VECTORS),f=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),h=0<p,y=!!t.get('OES_texture_float');return{getMaxAnisotropy:function(){if(void 0!=n)return n;var r=t.get('EXT_texture_filter_anisotropic');return n=null===r?0:e.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT),n},getMaxPrecision:a,precision:i,logarithmicDepthBuffer:s,maxTextures:l,maxVertexTextures:p,maxTextureSize:d,maxCubemapSize:c,maxAttributes:m,maxVertexUniforms:u,maxVaryings:g,maxFragmentUniforms:f,vertexTextures:h,floatFragmentTextures:y,floatVertexTextures:h&&y}}function ft(e,t,r,a){de.call(this),this.type='PerspectiveCamera',this.fov=void 0===e?50:e,this.zoom=1,this.near=void 0===r?0.1:r,this.far=void 0===a?2e3:a,this.focus=10,this.aspect=void 0===t?1:t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function ht(e){ft.call(this),this.cameras=e||[]}function yt(e){function t(){if(null!=i&&i.isPresenting){var t=i.getEyeParameters('left'),a=t.renderWidth,o=t.renderHeight;u=e.getPixelRatio(),m=e.getSize(),e.setDrawingBufferSize(2*a,o,1)}else r.enabled&&e.setDrawingBufferSize(m.width,m.height,u)}var r=this,i=null,o=null,n=null;'undefined'!=typeof window&&'VRFrameData'in window&&(o=new window.VRFrameData);var l=new a,p=new ft;p.bounds=new s(0,0,0.5,1),p.layers.enable(1);var d=new ft;d.bounds=new s(0.5,0,0.5,1),d.layers.enable(2);var c=new ht([p,d]);c.layers.enable(1),c.layers.enable(2);var m,u;'undefined'!=typeof window&&window.addEventListener('vrdisplaypresentchange',t,!1),this.enabled=!1,this.getDevice=function(){return i},this.setDevice=function(e){void 0!==e&&(i=e)},this.setPoseTarget=function(e){void 0!==e&&(n=e)},this.getCamera=function(e){if(null===i)return e;i.depthNear=e.near,i.depthFar=e.far,i.getFrameData(o);var t=o.pose,r=null===n?e:n;if(null===t.position?r.position.set(0,0,0):r.position.fromArray(t.position),null!==t.orientation&&r.quaternion.fromArray(t.orientation),r.updateMatrixWorld(),!1===i.isPresenting)return e;p.near=e.near,d.near=e.near,p.far=e.far,d.far=e.far,c.matrixWorld.copy(e.matrixWorld),c.matrixWorldInverse.copy(e.matrixWorldInverse),p.matrixWorldInverse.fromArray(o.leftViewMatrix),d.matrixWorldInverse.fromArray(o.rightViewMatrix);var a=r.parent;null!==a&&(l.getInverse(a.matrixWorld),p.matrixWorldInverse.multiply(l),d.matrixWorldInverse.multiply(l)),p.matrixWorld.getInverse(p.matrixWorldInverse),d.matrixWorld.getInverse(d.matrixWorldInverse),p.projectionMatrix.fromArray(o.leftProjectionMatrix),d.projectionMatrix.fromArray(o.rightProjectionMatrix),c.projectionMatrix.copy(p.projectionMatrix);var s=i.getLayers();if(s.length){var m=s[0];null!==m.leftBounds&&4===m.leftBounds.length&&p.bounds.fromArray(m.leftBounds),null!==m.rightBounds&&4===m.rightBounds.length&&d.bounds.fromArray(m.rightBounds)}return c},this.submitFrame=function(){i&&i.isPresenting&&i.submitFrame()},this.dispose=function(){'undefined'!=typeof window&&window.removeEventListener('vrdisplaypresentchange',t)}}function xt(e){var t={};return{get:function(r){if(void 0!==t[r])return t[r];var a;return a='WEBGL_depth_texture'===r?e.getExtension('WEBGL_depth_texture')||e.getExtension('MOZ_WEBGL_depth_texture')||e.getExtension('WEBKIT_WEBGL_depth_texture'):'EXT_texture_filter_anisotropic'===r?e.getExtension('EXT_texture_filter_anisotropic')||e.getExtension('MOZ_EXT_texture_filter_anisotropic')||e.getExtension('WEBKIT_EXT_texture_filter_anisotropic'):'WEBGL_compressed_texture_s3tc'===r?e.getExtension('WEBGL_compressed_texture_s3tc')||e.getExtension('MOZ_WEBGL_compressed_texture_s3tc')||e.getExtension('WEBKIT_WEBGL_compressed_texture_s3tc'):'WEBGL_compressed_texture_pvrtc'===r?e.getExtension('WEBGL_compressed_texture_pvrtc')||e.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc'):'WEBGL_compressed_texture_etc1'===r?e.getExtension('WEBGL_compressed_texture_etc1'):e.getExtension(r),null===a&&console.warn('THREE.WebGLRenderer: '+r+' extension not supported.'),t[r]=a,a}}}function vt(){function e(){c.value!==a&&(c.value=a,c.needsUpdate=0<n),r.numPlanes=n,r.numIntersection=0}function t(e,t,a,o){var n=null===e?0:e.length,s=null;if(0!==n){if(s=c.value,!0!==o||null===s){var l=a+4*n,m=t.matrixWorldInverse;d.getNormalMatrix(m),(null===s||s.length<l)&&(s=new Float32Array(l));for(var u=0,i=a;u!==n;++u,i+=4)p.copy(e[u]).applyMatrix4(m,d),p.normal.toArray(s,i),s[i+3]=p.constant}c.value=s,c.needsUpdate=!0}return r.numPlanes=n,s}var r=this,a=null,n=0,s=!1,l=!1,p=new ae,d=new o,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(e,r,i){var o=0!==e.length||r||0!=n||s;return s=r,a=t(e,i,0),n=e.length,o},this.beginShadows=function(){l=!0,t(null)},this.endShadows=function(){l=!1,e()},this.setState=function(r,o,p,d,m,u){if(!s||null===r||0===r.length||l&&!p)l?t(null):e();else{var g=l?0:n,f=4*g,h=m.clippingState||null;c.value=h,h=t(r,d,f,u);for(var y=0;y!==f;++y)h[y]=a[y];m.clippingState=h,this.numIntersection=o?this.numPlanes:0,this.numPlanes+=g}}}function _t(e,t){return{convert:function(r){var a;if(r===Ln)return e.REPEAT;if(r===Rn)return e.CLAMP_TO_EDGE;if(r===Pn)return e.MIRRORED_REPEAT;if(r===Cn)return e.NEAREST;if(r===In)return e.NEAREST_MIPMAP_NEAREST;if(r===Nn)return e.NEAREST_MIPMAP_LINEAR;if(r===Un)return e.LINEAR;if(r===Dn)return e.LINEAR_MIPMAP_NEAREST;if(r===zn)return e.LINEAR_MIPMAP_LINEAR;if(r===Bn)return e.UNSIGNED_BYTE;if(r===jn)return e.UNSIGNED_SHORT_4_4_4_4;if(r===Xn)return e.UNSIGNED_SHORT_5_5_5_1;if(r===Yn)return e.UNSIGNED_SHORT_5_6_5;if(r===Fn)return e.BYTE;if(r===On)return e.SHORT;if(r===Gn)return e.UNSIGNED_SHORT;if(r===Hn)return e.INT;if(r===Vn)return e.UNSIGNED_INT;if(r===kn)return e.FLOAT;if(r===Wn&&(a=t.get('OES_texture_half_float'),null!==a))return a.HALF_FLOAT_OES;if(r===Zn)return e.ALPHA;if(r===Jn)return e.RGB;if(r===Qn)return e.RGBA;if(r===Kn)return e.LUMINANCE;if(r===$n)return e.LUMINANCE_ALPHA;if(r===es)return e.DEPTH_COMPONENT;if(r===ts)return e.DEPTH_STENCIL;if(r===Ho)return e.FUNC_ADD;if(r===Vo)return e.FUNC_SUBTRACT;if(r===ko)return e.FUNC_REVERSE_SUBTRACT;if(r===Xo)return e.ZERO;if(r===Yo)return e.ONE;if(r===qo)return e.SRC_COLOR;if(r===Zo)return e.ONE_MINUS_SRC_COLOR;if(r===Jo)return e.SRC_ALPHA;if(r===Qo)return e.ONE_MINUS_SRC_ALPHA;if(r===Ko)return e.DST_ALPHA;if(r===$o)return e.ONE_MINUS_DST_ALPHA;if(r===en)return e.DST_COLOR;if(r===tn)return e.ONE_MINUS_DST_COLOR;if(r===rn)return e.SRC_ALPHA_SATURATE;if((r===rs||r===as||r===is||r===os)&&(a=t.get('WEBGL_compressed_texture_s3tc'),null!==a)){if(r===rs)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===as)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===is)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===os)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((r===ns||r===ss||r===ls||r===ps)&&(a=t.get('WEBGL_compressed_texture_pvrtc'),null!==a)){if(r===ns)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===ss)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===ls)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===ps)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(r===ds&&(a=t.get('WEBGL_compressed_texture_etc1'),null!==a))return a.COMPRESSED_RGB_ETC1_WEBGL;if((r===Wo||r===jo)&&(a=t.get('EXT_blend_minmax'),null!==a)){if(r===Wo)return a.MIN_EXT;if(r===jo)return a.MAX_EXT}return r===qn&&(a=t.get('WEBGL_depth_texture'),null!==a)?a.UNSIGNED_INT_24_8_WEBGL:0}}}function bt(e){function t(){return null==ee?fe:1}function r(){Re=new xt(we),Re.get('WEBGL_depth_texture'),Re.get('OES_texture_float'),Re.get('OES_texture_float_linear'),Re.get('OES_texture_half_float'),Re.get('OES_texture_half_float_linear'),Re.get('OES_standard_derivatives'),Re.get('OES_element_index_uint'),Re.get('ANGLE_instanced_arrays'),et=new _t(we,Re),Pe=new gt(we,Re,e),Ce=new ut(we,Re,et),Ce.scissor(de.copy(ye).multiplyScalar(fe)),Ce.viewport(pe.copy(he).multiplyScalar(fe)),Ie=new mt,Ne=new ct(we,Re,Ce,Ie,Pe,et,Me),Ue=new ne(we),De=new Xe(we,Ue,Me),ze=new Ze(De,Ae),Ye=new ke(we),Oe=new dt(K,Re,Pe),Fe=new qe,Ge=new He,Ve=new Be(K,Ce,De,H),Je=new je(we,Re,Ae),Qe=new We(we,Re,Ae),Ke=new Z(K,we,Ce,Ne,Pe),$e=new Q(K,we,Ce,Ne,Pe),K.info.programs=Oe.programs,K.context=we,K.capabilities=Pe,K.extensions=Re,K.properties=Ie,K.renderLists=Ge,K.state=Ce}function i(e){e.preventDefault(),console.log('THREE.WebGLRenderer: Context Lost.'),$=!0}function o(){console.log('THREE.WebGLRenderer: Context Restored.'),$=!1,r()}function n(e){var t=e.target;t.removeEventListener('dispose',n),l(t)}function l(e){p(e),Ie.remove(e)}function p(e){var t=Ie.get(e).program;e.program=void 0,void 0!==t&&Oe.releaseProgram(t)}function c(e,t,r){e.render(function(e){K.renderBufferImmediate(e,t,r)})}function u(e,t,r,a){if(r&&r.isInstancedBufferGeometry&&null===Re.get('ANGLE_instanced_arrays'))return void console.error('THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');void 0===a&&(a=0),Ce.initAttributes();var i=r.attributes,o=t.getAttributes(),n=e.defaultAttributeValues;for(var s in o){var l=o[s];if(0<=l){var p=i[s];if(void 0!==p){var d=p.normalized,c=p.itemSize,m=Ue.get(p);if(void 0===m)continue;var u=m.buffer,g=m.type,f=m.bytesPerElement;if(p.isInterleavedBufferAttribute){var h=p.data,y=h.stride,x=p.offset;h&&h.isInstancedInterleavedBuffer?(Ce.enableAttributeAndDivisor(l,h.meshPerAttribute),void 0===r.maxInstancedCount&&(r.maxInstancedCount=h.meshPerAttribute*h.count)):Ce.enableAttribute(l),we.bindBuffer(we.ARRAY_BUFFER,u),we.vertexAttribPointer(l,c,g,d,y*f,(a*y+x)*f)}else p.isInstancedBufferAttribute?(Ce.enableAttributeAndDivisor(l,p.meshPerAttribute),void 0===r.maxInstancedCount&&(r.maxInstancedCount=p.meshPerAttribute*p.count)):Ce.enableAttribute(l),we.bindBuffer(we.ARRAY_BUFFER,u),we.vertexAttribPointer(l,c,g,d,0,a*c*f)}else if(void 0!==n){var v=n[s];if(void 0!==v)switch(v.length){case 2:we.vertexAttrib2fv(l,v);break;case 3:we.vertexAttrib3fv(l,v);break;case 4:we.vertexAttrib4fv(l,v);break;default:we.vertexAttrib1fv(l,v);}}}}Ce.disableUnusedAttributes()}function g(){if(!at){var e=tt.getDevice();e&&e.isPresenting?e.requestAnimationFrame(f):window.requestAnimationFrame(f),at=!0}}function f(e){null!=it&&it(e);var t=tt.getDevice();t&&t.isPresenting?t.requestAnimationFrame(f):window.requestAnimationFrame(f)}function h(e,t,r){if(!1!==e.visible){var a=e.layers.test(t.layers);if(a)if(e.isLight)W.push(e),e.castShadow&&j.push(e);else if(e.isSprite)(!e.frustumCulled||ve.intersectsSprite(e))&&q.push(e);else if(e.isLensFlare)J.push(e);else if(e.isImmediateRenderObject)r&&Se.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Te),Y.push(e,null,e.material,Se.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.update(),!e.frustumCulled||ve.intersectsObject(e))){r&&Se.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Te);var o=ze.update(e),n=e.material;if(Array.isArray(n))for(var s=o.groups,p=0,i=s.length;p<i;p++){var l=s[p],d=n[l.materialIndex];d&&d.visible&&Y.push(e,o,d,Se.z,l)}else n.visible&&Y.push(e,o,n,Se.z,null)}for(var c=e.children,p=0,i=c.length;p<i;p++)h(c[p],t,r)}}function y(e,t,r,a){for(var o=0,i=e.length;o<i;o++){var n=e[o],s=n.object,l=n.geometry,p=void 0===a?n.material:a,d=n.group;if(r.isArrayCamera){le=r;for(var c=r.cameras,m=0,u=c.length,g;m<u;m++)if(g=c[m],s.layers.test(g.layers)){var f=g.bounds,h=f.x*ue,x=f.y*ge,y=f.z*ue,_=f.w*ge;Ce.viewport(pe.set(h,x,y,_).multiplyScalar(fe)),v(s,t,g,l,p,d)}}else le=null,v(s,t,r,l,p,d)}}function v(e,t,r,a,i,o){if(e.onBeforeRender(K,t,r,a,i,o),e.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){var n=e.isMesh&&0>e.matrixWorld.determinant();Ce.setMaterial(i,n);var s=_(r,t.fog,i,e);ae='',c(e,s,i)}else K.renderBufferDirect(r,t.fog,a,i,e,o);e.onAfterRender(K,t,r,a,i,o)}function x(e,t,r){var a=Ie.get(e),o=Oe.getParameters(e,Fe.state,j,t,_e.numPlanes,_e.numIntersection,r),s=Oe.getProgramCode(e,o),l=a.program,d=!0;if(void 0===l)e.addEventListener('dispose',n);else if(l.code!==s)p(e);else{if(void 0!==o.shaderID)return;d=!1}if(d){if(o.shaderID){var c=ks[o.shaderID];a.shader={name:e.type,uniforms:Hs.clone(c.uniforms),vertexShader:c.vertexShader,fragmentShader:c.fragmentShader}}else a.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(a.shader),l=Oe.acquireProgram(e,a.shader,o,s),a.program=l,e.program=l}var m=l.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var u=0;u<K.maxMorphTargets;u++)0<=m['morphTarget'+u]&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(var u=0;u<K.maxMorphNormals;u++)0<=m['morphNormal'+u]&&e.numSupportedMorphNormals++}var i=a.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(a.numClippingPlanes=_e.numPlanes,a.numIntersection=_e.numIntersection,i.clippingPlanes=_e.uniform),a.fog=t,a.lightsHash=Fe.state.hash,e.lights&&(i.ambientLightColor.value=Fe.state.ambient,i.directionalLights.value=Fe.state.directional,i.spotLights.value=Fe.state.spot,i.rectAreaLights.value=Fe.state.rectArea,i.pointLights.value=Fe.state.point,i.hemisphereLights.value=Fe.state.hemi,i.directionalShadowMap.value=Fe.state.directionalShadowMap,i.directionalShadowMatrix.value=Fe.state.directionalShadowMatrix,i.spotShadowMap.value=Fe.state.spotShadowMap,i.spotShadowMatrix.value=Fe.state.spotShadowMatrix,i.pointShadowMap.value=Fe.state.pointShadowMap,i.pointShadowMatrix.value=Fe.state.pointShadowMatrix);var g=a.program.getUniforms(),f=X.seqWithValue(g.seq,i);a.uniformsList=f}function _(e,t,r,a){me=0;var i=Ie.get(r);if(be&&(Ee||e!==se)){var o=e===se&&r.id===re;_e.setState(r.clippingPlanes,r.clipIntersection,r.clipShadows,e,i,o)}!1===r.needsUpdate&&(void 0===i.program?r.needsUpdate=!0:r.fog&&i.fog!==t?r.needsUpdate=!0:r.lights&&i.lightsHash!==Fe.state.hash?r.needsUpdate=!0:void 0!==i.numClippingPlanes&&(i.numClippingPlanes!==_e.numPlanes||i.numIntersection!==_e.numIntersection)&&(r.needsUpdate=!0)),r.needsUpdate&&(x(r,t,a),r.needsUpdate=!1);var n=!1,s=!1,l=!1,p=i.program,c=p.getUniforms(),m=i.shader.uniforms;if(Ce.useProgram(p.program)&&(n=!0,s=!0,l=!0),r.id!==re&&(re=r.id,s=!0),n||e!==se){if(c.setValue(we,'projectionMatrix',e.projectionMatrix),Pe.logarithmicDepthBuffer&&c.setValue(we,'logDepthBufFC',2/(uo(e.far+1)/mo)),se!==(le||e)&&(se=le||e,s=!0,l=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshStandardMaterial||r.envMap){var u=c.map.cameraPosition;void 0!==u&&u.setValue(we,Se.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.skinning)&&c.setValue(we,'viewMatrix',e.matrixWorldInverse)}if(r.skinning){c.setOptional(we,a,'bindMatrix'),c.setOptional(we,a,'bindMatrixInverse');var g=a.skeleton;if(g){var f=g.bones;if(Pe.floatVertexTextures){if(void 0===g.boneTexture){var h=so(4*f.length);h=Ps.ceilPowerOfTwo(h),h=go(h,4);var y=new Float32Array(4*(h*h));y.set(g.boneMatrices);var v=new d(y,h,h,Qn,kn);g.boneMatrices=y,g.boneTexture=v,g.boneTextureSize=h}c.setValue(we,'boneTexture',g.boneTexture),c.setValue(we,'boneTextureSize',g.boneTextureSize)}else c.setOptional(we,g,'boneMatrices')}}return s&&(c.setValue(we,'toneMappingExposure',K.toneMappingExposure),c.setValue(we,'toneMappingWhitePoint',K.toneMappingWhitePoint),r.lights&&U(m,l),t&&r.fog&&M(m,t),r.isMeshBasicMaterial?b(m,r):r.isMeshLambertMaterial?(b(m,r),A(m,r)):r.isMeshPhongMaterial?(b(m,r),r.isMeshToonMaterial?L(m,r):w(m,r)):r.isMeshStandardMaterial?(b(m,r),r.isMeshPhysicalMaterial?P(m,r):R(m,r)):r.isMeshDepthMaterial?(b(m,r),C(m,r)):r.isMeshDistanceMaterial?(b(m,r),I(m,r)):r.isMeshNormalMaterial?(b(m,r),N(m,r)):r.isLineBasicMaterial?(E(m,r),r.isLineDashedMaterial&&T(m,r)):r.isPointsMaterial?S(m,r):r.isShadowMaterial&&(m.color.value=r.color,m.opacity.value=r.opacity),void 0!==m.ltcMat&&(m.ltcMat.value=Gs.LTC_MAT_TEXTURE),void 0!==m.ltcMag&&(m.ltcMag.value=Gs.LTC_MAG_TEXTURE),X.upload(we,i.uniformsList,m,K)),c.setValue(we,'modelViewMatrix',a.modelViewMatrix),c.setValue(we,'normalMatrix',a.normalMatrix),c.setValue(we,'modelMatrix',a.matrixWorld),p}function b(e,t){e.opacity.value=t.opacity,t.color&&(e.diffuse.value=t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap&&t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity);var r;if(t.map?r=t.map:t.specularMap?r=t.specularMap:t.displacementMap?r=t.displacementMap:t.normalMap?r=t.normalMap:t.bumpMap?r=t.bumpMap:t.roughnessMap?r=t.roughnessMap:t.metalnessMap?r=t.metalnessMap:t.alphaMap?r=t.alphaMap:t.emissiveMap&&(r=t.emissiveMap),void 0!==r){if(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate){var a=r.offset,i=r.repeat,o=r.rotation,n=r.center;r.matrix.setUvTransform(a.x,a.y,i.x,i.y,o,n.x,n.y)}e.uvTransform.value.copy(r.matrix)}}function E(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}function T(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}function S(e,t){if(e.diffuse.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size*fe,e.scale.value=0.5*ge,e.map.value=t.map,null!==t.map){if(!0===t.map.matrixAutoUpdate){var r=t.map.offset,a=t.map.repeat,i=t.map.rotation,o=t.map.center;t.map.matrix.setUvTransform(r.x,r.y,a.x,a.y,i,o.x,o.y)}e.uvTransform.value.copy(t.map.matrix)}}function M(e,t){e.fogColor.value=t.color,t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}function A(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}function w(e,t){e.specular.value=t.specular,e.shininess.value=go(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function L(e,t){w(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}function R(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}function P(e,t){e.clearCoat.value=t.clearCoat,e.clearCoatRoughness.value=t.clearCoatRoughness,R(e,t)}function C(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function I(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}function N(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function U(e,t){e.ambientLightColor.needsUpdate=t,e.directionalLights.needsUpdate=t,e.pointLights.needsUpdate=t,e.spotLights.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}console.log('THREE.WebGLRenderer',bo),e=e||{};var D=void 0===e.canvas?document.createElementNS('http://www.w3.org/1999/xhtml','canvas'):e.canvas,z=void 0===e.context?null:e.context,B=void 0!==e.alpha&&e.alpha,F=void 0===e.depth||e.depth,O=void 0===e.stencil||e.stencil,G=void 0!==e.antialias&&e.antialias,H=void 0===e.premultipliedAlpha||e.premultipliedAlpha,V=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,k=void 0===e.powerPreference?'default':e.powerPreference,W=[],j=[],Y=null,q=[],J=[];this.domElement=D,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=hn,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var K=this,$=!1,ee=null,te=null,re=-1,ae='',se=null,le=null,pe=new s,de=new s,ce=null,me=0,ue=D.width,ge=D.height,fe=1,he=new s(0,0,ue,ge),ye=new s(0,0,ue,ge),xe=!1,ve=new ie,_e=new vt,be=!1,Ee=!1,Te=new a,Se=new m,Me={geometries:0,textures:0},Ae={frame:0,calls:0,vertices:0,faces:0,points:0};this.info={render:Ae,memory:Me,programs:null};var we;try{var Le={alpha:B,depth:F,stencil:O,antialias:G,premultipliedAlpha:H,preserveDrawingBuffer:V,powerPreference:k};if(D.addEventListener('webglcontextlost',i,!1),D.addEventListener('webglcontextrestored',o,!1),we=z||D.getContext('webgl',Le)||D.getContext('experimental-webgl',Le),null===we)if(null!==D.getContext('webgl'))throw new Error('Error creating WebGL context with your selected attributes.');else throw new Error('Error creating WebGL context.');void 0===we.getShaderPrecisionFormat&&(we.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){console.error('THREE.WebGLRenderer: '+e.message)}var Re,Pe,Ce,Ie,Ne,Ue,De,ze,Fe,Oe,Ge,Ve,Ye,Je,Qe,Ke,$e,et;r();var tt=new yt(K);this.vr=tt;var rt=new oe(K,ze,Pe.maxTextureSize);this.shadowMap=rt,this.getContext=function(){return we},this.getContextAttributes=function(){return we.getContextAttributes()},this.forceContextLoss=function(){var e=Re.get('WEBGL_lose_context');e&&e.loseContext()},this.forceContextRestore=function(){var e=Re.get('WEBGL_lose_context');e&&e.restoreContext()},this.getPixelRatio=function(){return fe},this.setPixelRatio=function(e){void 0===e||(fe=e,this.setSize(ue,ge,!1))},this.getSize=function(){return{width:ue,height:ge}},this.setSize=function(e,t,r){var a=tt.getDevice();return a&&a.isPresenting?void console.warn('THREE.WebGLRenderer: Can\'t change size while VR device is presenting.'):void(ue=e,ge=t,D.width=e*fe,D.height=t*fe,!1!==r&&(D.style.width=e+'px',D.style.height=t+'px'),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(){return{width:ue*fe,height:ge*fe}},this.setDrawingBufferSize=function(e,t,r){ue=e,ge=t,fe=r,D.width=e*r,D.height=t*r,this.setViewport(0,0,e,t)},this.setViewport=function(e,t,r,a){he.set(e,ge-t-a,r,a),Ce.viewport(pe.copy(he).multiplyScalar(fe))},this.setScissor=function(e,t,r,a){ye.set(e,ge-t-a,r,a),Ce.scissor(de.copy(ye).multiplyScalar(fe))},this.setScissorTest=function(e){Ce.setScissorTest(xe=e)},this.getClearColor=function(){return Ve.getClearColor()},this.setClearColor=function(){Ve.setClearColor.apply(Ve,arguments)},this.getClearAlpha=function(){return Ve.getClearAlpha()},this.setClearAlpha=function(){Ve.setClearAlpha.apply(Ve,arguments)},this.clear=function(e,t,r){var a=0;(void 0===e||e)&&(a|=we.COLOR_BUFFER_BIT),(void 0===t||t)&&(a|=we.DEPTH_BUFFER_BIT),(void 0===r||r)&&(a|=we.STENCIL_BUFFER_BIT),we.clear(a)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(e,t,r,a){this.setRenderTarget(e),this.clear(t,r,a)},this.dispose=function(){D.removeEventListener('webglcontextlost',i,!1),D.removeEventListener('webglcontextrestored',o,!1),Ge.dispose(),tt.dispose()},this.renderBufferImmediate=function(e,t,r){Ce.initAttributes();var a=Ie.get(e);e.hasPositions&&!a.position&&(a.position=we.createBuffer()),e.hasNormals&&!a.normal&&(a.normal=we.createBuffer()),e.hasUvs&&!a.uv&&(a.uv=we.createBuffer()),e.hasColors&&!a.color&&(a.color=we.createBuffer());var o=t.getAttributes();if(e.hasPositions&&(we.bindBuffer(we.ARRAY_BUFFER,a.position),we.bufferData(we.ARRAY_BUFFER,e.positionArray,we.DYNAMIC_DRAW),Ce.enableAttribute(o.position),we.vertexAttribPointer(o.position,3,we.FLOAT,!1,0,0)),e.hasNormals){if(we.bindBuffer(we.ARRAY_BUFFER,a.normal),!r.isMeshPhongMaterial&&!r.isMeshStandardMaterial&&!r.isMeshNormalMaterial&&!0===r.flatShading)for(var n=0,i=3*e.count;n<i;n+=9){var s=e.normalArray,l=(s[n+0]+s[n+3]+s[n+6])/3,p=(s[n+1]+s[n+4]+s[n+7])/3,d=(s[n+2]+s[n+5]+s[n+8])/3;s[n+0]=l,s[n+1]=p,s[n+2]=d,s[n+3]=l,s[n+4]=p,s[n+5]=d,s[n+6]=l,s[n+7]=p,s[n+8]=d}we.bufferData(we.ARRAY_BUFFER,e.normalArray,we.DYNAMIC_DRAW),Ce.enableAttribute(o.normal),we.vertexAttribPointer(o.normal,3,we.FLOAT,!1,0,0)}e.hasUvs&&r.map&&(we.bindBuffer(we.ARRAY_BUFFER,a.uv),we.bufferData(we.ARRAY_BUFFER,e.uvArray,we.DYNAMIC_DRAW),Ce.enableAttribute(o.uv),we.vertexAttribPointer(o.uv,2,we.FLOAT,!1,0,0)),e.hasColors&&r.vertexColors!==Io&&(we.bindBuffer(we.ARRAY_BUFFER,a.color),we.bufferData(we.ARRAY_BUFFER,e.colorArray,we.DYNAMIC_DRAW),Ce.enableAttribute(o.color),we.vertexAttribPointer(o.color,3,we.FLOAT,!1,0,0)),Ce.disableUnusedAttributes(),we.drawArrays(we.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,r,a,i,o,n){var s=o.isMesh&&0>o.matrixWorld.determinant();Ce.setMaterial(i,s);var l=_(e,r,i,o),p=a.id+'_'+l.id+'_'+(!0===i.wireframe),d=!1;p!=ae&&(ae=p,d=!0),o.morphTargetInfluences&&(Ye.update(o,a,i,l),d=!0);var c=a.index,m=a.attributes.position,g=1;!0===i.wireframe&&(c=De.getWireframeAttribute(a),g=2);var f=Je,h;null!==c&&(h=Ue.get(c),f=Qe,f.setIndex(h)),d&&(u(i,l,a),null!==c&&we.bindBuffer(we.ELEMENT_ARRAY_BUFFER,h.buffer));var y=0;null===c?void 0!==m&&(y=m.count):y=c.count;var x=a.drawRange.start*g,v=a.drawRange.count*g,b=null===n?0:n.start*g,E=null===n?Infinity:n.count*g,T=go(x,b),S=fo(y,x+v,b+E)-1,M=go(0,S-T+1);if(0!==M){if(o.isMesh){if(!0===i.wireframe)Ce.setLineWidth(i.wireframeLinewidth*t()),f.setMode(we.LINES);else switch(o.drawMode){case xs:f.setMode(we.TRIANGLES);break;case vs:f.setMode(we.TRIANGLE_STRIP);break;case _s:f.setMode(we.TRIANGLE_FAN);}}else if(o.isLine){var A=i.linewidth;void 0===A&&(A=1),Ce.setLineWidth(A*t()),o.isLineSegments?f.setMode(we.LINES):o.isLineLoop?f.setMode(we.LINE_LOOP):f.setMode(we.LINE_STRIP)}else o.isPoints&&f.setMode(we.POINTS);a&&a.isInstancedBufferGeometry?0<a.maxInstancedCount&&f.renderInstances(a,T,M):f.render(T,M)}},this.compile=function(e,t){W.length=0,j.length=0,e.traverse(function(e){e.isLight&&(W.push(e),e.castShadow&&j.push(e))}),Fe.setup(W,j,t),e.traverse(function(t){if(t.material)if(Array.isArray(t.material))for(var r=0;r<t.material.length;r++)x(t.material[r],e.fog,t);else x(t.material,e.fog,t)})};var at=!1,it=null;this.animate=function(e){it=e,g()},this.render=function(e,t,r,a){if(!(t&&t.isCamera))return void console.error('THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.');if(!$){ae='',re=-1,se=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),tt.enabled&&(t=tt.getCamera(t)),Te.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),ve.setFromMatrix(Te),W.length=0,j.length=0,q.length=0,J.length=0,Ee=this.localClippingEnabled,be=_e.init(this.clippingPlanes,Ee,t),Y=Ge.get(e,t),Y.init(),h(e,t,K.sortObjects),!0===K.sortObjects&&Y.sort(),Ne.updateVideoTextures(),be&&_e.beginShadows(),rt.render(j,e,t),Fe.setup(W,j,t),be&&_e.endShadows(),Ae.frame++,Ae.calls=0,Ae.vertices=0,Ae.faces=0,Ae.points=0,void 0===r&&(r=null),this.setRenderTarget(r),Ve.render(Y,e,t,a);var i=Y.opaque,o=Y.transparent;if(e.overrideMaterial){var n=e.overrideMaterial;i.length&&y(i,e,t,n),o.length&&y(o,e,t,n)}else i.length&&y(i,e,t),o.length&&y(o,e,t);$e.render(q,e,t),Ke.render(J,e,t,pe),r&&Ne.updateRenderTargetMipmap(r),Ce.buffers.depth.setTest(!0),Ce.buffers.depth.setMask(!0),Ce.buffers.color.setMask(!0),Ce.setPolygonOffset(!1),tt.enabled&&tt.submitFrame()}},this.setFaceCulling=function(e,t){Ce.setCullFace(e),Ce.setFlipSided(t===Mo)},this.allocTextureUnit=function(){var e=me;return e>=Pe.maxTextures&&console.warn('THREE.WebGLRenderer: Trying to use '+e+' texture units while this GPU supports only '+Pe.maxTextures),me+=1,e},this.setTexture2D=function(){var e=!1;return function(t,r){t&&t.isWebGLRenderTarget&&(!e&&(console.warn('THREE.WebGLRenderer.setTexture2D: don\'t use render targets as textures. Use their .texture property instead.'),e=!0),t=t.texture),Ne.setTexture2D(t,r)}}(),this.setTexture=function(){var e=!1;return function(t,r){e||(console.warn('THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead.'),e=!0),Ne.setTexture2D(t,r)}}(),this.setTextureCube=function(){var e=!1;return function(t,r){t&&t.isWebGLRenderTargetCube&&(!e&&(console.warn('THREE.WebGLRenderer.setTextureCube: don\'t use cube render targets as textures. Use their .texture property instead.'),e=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?Ne.setTextureCube(t,r):Ne.setTextureCubeDynamic(t,r)}}(),this.getRenderTarget=function(){return ee},this.setRenderTarget=function(e){ee=e,e&&void 0===Ie.get(e).__webglFramebuffer&&Ne.setupRenderTarget(e);var t=null,r=!1;if(e){var a=Ie.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(t=a[e.activeCubeFace],r=!0):t=a,pe.copy(e.viewport),de.copy(e.scissor),ce=e.scissorTest}else pe.copy(he).multiplyScalar(fe),de.copy(ye).multiplyScalar(fe),ce=xe;if(te!==t&&(we.bindFramebuffer(we.FRAMEBUFFER,t),te=t),Ce.viewport(pe),Ce.scissor(de),Ce.setScissorTest(ce),r){var i=Ie.get(e.texture);we.framebufferTexture2D(we.FRAMEBUFFER,we.COLOR_ATTACHMENT0,we.TEXTURE_CUBE_MAP_POSITIVE_X+e.activeCubeFace,i.__webglTexture,e.activeMipMapLevel)}},this.readRenderTargetPixels=function(e,t,r,a,i,o){if(!(e&&e.isWebGLRenderTarget))return void console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.');var n=Ie.get(e).__webglFramebuffer;if(n){var s=!1;n!==te&&(we.bindFramebuffer(we.FRAMEBUFFER,n),s=!0);try{var l=e.texture,p=l.format,d=l.type;if(p!==Qn&&et.convert(p)!==we.getParameter(we.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.');if(d!==Bn&&et.convert(d)!==we.getParameter(we.IMPLEMENTATION_COLOR_READ_TYPE)&&!(d===kn&&(Re.get('OES_texture_float')||Re.get('WEBGL_color_buffer_float')))&&!(d===Wn&&Re.get('EXT_color_buffer_half_float')))return void console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.');we.checkFramebufferStatus(we.FRAMEBUFFER)===we.FRAMEBUFFER_COMPLETE?0<=t&&t<=e.width-a&&0<=r&&r<=e.height-i&&we.readPixels(t,r,a,i,et.convert(p),et.convert(d),o):console.error('THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.')}finally{s&&we.bindFramebuffer(we.FRAMEBUFFER,te)}}}}function Et(e,t){this.name='',this.color=new Y(e),this.density=void 0===t?2.5e-4:t}function Tt(e,t,r){this.name='',this.color=new Y(e),this.near=void 0===t?1:t,this.far=void 0===r?1e3:r}function St(){pe.call(this),this.type='Scene',this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function Mt(e,t,r,a,i){pe.call(this),this.lensFlares=[],this.positionScreen=new m,this.customUpdateCallback=void 0,void 0!==e&&this.add(e,t,r,a,i)}function At(e){K.call(this),this.type='SpriteMaterial',this.color=new Y(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(e)}function wt(e){pe.call(this),this.type='Sprite',this.material=void 0===e?new At:e}function Lt(){pe.call(this),this.type='LOD',Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Rt(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn('THREE.Skeleton boneInverses is the wrong length.'),this.boneInverses=[];for(var r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new a)}}function Pt(){pe.call(this),this.type='Bone'}function Ct(e,t){ze.call(this,e,t),this.type='SkinnedMesh',this.bindMode='attached',this.bindMatrix=new a,this.bindMatrixInverse=new a;var r=this.initBones(),i=new Rt(r);this.bind(i,this.matrixWorld),this.normalizeSkinWeights()}function It(e){K.call(this),this.type='LineBasicMaterial',this.color=new Y(16777215),this.linewidth=1,this.linecap='round',this.linejoin='round',this.lights=!1,this.setValues(e)}function Nt(e,t,r){return 1===r?(console.warn('THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead.'),new Ut(e,t)):void(pe.call(this),this.type='Line',this.geometry=void 0===e?new Ae:e,this.material=void 0===t?new It({color:16777215*Math.random()}):t)}function Ut(e,t){Nt.call(this,e,t),this.type='LineSegments'}function Dt(e,t){Nt.call(this,e,t),this.type='LineLoop'}function zt(e){K.call(this),this.type='PointsMaterial',this.color=new Y(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(e)}function Bt(e,t){pe.call(this),this.type='Points',this.geometry=void 0===e?new Ae:e,this.material=void 0===t?new zt({color:16777215*Math.random()}):t}function Ft(){pe.call(this),this.type='Group'}function Ot(e,t,r,a,i,o,s,l,p){function d(){e.removeEventListener('loadeddata',d,!1),c.needsUpdate=!0}n.call(this,e,t,r,a,i,o,s,l,p),this.generateMipmaps=!1;var c=this;e.addEventListener('loadeddata',d,!1)}function Gt(e,t,r,a,i,o,s,l,p,d,c,m){n.call(this,null,o,s,l,p,d,a,i,c,m),this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function Ht(e,t,r,a,i,o,s,l,p,d){if(d=void 0===d?es:d,d!==es&&d!==ts)throw new Error('DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat');void 0===r&&d===es&&(r=Gn),void 0===r&&d===ts&&(r=qn),n.call(this,null,a,i,o,s,l,d,r,p),this.image={width:e,height:t},this.magFilter=void 0===s?Cn:s,this.minFilter=void 0===l?Cn:l,this.flipY=!1,this.generateMipmaps=!1}function Vt(t){Ae.call(this),this.type='WireframeGeometry';var r=[],a=[0,0],n={},s=['a','b','c'],p,i,d,l,o,c,e,u,g,f;if(t&&t.isGeometry){var h=t.faces;for(p=0,d=h.length;p<d;p++){var y=h[p];for(i=0;3>i;i++)e=y[s[i]],u=y[s[(i+1)%3]],a[0]=fo(e,u),a[1]=go(e,u),g=a[0]+','+a[1],void 0===n[g]&&(n[g]={index1:a[0],index2:a[1]})}for(g in n)c=n[g],f=t.vertices[c.index1],r.push(f.x,f.y,f.z),f=t.vertices[c.index2],r.push(f.x,f.y,f.z)}else if(t&&t.isBufferGeometry){var x,v,_,b,E,T,S,M;if(f=new m,null!==t.index){for(x=t.attributes.position,v=t.index,_=t.groups,0===_.length&&(_=[{start:0,count:v.count,materialIndex:0}]),(l=0,o=_.length);l<o;++l)for(b=_[l],E=b.start,T=b.count,(p=E,d=E+T);p<d;p+=3)for(i=0;3>i;i++)e=v.getX(p+i),u=v.getX(p+(i+1)%3),a[0]=fo(e,u),a[1]=go(e,u),g=a[0]+','+a[1],void 0===n[g]&&(n[g]={index1:a[0],index2:a[1]});for(g in n)c=n[g],f.fromBufferAttribute(x,c.index1),r.push(f.x,f.y,f.z),f.fromBufferAttribute(x,c.index2),r.push(f.x,f.y,f.z)}else for(x=t.attributes.position,p=0,d=x.count/3;p<d;p++)for(i=0;3>i;i++)S=3*p+i,f.fromBufferAttribute(x,S),r.push(f.x,f.y,f.z),M=3*p+(i+1)%3,f.fromBufferAttribute(x,M),r.push(f.x,f.y,f.z)}this.addAttribute('position',new Ee(r,3))}function kt(e,t,r){ue.call(this),this.type='ParametricGeometry',this.parameters={func:e,slices:t,stacks:r},this.fromBufferGeometry(new Wt(e,t,r)),this.mergeVertices()}function Wt(e,t,r){Ae.call(this),this.type='ParametricBufferGeometry',this.parameters={func:e,slices:t,stacks:r};var o=[],n=[],s=[],l=[],p=1e-5,g=new m,f=new m,h=new m,y=new m,x=new m,_=t+1,E,i;for(E=0;E<=r;E++){var T=E/r;for(i=0;i<=t;i++){var v=i/t;f=e(v,T,f),n.push(f.x,f.y,f.z),0<=v-p?(h=e(v-p,T,h),y.subVectors(f,h)):(h=e(v+p,T,h),y.subVectors(h,f)),0<=T-p?(h=e(v,T-p,h),x.subVectors(f,h)):(h=e(v,T+p,h),x.subVectors(h,f)),g.crossVectors(y,x).normalize(),s.push(g.x,g.y,g.z),l.push(v,T)}}for(E=0;E<r;E++)for(i=0;i<t;i++){var u=E*_+i,a=E*_+i+1,b=(E+1)*_+i+1,c=(E+1)*_+i;o.push(u,a,c),o.push(a,b,c)}this.setIndex(o),this.addAttribute('position',new Ee(n,3)),this.addAttribute('normal',new Ee(s,3)),this.addAttribute('uv',new Ee(l,2))}function jt(e,t,r,a){ue.call(this),this.type='PolyhedronGeometry',this.parameters={vertices:e,indices:t,radius:r,detail:a},this.fromBufferGeometry(new Xt(e,t,r,a)),this.mergeVertices()}function Xt(e,t,a,i){function o(e,t,r,a){var o=po(2,a),n=[],l,i;for(l=0;l<=o;l++){n[l]=[];var p=e.clone().lerp(r,l/o),d=t.clone().lerp(r,l/o),c=o-l;for(i=0;i<=c;i++)n[l][i]=0===i&&l===o?p:p.clone().lerp(d,i/c)}for(l=0;l<o;l++)for(i=0;i<2*(o-l)-1;i++){var m=xo(i/2);0==i%2?(s(n[l][m+1]),s(n[l+1][m]),s(n[l][m])):(s(n[l][m+1]),s(n[l+1][m+1]),s(n[l+1][m]))}}function n(){for(var e=0;e<h.length;e+=6){var t=h[e+0],r=h[e+2],a=h[e+4],i=go(t,r,a),o=fo(t,r,a);0.9<i&&0.1>o&&(0.2>t&&(h[e+0]+=1),0.2>r&&(h[e+2]+=1),0.2>a&&(h[e+4]+=1))}}function s(e){f.push(e.x,e.y,e.z)}function l(t,r){var a=3*t;r.x=e[a+0],r.y=e[a+1],r.z=e[a+2]}function p(){for(var e=new m,t=new m,a=new m,o=new m,n=new r,s=new r,l=new r,p=0,i=0;p<f.length;p+=9,i+=6){e.set(f[p+0],f[p+1],f[p+2]),t.set(f[p+3],f[p+4],f[p+5]),a.set(f[p+6],f[p+7],f[p+8]),n.set(h[i+0],h[i+1]),s.set(h[i+2],h[i+3]),l.set(h[i+4],h[i+5]),o.copy(e).add(t).add(a).divideScalar(3);var c=g(o);d(n,i+0,e,c),d(s,i+2,t,c),d(l,i+4,a,c)}}function d(e,t,r,a){0>a&&1===e.x&&(h[t]=e.x-1),0===r.x&&0===r.z&&(h[t]=a/2/ho+0.5)}function g(e){return oo(e.z,-e.x)}function c(e){return oo(-e.y,so(e.x*e.x+e.z*e.z))}Ae.call(this),this.type='PolyhedronBufferGeometry',this.parameters={vertices:e,indices:t,radius:a,detail:i},a=a||1,i=i||0;var f=[],h=[];(function(e){for(var r=new m,a=new m,n=new m,s=0;s<t.length;s+=3)l(t[s+0],r),l(t[s+1],a),l(t[s+2],n),o(r,a,n,e)})(i),function(e){for(var t=new m,r=0;r<f.length;r+=3)t.x=f[r+0],t.y=f[r+1],t.z=f[r+2],t.normalize().multiplyScalar(e),f[r+0]=t.x,f[r+1]=t.y,f[r+2]=t.z}(a),function(){for(var e=new m,t=0;t<f.length;t+=3){e.x=f[t+0],e.y=f[t+1],e.z=f[t+2];var r=g(e)/2/ho+0.5,a=c(e)/ho+0.5;h.push(r,1-a)}p(),n()}(),this.addAttribute('position',new Ee(f,3)),this.addAttribute('normal',new Ee(f.slice(),3)),this.addAttribute('uv',new Ee(h,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}function Yt(e,t){ue.call(this),this.type='TetrahedronGeometry',this.parameters={radius:e,detail:t},this.fromBufferGeometry(new qt(e,t)),this.mergeVertices()}function qt(e,t){Xt.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type='TetrahedronBufferGeometry',this.parameters={radius:e,detail:t}}function Zt(e,t){ue.call(this),this.type='OctahedronGeometry',this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Jt(e,t)),this.mergeVertices()}function Jt(e,t){Xt.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type='OctahedronBufferGeometry',this.parameters={radius:e,detail:t}}function Qt(e,t){ue.call(this),this.type='IcosahedronGeometry',this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Kt(e,t)),this.mergeVertices()}function Kt(e,r){var a=(1+2.23606797749979)/2;Xt.call(this,[-1,a,0,1,a,0,-1,-a,0,1,-a,0,0,-1,a,0,1,a,0,-1,-a,0,1,-a,a,0,-1,a,0,1,-a,0,-1,-a,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,r),this.type='IcosahedronBufferGeometry',this.parameters={radius:e,detail:r}}function $t(e,t){ue.call(this),this.type='DodecahedronGeometry',this.parameters={radius:e,detail:t},this.fromBufferGeometry(new er(e,t)),this.mergeVertices()}function er(e,a){var i=(1+2.23606797749979)/2,o=1/i;Xt.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-i,0,-o,i,0,o,-i,0,o,i,-o,-i,0,-o,i,0,o,-i,0,o,i,0,-i,0,-o,i,0,-o,-i,0,o,i,0,o],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,a),this.type='DodecahedronBufferGeometry',this.parameters={radius:e,detail:a}}function tr(e,t,r,a,i,o){ue.call(this),this.type='TubeGeometry',this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:a,closed:i},void 0!==o&&console.warn('THREE.TubeGeometry: taper has been removed.');var n=new rr(e,t,r,a,i);this.tangents=n.tangents,this.normals=n.normals,this.binormals=n.binormals,this.fromBufferGeometry(n),this.mergeVertices()}function rr(e,t,a,o,n){function s(r){f=e.getPointAt(r/t,f);var n=d.normals[r],s=d.binormals[r];for(i=0;i<=o;i++){var l=2*(i/o*ho),p=ao(l),m=-io(l);u.x=m*n.x+p*s.x,u.y=m*n.y+p*s.y,u.z=m*n.z+p*s.z,u.normalize(),y.push(u.x,u.y,u.z),c.x=f.x+a*u.x,c.y=f.y+a*u.y,c.z=f.z+a*u.z,h.push(c.x,c.y,c.z)}}function l(){for(i=1;i<=t;i++)for(_=1;_<=o;_++){var e=(o+1)*(i-1)+(_-1),r=(o+1)*i+(_-1),a=(o+1)*i+_,n=(o+1)*(i-1)+_;v.push(e,r,n),v.push(r,a,n)}}function p(){for(_=0;_<=t;_++)for(i=0;i<=o;i++)g.x=_/t,g.y=i/o,x.push(g.x,g.y)}Ae.call(this),this.type='TubeBufferGeometry',this.parameters={path:e,tubularSegments:t,radius:a,radialSegments:o,closed:n},t=t||64,a=a||1,o=o||8,n=n||!1;var d=e.computeFrenetFrames(t,n);this.tangents=d.tangents,this.normals=d.normals,this.binormals=d.binormals;var c=new m,u=new m,g=new r,f=new m,h=[],y=[],x=[],v=[],_,i;(function(){for(_=0;_<t;_++)s(_);s(!1===n?t:0),p(),l()})(),this.setIndex(v),this.addAttribute('position',new Ee(h,3)),this.addAttribute('normal',new Ee(y,3)),this.addAttribute('uv',new Ee(x,2))}function ar(e,t,r,a,i,o,n){ue.call(this),this.type='TorusKnotGeometry',this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:a,p:i,q:o},void 0!==n&&console.warn('THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.'),this.fromBufferGeometry(new ir(e,t,r,a,i,o)),this.mergeVertices()}function ir(e,t,r,o,n,s){function l(e,t,r,a,i){var o=io(e),n=ao(e),s=r/t*e,l=io(s);i.x=0.5*(a*(2+l))*o,i.y=0.5*(a*(2+l)*n),i.z=0.5*(a*ao(s))}Ae.call(this),this.type='TorusKnotBufferGeometry',this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:o,p:n,q:s},e=e||1,t=t||0.4,r=xo(r)||64,o=xo(o)||8,n=n||2,s=s||3;var g=[],f=[],h=[],y=[],x=new m,_=new m,E=new m,S=new m,M=new m,A=new m,T=new m,w,i;for(w=0;w<=r;++w){var L=2*(w/r*n*ho);for(l(L,n,s,e,E),l(L+0.01,n,s,e,S),A.subVectors(S,E),T.addVectors(S,E),M.crossVectors(A,T),T.crossVectors(M,A),M.normalize(),T.normalize(),i=0;i<=o;++i){var u=2*(i/o*ho),v=-t*io(u),R=t*ao(u);x.x=E.x+(v*T.x+R*M.x),x.y=E.y+(v*T.y+R*M.y),x.z=E.z+(v*T.z+R*M.z),f.push(x.x,x.y,x.z),_.subVectors(x,E).normalize(),h.push(_.x,_.y,_.z),y.push(w/r),y.push(i/o)}}for(i=1;i<=r;i++)for(w=1;w<=o;w++){var P=(o+1)*(i-1)+(w-1),a=(o+1)*i+(w-1),b=(o+1)*i+w,c=(o+1)*(i-1)+w;g.push(P,a,c),g.push(a,b,c)}this.setIndex(g),this.addAttribute('position',new Ee(f,3)),this.addAttribute('normal',new Ee(h,3)),this.addAttribute('uv',new Ee(y,2))}function or(e,t,r,a,i){ue.call(this),this.type='TorusGeometry',this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:a,arc:i},this.fromBufferGeometry(new nr(e,t,r,a,i)),this.mergeVertices()}function nr(e,t,r,o,n){Ae.call(this),this.type='TorusBufferGeometry',this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:o,arc:n},e=e||1,t=t||0.4,r=xo(r)||8,o=xo(o)||6,n=n||2*ho;var s=[],l=[],p=[],g=[],f=new m,h=new m,y=new m,x,_;for(x=0;x<=r;x++)for(_=0;_<=o;_++){var i=_/o*n,u=2*(x/r*ho);h.x=(e+t*io(u))*io(i),h.y=(e+t*io(u))*ao(i),h.z=t*ao(u),l.push(h.x,h.y,h.z),f.x=e*io(i),f.y=e*ao(i),y.subVectors(h,f).normalize(),p.push(y.x,y.y,y.z),g.push(_/o),g.push(x/r)}for(x=1;x<=r;x++)for(_=1;_<=o;_++){var v=(o+1)*x+_-1,a=(o+1)*(x-1)+_-1,b=(o+1)*(x-1)+_,c=(o+1)*x+_;s.push(v,a,c),s.push(a,b,c)}this.setIndex(s),this.addAttribute('position',new Ee(l,3)),this.addAttribute('normal',new Ee(p,3)),this.addAttribute('uv',new Ee(g,2))}function sr(e,t,r,a,o){var n,i;if(o===0<Ur(e,t,r,a))for(n=t;n<r;n+=a)i=Cr(n,e[n],e[n+1],i);else for(n=r-a;n>=t;n-=a)i=Cr(n,e[n],e[n+1],i);return i&&Mr(i,i.next)&&(Ir(i),i=i.next),i}function lr(e,t){if(!e)return e;t||(t=e);var r=e,a;do if(a=!1,!r.steiner&&(Mr(r,r.next)||0===Sr(r.prev,r,r.next))){if(Ir(r),r=t=r.prev,r===r.next)break;a=!0}else r=r.next;while(a||r!==t);return t}function pr(e,t,r,a,i,o,n){if(e){!n&&o&&xr(e,a,i,o);for(var s=e,l,p;e.prev!==e.next;){if(l=e.prev,p=e.next,o?cr(e,a,i,o):dr(e)){t.push(l.i/r),t.push(e.i/r),t.push(p.i/r),Ir(e),e=p.next,s=p.next;continue}if(e=p,e===s){n?1===n?(e=mr(e,t,r),pr(e,t,r,a,i,o,2)):2===n&&ur(e,t,r,a,i,o):pr(lr(e),t,r,a,i,o,1);break}}}}function dr(e){var t=e.prev,r=e,a=e.next;if(0<=Sr(t,r,a))return!1;for(var i=e.next.next;i!==e.prev;){if(Er(t.x,t.y,r.x,r.y,a.x,a.y,i.x,i.y)&&0<=Sr(i.prev,i,i.next))return!1;i=i.next}return!0}function cr(e,t,r,i){var o=e.prev,a=e,n=e.next;if(0<=Sr(o,a,n))return!1;for(var s=o.x<a.x?o.x<n.x?o.x:n.x:a.x<n.x?a.x:n.x,l=o.y<a.y?o.y<n.y?o.y:n.y:a.y<n.y?a.y:n.y,d=o.x>a.x?o.x>n.x?o.x:n.x:a.x>n.x?a.x:n.x,c=o.y>a.y?o.y>n.y?o.y:n.y:a.y>n.y?a.y:n.y,m=_r(s,l,t,r,i),u=_r(d,c,t,r,i),g=e.nextZ;g&&g.z<=u;){if(g!==e.prev&&g!==e.next&&Er(o.x,o.y,a.x,a.y,n.x,n.y,g.x,g.y)&&0<=Sr(g.prev,g,g.next))return!1;g=g.nextZ}for(g=e.prevZ;g&&g.z>=m;){if(g!==e.prev&&g!==e.next&&Er(o.x,o.y,a.x,a.y,n.x,n.y,g.x,g.y)&&0<=Sr(g.prev,g,g.next))return!1;g=g.prevZ}return!0}function mr(e,t,r){var i=e;do{var o=i.prev,a=i.next.next;!Mr(o,a)&&Ar(o,i,i.next,a)&&Lr(o,a)&&Lr(a,o)&&(t.push(o.i/r),t.push(i.i/r),t.push(a.i/r),Ir(i),Ir(i.next),i=e=a),i=i.next}while(i!==e);return i}function ur(e,t,r,i,o,n){var s=e;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&Tr(s,a)){var l=Pr(s,a);return s=lr(s,s.next),l=lr(l,l.next),pr(s,t,r,i,o,n),void pr(l,t,r,i,o,n)}a=a.next}s=s.next}while(s!==e)}function gr(e,t,r,a){var o=[],n,i,s,l,p;for(n=0,i=t.length;n<i;n++)s=t[n]*a,l=n<i-1?t[n+1]*a:e.length,p=sr(e,s,l,a,!1),p===p.next&&(p.steiner=!0),o.push(br(p));for(o.sort(fr),n=0;n<o.length;n++)hr(o[n],r),r=lr(r,r.next);return r}function fr(e,t){return e.x-t.x}function hr(e,t){if(t=yr(e,t),t){var r=Pr(t,e);lr(r,r.next)}}function yr(e,t){var r=t,a=e.x,i=e.y,o=-Infinity,n;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=a&&s>o){if(o=s,s===a){if(i===r.y)return r;if(i===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(a===o)return n.prev;var l=n,p=n.x,d=n.y,c=Infinity,u;for(r=n.next;r!==l;)a>=r.x&&r.x>=p&&a!==r.x&&Er(i<d?a:o,i,p,d,i<d?o:a,i,r.x,r.y)&&(u=no(i-r.y)/(a-r.x),(u<c||u===c&&r.x>n.x)&&Lr(r,e)&&(n=r,c=u)),r=r.next;return n}function xr(e,t,r,a){var i=e;do null===i.z&&(i.z=_r(i.x,i.y,t,r,a)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,vr(i)}function vr(t){var r=1,a,i,o,n,e,s,l,p;do{for(i=t,t=null,e=null,s=0;i;){for(s++,o=i,l=0,a=0;a<r&&(l++,o=o.nextZ,!!o);a++);for(p=r;0<l||0<p&&o;)0!==l&&(0===p||!o||i.z<=o.z)?(n=i,i=i.nextZ,l--):(n=o,o=o.nextZ,p--),e?e.nextZ=n:t=n,n.prevZ=e,e=n;i=o}e.nextZ=null,r*=2}while(1<s);return t}function _r(e,t,r,a,i){return e=32767*(e-r)*i,t=32767*(t-a)*i,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function br(e){var t=e,r=e;do t.x<r.x&&(r=t),t=t.next;while(t!==e);return r}function Er(e,t,r,a,i,o,n,s){return 0<=(i-n)*(t-s)-(e-n)*(o-s)&&0<=(e-n)*(a-s)-(r-n)*(t-s)&&0<=(r-n)*(o-s)-(i-n)*(a-s)}function Tr(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!wr(e,t)&&Lr(e,t)&&Lr(t,e)&&Rr(e,t)}function Sr(e,t,a){return(t.y-e.y)*(a.x-t.x)-(t.x-e.x)*(a.y-t.y)}function Mr(e,t){return e.x===t.x&&e.y===t.y}function Ar(e,t,r,a){return Mr(e,t)&&Mr(r,a)||Mr(e,a)&&Mr(r,t)||0<Sr(e,t,r)!=0<Sr(e,t,a)&&0<Sr(r,a,e)!=0<Sr(r,a,t)}function wr(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&Ar(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function Lr(e,t){return 0>Sr(e.prev,e,e.next)?0<=Sr(e,t,e.next)&&0<=Sr(e,e.prev,t):0>Sr(e,t,e.prev)||0>Sr(e,e.next,t)}function Rr(e,t){var r=e,a=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(a=!a),r=r.next;while(r!==e);return a}function Pr(e,t){var r=new Nr(e.i,e.x,e.y),a=new Nr(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,a.next=r,r.prev=a,o.next=a,a.prev=o,a}function Cr(e,t,r,a){var i=new Nr(e,t,r);return a?(i.next=a.next,i.prev=a,a.next.prev=i,a.next=i):(i.prev=i,i.next=i),i}function Ir(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Nr(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ur(e,t,r,a){for(var o=0,n=t,i=r-a;n<r;n+=a)o+=(e[i]-e[n])*(e[n+1]+e[i+1]),i=n;return o}function Dr(e,t){ue.call(this),this.type='ExtrudeGeometry',this.parameters={shapes:e,options:t},this.fromBufferGeometry(new zr(e,t)),this.mergeVertices()}function zr(e,t){'undefined'==typeof e||(Ae.call(this),this.type='ExtrudeBufferGeometry',e=Array.isArray(e)?e:[e],this.addShapeList(e,t),this.computeVertexNormals())}function Br(e,t){ue.call(this),this.type='TextGeometry',this.parameters={text:e,parameters:t},this.fromBufferGeometry(new Fr(e,t)),this.mergeVertices()}function Fr(e,t){t=t||{};var r=t.font;if(!(r&&r.isFont))return console.error('THREE.TextGeometry: font parameter is not an instance of THREE.Font.'),new ue;var a=r.generateShapes(e,t.size,t.curveSegments);t.amount=void 0===t.height?50:t.height,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),zr.call(this,a,t),this.type='TextBufferGeometry'}function Or(e,t,r,a,i,o,n){ue.call(this),this.type='SphereGeometry',this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:a,phiLength:i,thetaStart:o,thetaLength:n},this.fromBufferGeometry(new Gr(e,t,r,a,i,o,n)),this.mergeVertices()}function Gr(e,t,r,i,o,n,s){Ae.call(this),this.type='SphereBufferGeometry',this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:o,thetaStart:n,thetaLength:s},e=e||1,t=go(3,xo(t)||8),r=go(2,xo(r)||6),i=void 0===i?0:i,o=void 0===o?2*ho:o,n=void 0===n?0:n,s=void 0===s?ho:s;var l=n+s,p=0,g=[],f=new m,h=new m,y=[],x=[],_=[],E=[],T,S;for(S=0;S<=r;S++){var M=[],A=S/r;for(T=0;T<=t;T++){var v=T/t;f.x=-e*io(i+v*o)*ao(n+A*s),f.y=e*io(n+A*s),f.z=e*ao(i+v*o)*ao(n+A*s),x.push(f.x,f.y,f.z),h.set(f.x,f.y,f.z).normalize(),_.push(h.x,h.y,h.z),E.push(v,1-A),M.push(p++)}g.push(M)}for(S=0;S<r;S++)for(T=0;T<t;T++){var u=g[S][T+1],a=g[S][T],b=g[S+1][T],c=g[S+1][T+1];(0!==S||0<n)&&y.push(u,a,c),(S!==r-1||l<ho)&&y.push(a,b,c)}this.setIndex(y),this.addAttribute('position',new Ee(x,3)),this.addAttribute('normal',new Ee(_,3)),this.addAttribute('uv',new Ee(E,2))}function Hr(e,t,r,a,i,o){ue.call(this),this.type='RingGeometry',this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:a,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new Vr(e,t,r,a,i,o)),this.mergeVertices()}function Vr(e,t,o,n,s,l){Ae.call(this),this.type='RingBufferGeometry',this.parameters={innerRadius:e,outerRadius:t,thetaSegments:o,phiSegments:n,thetaStart:s,thetaLength:l},e=e||0.5,t=t||1,s=void 0===s?0:s,l=void 0===l?2*ho:l,o=void 0===o?8:go(3,o),n=void 0===n?1:go(1,n);var p=[],u=[],g=[],f=[],h=e,y=(t-e)/n,x=new m,v=new r,_,E,T;for(E=0;E<=n;E++){for(T=0;T<=o;T++)_=s+T/o*l,x.x=h*io(_),x.y=h*ao(_),u.push(x.x,x.y,x.z),g.push(0,0,1),v.x=(x.x/t+1)/2,v.y=(x.y/t+1)/2,f.push(v.x,v.y);h+=y}for(E=0;E<n;E++){var i=E*(o+1);for(T=0;T<o;T++){_=T+i;var S=_,a=_+o+1,b=_+o+2,c=_+1;p.push(S,a,c),p.push(a,b,c)}}this.setIndex(p),this.addAttribute('position',new Ee(u,3)),this.addAttribute('normal',new Ee(g,3)),this.addAttribute('uv',new Ee(f,2))}function kr(e,t,r,a){ue.call(this),this.type='LatheGeometry',this.parameters={points:e,segments:t,phiStart:r,phiLength:a},this.fromBufferGeometry(new Wr(e,t,r,a)),this.mergeVertices()}function Wr(e,t,o,s){Ae.call(this),this.type='LatheBufferGeometry',this.parameters={points:e,segments:t,phiStart:o,phiLength:s},t=xo(t)||12,o=o||0,s=s||2*ho,s=Ps.clamp(s,0,2*ho);var l=[],p=[],u=[],g=1/t,f=new m,h=new r,y,x,i;for(x=0;x<=t;x++){var v=o+x*g*s,_=ao(v),E=io(v);for(i=0;i<=e.length-1;i++)f.x=e[i].x*_,f.y=e[i].y,f.z=e[i].x*E,p.push(f.x,f.y,f.z),h.x=x/t,h.y=i/(e.length-1),u.push(h.x,h.y)}for(x=0;x<t;x++)for(i=0;i<e.length-1;i++){y=i+x*e.length;var T=y,a=y+e.length,b=y+e.length+1,c=y+1;l.push(T,a,c),l.push(a,b,c)}if(this.setIndex(l),this.addAttribute('position',new Ee(p,3)),this.addAttribute('uv',new Ee(u,2)),this.computeVertexNormals(),s===2*ho){var d=this.attributes.normal.array,S=new m,M=new m,A=new m;for(y=3*(t*e.length),x=0,i=0;x<e.length;x++,i+=3)S.x=d[i+0],S.y=d[i+1],S.z=d[i+2],M.x=d[y+i+0],M.y=d[y+i+1],M.z=d[y+i+2],A.addVectors(S,M).normalize(),d[i+0]=d[y+i+0]=A.x,d[i+1]=d[y+i+1]=A.y,d[i+2]=d[y+i+2]=A.z}}function jr(e,t){ue.call(this),this.type='ShapeGeometry','object'==typeof t&&(console.warn('THREE.ShapeGeometry: Options parameter has been removed.'),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new Xr(e,t)),this.mergeVertices()}function Xr(e,t){function r(e){var r=n.length/3,d=e.extractPoints(t),m=d.shape,u=d.holes,g,i,l;if(!1===Js.isClockWise(m))for(m=m.reverse(),g=0,i=u.length;g<i;g++)l=u[g],!0===Js.isClockWise(l)&&(u[g]=l.reverse());var f=Js.triangulateShape(m,u);for(g=0,i=u.length;g<i;g++)l=u[g],m=m.concat(l);for(g=0,i=m.length;g<i;g++){var h=m[g];n.push(h.x,h.y,0),a.push(0,0,1),s.push(h.x,h.y)}for(g=0,i=f.length;g<i;g++){var y=f[g],x=y[0]+r,v=y[1]+r,_=y[2]+r;o.push(x,v,_),p+=3}}Ae.call(this),this.type='ShapeBufferGeometry',this.parameters={shapes:e,curveSegments:t},t=t||12;var o=[],n=[],a=[],s=[],l=0,p=0;if(!1===Array.isArray(e))r(e);else for(var d=0;d<e.length;d++)r(e[d]),this.addGroup(l,p,d),l+=p,p=0;this.setIndex(o),this.addAttribute('position',new Ee(n,3)),this.addAttribute('normal',new Ee(a,3)),this.addAttribute('uv',new Ee(s,2))}function Yr(e,t){if(t.shapes=[],Array.isArray(e))for(var r=0,a=e.length,i;r<a;r++)i=e[r],t.shapes.push(i.uuid);else t.shapes.push(e.uuid);return t}function qr(t,r){Ae.call(this),this.type='EdgesGeometry',this.parameters={thresholdAngle:r},r=void 0===r?1:r;var a=[],o=io(Ps.DEG2RAD*r),n=[0,0],s={},p=['a','b','c'],d,c,m,u;t.isBufferGeometry?(u=new ue,u.fromBufferGeometry(t)):u=t.clone(),u.mergeVertices(),u.computeFaceNormals();for(var g=u.vertices,f=u.faces,h=0,y=f.length,l;h<y;h++){l=f[h];for(var x=0;3>x;x++)d=l[p[x]],c=l[p[(x+1)%3]],n[0]=fo(d,c),n[1]=go(d,c),m=n[0]+','+n[1],void 0===s[m]?s[m]={index1:n[0],index2:n[1],face1:h,face2:void 0}:s[m].face2=h}for(m in s){var v=s[m];if(void 0===v.face2||f[v.face1].normal.dot(f[v.face2].normal)<=o){var e=g[v.index1];a.push(e.x,e.y,e.z),e=g[v.index2],a.push(e.x,e.y,e.z)}}this.addAttribute('position',new Ee(a,3))}function Zr(e,t,r,a,i,o,n,s){ue.call(this),this.type='CylinderGeometry',this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:a,heightSegments:i,openEnded:o,thetaStart:n,thetaLength:s},this.fromBufferGeometry(new Jr(e,t,r,a,i,o,n,s)),this.mergeVertices()}function Jr(e,t,i,o,n,a,s,l){function p(a){var n=new r,p=new m,v=0,_=!0===a?e:t,b=!0===a?1:-1,T,x,S;for(x=h,T=1;T<=o;T++)d.push(0,y*b,0),c.push(0,b,0),f.push(0.5,0.5),h++;for(S=h,T=0;T<=o;T++){var M=T/o,A=M*l+s,w=io(A),L=ao(A);p.x=_*L,p.y=y*b,p.z=_*w,d.push(p.x,p.y,p.z),c.push(0,b,0),n.x=0.5*w+0.5,n.y=0.5*L*b+0.5,f.push(n.x,n.y),h++}for(T=0;T<o;T++){var R=x+T,P=S+T;!0===a?u.push(P,P+1,R):u.push(P+1,P,R),v+=3}g.addGroup(E,v,!0===a?1:2),E+=v}Ae.call(this),this.type='CylinderBufferGeometry',this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:o,heightSegments:n,openEnded:a,thetaStart:s,thetaLength:l};var g=this;e=void 0===e?1:e,t=void 0===t?1:t,i=i||1,o=xo(o)||8,n=xo(n)||1,a=void 0!==a&&a,s=void 0===s?0:s,l=void 0===l?2*ho:l;var u=[],d=[],c=[],f=[],h=0,_=[],y=i/2,E=0;(function(){var r=new m,p=new m,T=0,S=(t-e)/i,M,x;for(x=0;x<=n;x++){var A=[],w=x/n,L=w*(t-e)+e;for(M=0;M<=o;M++){var R=M/o,P=R*l+s,C=ao(P),I=io(P);p.x=L*C,p.y=-w*i+y,p.z=L*I,d.push(p.x,p.y,p.z),r.set(C,S,I).normalize(),c.push(r.x,r.y,r.z),f.push(R,1-w),A.push(h++)}_.push(A)}for(M=0;M<o;M++)for(x=0;x<n;x++){var N=_[x][M],a=_[x+1][M],b=_[x+1][M+1],U=_[x][M+1];u.push(N,a,U),u.push(a,b,U),T+=6}g.addGroup(E,T,0),E+=T})(),!1===a&&(0<e&&p(!0),0<t&&p(!1)),this.setIndex(u),this.addAttribute('position',new Ee(d,3)),this.addAttribute('normal',new Ee(c,3)),this.addAttribute('uv',new Ee(f,2))}function Qr(e,t,r,a,i,o,n){Zr.call(this,0,e,t,r,a,i,o,n),this.type='ConeGeometry',this.parameters={radius:e,height:t,radialSegments:r,heightSegments:a,openEnded:i,thetaStart:o,thetaLength:n}}function Kr(e,t,r,a,i,o,n){Jr.call(this,0,e,t,r,a,i,o,n),this.type='ConeBufferGeometry',this.parameters={radius:e,height:t,radialSegments:r,heightSegments:a,openEnded:i,thetaStart:o,thetaLength:n}}function $r(e,t,r,a){ue.call(this),this.type='CircleGeometry',this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:a},this.fromBufferGeometry(new ea(e,t,r,a)),this.mergeVertices()}function ea(e,t,a,o){Ae.call(this),this.type='CircleBufferGeometry',this.parameters={radius:e,segments:t,thetaStart:a,thetaLength:o},e=e||1,t=void 0===t?8:go(3,t),a=void 0===a?0:a,o=void 0===o?2*ho:o;var n=[],l=[],p=[],d=[],c=new m,u=new r,g,i;for(l.push(0,0,0),p.push(0,0,1),d.push(0.5,0.5),(i=0,g=3);i<=t;i++,g+=3){var s=a+i/t*o;c.x=e*io(s),c.y=e*ao(s),l.push(c.x,c.y,c.z),p.push(0,0,1),u.x=(l[g]/e+1)/2,u.y=(l[g+1]/e+1)/2,d.push(u.x,u.y)}for(g=1;g<=t;g++)n.push(g,g+1,0);this.setIndex(n),this.addAttribute('position',new Ee(l,3)),this.addAttribute('normal',new Ee(p,3)),this.addAttribute('uv',new Ee(d,2))}function ta(e){K.call(this),this.type='ShadowMaterial',this.color=new Y(0),this.opacity=1,this.lights=!0,this.transparent=!0,this.setValues(e)}function ra(e){Ie.call(this,e),this.type='RawShaderMaterial'}function aa(e){K.call(this),this.defines={STANDARD:''},this.type='MeshStandardMaterial',this.color=new Y(16777215),this.roughness=0.5,this.metalness=0.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Y(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=0.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap='round',this.wireframeLinejoin='round',this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function ia(e){aa.call(this),this.defines={PHYSICAL:''},this.type='MeshPhysicalMaterial',this.reflectivity=0.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(e)}function oa(e){K.call(this),this.type='MeshPhongMaterial',this.color=new Y(16777215),this.specular=new Y(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Y(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=mn,this.reflectivity=1,this.refractionRatio=0.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap='round',this.wireframeLinejoin='round',this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function na(e){oa.call(this),this.defines={TOON:''},this.type='MeshToonMaterial',this.gradientMap=null,this.setValues(e)}function sa(e){K.call(this),this.type='MeshNormalMaterial',this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function la(e){K.call(this),this.type='MeshLambertMaterial',this.color=new Y(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Y(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=mn,this.reflectivity=1,this.refractionRatio=0.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap='round',this.wireframeLinejoin='round',this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function pa(e){It.call(this),this.type='LineDashedMaterial',this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}function da(e,t,r){var a=this,i=!1,o=0,n=0,s;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(e){n++,!1==i&&void 0!==a.onStart&&a.onStart(e,o,n),i=!0},this.itemEnd=function(e){o++,void 0!==a.onProgress&&a.onProgress(e,o,n),o==n&&(i=!1,void 0!==a.onLoad&&a.onLoad())},this.itemError=function(e){void 0!==a.onError&&a.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this}}function ca(e){this.manager=void 0===e?el:e}function ma(e){this.manager=void 0===e?el:e}function ua(e){this.manager=void 0===e?el:e}function ga(){this.type='Curve',this.arcLengthDivisions=200}function fa(e,t,r,a,i,o,n,s){ga.call(this),this.type='EllipseCurve',this.aX=e||0,this.aY=t||0,this.xRadius=r||1,this.yRadius=a||1,this.aStartAngle=i||0,this.aEndAngle=o||2*ho,this.aClockwise=n||!1,this.aRotation=s||0}function ha(e,t,r,a,i,o){fa.call(this,e,t,r,r,a,i,o),this.type='ArcCurve'}function ya(){function e(e,t,n,s){r=e,a=n,i=-3*e+3*t-2*n-s,o=2*e-2*t+n+s}var r=0,a=0,i=0,o=0;return{initCatmullRom:function(t,r,a,i,o){e(r,a,o*(a-t),o*(i-r))},initNonuniformCatmullRom:function(t,r,a,i,o,n,s){var l=(r-t)/o-(a-t)/(o+n)+(a-r)/n,p=(a-r)/n-(i-r)/(n+s)+(i-a)/s;l*=n,p*=n,e(r,a,l,p)},calc:function(e){var t=e*e;return r+a*e+i*t+o*(t*e)}}}function xa(e,t,r,a){ga.call(this),this.type='CatmullRomCurve3',this.points=e||[],this.closed=t||!1,this.curveType=r||'centripetal',this.tension=a||0.5}function va(e,t,r,a,i){var o=0.5*(a-t),n=0.5*(i-r),s=e*e;return(2*r-2*a+o+n)*(e*s)+(-3*r+3*a-2*o-n)*s+o*e+r}function _a(e,t){var r=1-e;return r*r*t}function ba(e,t){return 2*(1-e)*e*t}function Ea(e,t){return e*e*t}function Ta(e,t,r,a){return _a(e,t)+ba(e,r)+Ea(e,a)}function Sa(e,t){var r=1-e;return r*r*r*t}function Ma(e,t){var r=1-e;return 3*r*r*e*t}function Aa(e,t){return 3*(1-e)*e*e*t}function wa(e,t){return e*e*e*t}function La(e,t,r,a,i){return Sa(e,t)+Ma(e,r)+Aa(e,a)+wa(e,i)}function Ra(e,t,a,i){ga.call(this),this.type='CubicBezierCurve',this.v0=e||new r,this.v1=t||new r,this.v2=a||new r,this.v3=i||new r}function Pa(e,t,r,a){ga.call(this),this.type='CubicBezierCurve3',this.v0=e||new m,this.v1=t||new m,this.v2=r||new m,this.v3=a||new m}function Ca(e,t){ga.call(this),this.type='LineCurve',this.v1=e||new r,this.v2=t||new r}function Ia(e,t){ga.call(this),this.type='LineCurve3',this.v1=e||new m,this.v2=t||new m}function Na(e,t,a){ga.call(this),this.type='QuadraticBezierCurve',this.v0=e||new r,this.v1=t||new r,this.v2=a||new r}function Ua(e,t,r){ga.call(this),this.type='QuadraticBezierCurve3',this.v0=e||new m,this.v1=t||new m,this.v2=r||new m}function Da(e){ga.call(this),this.type='SplineCurve',this.points=e||[]}function za(){ga.call(this),this.type='CurvePath',this.curves=[],this.autoClose=!1}function Ba(e){za.call(this),this.type='Path',this.currentPoint=new r,e&&this.setFromPoints(e)}function Fa(e){Ba.call(this,e),this.uuid=Ps.generateUUID(),this.type='Shape',this.holes=[]}function Oa(e,t){pe.call(this),this.type='Light',this.color=new Y(e),this.intensity=void 0===t?1:t,this.receiveShadow=void 0}function Ga(e,t,r){Oa.call(this,e,r),this.type='HemisphereLight',this.castShadow=void 0,this.position.copy(pe.DefaultUp),this.updateMatrix(),this.groundColor=new Y(t)}function Ha(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new r(512,512),this.map=null,this.matrix=new a}function Va(){Ha.call(this,new ft(50,1,0.5,500))}function ka(e,t,r,a,i,o){Oa.call(this,e,t),this.type='SpotLight',this.position.copy(pe.DefaultUp),this.updateMatrix(),this.target=new pe,Object.defineProperty(this,'power',{get:function(){return this.intensity*ho},set:function(e){this.intensity=e/ho}}),this.distance=void 0===r?0:r,this.angle=void 0===a?ho/3:a,this.penumbra=void 0===i?0:i,this.decay=void 0===o?1:o,this.shadow=new Va}function Wa(e,t,r,a){Oa.call(this,e,t),this.type='PointLight',Object.defineProperty(this,'power',{get:function(){return 4*this.intensity*ho},set:function(e){this.intensity=e/(4*ho)}}),this.distance=void 0===r?0:r,this.decay=void 0===a?1:a,this.shadow=new Ha(new ft(90,1,0.5,500))}function ja(){Ha.call(this,new ce(-5,5,5,-5,0.5,500))}function Xa(e,t){Oa.call(this,e,t),this.type='DirectionalLight',this.position.copy(pe.DefaultUp),this.updateMatrix(),this.target=new pe,this.shadow=new ja}function Ya(e,t){Oa.call(this,e,t),this.type='AmbientLight',this.castShadow=void 0}function qa(e,t,r,a){Oa.call(this,e,t),this.type='RectAreaLight',this.position.set(0,1,0),this.updateMatrix(),this.width=void 0===r?10:r,this.height=void 0===a?10:a}function Za(e,t,r,a){oi.call(this,e,t,r,a)}function Ja(e,t,r){oi.call(this,e,t,r)}function Qa(e,t,r,a){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0===a?new t.constructor(r):a,this.sampleValues=t,this.valueSize=r}function Ka(e,t,r,a){Qa.call(this,e,t,r,a)}function $a(e,t,r,a){oi.call(this,e,t,r,a)}function ei(e,t,r,a){oi.call(this,e,t,r,a)}function ti(e,t,r,a){oi.call(this,e,t,r,a)}function ri(e,t,r,a){Qa.call(this,e,t,r,a),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function ai(e,t,r,a){Qa.call(this,e,t,r,a)}function ii(e,t,r,a){Qa.call(this,e,t,r,a)}function oi(e,t,r,a){if(void 0===e)throw new Error('THREE.KeyframeTrack: track name is undefined');if(void 0===t||0===t.length)throw new Error('THREE.KeyframeTrack: no keyframes in track named '+e);this.name=e,this.times=sl.convertArray(t,this.TimeBufferType),this.values=sl.convertArray(r,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation),this.validate(),this.optimize()}function ni(e,t,r,a){oi.call(this,e,t,r,a)}function si(e,t,r){this.name=e,this.tracks=r,this.duration=void 0===t?-1:t,this.uuid=Ps.generateUUID(),0>this.duration&&this.resetDuration(),this.optimize()}function li(e){this.manager=void 0===e?el:e,this.textures={}}function pi(e){this.manager=void 0===e?el:e}function di(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function ci(e){'boolean'==typeof e&&(console.warn('THREE.JSONLoader: showStatus parameter has been removed from constructor.'),e=void 0),this.manager=void 0===e?el:e,this.withCredentials=!1}function mi(){this.type='ShapePath',this.subPaths=[],this.currentPath=null}function ui(e){this.type='Font',this.data=e}function gi(e){this.manager=void 0===e?el:e}function fi(e,t,r){pe.call(this),this.type='CubeCamera';var a=90,i=1,o=new ft(a,i,e,t);o.up.set(0,-1,0),o.lookAt(new m(1,0,0)),this.add(o);var n=new ft(a,i,e,t);n.up.set(0,-1,0),n.lookAt(new m(-1,0,0)),this.add(n);var s=new ft(a,i,e,t);s.up.set(0,0,1),s.lookAt(new m(0,1,0)),this.add(s);var l=new ft(a,i,e,t);l.up.set(0,0,-1),l.lookAt(new m(0,-1,0)),this.add(l);var d=new ft(a,i,e,t);d.up.set(0,-1,0),d.lookAt(new m(0,0,1)),this.add(d);var c=new ft(a,i,e,t);c.up.set(0,-1,0),c.lookAt(new m(0,0,-1)),this.add(c);this.renderTarget=new p(r,r,{format:Jn,magFilter:Un,minFilter:Un}),this.renderTarget.texture.name='CubeCamera',this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var r=this.renderTarget,a=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,r.activeCubeFace=0,e.render(t,o,r),r.activeCubeFace=1,e.render(t,n,r),r.activeCubeFace=2,e.render(t,s,r),r.activeCubeFace=3,e.render(t,l,r),r.activeCubeFace=4,e.render(t,d,r),r.texture.generateMipmaps=a,r.activeCubeFace=5,e.render(t,c,r),e.setRenderTarget(null)},this.clear=function(e,t,r,a){for(var o=this.renderTarget,n=0;6>n;n++)o.activeCubeFace=n,e.setRenderTarget(o),e.clear(t,r,a);e.setRenderTarget(null)}}function hi(){pe.call(this),this.type='AudioListener',this.context=ul.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function yi(e){pe.call(this),this.type='Audio',this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType='empty',this.filters=[]}function xi(e){yi.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function vi(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0===t?2048:t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function _i(e,t,r){this.binding=e,this.valueSize=r;var a=Float64Array,i;'quaternion'===t?i=this._slerp:'string'===t||'bool'===t?(a=Array,i=this._select):i=this._lerp,this.buffer=new a(4*r),this._mixBufferRegion=i,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function bi(e,t,r){var a=r||Ei.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,a)}function Ei(e,t,r){this.path=t,this.parsedPath=r||Ei.parseTrackName(t),this.node=Ei.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function Ti(e,t,r){this._mixer=e,this._clip=t,this._localRoot=r||null;for(var a=t.tracks,o=a.length,n=Array(o),s={endingStart:fs,endingEnd:fs},l=0,i;l!==o;++l)i=a[l].createInterpolant(null),n[l]=i,i.settings=s;this._interpolantSettings=s,this._interpolants=n,this._propertyBindings=Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=cs,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=Infinity,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Si(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Mi(e){'string'==typeof e&&(console.warn('THREE.Uniform: Type parameter is no longer needed.'),e=arguments[1]),this.value=e}function Ai(){Ae.call(this),this.type='InstancedBufferGeometry',this.maxInstancedCount=void 0}function wi(e,t,r,a){this.uuid=Ps.generateUUID(),this.data=e,this.itemSize=t,this.offset=r,this.normalized=!0===a}function Li(e,t){this.uuid=Ps.generateUUID(),this.array=e,this.stride=t,this.count=void 0===e?0:e.length/t,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function Ri(e,t,r){Li.call(this,e,t),this.meshPerAttribute=r||1}function Pi(e,t,r){ge.call(this,e,t),this.meshPerAttribute=r||1}function Ci(e,t){return e.distance-t.distance}function Ii(e,t,r,a){if(!1!==e.visible&&(e.raycast(t,r),!0===a))for(var o=e.children,n=0,i=o.length;n<i;n++)Ii(o[n],t,r,!0)}function Ni(e){pe.call(this),this.material=e,this.render=function(){}}function Ui(e,t,r,a){this.object=e,this.size=void 0===t?1:t;var i=void 0===r?16711680:r,o=void 0===a?1:a,n=0,s=this.object.geometry;s&&s.isGeometry?n=3*s.faces.length:s&&s.isBufferGeometry&&(n=s.attributes.normal.count);var l=new Ae,p=new Ee(3*(2*n),3);l.addAttribute('position',p),Ut.call(this,l,new It({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function Di(e,t){pe.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var r=new Ae,a=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],o=0,i=1,n=32;o<n;o++,i++){var s=2*(o/n*ho),l=2*(i/n*ho);a.push(io(s),ao(s),1,io(l),ao(l),1)}r.addAttribute('position',new Ee(a,3));var p=new It({fog:!1});this.cone=new Ut(r,p),this.add(this.cone),this.update()}function zi(e){var t=[];e&&e.isBone&&t.push(e);for(var r=0;r<e.children.length;r++)t.push.apply(t,zi(e.children[r]));return t}function Bi(e){for(var t=zi(e),r=new Ae,a=[],o=[],n=new Y(0,0,1),s=new Y(0,1,0),l=0,i;l<t.length;l++)i=t[l],i.parent&&i.parent.isBone&&(a.push(0,0,0),a.push(0,0,0),o.push(n.r,n.g,n.b),o.push(s.r,s.g,s.b));r.addAttribute('position',new Ee(a,3)),r.addAttribute('color',new Ee(o,3));var p=new It({vertexColors:Uo,depthTest:!1,depthWrite:!1,transparent:!0});Ut.call(this,r,p),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function Fi(e,t,r){this.light=e,this.light.updateMatrixWorld(),this.color=r;var a=new Gr(t,4,2),i=new Ce({wireframe:!0,fog:!1});ze.call(this,a,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Oi(e,t){pe.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;var r=new It({fog:!1}),a=new Ae;a.addAttribute('position',new ge(new Float32Array(15),3)),this.line=new Nt(a,r),this.add(this.line),this.update()}function Gi(e,t,r){pe.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;var a=new Jt(t);a.rotateY(0.5*ho),this.material=new Ce({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=Uo);var i=a.getAttribute('position'),o=new Float32Array(3*i.count);a.addAttribute('color',new ge(o,3)),this.add(new ze(a,this.material)),this.update()}function Hi(e,t,r,a){e=e||10,t=t||10,r=new Y(void 0===r?4473924:r),a=new Y(void 0===a?8947848:a);for(var o=t/2,n=e/t,s=e/2,l=[],p=[],d=0,i=0,c=-s;d<=t;d++,c+=n){l.push(-s,0,c,s,0,c),l.push(c,0,-s,c,0,s);var m=d===o?r:a;m.toArray(p,i),i+=3,m.toArray(p,i),i+=3,m.toArray(p,i),i+=3,m.toArray(p,i),i+=3}var u=new Ae;u.addAttribute('position',new Ee(l,3)),u.addAttribute('color',new Ee(p,3));var g=new It({vertexColors:Uo});Ut.call(this,u,g)}function Vi(e,t,a,o,n,s){e=e||10,t=t||16,a=a||8,o=o||64,n=new Y(void 0===n?4473924:n),s=new Y(void 0===s?8947848:s);var l=[],p=[],d,c,m,u,i,g,r;for(u=0;u<=t;u++)m=u/t*(2*ho),d=ao(m)*e,c=io(m)*e,l.push(0,0,0),l.push(d,0,c),r=1&u?n:s,p.push(r.r,r.g,r.b),p.push(r.r,r.g,r.b);for(u=0;u<=a;u++)for(r=1&u?n:s,g=e-e/a*u,i=0;i<o;i++)m=i/o*(2*ho),d=ao(m)*g,c=io(m)*g,l.push(d,0,c),p.push(r.r,r.g,r.b),m=(i+1)/o*(2*ho),d=ao(m)*g,c=io(m)*g,l.push(d,0,c),p.push(r.r,r.g,r.b);var f=new Ae;f.addAttribute('position',new Ee(l,3)),f.addAttribute('color',new Ee(p,3));var h=new It({vertexColors:Uo});Ut.call(this,f,h)}function ki(e,t,r,a){this.object=e,this.size=void 0===t?1:t;var i=void 0===r?16776960:r,o=void 0===a?1:a,n=0,s=this.object.geometry;s&&s.isGeometry?n=s.faces.length:console.warn('THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.');var l=new Ae,p=new Ee(3*(2*n),3);l.addAttribute('position',p),Ut.call(this,l,new It({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function Wi(e,t,r){pe.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,void 0===t&&(t=1);var a=new Ae;a.addAttribute('position',new Ee([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var i=new It({fog:!1});this.lightPlane=new Nt(a,i),this.add(this.lightPlane),a=new Ae,a.addAttribute('position',new Ee([0,0,0,0,0,1],3)),this.targetLine=new Nt(a,i),this.add(this.targetLine),this.update()}function ji(e){function t(e,t,a){r(e,a),r(t,a)}function r(e,t){o.push(0,0,0),n.push(t.r,t.g,t.b),void 0===s[e]&&(s[e]=[]),s[e].push(o.length/3-1)}var a=new Ae,i=new It({color:16777215,vertexColors:No}),o=[],n=[],s={},l=new Y(16755200),p=new Y(16711680),d=new Y(43775),c=new Y(16777215),m=new Y(3355443);t('n1','n2',l),t('n2','n4',l),t('n4','n3',l),t('n3','n1',l),t('f1','f2',l),t('f2','f4',l),t('f4','f3',l),t('f3','f1',l),t('n1','f1',l),t('n2','f2',l),t('n3','f3',l),t('n4','f4',l),t('p','n1',p),t('p','n2',p),t('p','n3',p),t('p','n4',p),t('u1','u2',d),t('u2','u3',d),t('u3','u1',d),t('c','t',c),t('p','c',m),t('cn1','cn2',m),t('cn3','cn4',m),t('cf1','cf2',m),t('cf3','cf4',m),a.addAttribute('position',new Ee(o,3)),a.addAttribute('color',new Ee(n,3)),Ut.call(this,a,i),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}function Xi(e,t){this.object=e,void 0===t&&(t=16776960);var r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=new Float32Array(24),i=new Ae;i.setIndex(new ge(r,1)),i.addAttribute('position',new ge(a,3)),Ut.call(this,i,new It({color:t})),this.matrixAutoUpdate=!1,this.update()}function Yi(e,t){this.type='Box3Helper',this.box=e;var r=void 0===t?16776960:t,a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Ae;i.setIndex(new ge(a,1)),i.addAttribute('position',new Ee([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),Ut.call(this,i,new It({color:r})),this.geometry.computeBoundingSphere()}function qi(e,t,r){this.type='PlaneHelper',this.plane=e,this.size=void 0===t?1:t;var a=void 0===r?16776960:r,i=new Ae;i.addAttribute('position',new Ee([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),Nt.call(this,i,new It({color:a}));var o=new Ae;o.addAttribute('position',new Ee([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),o.computeBoundingSphere(),this.add(new ze(o,new Ce({color:a,opacity:0.2,transparent:!0,depthWrite:!1})))}function Zi(e,t,r,a,i,o){pe.call(this),void 0===a&&(a=16776960),void 0===r&&(r=1),void 0===i&&(i=0.2*r),void 0===o&&(o=0.2*i),void 0==fl&&(fl=new Ae,fl.addAttribute('position',new Ee([0,0,0,0,1,0],3)),hl=new Jr(0,0.5,1,5,1),hl.translate(0,-0.5,0)),this.position.copy(t),this.line=new Nt(fl,new It({color:a})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ze(hl,new Ce({color:a})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,i,o)}function Ji(e){e=e||1;var t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=new Ae;r.addAttribute('position',new Ee(t,3)),r.addAttribute('color',new Ee([1,0,0,1,0.6,0,0,1,0,0.6,1,0,0,0,1,0,0.6,1],3));var a=new It({vertexColors:Uo});Ut.call(this,r,a)}function Qi(e){console.warn('THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.'),xa.call(this,e),this.type='catmullrom'}function Ki(e,t,a,i,o){const n=[],s=xo(t/i),l=xo(e%s),p=xo(e/s);for(let s=p;s<p+2;s++)for(let e=l;e<l+2;e++)n.push(new r(e*i/t,-1*(s*o/a)+1));return[[n[0],n[2],n[1]],[n[2],n[3],n[1]]]}function $i(e,t){let r,a;if(t.material.map){const{texture:e,textureSize:a,gridSize:i,subSprite:o}=t.material.map;let n=bl.get(e);n||(n=new ua().load(e),n.minFilter=n.magFilter=Cn,bl.set(e,n)),t.material.map=n,r=Ki(o,a[0],a[1],i[0],i[1])}const i=new((()=>t.useShaderMaterial?Ie:Ce)())(t.material);if(e===vl.CUBE){const{width:e,height:r,depth:o,widthSegments:n,heightSegments:s,depthSegments:l}=t.geometry||{};a=new ze(new we(e,r,o,n,s,l),i)}else if(e===vl.PLANE){const{width:e,height:r,widthSegments:o,heightSegments:n}=t.geometry||{};a=new ze(new Re(e,r,o,n),i)}return r&&(a.geometry.faceVertexUvs=[r],a.geometry.uvsNeedUpdate=!0),a}var eo=Math.tan,to=Math.atan,ro=Math.acos,ao=Math.sin,io=Math.cos,oo=Math.atan2,no=Math.abs,so=Math.sqrt,lo=Math.round,po=Math.pow,co=Math.ceil,mo=Math.LN2,uo=Math.log,go=Math.max,fo=Math.min,ho=Math.PI,yo=Math.sign,xo=Math.floor,vo=Number.isInteger,_o=Number.EPSILON;void 0===_o&&(_o=2.220446049250313e-16),void 0===vo&&(vo=function(e){return'number'==typeof e&&isFinite(e)&&xo(e)===e}),void 0===yo&&(yo=function(e){return 0>e?-1:0<e?1:+e}),!1=='name'in Function.prototype&&Object.defineProperty(Function.prototype,'name',{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&function(){Object.assign=function(e){if(void 0===e||null===e)throw new TypeError('Cannot convert undefined or null to object');for(var t=Object(e),r=1,a;r<arguments.length;r++)if(a=arguments[r],void 0!==a&&null!==a)for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i]);return t}}(),Object.assign(t.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var r=this._listeners,a=r[e];if(void 0!==a){var i=a.indexOf(t);-1!==i&&a.splice(i,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners,r=t[e.type];if(void 0!==r){e.target=this;for(var a=r.slice(0),o=0,i=a.length;o<i;o++)a[o].call(this,e)}}}});var bo='89',Eo=0,To=1,So=2,Mo=0,Ao=1,wo=2,Lo=0,Ro=1,Po=2,Co=1,Io=0,No=1,Uo=2,Do=0,zo=1,Bo=2,Fo=3,Oo=4,Go=5,Ho=100,Vo=101,ko=102,Wo=103,jo=104,Xo=200,Yo=201,qo=202,Zo=203,Jo=204,Qo=205,Ko=206,$o=207,en=208,tn=209,rn=210,an=0,on=1,nn=2,sn=3,ln=4,pn=5,dn=6,cn=7,mn=0,un=1,gn=2,fn=0,hn=1,yn=2,xn=3,vn=4,_n=300,bn=301,En=302,Tn=303,Sn=304,Mn=305,An=306,wn=307,Ln=1e3,Rn=1001,Pn=1002,Cn=1003,In=1004,Nn=1005,Un=1006,Dn=1007,zn=1008,Bn=1009,Fn=1010,On=1011,Gn=1012,Hn=1013,Vn=1014,kn=1015,Wn=1016,jn=1017,Xn=1018,Yn=1019,qn=1020,Zn=1021,Jn=1022,Qn=1023,Kn=1024,$n=1025,es=1026,ts=1027,rs=2001,as=2002,is=2003,os=2004,ns=2100,ss=2101,ls=2102,ps=2103,ds=2151,cs=2201,ms=2300,us=2301,gs=2302,fs=2400,hs=2401,ys=2402,xs=0,vs=1,_s=2,bs=3e3,Es=3001,Ts=3007,Ss=3002,Ms=3004,As=3005,ws=3006,Ls=3200,Rs=3201,Ps={DEG2RAD:ho/180,RAD2DEG:180/ho,generateUUID:function(){for(var e=[],t=0;256>t;t++)e[t]=(16>t?'0':'')+t.toString(16).toUpperCase();return function(){var t=0|4294967295*Math.random(),r=0|4294967295*Math.random(),a=0|4294967295*Math.random(),i=0|4294967295*Math.random();return e[255&t]+e[255&t>>8]+e[255&t>>16]+e[255&t>>24]+'-'+e[255&r]+e[255&r>>8]+'-'+e[64|15&r>>16]+e[255&r>>24]+'-'+e[128|63&a]+e[255&a>>8]+'-'+e[255&a>>16]+e[255&a>>24]+e[255&i]+e[255&i>>8]+e[255&i>>16]+e[255&i>>24]}}(),clamp:function(e,t,r){return go(t,fo(r,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,r,a,i){return a+(e-t)*(i-a)/(r-t)},lerp:function(e,r,a){return(1-a)*e+a*r},smoothstep:function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t),e*e*(3-2*e))},smootherstep:function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t),e*e*e*(e*(6*e-15)+10))},randInt:function(e,t){return e+xo(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(0.5-Math.random())},degToRad:function(e){return e*Ps.DEG2RAD},radToDeg:function(e){return e*Ps.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return po(2,co(uo(e)/mo))},floorPowerOfTwo:function(e){return po(2,xo(uo(e)/mo))}};Object.defineProperties(r.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(r.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error('index is out of range: '+e);}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error('index is out of range: '+e);}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0===t?(this.x+=e.x,this.y+=e.y,this):(console.warn('THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.'),this.addVectors(e,t))},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0===t?(this.x-=e.x,this.y-=e.y,this):(console.warn('THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.'),this.subVectors(e,t))},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(t){var r=this.x,a=this.y,i=t.elements;return this.x=i[0]*r+i[3]*a+i[6],this.y=i[1]*r+i[4]*a+i[7],this},min:function(e){return this.x=fo(this.x,e.x),this.y=fo(this.y,e.y),this},max:function(e){return this.x=go(this.x,e.x),this.y=go(this.y,e.y),this},clamp:function(e,t){return this.x=go(e.x,fo(t.x,this.x)),this.y=go(e.y,fo(t.y,this.y)),this},clampScalar:function(){var e=new r,t=new r;return function(r,a){return e.set(r,r),t.set(a,a),this.clamp(e,t)}}(),clampLength:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(go(e,fo(t,r)))},floor:function(){return this.x=xo(this.x),this.y=xo(this.y),this},ceil:function(){return this.x=co(this.x),this.y=co(this.y),this},round:function(){return this.x=lo(this.x),this.y=lo(this.y),this},roundToZero:function(){return this.x=0>this.x?co(this.x):xo(this.x),this.y=0>this.y?co(this.y):xo(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return so(this.x*this.x+this.y*this.y)},manhattanLength:function(){return no(this.x)+no(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=oo(this.y,this.x);return 0>e&&(e+=2*ho),e},distanceTo:function(e){return so(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r},manhattanDistanceTo:function(e){return no(this.x-e.x)+no(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,r){return this.subVectors(t,e).multiplyScalar(r).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,r){return void 0!==r&&console.warn('THREE.Vector2: offset has been removed from .fromBufferAttribute().'),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var r=io(t),a=ao(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*r-o*a+e.x,this.y=i*a+o*r+e.y,this}}),Object.assign(a.prototype,{isMatrix4:!0,set:function(e,t,r,a,i,o,n,s,l,p,d,c,m,u,g,f){var h=this.elements;return h[0]=e,h[4]=t,h[8]=r,h[12]=a,h[1]=i,h[5]=o,h[9]=n,h[13]=s,h[2]=l,h[6]=p,h[10]=d,h[14]=c,h[3]=m,h[7]=u,h[11]=g,h[15]=f,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return new a().fromArray(this.elements)},copy:function(e){var t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this},copyPosition:function(e){var t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this},extractBasis:function(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this},extractRotation:function(){var e=new m;return function(t){var r=this.elements,a=t.elements,i=1/e.setFromMatrixColumn(t,0).length(),o=1/e.setFromMatrixColumn(t,1).length(),n=1/e.setFromMatrixColumn(t,2).length();return r[0]=a[0]*i,r[1]=a[1]*i,r[2]=a[2]*i,r[4]=a[4]*o,r[5]=a[5]*o,r[6]=a[6]*o,r[8]=a[8]*n,r[9]=a[9]*n,r[10]=a[10]*n,this}}(),makeRotationFromEuler:function(t){t&&t.isEuler||console.error('THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.');var r=this.elements,i=t.x,o=t.y,n=t.z,s=io(i),l=ao(i),p=io(o),m=ao(o),u=io(n),e=ao(n);if('XYZ'===t.order){var g=s*u,h=s*e,y=l*u,x=l*e;r[0]=p*u,r[4]=-p*e,r[8]=m,r[1]=h+y*m,r[5]=g-x*m,r[9]=-l*p,r[2]=x-g*m,r[6]=y+h*m,r[10]=s*p}else if('YXZ'===t.order){var v=p*u,_=p*e,E=m*u,T=m*e;r[0]=v+T*l,r[4]=E*l-_,r[8]=s*m,r[1]=s*e,r[5]=s*u,r[9]=-l,r[2]=_*l-E,r[6]=T+v*l,r[10]=s*p}else if('ZXY'===t.order){var v=p*u,_=p*e,E=m*u,T=m*e;r[0]=v-T*l,r[4]=-s*e,r[8]=E+_*l,r[1]=_+E*l,r[5]=s*u,r[9]=T-v*l,r[2]=-s*m,r[6]=l,r[10]=s*p}else if('ZYX'===t.order){var g=s*u,h=s*e,y=l*u,x=l*e;r[0]=p*u,r[4]=y*m-h,r[8]=g*m+x,r[1]=p*e,r[5]=x*m+g,r[9]=h*m-y,r[2]=-m,r[6]=l*p,r[10]=s*p}else if('YZX'===t.order){var S=s*p,M=s*m,A=l*p,w=l*m;r[0]=p*u,r[4]=w-S*e,r[8]=A*e+M,r[1]=e,r[5]=s*u,r[9]=-l*u,r[2]=-m*u,r[6]=M*e+A,r[10]=S-w*e}else if('XZY'===t.order){var S=s*p,M=s*m,A=l*p,w=l*m;r[0]=p*u,r[4]=-e,r[8]=m*u,r[1]=S*e+w,r[5]=s*u,r[9]=M*e-A,r[2]=A*e-M,r[6]=l*u,r[10]=w*e+S}return r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this},makeRotationFromQuaternion:function(e){var t=this.elements,r=e._x,a=e._y,i=e._z,o=e._w,n=r+r,s=a+a,l=i+i,p=r*n,d=r*s,c=r*l,m=a*s,u=a*l,g=i*l,f=o*n,h=o*s,y=o*l;return t[0]=1-(m+g),t[4]=d-y,t[8]=c+h,t[1]=d+y,t[5]=1-(p+g),t[9]=u-f,t[2]=c-h,t[6]=u+f,t[10]=1-(p+m),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},lookAt:function(){var e=new m,t=new m,r=new m;return function(a,i,o){var n=this.elements;return r.subVectors(a,i),0===r.lengthSq()&&(r.z=1),r.normalize(),e.crossVectors(o,r),0===e.lengthSq()&&(1===no(o.z)?r.x+=1e-4:r.z+=1e-4,r.normalize(),e.crossVectors(o,r)),e.normalize(),t.crossVectors(r,e),n[0]=e.x,n[4]=t.x,n[8]=r.x,n[1]=e.y,n[5]=t.y,n[9]=r.y,n[2]=e.z,n[6]=t.z,n[10]=r.z,this}}(),multiply:function(e,t){return void 0===t?this.multiplyMatrices(this,e):(console.warn('THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.'),this.multiplyMatrices(e,t))},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var r=e.elements,a=t.elements,i=this.elements,o=r[0],n=r[4],s=r[8],l=r[12],p=r[1],d=r[5],c=r[9],m=r[13],u=r[2],g=r[6],f=r[10],h=r[14],y=r[3],x=r[7],v=r[11],_=r[15],b=a[0],E=a[4],T=a[8],S=a[12],M=a[1],A=a[5],w=a[9],L=a[13],R=a[2],P=a[6],C=a[10],I=a[14],N=a[3],U=a[7],D=a[11],z=a[15];return i[0]=o*b+n*M+s*R+l*N,i[4]=o*E+n*A+s*P+l*U,i[8]=o*T+n*w+s*C+l*D,i[12]=o*S+n*L+s*I+l*z,i[1]=p*b+d*M+c*R+m*N,i[5]=p*E+d*A+c*P+m*U,i[9]=p*T+d*w+c*C+m*D,i[13]=p*S+d*L+c*I+m*z,i[2]=u*b+g*M+f*R+h*N,i[6]=u*E+g*A+f*P+h*U,i[10]=u*T+g*w+f*C+h*D,i[14]=u*S+g*L+f*I+h*z,i[3]=y*b+x*M+v*R+_*N,i[7]=y*E+x*A+v*P+_*U,i[11]=y*T+x*w+v*C+_*D,i[15]=y*S+x*L+v*I+_*z,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(){var e=new m;return function(t){for(var r=0,a=t.count;r<a;r++)e.x=t.getX(r),e.y=t.getY(r),e.z=t.getZ(r),e.applyMatrix4(this),t.setXYZ(r,e.x,e.y,e.z);return t}}(),determinant:function(){var e=this.elements,t=e[0],r=e[4],a=e[8],i=e[12],o=e[1],n=e[5],s=e[9],l=e[13],p=e[2],d=e[6],c=e[10],m=e[14],u=e[3],g=e[7],f=e[11],h=e[15];return u*(+i*s*d-a*l*d-i*n*c+r*l*c+a*n*m-r*s*m)+g*(+t*s*m-t*l*c+i*o*c-a*o*m+a*l*p-i*s*p)+f*(+t*l*d-t*n*m-i*o*d+r*o*m+i*n*p-r*l*p)+h*(-a*n*p-t*s*d+t*n*c+a*o*d-r*o*c+r*s*p)},transpose:function(){var e=this.elements,t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var r=this.elements,a=e.elements,i=a[0],o=a[1],n=a[2],s=a[3],l=a[4],p=a[5],d=a[6],c=a[7],m=a[8],u=a[9],g=a[10],f=a[11],h=a[12],y=a[13],x=a[14],v=a[15],_=u*x*c-y*g*c+y*d*f-p*x*f-u*d*v+p*g*v,b=h*g*c-m*x*c-h*d*f+l*x*f+m*d*v-l*g*v,E=m*y*c-h*u*c+h*p*f-l*y*f-m*p*v+l*u*v,T=h*u*d-m*y*d-h*p*g+l*y*g+m*p*x-l*u*x,S=i*_+o*b+n*E+s*T;if(0==S){var M='THREE.Matrix4: .getInverse() can\'t invert matrix, determinant is 0';if(!0===t)throw new Error(M);else console.warn(M);return this.identity()}var A=1/S;return r[0]=_*A,r[1]=(y*g*s-u*x*s-y*n*f+o*x*f+u*n*v-o*g*v)*A,r[2]=(p*x*s-y*d*s+y*n*c-o*x*c-p*n*v+o*d*v)*A,r[3]=(u*d*s-p*g*s-u*n*c+o*g*c+p*n*f-o*d*f)*A,r[4]=b*A,r[5]=(m*x*s-h*g*s+h*n*f-i*x*f-m*n*v+i*g*v)*A,r[6]=(h*d*s-l*x*s-h*n*c+i*x*c+l*n*v-i*d*v)*A,r[7]=(l*g*s-m*d*s+m*n*c-i*g*c-l*n*f+i*d*f)*A,r[8]=E*A,r[9]=(h*u*s-m*y*s-h*o*f+i*y*f+m*o*v-i*u*v)*A,r[10]=(l*y*s-h*p*s+h*o*c-i*y*c-l*o*v+i*p*v)*A,r[11]=(m*p*s-l*u*s-m*o*c+i*u*c+l*o*f-i*p*f)*A,r[12]=T*A,r[13]=(m*y*n-h*u*n+h*o*g-i*y*g-m*o*x+i*u*x)*A,r[14]=(h*p*n-l*y*n-h*o*d+i*y*d+l*o*x-i*p*x)*A,r[15]=(l*u*n-m*p*n+m*o*d-i*u*d-l*o*g+i*p*g)*A,this},scale:function(e){var t=this.elements,r=e.x,a=e.y,i=e.z;return t[0]*=r,t[4]*=a,t[8]*=i,t[1]*=r,t[5]*=a,t[9]*=i,t[2]*=r,t[6]*=a,t[10]*=i,t[3]*=r,t[7]*=a,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],a=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return so(go(t,r,a))},makeTranslation:function(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this},makeRotationX:function(e){var t=io(e),r=ao(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this},makeRotationY:function(e){var t=io(e),r=ao(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=io(e),r=ao(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,r){var a=io(r),i=ao(r),o=1-a,t=e.x,n=e.y,s=e.z,l=o*t,p=o*n;return this.set(l*t+a,l*n-i*s,l*s+i*n,0,l*n+i*s,p*n+a,p*s-i*t,0,l*s-i*n,p*s+i*t,o*s*s+a,0,0,0,0,1),this},makeScale:function(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this},makeShear:function(e,t,r){return this.set(1,t,r,0,e,1,r,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,r){return this.makeRotationFromQuaternion(t),this.scale(r),this.setPosition(e),this},decompose:function(){var e=new m,t=new a;return function(r,a,i){var o=this.elements,n=e.set(o[0],o[1],o[2]).length(),s=e.set(o[4],o[5],o[6]).length(),l=e.set(o[8],o[9],o[10]).length(),p=this.determinant();0>p&&(n=-n),r.x=o[12],r.y=o[13],r.z=o[14],t.copy(this);var d=1/n,c=1/s,m=1/l;return t.elements[0]*=d,t.elements[1]*=d,t.elements[2]*=d,t.elements[4]*=c,t.elements[5]*=c,t.elements[6]*=c,t.elements[8]*=m,t.elements[9]*=m,t.elements[10]*=m,a.setFromRotationMatrix(t),i.x=n,i.y=s,i.z=l,this}}(),makePerspective:function(e,t,r,a,i,o){void 0===o&&console.warn('THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.');var n=this.elements;return n[0]=2*i/(t-e),n[4]=0,n[8]=(t+e)/(t-e),n[12]=0,n[1]=0,n[5]=2*i/(r-a),n[9]=(r+a)/(r-a),n[13]=0,n[2]=0,n[6]=0,n[10]=-(o+i)/(o-i),n[14]=-2*o*i/(o-i),n[3]=0,n[7]=0,n[11]=-1,n[15]=0,this},makeOrthographic:function(e,t,r,a,i,o){var n=this.elements,s=1/(t-e),l=1/(r-a),d=1/(o-i);return n[0]=2*s,n[4]=0,n[8]=0,n[12]=-((t+e)*s),n[1]=0,n[5]=2*l,n[9]=0,n[13]=-((r+a)*l),n[2]=0,n[6]=0,n[10]=-2*d,n[14]=-((o+i)*d),n[3]=0,n[7]=0,n[11]=0,n[15]=1,this},equals:function(e){for(var t=this.elements,r=e.elements,a=0;16>a;a++)if(t[a]!==r[a])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var r=0;16>r;r++)this.elements[r]=e[r+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}),Object.assign(i,{slerp:function(e,r,a,i){return a.copy(e).slerp(r,i)},slerpFlat:function(e,r,a,i,o,n,l){var t=a[i+0],p=a[i+1],d=a[i+2],c=a[i+3],m=o[n+0],u=o[n+1],g=o[n+2],h=o[n+3];if(c!==h||t!==m||p!==u||d!==g){var y=1-l,s=t*m+p*u+d*g+c*h,x=0<=s?1:-1,v=1-s*s;if(v>_o){var _=so(v),b=oo(_,s*x);y=ao(y*b)/_,l=ao(l*b)/_}var E=l*x;if(t=t*y+m*E,p=p*y+u*E,d=d*y+g*E,c=c*y+h*E,y==1-l){var T=1/so(t*t+p*p+d*d+c*c);t*=T,p*=T,d*=T,c*=T}}e[r]=t,e[r+1]=p,e[r+2]=d,e[r+3]=c}}),Object.defineProperties(i.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback()}}}),Object.assign(i.prototype,{set:function(e,t,r,a){return this._x=e,this._y=t,this._z=r,this._w=a,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!(e&&e.isEuler))throw new Error('THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.');var r=e._x,a=e._y,i=e._z,o=e.order,n=io,s=ao,l=n(r/2),p=n(a/2),d=n(i/2),c=s(r/2),m=s(a/2),u=s(i/2);return'XYZ'===o?(this._x=c*p*d+l*m*u,this._y=l*m*d-c*p*u,this._z=l*p*u+c*m*d,this._w=l*p*d-c*m*u):'YXZ'===o?(this._x=c*p*d+l*m*u,this._y=l*m*d-c*p*u,this._z=l*p*u-c*m*d,this._w=l*p*d+c*m*u):'ZXY'===o?(this._x=c*p*d-l*m*u,this._y=l*m*d+c*p*u,this._z=l*p*u+c*m*d,this._w=l*p*d-c*m*u):'ZYX'===o?(this._x=c*p*d-l*m*u,this._y=l*m*d+c*p*u,this._z=l*p*u-c*m*d,this._w=l*p*d+c*m*u):'YZX'===o?(this._x=c*p*d+l*m*u,this._y=l*m*d+c*p*u,this._z=l*p*u-c*m*d,this._w=l*p*d-c*m*u):'XZY'===o&&(this._x=c*p*d-l*m*u,this._y=l*m*d-c*p*u,this._z=l*p*u+c*m*d,this._w=l*p*d+c*m*u),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var r=t/2,a=ao(r);return this._x=e.x*a,this._y=e.y*a,this._z=e.z*a,this._w=io(r),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t=e.elements,r=t[0],a=t[4],i=t[8],o=t[1],n=t[5],l=t[9],p=t[2],d=t[6],c=t[10],m=r+n+c,u;return 0<m?(u=0.5/so(m+1),this._w=0.25/u,this._x=(d-l)*u,this._y=(i-p)*u,this._z=(o-a)*u):r>n&&r>c?(u=2*so(1+r-n-c),this._w=(d-l)/u,this._x=0.25*u,this._y=(a+o)/u,this._z=(i+p)/u):n>c?(u=2*so(1+n-r-c),this._w=(i-p)/u,this._x=(a+o)/u,this._y=0.25*u,this._z=(l+d)/u):(u=2*so(1+c-r-n),this._w=(o-a)/u,this._x=(i+p)/u,this._y=(l+d)/u,this._z=0.25*u),this.onChangeCallback(),this},setFromUnitVectors:function(){var e=new m,t;return function(r,a){return void 0===e&&(e=new m),t=r.dot(a)+1,t<1e-6?(t=0,no(r.x)>no(r.z)?e.set(-r.y,r.x,0):e.set(0,-r.z,r.y)):e.crossVectors(r,a),this._x=e.x,this._y=e.y,this._z=e.z,this._w=t,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return so(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x*=e,this._y*=e,this._z*=e,this._w*=e),this.onChangeCallback(),this},multiply:function(e,t){return void 0===t?this.multiplyQuaternions(this,e):(console.warn('THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.'),this.multiplyQuaternions(e,t))},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var r=e._x,a=e._y,i=e._z,o=e._w,n=t._x,s=t._y,l=t._z,p=t._w;return this._x=r*p+o*n+a*l-i*s,this._y=a*p+o*s+i*n-r*l,this._z=i*p+o*l+r*s-a*n,this._w=o*p-r*n-a*s-i*l,this.onChangeCallback(),this},slerp:function(e,r){if(0===r)return this;if(1===r)return this.copy(e);var t=this._x,a=this._y,i=this._z,o=this._w,n=o*e._w+t*e._x+a*e._y+i*e._z;if(0>n?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,n=-n):this.copy(e),1<=n)return this._w=o,this._x=t,this._y=a,this._z=i,this;var s=so(1-n*n);if(1e-3>no(s))return this._w=0.5*(o+this._w),this._x=0.5*(t+this._x),this._y=0.5*(a+this._y),this._z=0.5*(i+this._z),this;var l=oo(s,n),p=ao((1-r)*l)/s,d=ao(r*l)/s;return this._w=o*p+this._w*d,this._x=t*p+this._x*d,this._y=a*p+this._y*d,this._z=i*p+this._z*d,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(m.prototype,{isVector3:!0,set:function(e,t,r){return this.x=e,this.y=t,this.z=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error('index is out of range: '+e);}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error('index is out of range: '+e);}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0===t?(this.x+=e.x,this.y+=e.y,this.z+=e.z,this):(console.warn('THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.'),this.addVectors(e,t))},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0===t?(this.x-=e.x,this.y-=e.y,this.z-=e.z,this):(console.warn('THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.'),this.subVectors(e,t))},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0===t?(this.x*=e.x,this.y*=e.y,this.z*=e.z,this):(console.warn('THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.'),this.multiplyVectors(e,t))},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e=new i;return function(t){return t&&t.isEuler||console.error('THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.'),this.applyQuaternion(e.setFromEuler(t))}}(),applyAxisAngle:function(){var e=new i;return function(t,r){return this.applyQuaternion(e.setFromAxisAngle(t,r))}}(),applyMatrix3:function(t){var r=this.x,a=this.y,i=this.z,o=t.elements;return this.x=o[0]*r+o[3]*a+o[6]*i,this.y=o[1]*r+o[4]*a+o[7]*i,this.z=o[2]*r+o[5]*a+o[8]*i,this},applyMatrix4:function(t){var r=this.x,a=this.y,i=this.z,o=t.elements,e=1/(o[3]*r+o[7]*a+o[11]*i+o[15]);return this.x=(o[0]*r+o[4]*a+o[8]*i+o[12])*e,this.y=(o[1]*r+o[5]*a+o[9]*i+o[13])*e,this.z=(o[2]*r+o[6]*a+o[10]*i+o[14])*e,this},applyQuaternion:function(e){var t=this.x,r=this.y,a=this.z,i=e.x,o=e.y,n=e.z,s=e.w,l=s*t+o*a-n*r,p=s*r+n*t-i*a,d=s*a+i*r-o*t,c=-i*t-o*r-n*a;return this.x=l*s+c*-i+p*-n-d*-o,this.y=p*s+c*-o+d*-i-l*-n,this.z=d*s+c*-n+l*-o-p*-i,this},project:function(){var e=new a;return function(t){return e.multiplyMatrices(t.projectionMatrix,e.getInverse(t.matrixWorld)),this.applyMatrix4(e)}}(),unproject:function(){var e=new a;return function(t){return e.multiplyMatrices(t.matrixWorld,e.getInverse(t.projectionMatrix)),this.applyMatrix4(e)}}(),transformDirection:function(t){var r=this.x,a=this.y,i=this.z,o=t.elements;return this.x=o[0]*r+o[4]*a+o[8]*i,this.y=o[1]*r+o[5]*a+o[9]*i,this.z=o[2]*r+o[6]*a+o[10]*i,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=fo(this.x,e.x),this.y=fo(this.y,e.y),this.z=fo(this.z,e.z),this},max:function(e){return this.x=go(this.x,e.x),this.y=go(this.y,e.y),this.z=go(this.z,e.z),this},clamp:function(e,t){return this.x=go(e.x,fo(t.x,this.x)),this.y=go(e.y,fo(t.y,this.y)),this.z=go(e.z,fo(t.z,this.z)),this},clampScalar:function(){var e=new m,t=new m;return function(r,a){return e.set(r,r,r),t.set(a,a,a),this.clamp(e,t)}}(),clampLength:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(go(e,fo(t,r)))},floor:function(){return this.x=xo(this.x),this.y=xo(this.y),this.z=xo(this.z),this},ceil:function(){return this.x=co(this.x),this.y=co(this.y),this.z=co(this.z),this},round:function(){return this.x=lo(this.x),this.y=lo(this.y),this.z=lo(this.z),this},roundToZero:function(){return this.x=0>this.x?co(this.x):xo(this.x),this.y=0>this.y?co(this.y):xo(this.y),this.z=0>this.z?co(this.z):xo(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return so(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return no(this.x)+no(this.y)+no(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,r){return this.subVectors(t,e).multiplyScalar(r).add(e)},cross:function(e,t){return void 0===t?this.crossVectors(this,e):(console.warn('THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.'),this.crossVectors(e,t))},crossVectors:function(e,t){var r=e.x,a=e.y,i=e.z,o=t.x,n=t.y,s=t.z;return this.x=a*s-i*n,this.y=i*o-r*s,this.z=r*n-a*o,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e=new m;return function(t){return e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e=new m;return function(t){return this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/so(this.lengthSq()*e.lengthSq());return ro(Ps.clamp(t,-1,1))},distanceTo:function(e){return so(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,r=this.y-e.y,a=this.z-e.z;return t*t+r*r+a*a},manhattanDistanceTo:function(e){return no(this.x-e.x)+no(this.y-e.y)+no(this.z-e.z)},setFromSpherical:function(e){var t=ao(e.phi)*e.radius;return this.x=t*ao(e.theta),this.y=io(e.phi)*e.radius,this.z=t*io(e.theta),this},setFromCylindrical:function(e){return this.x=e.radius*ao(e.theta),this.y=e.y,this.z=e.radius*io(e.theta),this},setFromMatrixPosition:function(t){var r=t.elements;return this.x=r[12],this.y=r[13],this.z=r[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),a=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=a,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,r){return void 0!==r&&console.warn('THREE.Vector3: offset has been removed from .fromBufferAttribute().'),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}}),Object.assign(o.prototype,{isMatrix3:!0,set:function(e,t,r,a,i,o,n,s,l){var p=this.elements;return p[0]=e,p[1]=a,p[2]=n,p[3]=t,p[4]=i,p[5]=s,p[6]=r,p[7]=o,p[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return new this.constructor().fromArray(this.elements)},copy:function(e){var t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(){var e=new m;return function(t){for(var r=0,a=t.count;r<a;r++)e.x=t.getX(r),e.y=t.getY(r),e.z=t.getZ(r),e.applyMatrix3(this),t.setXYZ(r,e.x,e.y,e.z);return t}}(),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var r=e.elements,a=t.elements,i=this.elements,o=r[0],n=r[3],s=r[6],l=r[1],p=r[4],d=r[7],c=r[2],m=r[5],u=r[8],g=a[0],f=a[3],h=a[6],y=a[1],x=a[4],v=a[7],_=a[2],b=a[5],E=a[8];return i[0]=o*g+n*y+s*_,i[3]=o*f+n*x+s*b,i[6]=o*h+n*v+s*E,i[1]=l*g+p*y+d*_,i[4]=l*f+p*x+d*b,i[7]=l*h+p*v+d*E,i[2]=c*g+m*y+u*_,i[5]=c*f+m*x+u*b,i[8]=c*h+m*v+u*E,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var t=this.elements,r=t[0],a=t[1],o=t[2],n=t[3],s=t[4],e=t[5],l=t[6],p=t[7],d=t[8];return r*s*d-r*e*p-a*n*d+a*e*l+o*n*p-o*s*l},getInverse:function(e,t){e&&e.isMatrix4&&console.error('THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.');var r=e.elements,a=this.elements,i=r[0],o=r[1],n=r[2],s=r[3],l=r[4],p=r[5],d=r[6],c=r[7],m=r[8],u=m*l-p*c,g=p*d-m*s,f=c*s-l*d,h=i*u+o*g+n*f;if(0==h){var y='THREE.Matrix3: .getInverse() can\'t invert matrix, determinant is 0';if(!0===t)throw new Error(y);else console.warn(y);return this.identity()}var x=1/h;return a[0]=u*x,a[1]=(n*c-m*o)*x,a[2]=(p*o-n*l)*x,a[3]=g*x,a[4]=(m*i-n*d)*x,a[5]=(n*s-p*i)*x,a[6]=f*x,a[7]=(o*d-c*i)*x,a[8]=(l*i-o*s)*x,this},transpose:function(){var e=this.elements,t;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,r,a,i,o,n){var l=io(i),p=ao(i);this.set(r*l,r*p,-r*(l*o+p*n)+o+e,-a*p,a*l,-a*(-p*o+l*n)+n+t,0,0,1)},scale:function(e,t){var r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this},rotate:function(e){var t=io(e),r=ao(e),a=this.elements,i=a[0],o=a[3],n=a[6],l=a[1],p=a[4],d=a[7];return a[0]=t*i+r*l,a[3]=t*o+r*p,a[6]=t*n+r*d,a[1]=-r*i+t*l,a[4]=-r*o+t*p,a[7]=-r*n+t*d,this},translate:function(e,t){var r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this},equals:function(e){for(var t=this.elements,r=e.elements,a=0;9>a;a++)if(t[a]!==r[a])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var r=0;9>r;r++)this.elements[r]=e[r+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}});var Cs=0;n.DEFAULT_IMAGE=void 0,n.DEFAULT_MAPPING=_n,n.prototype=Object.assign(Object.create(t.prototype),{constructor:n,isTexture:!0,clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){function t(e){var t;if(e instanceof HTMLCanvasElement)t=e;else{t=document.createElementNS('http://www.w3.org/1999/xhtml','canvas'),t.width=e.width,t.height=e.height;var r=t.getContext('2d');e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height)}return 2048<t.width||2048<t.height?t.toDataURL('image/jpeg',0.6):t.toDataURL('image/png')}var r=void 0===e||'string'==typeof e;if(!r&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var a={metadata:{version:4.5,type:'Texture',generator:'Texture.toJSON'},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var i=this.image;void 0===i.uuid&&(i.uuid=Ps.generateUUID()),r||void 0!==e.images[i.uuid]||(e.images[i.uuid]={uuid:i.uuid,url:t(i)}),a.image=i.uuid}return r||(e.textures[this.uuid]=a),a},dispose:function(){this.dispatchEvent({type:'dispose'})},transformUv:function(e){if(this.mapping===_n){if(e.applyMatrix3(this.matrix),0>e.x||1<e.x)switch(this.wrapS){case Ln:e.x-=xo(e.x);break;case Rn:e.x=0>e.x?0:1;break;case Pn:1===no(xo(e.x)%2)?e.x=co(e.x)-e.x:e.x-=xo(e.x);}if(0>e.y||1<e.y)switch(this.wrapT){case Ln:e.y-=xo(e.y);break;case Rn:e.y=0>e.y?0:1;break;case Pn:1===no(xo(e.y)%2)?e.y=co(e.y)-e.y:e.y-=xo(e.y);}this.flipY&&(e.y=1-e.y)}}}),Object.defineProperty(n.prototype,'needsUpdate',{set:function(e){!0===e&&this.version++}}),Object.assign(s.prototype,{isVector4:!0,set:function(e,t,r,a){return this.x=e,this.y=t,this.z=r,this.w=a,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error('index is out of range: '+e);}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error('index is out of range: '+e);}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0===e.w?1:e.w,this},add:function(e,t){return void 0===t?(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this):(console.warn('THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.'),this.addVectors(e,t))},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0===t?(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this):(console.warn('THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.'),this.subVectors(e,t))},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(t){var r=this.x,a=this.y,i=this.z,o=this.w,n=t.elements;return this.x=n[0]*r+n[4]*a+n[8]*i+n[12]*o,this.y=n[1]*r+n[5]*a+n[9]*i+n[13]*o,this.z=n[2]*r+n[6]*a+n[10]*i+n[14]*o,this.w=n[3]*r+n[7]*a+n[11]*i+n[15]*o,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*ro(e.w);var t=so(1-e.w*e.w);return 1e-4>t?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t=0.01,r=0.1,a=e.elements,i=a[0],o=a[4],n=a[8],l=a[1],p=a[5],d=a[9],c=a[2],m=a[6],u=a[10],g,f,h,y;if(no(o-l)<t&&no(n-c)<t&&no(d-m)<t){if(no(o+l)<r&&no(n+c)<r&&no(d+m)<r&&no(i+p+u-3)<r)return this.set(1,0,0,0),this;g=ho;var x=(i+1)/2,v=(p+1)/2,_=(u+1)/2,b=(o+l)/4,E=(n+c)/4,T=(d+m)/4;return x>v&&x>_?x<t?(f=0,h=0.707106781,y=0.707106781):(f=so(x),h=b/f,y=E/f):v>_?v<t?(f=0.707106781,h=0,y=0.707106781):(h=so(v),f=b/h,y=T/h):_<t?(f=0.707106781,h=0.707106781,y=0):(y=so(_),f=E/y,h=T/y),this.set(f,h,y,g),this}var S=so((m-d)*(m-d)+(n-c)*(n-c)+(l-o)*(l-o));return 1e-3>no(S)&&(S=1),this.x=(m-d)/S,this.y=(n-c)/S,this.z=(l-o)/S,this.w=ro((i+p+u-1)/2),this},min:function(e){return this.x=fo(this.x,e.x),this.y=fo(this.y,e.y),this.z=fo(this.z,e.z),this.w=fo(this.w,e.w),this},max:function(e){return this.x=go(this.x,e.x),this.y=go(this.y,e.y),this.z=go(this.z,e.z),this.w=go(this.w,e.w),this},clamp:function(e,t){return this.x=go(e.x,fo(t.x,this.x)),this.y=go(e.y,fo(t.y,this.y)),this.z=go(e.z,fo(t.z,this.z)),this.w=go(e.w,fo(t.w,this.w)),this},clampScalar:function(){var e,t;return function(r,a){return void 0==e&&(e=new s,t=new s),e.set(r,r,r,r),t.set(a,a,a,a),this.clamp(e,t)}}(),clampLength:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(go(e,fo(t,r)))},floor:function(){return this.x=xo(this.x),this.y=xo(this.y),this.z=xo(this.z),this.w=xo(this.w),this},ceil:function(){return this.x=co(this.x),this.y=co(this.y),this.z=co(this.z),this.w=co(this.w),this},round:function(){return this.x=lo(this.x),this.y=lo(this.y),this.z=lo(this.z),this.w=lo(this.w),this},roundToZero:function(){return this.x=0>this.x?co(this.x):xo(this.x),this.y=0>this.y?co(this.y):xo(this.y),this.z=0>this.z?co(this.z):xo(this.z),this.w=0>this.w?co(this.w):xo(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return so(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return no(this.x)+no(this.y)+no(this.z)+no(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,r){return this.subVectors(t,e).multiplyScalar(r).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,r){return void 0!==r&&console.warn('THREE.Vector4: offset has been removed from .fromBufferAttribute().'),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),l.prototype=Object.assign(Object.create(t.prototype),{constructor:l,isWebGLRenderTarget:!0,setSize:function(e,t){(this.width!==e||this.height!==t)&&(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:'dispose'})}}),p.prototype=Object.create(l.prototype),p.prototype.constructor=p,p.prototype.isWebGLRenderTargetCube=!0,d.prototype=Object.create(n.prototype),d.prototype.constructor=d,d.prototype.isDataTexture=!0,c.prototype=Object.create(n.prototype),c.prototype.constructor=c,c.prototype.isCubeTexture=!0,Object.defineProperty(c.prototype,'images',{get:function(){return this.image},set:function(e){this.image=e}});var Is=new n,Ns=new c,Us=[],Ds=[],zs=new Float32Array(16),Bs=new Float32Array(9);k.prototype.setValue=function(e,t){for(var r=this.seq,a=0,i=r.length,o;a!==i;++a)o=r[a],o.setValue(e,t[o.id])};var Fs=/([\w\d_]+)(\])?(\[|\.)?/g;X.prototype.setValue=function(e,t,r){var a=this.map[t];void 0!==a&&a.setValue(e,r,this.renderer)},X.prototype.setOptional=function(e,t,r){var a=t[r];void 0!==a&&this.setValue(e,r,a)},X.upload=function(e,t,r,a){for(var o=0,i=t.length;o!==i;++o){var n=t[o],s=r[n.id];!1!==s.needsUpdate&&n.setValue(e,s.value,a)}},X.seqWithValue=function(e,t){for(var a=[],r=0,i=e.length,o;r!==i;++r)o=e[r],o.id in t&&a.push(o);return a};var Os={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(Y.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):'number'==typeof e?this.setHex(e):'string'==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=xo(e),this.r=(255&e>>16)/255,this.g=(255&e>>8)/255,this.b=(255&e)/255,this},setRGB:function(e,t,r){return this.r=e,this.g=t,this.b=r,this},setHSL:function(){function e(e,r,a){return 0>a&&(a+=1),1<a&&(a-=1),a<1/6?e+6*(r-e)*a:a<1/2?r:a<2/3?e+6*(r-e)*(2/3-a):e}return function(t,r,a){if(t=Ps.euclideanModulo(t,1),r=Ps.clamp(r,0,1),a=Ps.clamp(a,0,1),0===r)this.r=this.g=this.b=a;else{var i=0.5>=a?a*(1+r):a+r-a*r,o=2*a-i;this.r=e(o,i,t+1/3),this.g=e(o,i,t),this.b=e(o,i,t-1/3)}return this}}(),setStyle:function(e){function t(t){void 0===t||1>parseFloat(t)&&console.warn('THREE.Color: Alpha component of '+e+' will be ignored.')}var r;if(r=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var a=r[1],i=r[2],o;switch(a){case'rgb':case'rgba':if(o=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i))return this.r=fo(255,parseInt(o[1],10))/255,this.g=fo(255,parseInt(o[2],10))/255,this.b=fo(255,parseInt(o[3],10))/255,t(o[5]),this;if(o=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i))return this.r=fo(100,parseInt(o[1],10))/100,this.g=fo(100,parseInt(o[2],10))/100,this.b=fo(100,parseInt(o[3],10))/100,t(o[5]),this;break;case'hsl':case'hsla':if(o=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i)){var n=parseFloat(o[1])/360,p=parseInt(o[2],10)/100,s=parseInt(o[3],10)/100;return t(o[5]),this.setHSL(n,p,s)}}}else if(r=/^\#([A-Fa-f0-9]+)$/.exec(e)){var l=r[1],d=l.length;if(3===d)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===d)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}if(e&&0<e.length){var l=Os[e];void 0===l?console.warn('THREE.Color: Unknown color '+e):this.setHex(l)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=po(e.r,t),this.g=po(e.g,t),this.b=po(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var r=0<t?1/t:1;return this.r=po(e.r,r),this.g=po(e.g,r),this.b=po(e.b,r),this},convertGammaToLinear:function(){var e=this.r,t=this.g,r=this.b;return this.r=e*e,this.g=t*t,this.b=r*r,this},convertLinearToGamma:function(){return this.r=so(this.r),this.g=so(this.g),this.b=so(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return('000000'+this.getHex().toString(16)).slice(-6)},getHSL:function(e){var t=e||{h:0,s:0,l:0},a=this.r,r=this.g,i=this.b,o=go(a,r,i),n=fo(a,r,i),s=(n+o)/2,l,p;if(n===o)l=0,p=0;else{var d=o-n;p=0.5>=s?d/(o+n):d/(2-o-n),o===a?l=(r-i)/d+(r<i?6:0):o===r?l=(i-a)/d+2:o===i?l=(a-r)/d+4:void 0,l/=6}return t.h=l,t.s=p,t.l=s,t},getStyle:function(){return'rgb('+(0|255*this.r)+','+(0|255*this.g)+','+(0|255*this.b)+')'},offsetHSL:function(e,t,r){var a=this.getHSL();return a.h+=e,a.s+=t,a.l+=r,this.setHSL(a.h,a.s,a.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=go(0,this.r-e.r),this.g=go(0,this.g-e.g),this.b=go(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});var Gs={common:{diffuse:{value:new Y(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new o},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:0.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new r(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:2.5e-4},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Y(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Y(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new o}}},Hs={merge:function(e){for(var t={},r=0,a;r<e.length;r++)for(var i in a=this.clone(e[r]),a)t[i]=a[i];return t},clone:function(e){var t={};for(var r in e)for(var a in t[r]={},e[r]){var i=e[r][a];t[r][a]=i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?i.clone():Array.isArray(i)?i.slice():i}return t}},Vs={alphamap_fragment:'#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n',alphamap_pars_fragment:'#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n',alphatest_fragment:'#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n',aomap_fragment:'#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n',aomap_pars_fragment:'#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif',begin_vertex:'\nvec3 transformed = vec3( position );\n',beginnormal_vertex:'\nvec3 objectNormal = vec3( normal );\n',bsdfs:'float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.86267 + (0.49788 + 0.01436 * y ) * y;\n\tfloat b = 3.45068 + (4.18814 + y) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = (x > 0.0) ? v : 0.5 * inversesqrt( 1.0 - x * x ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tvec3 result = vec3( LTC_ClippedSphereFormFactor( vectorFormFactor ) );\n\treturn result;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n',bumpmap_pars_fragment:'#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n',clipping_planes_fragment:'#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n',clipping_planes_pars_fragment:'#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n',clipping_planes_pars_vertex:'#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n',clipping_planes_vertex:'#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n',color_fragment:'#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif',color_pars_fragment:'#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n',color_pars_vertex:'#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif',color_vertex:'#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif',common:'#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n',cube_uv_reflection_fragment:'#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n',defaultnormal_vertex:'vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n',displacementmap_pars_vertex:'#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n',displacementmap_vertex:'#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n',emissivemap_fragment:'#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n',emissivemap_pars_fragment:'#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n',encodings_fragment:'  gl_FragColor = linearToOutputTexel( gl_FragColor );\n',encodings_pars_fragment:'\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n',envmap_fragment:'#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n',envmap_pars_fragment:'#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n',envmap_pars_vertex:'#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n',envmap_vertex:'#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n',fog_vertex:'\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif',fog_pars_vertex:'#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n',fog_fragment:'#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n',fog_pars_fragment:'#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n',gradientmap_pars_fragment:'#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n',lightmap_fragment:'#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n',lightmap_pars_fragment:'#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif',lights_lambert_vertex:'vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n',lights_pars:'uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n',lights_phong_fragment:'BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n',lights_phong_pars_fragment:'varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n',lights_physical_fragment:'PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n',lights_physical_pars_fragment:'struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tfloat norm = texture2D( ltcMag, uv ).a;\n\t\tvec4 t = texture2D( ltcMat, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3(   1,   0, t.y ),\n\t\t\tvec3(   0, t.z,   0 ),\n\t\t\tvec3( t.w,   0, t.x )\n\t\t);\n\t\treflectedLight.directSpecular += lightColor * material.specularColor * norm * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n',lights_template:'\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n',logdepthbuf_fragment:'#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif',logdepthbuf_pars_fragment:'#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n',logdepthbuf_pars_vertex:'#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif',logdepthbuf_vertex:'#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n',map_fragment:'#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n',map_pars_fragment:'#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n',map_particle_fragment:'#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n',map_particle_pars_fragment:'#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n',metalnessmap_fragment:'float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n',metalnessmap_pars_fragment:'#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif',morphnormal_vertex:'#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n',morphtarget_pars_vertex:'#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif',morphtarget_vertex:'#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n',normal_fragment:'#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n',normalmap_pars_fragment:'#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n',packing:'vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n',premultiplied_alpha_fragment:'#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n',project_vertex:'vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n',dithering_fragment:'#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n',dithering_pars_fragment:'#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n',roughnessmap_fragment:'float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n',roughnessmap_pars_fragment:'#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif',shadowmap_pars_fragment:'#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n',shadowmap_pars_vertex:'#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n',shadowmap_vertex:'#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n',shadowmask_pars_fragment:'float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n',skinbase_vertex:'#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif',skinning_pars_vertex:'#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n',skinning_vertex:'#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n',skinnormal_vertex:'#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n',specularmap_fragment:'float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif',specularmap_pars_fragment:'#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif',tonemapping_fragment:'#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n',tonemapping_pars_fragment:'#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n',uv_pars_fragment:'#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif',uv_pars_vertex:'#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n',uv_vertex:'#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif',uv2_pars_fragment:'#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif',uv2_pars_vertex:'#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif',uv2_vertex:'#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif',worldpos_vertex:'#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n',cube_frag:'uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n',cube_vert:'varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n',depth_frag:'#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n',depth_vert:'#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n',distanceRGBA_frag:'#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n',distanceRGBA_vert:'#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n',equirect_frag:'uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n',equirect_vert:'varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n',linedashed_frag:'uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n',linedashed_vert:'uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n',meshbasic_frag:'uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n',meshbasic_vert:'#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n',meshlambert_frag:'uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n',meshlambert_vert:'#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n',meshphong_frag:'#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n',meshphong_vert:'#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n',meshphysical_frag:'#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n',meshphysical_vert:'#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n',normal_frag:'#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n',normal_vert:'#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n',points_frag:'uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n',points_vert:'uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n',shadow_frag:'uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n',shadow_vert:'#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n'},ks={basic:{uniforms:Hs.merge([Gs.common,Gs.specularmap,Gs.envmap,Gs.aomap,Gs.lightmap,Gs.fog]),vertexShader:Vs.meshbasic_vert,fragmentShader:Vs.meshbasic_frag},lambert:{uniforms:Hs.merge([Gs.common,Gs.specularmap,Gs.envmap,Gs.aomap,Gs.lightmap,Gs.emissivemap,Gs.fog,Gs.lights,{emissive:{value:new Y(0)}}]),vertexShader:Vs.meshlambert_vert,fragmentShader:Vs.meshlambert_frag},phong:{uniforms:Hs.merge([Gs.common,Gs.specularmap,Gs.envmap,Gs.aomap,Gs.lightmap,Gs.emissivemap,Gs.bumpmap,Gs.normalmap,Gs.displacementmap,Gs.gradientmap,Gs.fog,Gs.lights,{emissive:{value:new Y(0)},specular:{value:new Y(1118481)},shininess:{value:30}}]),vertexShader:Vs.meshphong_vert,fragmentShader:Vs.meshphong_frag},standard:{uniforms:Hs.merge([Gs.common,Gs.envmap,Gs.aomap,Gs.lightmap,Gs.emissivemap,Gs.bumpmap,Gs.normalmap,Gs.displacementmap,Gs.roughnessmap,Gs.metalnessmap,Gs.fog,Gs.lights,{emissive:{value:new Y(0)},roughness:{value:0.5},metalness:{value:0.5},envMapIntensity:{value:1}}]),vertexShader:Vs.meshphysical_vert,fragmentShader:Vs.meshphysical_frag},points:{uniforms:Hs.merge([Gs.points,Gs.fog]),vertexShader:Vs.points_vert,fragmentShader:Vs.points_frag},dashed:{uniforms:Hs.merge([Gs.common,Gs.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Vs.linedashed_vert,fragmentShader:Vs.linedashed_frag},depth:{uniforms:Hs.merge([Gs.common,Gs.displacementmap]),vertexShader:Vs.depth_vert,fragmentShader:Vs.depth_frag},normal:{uniforms:Hs.merge([Gs.common,Gs.bumpmap,Gs.normalmap,Gs.displacementmap,{opacity:{value:1}}]),vertexShader:Vs.normal_vert,fragmentShader:Vs.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Vs.cube_vert,fragmentShader:Vs.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Vs.equirect_vert,fragmentShader:Vs.equirect_frag},distanceRGBA:{uniforms:Hs.merge([Gs.common,Gs.displacementmap,{referencePosition:{value:new m},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Vs.distanceRGBA_vert,fragmentShader:Vs.distanceRGBA_frag},shadow:{uniforms:Hs.merge([Gs.lights,Gs.fog,{color:{value:new Y(0)},opacity:{value:1}}]),vertexShader:Vs.shadow_vert,fragmentShader:Vs.shadow_frag}};ks.physical={uniforms:Hs.merge([ks.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Vs.meshphysical_vert,fragmentShader:Vs.meshphysical_frag},Object.assign(q.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new r;return function(t,r){var a=e.copy(r).multiplyScalar(0.5);return this.min.copy(t).sub(a),this.max.copy(t).add(a),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=+Infinity,this.max.x=this.max.y=-Infinity,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){var t=e||new r;return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(0.5)},getSize:function(e){var t=e||new r;return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y?!1:!0},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){var a=t||new r;return a.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y?!1:!0},clampPoint:function(e,t){var a=t||new r;return a.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new r;return function(t){var r=e.copy(t).clamp(this.min,this.max);return r.sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),J.prototype=Object.create(n.prototype),J.prototype.constructor=J;var Ws=0;K.prototype=Object.assign(Object.create(t.prototype),{constructor:K,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var r=e[t];if(void 0===r){console.warn('THREE.Material: \''+t+'\' parameter is undefined.');continue}if('shading'==t){console.warn('THREE.'+this.type+': .shading has been removed. Use the boolean .flatShading instead.'),this.flatShading=r===Co;continue}var a=this[t];if(void 0===a){console.warn('THREE.'+this.type+': \''+t+'\' is not a property of this material.');continue}a&&a.isColor?a.set(r):a&&a.isVector3&&r&&r.isVector3?a.copy(r):'overdraw'==t?this[t]=+r:this[t]=r}},toJSON:function(e){function t(e){var t=[];for(var r in e){var a=e[r];delete a.metadata,t.push(a)}return t}var r=void 0===e||'string'==typeof e;r&&(e={textures:{},images:{}});var a={metadata:{version:4.5,type:'Material',generator:'Material.toJSON'}};if(a.uuid=this.uuid,a.type=this.type,''!==this.name&&(a.name=this.name),this.color&&this.color.isColor&&(a.color=this.color.getHex()),void 0!==this.roughness&&(a.roughness=this.roughness),void 0!==this.metalness&&(a.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(a.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(a.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(a.specular=this.specular.getHex()),void 0!==this.shininess&&(a.shininess=this.shininess),void 0!==this.clearCoat&&(a.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(a.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(a.map=this.map.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(a.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(a.lightMap=this.lightMap.toJSON(e).uuid),this.bumpMap&&this.bumpMap.isTexture&&(a.bumpMap=this.bumpMap.toJSON(e).uuid,a.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(a.normalMap=this.normalMap.toJSON(e).uuid,a.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(a.displacementMap=this.displacementMap.toJSON(e).uuid,a.displacementScale=this.displacementScale,a.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(a.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(a.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(a.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(a.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(a.envMap=this.envMap.toJSON(e).uuid,a.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(a.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(a.size=this.size),void 0!==this.sizeAttenuation&&(a.sizeAttenuation=this.sizeAttenuation),this.blending!==zo&&(a.blending=this.blending),!0===this.flatShading&&(a.flatShading=this.flatShading),this.side!==Lo&&(a.side=this.side),this.vertexColors!==Io&&(a.vertexColors=this.vertexColors),1>this.opacity&&(a.opacity=this.opacity),!0===this.transparent&&(a.transparent=this.transparent),a.depthFunc=this.depthFunc,a.depthTest=this.depthTest,a.depthWrite=this.depthWrite,0!==this.rotation&&(a.rotation=this.rotation),1!==this.linewidth&&(a.linewidth=this.linewidth),void 0!==this.dashSize&&(a.dashSize=this.dashSize),void 0!==this.gapSize&&(a.gapSize=this.gapSize),void 0!==this.scale&&(a.scale=this.scale),!0===this.dithering&&(a.dithering=!0),0<this.alphaTest&&(a.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(a.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(a.wireframe=this.wireframe),1<this.wireframeLinewidth&&(a.wireframeLinewidth=this.wireframeLinewidth),'round'!==this.wireframeLinecap&&(a.wireframeLinecap=this.wireframeLinecap),'round'!==this.wireframeLinejoin&&(a.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(a.morphTargets=!0),!0===this.skinning&&(a.skinning=!0),!1===this.visible&&(a.visible=!1),'{}'!==JSON.stringify(this.userData)&&(a.userData=this.userData),r){var i=t(e.textures),o=t(e.images);0<i.length&&(a.textures=i),0<o.length&&(a.images=o)}return a},clone:function(){return new this.constructor().copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.overdraw=e.overdraw,this.visible=e.visible,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,r=null;if(null!==t){var a=t.length;r=Array(a);for(var o=0;o!==a;++o)r[o]=t[o].clone()}return this.clippingPlanes=r,this},dispose:function(){this.dispatchEvent({type:'dispose'})}}),$.prototype=Object.create(K.prototype),$.prototype.constructor=$,$.prototype.isMeshDepthMaterial=!0,$.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},ee.prototype=Object.create(K.prototype),ee.prototype.constructor=ee,ee.prototype.isMeshDistanceMaterial=!0,ee.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},Object.assign(te.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=+Infinity,r=+Infinity,a=+Infinity,o=-Infinity,n=-Infinity,s=-Infinity,p=0,i=e.length;p<i;p+=3){var l=e[p],d=e[p+1],c=e[p+2];l<t&&(t=l),d<r&&(r=d),c<a&&(a=c),l>o&&(o=l),d>n&&(n=d),c>s&&(s=c)}return this.min.set(t,r,a),this.max.set(o,n,s),this},setFromBufferAttribute:function(e){for(var t=+Infinity,r=+Infinity,a=+Infinity,o=-Infinity,n=-Infinity,s=-Infinity,p=0,i=e.count;p<i;p++){var l=e.getX(p),d=e.getY(p),c=e.getZ(p);l<t&&(t=l),d<r&&(r=d),c<a&&(a=c),l>o&&(o=l),d>n&&(n=d),c>s&&(s=c)}return this.min.set(t,r,a),this.max.set(o,n,s),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new m;return function(t,r){var a=e.copy(r).multiplyScalar(0.5);return this.min.copy(t).sub(a),this.max.copy(t).add(a),this}}(),setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=+Infinity,this.max.x=this.max.y=this.max.z=-Infinity,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){var t=e||new m;return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(0.5)},getSize:function(e){var t=e||new m;return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){function e(e){var o=e.geometry;if(void 0!==o)if(o.isGeometry){var n=o.vertices;for(a=0,i=n.length;a<i;a++)t.copy(n[a]),t.applyMatrix4(e.matrixWorld),r.expandByPoint(t)}else if(o.isBufferGeometry){var s=o.attributes.position;if(void 0!==s)for(a=0,i=s.count;a<i;a++)t.fromBufferAttribute(s,a).applyMatrix4(e.matrixWorld),r.expandByPoint(t)}}var t=new m,r,a,i;return function(t){return r=this,t.updateMatrixWorld(!0),t.traverse(e),this}}(),containsPoint:function(e){return e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z?!1:!0},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){var r=t||new m;return r.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z?!1:!0},intersectsSphere:function(){var e=new m;return function(t){return this.clampPoint(t.center,e),e.distanceToSquared(t.center)<=t.radius*t.radius}}(),intersectsPlane:function(e){var t,r;return 0<e.normal.x?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),0<e.normal.y?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),0<e.normal.z?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=e.constant&&r>=e.constant},clampPoint:function(e,t){var r=t||new m;return r.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new m;return function(t){var r=e.copy(t).clamp(this.min,this.max);return r.sub(t).length()}}(),getBoundingSphere:function(){var e=new m;return function(t){var r=t||new re;return this.getCenter(r.center),r.radius=0.5*this.getSize(e).length(),r}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new m,new m,new m,new m,new m,new m,new m,new m];return function(t){return this.isEmpty()?this:(e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(e),this)}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(re.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new te;return function(t,r){var a=this.center;void 0===r?e.setFromPoints(t).getCenter(a):a.copy(r);for(var o=0,n=0,i=t.length;n<i;n++)o=go(o,a.distanceToSquared(t[n]));return this.radius=so(o),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return 0>=this.radius},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return no(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var r=this.center.distanceToSquared(e),a=t||new m;return a.copy(e),r>this.radius*this.radius&&(a.sub(this.center).normalize(),a.multiplyScalar(this.radius).add(this.center)),a},getBoundingBox:function(e){var t=e||new te;return t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius*=e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}),Object.assign(ae.prototype,{set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,r,a){return this.normal.set(e,t,r),this.constant=a,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new m,t=new m;return function(r,a,i){var o=e.subVectors(i,a).cross(t.subVectors(r,a)).normalize();return this.setFromNormalAndCoplanarPoint(o,r),this}}(),clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){var r=t||new m;return r.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(){var e=new m;return function(r,a){var i=a||new m,o=r.delta(e),n=this.normal.dot(o);if(0===n)return 0===this.distanceToPoint(r.start)?i.copy(r.start):void 0;var s=-(r.start.dot(this.normal)+this.constant)/n;return 0>s||1<s?void 0:i.copy(o).multiplyScalar(s).add(r.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return 0>t&&0<r||0>r&&0<t},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){var t=e||new m;return t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new m,t=new o;return function(r,a){var i=a||t.getNormalMatrix(r),o=this.coplanarPoint(e).applyMatrix4(r),n=this.normal.applyMatrix3(i).normalize();return this.constant=-o.dot(n),this}}(),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}),Object.assign(ie.prototype,{set:function(e,t,r,a,i,o){var n=this.planes;return n[0].copy(e),n[1].copy(t),n[2].copy(r),n[3].copy(a),n[4].copy(i),n[5].copy(o),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){for(var t=this.planes,r=0;6>r;r++)t[r].copy(e.planes[r]);return this},setFromMatrix:function(e){var t=this.planes,r=e.elements,a=r[0],i=r[1],o=r[2],n=r[3],s=r[4],l=r[5],p=r[6],d=r[7],c=r[8],m=r[9],u=r[10],g=r[11],f=r[12],h=r[13],y=r[14],x=r[15];return t[0].setComponents(n-a,d-s,g-c,x-f).normalize(),t[1].setComponents(n+a,d+s,g+c,x+f).normalize(),t[2].setComponents(n+i,d+l,g+m,x+h).normalize(),t[3].setComponents(n-i,d-l,g-m,x-h).normalize(),t[4].setComponents(n-o,d-p,g-u,x-y).normalize(),t[5].setComponents(n+o,d+p,g+u,x+y).normalize(),this},intersectsObject:function(){var e=new re;return function(t){var r=t.geometry;return null===r.boundingSphere&&r.computeBoundingSphere(),e.copy(r.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSprite:function(){var e=new re;return function(t){return e.center.set(0,0,0),e.radius=0.7071067811865476,e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,r=e.center,a=-e.radius,o=0,i;6>o;o++)if(i=t[o].distanceToPoint(r),i<a)return!1;return!0},intersectsBox:function(){var e=new m,t=new m;return function(r){for(var a=this.planes,o=0,i;6>o;o++){i=a[o],e.x=0<i.normal.x?r.min.x:r.max.x,t.x=0<i.normal.x?r.max.x:r.min.x,e.y=0<i.normal.y?r.min.y:r.max.y,t.y=0<i.normal.y?r.max.y:r.min.y,e.z=0<i.normal.z?r.min.z:r.max.z,t.z=0<i.normal.z?r.max.z:r.min.z;var n=i.distanceToPoint(e),s=i.distanceToPoint(t);if(0>n&&0>s)return!1}return!0}}(),containsPoint:function(e){for(var t=this.planes,r=0;6>r;r++)if(0>t[r].distanceToPoint(e))return!1;return!0}}),se.RotationOrders=['XYZ','YZX','ZXY','XZY','YXZ','ZYX'],se.DefaultOrder='XYZ',Object.defineProperties(se.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback()}}}),Object.assign(se.prototype,{isEuler:!0,set:function(e,t,r,a){return this._x=e,this._y=t,this._z=r,this._order=a||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,r){var a=Math.asin,i=Ps.clamp,o=e.elements,n=o[0],s=o[4],l=o[8],p=o[1],d=o[5],c=o[9],m=o[2],u=o[6],g=o[10];return t=t||this._order,'XYZ'===t?(this._y=a(i(l,-1,1)),0.99999>no(l)?(this._x=oo(-c,g),this._z=oo(-s,n)):(this._x=oo(u,d),this._z=0)):'YXZ'===t?(this._x=a(-i(c,-1,1)),0.99999>no(c)?(this._y=oo(l,g),this._z=oo(p,d)):(this._y=oo(-m,n),this._z=0)):'ZXY'===t?(this._x=a(i(u,-1,1)),0.99999>no(u)?(this._y=oo(-m,g),this._z=oo(-s,d)):(this._y=0,this._z=oo(p,n))):'ZYX'===t?(this._y=a(-i(m,-1,1)),0.99999>no(m)?(this._x=oo(u,g),this._z=oo(p,n)):(this._x=0,this._z=oo(-s,d))):'YZX'===t?(this._z=a(i(p,-1,1)),0.99999>no(p)?(this._x=oo(-c,d),this._y=oo(-m,n)):(this._x=0,this._y=oo(l,g))):'XZY'===t?(this._z=a(-i(s,-1,1)),0.99999>no(s)?(this._x=oo(u,d),this._y=oo(l,n)):(this._x=oo(-c,g),this._y=0)):console.warn('THREE.Euler: .setFromRotationMatrix() given unsupported order: '+t),this._order=t,!1!==r&&this.onChangeCallback(),this},setFromQuaternion:function(){var e=new a;return function(t,r,a){return e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,r,a)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var e=new i;return function(t){return e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new m(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(le.prototype,{set:function(e){this.mask=0|1<<e},enable:function(e){this.mask|=0|1<<e},toggle:function(e){this.mask^=0|1<<e},disable:function(e){this.mask&=~(0|1<<e)},test:function(e){return 0!=(this.mask&e.mask)}});var js=0;pe.DefaultUp=new m(0,1,0),pe.DefaultMatrixAutoUpdate=!0,pe.prototype=Object.assign(Object.create(t.prototype),{constructor:pe,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new i;return function(t,r){return e.setFromAxisAngle(t,r),this.quaternion.multiply(e),this}}(),rotateOnWorldAxis:function(){var e=new i;return function(t,r){return e.setFromAxisAngle(t,r),this.quaternion.premultiply(e),this}}(),rotateX:function(){var e=new m(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new m(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new m(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new m;return function(t,r){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(r)),this}}(),translateX:function(){var e=new m(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new m(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new m(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new a;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new a,t=new m;return function(r,a,i){r.isVector3?t.copy(r):t.set(r,a,i),this.isCamera?e.lookAt(this.position,t,this.up):e.lookAt(t,this.position,this.up),this.quaternion.setFromRotationMatrix(e)}}(),add:function(e){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error('THREE.Object3D.add: object can\'t be added as a child of itself.',e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:'added'}),this.children.push(e)):console.error('THREE.Object3D.add: object not an instance of THREE.Object3D.',e),this)},remove:function(e){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var r=this.children.indexOf(e);return-1!==r&&(e.parent=null,e.dispatchEvent({type:'removed'}),this.children.splice(r,1)),this},getObjectById:function(e){return this.getObjectByProperty('id',e)},getObjectByName:function(e){return this.getObjectByProperty('name',e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var r=0,a=this.children.length;r<a;r++){var i=this.children[r],o=i.getObjectByProperty(e,t);if(void 0!==o)return o}},getWorldPosition:function(e){var t=e||new m;return this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new m,t=new m;return function(r){var a=r||new i;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,a,t),a}}(),getWorldRotation:function(){var e=new i;return function(t){var r=t||new se;return this.getWorldQuaternion(e),r.setFromQuaternion(e,this.rotation.order,!1)}}(),getWorldScale:function(){var e=new m,t=new i;return function(r){var a=r||new m;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,a),a}}(),getWorldDirection:function(){var e=new i;return function(t){var r=t||new m;return this.getWorldQuaternion(e),r.set(0,0,1).applyQuaternion(e)}}(),raycast:function(){},traverse:function(e){e(this);for(var t=this.children,r=0,a=t.length;r<a;r++)t[r].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,r=0,a=t.length;r<a;r++)t[r].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,r=0,a=t.length;r<a;r++)t[r].updateMatrixWorld(e)},toJSON:function(e){function t(t,r){return void 0===t[r.uuid]&&(t[r.uuid]=r.toJSON(e)),r.uuid}function r(e){var t=[];for(var r in e){var a=e[r];delete a.metadata,t.push(a)}return t}var a=void 0===e||'string'==typeof e,o={};a&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},o.metadata={version:4.5,type:'Object',generator:'Object3D.toJSON'});var n={};if(n.uuid=this.uuid,n.type=this.type,''!==this.name&&(n.name=this.name),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),'{}'!==JSON.stringify(this.userData)&&(n.userData=this.userData),n.matrix=this.matrix.toArray(),void 0!==this.geometry){n.geometry=t(e.geometries,this.geometry);var s=this.geometry.parameters;if(void 0!==s&&void 0!==s.shapes){var p=s.shapes;if(Array.isArray(p))for(var d=0,i=p.length,l;d<i;d++)l=p[d],t(e.shapes,l);else t(e.shapes,p)}}if(void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],d=0,i=this.material.length;d<i;d++)c.push(t(e.materials,this.material[d]));n.material=c}else n.material=t(e.materials,this.material);if(0<this.children.length){n.children=[];for(var d=0;d<this.children.length;d++)n.children.push(this.children[d].toJSON(e).object)}if(a){var m=r(e.geometries),u=r(e.materials),g=r(e.textures),f=r(e.images),p=r(e.shapes);0<m.length&&(o.geometries=m),0<u.length&&(o.materials=u),0<g.length&&(o.textures=g),0<f.length&&(o.images=f),0<p.length&&(o.shapes=p)}return o.object=n,o},clone:function(e){return new this.constructor().copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var r=0,a;r<e.children.length;r++)a=e.children[r],this.add(a.clone());return this}}),de.prototype=Object.assign(Object.create(pe.prototype),{constructor:de,isCamera:!0,copy:function(e,t){return pe.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this},getWorldDirection:function(){var e=new i;return function(t){var r=t||new m;return this.getWorldQuaternion(e),r.set(0,0,-1).applyQuaternion(e)}}(),updateMatrixWorld:function(e){pe.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return new this.constructor().copy(this)}}),ce.prototype=Object.assign(Object.create(de.prototype),{constructor:ce,isOrthographicCamera:!0,copy:function(e,t){return de.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,r,a,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=a,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,a=(this.top+this.bottom)/2,i=r-e,o=r+e,n=a+t,s=a-t;if(null!==this.view&&this.view.enabled){var l=this.zoom/(this.view.width/this.view.fullWidth),p=this.zoom/(this.view.height/this.view.fullHeight),d=(this.right-this.left)/this.view.width,c=(this.top-this.bottom)/this.view.height;i+=d*(this.view.offsetX/l),o=i+d*(this.view.width/l),n-=c*(this.view.offsetY/p),s=n-c*(this.view.height/p)}this.projectionMatrix.makeOrthographic(i,o,n,s,this.near,this.far)},toJSON:function(e){var t=pe.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),Object.assign(me.prototype,{clone:function(){return new this.constructor().copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,r=e.vertexNormals.length;t<r;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(var t=0,r=e.vertexColors.length;t<r;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var Xs=0;ue.prototype=Object.assign(Object.create(t.prototype),{constructor:ue,isGeometry:!0,applyMatrix:function(e){for(var t=new o().getNormalMatrix(e),r=0,a=this.vertices.length,i;r<a;r++)i=this.vertices[r],i.applyMatrix4(e);for(var r=0,a=this.faces.length,n;r<a;r++){n=this.faces[r],n.normal.applyMatrix3(t).normalize();for(var s=0,l=n.vertexNormals.length;s<l;s++)n.vertexNormals[s].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var e=new a;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new a;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new a;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new a;return function(t,r,a){return e.makeTranslation(t,r,a),this.applyMatrix(e),this}}(),scale:function(){var e=new a;return function(t,r,a){return e.makeScale(t,r,a),this.applyMatrix(e),this}}(),lookAt:function(){var e=new pe;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),fromBufferGeometry:function(e){function t(e,t,r,a){var i=void 0===l?[]:[g[e].clone(),g[t].clone(),g[r].clone()],n=void 0===p?[]:[o.colors[e].clone(),o.colors[t].clone(),o.colors[r].clone()],s=new me(e,t,r,i,n,a);o.faces.push(s),void 0!==d&&o.faceVertexUvs[0].push([f[e].clone(),f[t].clone(),f[r].clone()]),void 0!==u&&o.faceVertexUvs[1].push([h[e].clone(),h[t].clone(),h[r].clone()])}var o=this,a=null===e.index?void 0:e.index.array,n=e.attributes,s=n.position.array,l=void 0===n.normal?void 0:n.normal.array,p=void 0===n.color?void 0:n.color.array,d=void 0===n.uv?void 0:n.uv.array,u=void 0===n.uv2?void 0:n.uv2.array;void 0!==u&&(this.faceVertexUvs[1]=[]);for(var g=[],f=[],h=[],c=0,i=0;c<s.length;c+=3,i+=2)o.vertices.push(new m(s[c],s[c+1],s[c+2])),void 0!==l&&g.push(new m(l[c],l[c+1],l[c+2])),void 0!==p&&o.colors.push(new Y(p[c],p[c+1],p[c+2])),void 0!==d&&f.push(new r(d[i],d[i+1])),void 0!==u&&h.push(new r(u[i],u[i+1]));var y=e.groups;if(0<y.length)for(var c=0;c<y.length;c++)for(var x=y[c],v=x.start,_=x.count,i=v;i<v+_;i+=3)void 0===a?t(i,i+1,i+2,x.materialIndex):t(a[i],a[i+1],a[i+2],x.materialIndex);else if(void 0!==a)for(var c=0;c<a.length;c+=3)t(a[c],a[c+1],a[c+2]);else for(var c=0;c<s.length/3;c+=3)t(c,c+1,c+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,r=0===t?1:1/t,i=new a;return i.set(r,0,0,-r*e.x,0,r,0,-r*e.y,0,0,r,-r*e.z,0,0,0,1),this.applyMatrix(i),this},computeFaceNormals:function(){for(var e=new m,t=new m,r=0,a=this.faces.length;r<a;r++){var i=this.faces[r],o=this.vertices[i.a],n=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,n),t.subVectors(o,n),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){void 0===e&&(e=!0);var t,r,a,i,o,n;for(n=Array(this.vertices.length),t=0,r=this.vertices.length;t<r;t++)n[t]=new m;if(e){var s=new m,l=new m,p,d,c;for(a=0,i=this.faces.length;a<i;a++)o=this.faces[a],p=this.vertices[o.a],d=this.vertices[o.b],c=this.vertices[o.c],s.subVectors(c,d),l.subVectors(p,d),s.cross(l),n[o.a].add(s),n[o.b].add(s),n[o.c].add(s)}else for(this.computeFaceNormals(),a=0,i=this.faces.length;a<i;a++)o=this.faces[a],n[o.a].add(o.normal),n[o.b].add(o.normal),n[o.c].add(o.normal);for(t=0,r=this.vertices.length;t<r;t++)n[t].normalize();for(a=0,i=this.faces.length;a<i;a++){o=this.faces[a];var u=o.vertexNormals;3===u.length?(u[0].copy(n[o.a]),u[1].copy(n[o.b]),u[2].copy(n[o.c])):(u[0]=n[o.a].clone(),u[1]=n[o.b].clone(),u[2]=n[o.c].clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,r;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){r=this.faces[e];var a=r.vertexNormals;3===a.length?(a[0].copy(r.normal),a[1].copy(r.normal),a[2].copy(r.normal)):(a[0]=r.normal.clone(),a[1]=r.normal.clone(),a[2]=r.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,r,a,i;for(r=0,a=this.faces.length;r<a;r++)for(i=this.faces[r],i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),(e=0,t=i.vertexNormals.length);e<t;e++)i.__originalVertexNormals[e]?i.__originalVertexNormals[e].copy(i.vertexNormals[e]):i.__originalVertexNormals[e]=i.vertexNormals[e].clone();var o=new ue;for(o.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var n=this.morphNormals[e].faceNormals,s=this.morphNormals[e].vertexNormals,l,p;for(r=0,a=this.faces.length;r<a;r++)l=new m,p={a:new m,b:new m,c:new m},n.push(l),s.push(p)}var d=this.morphNormals[e];o.vertices=this.morphTargets[e].vertices,o.computeFaceNormals(),o.computeVertexNormals();var l,p;for(r=0,a=this.faces.length;r<a;r++)i=this.faces[r],l=d.faceNormals[r],p=d.vertexNormals[r],l.copy(i.normal),p.a.copy(i.vertexNormals[0]),p.b.copy(i.vertexNormals[1]),p.c.copy(i.vertexNormals[2])}for(r=0,a=this.faces.length;r<a;r++)i=this.faces[r],i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeLineDistances:function(){for(var e=0,t=this.vertices,r=0,a=t.length;r<a;r++)0<r&&(e+=t[r].distanceTo(t[r-1])),this.lineDistances[r]=e},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new te),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new re),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,r){if(!(e&&e.isGeometry))return void console.error('THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.',e);var a=this.vertices.length,n=this.vertices,s=e.vertices,l=this.faces,p=e.faces,d=this.faceVertexUvs[0],c=e.faceVertexUvs[0],m=this.colors,u=e.colors,g;void 0===r&&(r=0),void 0!==t&&(g=new o().getNormalMatrix(t));for(var f=0,i=s.length;f<i;f++){var h=s[f],y=h.clone();void 0!==t&&y.applyMatrix4(t),n.push(y)}for(var f=0,i=u.length;f<i;f++)m.push(u[f].clone());for(f=0,i=p.length;f<i;f++){var x=p[f],v=x.vertexNormals,_=x.vertexColors,b,E,T;b=new me(x.a+a,x.b+a,x.c+a),b.normal.copy(x.normal),void 0!==g&&b.normal.applyMatrix3(g).normalize();for(var S=0,M=v.length;S<M;S++)E=v[S].clone(),void 0!==g&&E.applyMatrix3(g).normalize(),b.vertexNormals.push(E);b.color.copy(x.color);for(var S=0,M=_.length;S<M;S++)T=_[S],b.vertexColors.push(T.clone());b.materialIndex=x.materialIndex+r,l.push(b)}for(f=0,i=c.length;f<i;f++){var A=c[f],w=[];if(void 0!==A){for(var S=0,M=A.length;S<M;S++)w.push(A[S].clone());d.push(w)}}},mergeMesh:function(e){return e&&e.isMesh?void(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):void console.error('THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.',e)},mergeVertices:function(){var e={},t=[],r=[],a=10000,o,s,l,i,p,d,c,m;for(l=0,i=this.vertices.length;l<i;l++)o=this.vertices[l],s=lo(o.x*a)+'_'+lo(o.y*a)+'_'+lo(o.z*a),void 0===e[s]?(e[s]=l,t.push(this.vertices[l]),r[l]=t.length-1):r[l]=r[e[s]];var u=[];for(l=0,i=this.faces.length;l<i;l++){p=this.faces[l],p.a=r[p.a],p.b=r[p.b],p.c=r[p.c],d=[p.a,p.b,p.c];for(var g=0;3>g;g++)if(d[g]===d[(g+1)%3]){u.push(l);break}}for(l=u.length-1;0<=l;l--){var n=u[l];for(this.faces.splice(n,1),c=0,m=this.faceVertexUvs.length;c<m;c++)this.faceVertexUvs[c].splice(n,1)}var f=this.vertices.length-t.length;return this.vertices=t,f},setFromPoints:function(e){this.vertices=[];for(var t=0,r=e.length,a;t<r;t++)a=e[t],this.vertices.push(new m(a.x,a.y,a.z||0));return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,r=0;r<t;r++)e[r]._id=r;e.sort(function(e,t){return e.materialIndex-t.materialIndex});var a=this.faceVertexUvs[0],i=this.faceVertexUvs[1],o,n;a&&a.length===t&&(o=[]),i&&i.length===t&&(n=[]);for(var r=0,s;r<t;r++)s=e[r]._id,o&&o.push(a[s]),n&&n.push(i[s]);o&&(this.faceVertexUvs[0]=o),n&&(this.faceVertexUvs[1]=n)},toJSON:function(){function e(e,t,r){return r?e|1<<t:e&~(1<<t)}function t(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0===m[t]?(m[t]=c.length/3,c.push(e.x,e.y,e.z),m[t]):m[t]}function r(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0===g[t]?(g[t]=u.length,u.push(e.getHex()),g[t]):g[t]}function a(e){var t=e.x.toString()+e.y.toString();return void 0===h[t]?(h[t]=f.length/2,f.push(e.x,e.y),h[t]):h[t]}var o={metadata:{version:4.5,type:'Geometry',generator:'Geometry.toJSON'}};if(o.uuid=this.uuid,o.type=this.type,''!==this.name&&(o.name=this.name),void 0!==this.parameters){var n=this.parameters;for(var s in n)void 0!==n[s]&&(o[s]=n[s]);return o}for(var l=[],p=0,i;p<this.vertices.length;p++)i=this.vertices[p],l.push(i.x,i.y,i.z);for(var d=[],c=[],m={},u=[],g={},f=[],h={},p=0;p<this.faces.length;p++){var y=this.faces[p],x=void 0!==this.faceVertexUvs[0][p],v=0<y.normal.length(),_=0<y.vertexNormals.length,b=1!==y.color.r||1!==y.color.g||1!==y.color.b,E=0<y.vertexColors.length,T=0;if(T=e(T,0,0),T=e(T,1,!0),T=e(T,2,!1),T=e(T,3,x),T=e(T,4,v),T=e(T,5,_),T=e(T,6,b),T=e(T,7,E),d.push(T),d.push(y.a,y.b,y.c),d.push(y.materialIndex),x){var S=this.faceVertexUvs[0][p];d.push(a(S[0]),a(S[1]),a(S[2]))}if(v&&d.push(t(y.normal)),_){var M=y.vertexNormals;d.push(t(M[0]),t(M[1]),t(M[2]))}if(b&&d.push(r(y.color)),E){var A=y.vertexColors;d.push(r(A[0]),r(A[1]),r(A[2]))}}return o.data={},o.data.vertices=l,o.data.normals=c,0<u.length&&(o.data.colors=u),0<f.length&&(o.data.uvs=[f]),o.data.faces=d,o},clone:function(){return new ue().copy(this)},copy:function(e){var t,r,a,i,o,n;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var s=e.vertices;for(t=0,r=s.length;t<r;t++)this.vertices.push(s[t].clone());var l=e.colors;for(t=0,r=l.length;t<r;t++)this.colors.push(l[t].clone());var p=e.faces;for(t=0,r=p.length;t<r;t++)this.faces.push(p[t].clone());for(t=0,r=e.faceVertexUvs.length;t<r;t++){var d=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),a=0,i=d.length;a<i;a++){var c=d[a],m=[];for(o=0,n=c.length;o<n;o++){var u=c[o];m.push(u.clone())}this.faceVertexUvs[t].push(m)}}var g=e.morphTargets;for(t=0,r=g.length;t<r;t++){var f={name:g[t].name};if(void 0!==g[t].vertices)for(f.vertices=[],a=0,i=g[t].vertices.length;a<i;a++)f.vertices.push(g[t].vertices[a].clone());if(void 0!==g[t].normals)for(f.normals=[],a=0,i=g[t].normals.length;a<i;a++)f.normals.push(g[t].normals[a].clone());this.morphTargets.push(f)}var h=e.morphNormals;for(t=0,r=h.length;t<r;t++){var y={};if(void 0!==h[t].vertexNormals)for(y.vertexNormals=[],a=0,i=h[t].vertexNormals.length;a<i;a++){var x=h[t].vertexNormals[a],v={};v.a=x.a.clone(),v.b=x.b.clone(),v.c=x.c.clone(),y.vertexNormals.push(v)}if(void 0!==h[t].faceNormals)for(y.faceNormals=[],a=0,i=h[t].faceNormals.length;a<i;a++)y.faceNormals.push(h[t].faceNormals[a].clone());this.morphNormals.push(y)}var _=e.skinWeights;for(t=0,r=_.length;t<r;t++)this.skinWeights.push(_[t].clone());var b=e.skinIndices;for(t=0,r=b.length;t<r;t++)this.skinIndices.push(b[t].clone());var E=e.lineDistances;for(t=0,r=E.length;t<r;t++)this.lineDistances.push(E[t]);var T=e.boundingBox;null!==T&&(this.boundingBox=T.clone());var S=e.boundingSphere;return null!==S&&(this.boundingSphere=S.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:'dispose'})}}),Object.defineProperty(ge.prototype,'needsUpdate',{set:function(e){!0===e&&this.version++}}),Object.assign(ge.prototype,{isBufferAttribute:!0,setArray:function(e){if(Array.isArray(e))throw new TypeError('THREE.BufferAttribute: array should be a Typed Array.');this.count=void 0===e?0:e.length/this.itemSize,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,r){e*=this.itemSize,r*=t.itemSize;for(var a=0,i=this.itemSize;a<i;a++)this.array[e+a]=t.array[r+a];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,r=0,a=0,i=e.length,o;a<i;a++)o=e[a],void 0===o&&(console.warn('THREE.BufferAttribute.copyColorsArray(): color is undefined',a),o=new Y),t[r++]=o.r,t[r++]=o.g,t[r++]=o.b;return this},copyIndicesArray:function(e){for(var t=this.array,r=0,a=0,i=e.length,o;a<i;a++)o=e[a],t[r++]=o.a,t[r++]=o.b,t[r++]=o.c;return this},copyVector2sArray:function(e){for(var t=this.array,a=0,o=0,i=e.length,n;o<i;o++)n=e[o],void 0===n&&(console.warn('THREE.BufferAttribute.copyVector2sArray(): vector is undefined',o),n=new r),t[a++]=n.x,t[a++]=n.y;return this},copyVector3sArray:function(e){for(var t=this.array,r=0,a=0,i=e.length,o;a<i;a++)o=e[a],void 0===o&&(console.warn('THREE.BufferAttribute.copyVector3sArray(): vector is undefined',a),o=new m),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z;return this},copyVector4sArray:function(e){for(var t=this.array,r=0,a=0,i=e.length,o;a<i;a++)o=e[a],void 0===o&&(console.warn('THREE.BufferAttribute.copyVector4sArray(): vector is undefined',a),o=new s),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z,t[r++]=o.w;return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this},setXYZ:function(e,t,r,a){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=a,this},setXYZW:function(e,t,r,a,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=a,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),fe.prototype=Object.create(ge.prototype),fe.prototype.constructor=fe,he.prototype=Object.create(ge.prototype),he.prototype.constructor=he,ye.prototype=Object.create(ge.prototype),ye.prototype.constructor=ye,xe.prototype=Object.create(ge.prototype),xe.prototype.constructor=xe,ve.prototype=Object.create(ge.prototype),ve.prototype.constructor=ve,_e.prototype=Object.create(ge.prototype),_e.prototype.constructor=_e,be.prototype=Object.create(ge.prototype),be.prototype.constructor=be,Ee.prototype=Object.create(ge.prototype),Ee.prototype.constructor=Ee,Te.prototype=Object.create(ge.prototype),Te.prototype.constructor=Te,Object.assign(Se.prototype,{computeGroups:function(e){for(var t=[],r=void 0,a=e.faces,o=0,i,n;o<a.length;o++)n=a[o],n.materialIndex!==r&&(r=n.materialIndex,void 0!=i&&(i.count=3*o-i.start,t.push(i)),i={start:3*o,materialIndex:r});void 0!==i&&(i.count=3*o-i.start,t.push(i)),this.groups=t},fromGeometry:function(e){var t=e.faces,a=e.vertices,o=e.faceVertexUvs,n=o[0]&&0<o[0].length,s=o[1]&&0<o[1].length,l=e.morphTargets,p=l.length,d;if(0<p){d=[];for(var c=0;c<p;c++)d[c]=[];this.morphTargets.position=d}var i=e.morphNormals,m=i.length,u;if(0<m){u=[];for(var c=0;c<m;c++)u[c]=[];this.morphTargets.normal=u}for(var g=e.skinIndices,f=e.skinWeights,h=g.length===a.length,y=f.length===a.length,c=0,x;c<t.length;c++){x=t[c],this.vertices.push(a[x.a],a[x.b],a[x.c]);var v=x.vertexNormals;if(3===v.length)this.normals.push(v[0],v[1],v[2]);else{var _=x.normal;this.normals.push(_,_,_)}var b=x.vertexColors;if(3===b.length)this.colors.push(b[0],b[1],b[2]);else{var E=x.color;this.colors.push(E,E,E)}if(!0===n){var T=o[0][c];void 0===T?(console.warn('THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ',c),this.uvs.push(new r,new r,new r)):this.uvs.push(T[0],T[1],T[2])}if(!0===s){var T=o[1][c];void 0===T?(console.warn('THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ',c),this.uvs2.push(new r,new r,new r)):this.uvs2.push(T[0],T[1],T[2])}for(var S=0,M;S<p;S++)M=l[S].vertices,d[S].push(M[x.a],M[x.b],M[x.c]);for(var S=0,A;S<m;S++)A=i[S].vertexNormals[c],u[S].push(A.a,A.b,A.c);h&&this.skinIndices.push(g[x.a],g[x.b],g[x.c]),y&&this.skinWeights.push(f[x.a],f[x.b],f[x.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}});var Ys=1;Ae.prototype=Object.assign(Object.create(t.prototype),{constructor:Ae,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){this.index=Array.isArray(e)?new(65535<Me(e)?be:ve)(e,1):e},addAttribute:function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?'index'===e?(console.warn('THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.'),void this.setIndex(t)):(this.attributes[e]=t,this):(console.warn('THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).'),void this.addAttribute(e,new ge(arguments[1],arguments[2])))},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,r){this.groups.push({start:e,count:t,materialIndex:void 0===r?0:r})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var r=this.attributes.normal;if(void 0!==r){var a=new o().getNormalMatrix(e);a.applyToBufferAttribute(r),r.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var e=new a;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new a;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new a;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new a;return function(t,r,a){return e.makeTranslation(t,r,a),this.applyMatrix(e),this}}(),scale:function(){var e=new a;return function(t,r,a){return e.makeScale(t,r,a),this.applyMatrix(e),this}}(),lookAt:function(){var e=new pe;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var r=new Ee(3*t.vertices.length,3),a=new Ee(3*t.colors.length,3);if(this.addAttribute('position',r.copyVector3sArray(t.vertices)),this.addAttribute('color',a.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new Ee(t.lineDistances.length,1);this.addAttribute('lineDistance',i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],r=0,a=e.length,i;r<a;r++)i=e[r],t.push(i.x,i.y,i.z||0);return this.addAttribute('position',new Ee(t,3)),this},updateFromObject:function(e){var t=e.geometry;if(e.isMesh){var r=t.__directGeometry;if(!0===t.elementsNeedUpdate&&(r=void 0,t.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(t);r.verticesNeedUpdate=t.verticesNeedUpdate,r.normalsNeedUpdate=t.normalsNeedUpdate,r.colorsNeedUpdate=t.colorsNeedUpdate,r.uvsNeedUpdate=t.uvsNeedUpdate,r.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=r}var a;return!0===t.verticesNeedUpdate&&(a=this.attributes.position,void 0!==a&&(a.copyVector3sArray(t.vertices),a.needsUpdate=!0),t.verticesNeedUpdate=!1),!0===t.normalsNeedUpdate&&(a=this.attributes.normal,void 0!==a&&(a.copyVector3sArray(t.normals),a.needsUpdate=!0),t.normalsNeedUpdate=!1),!0===t.colorsNeedUpdate&&(a=this.attributes.color,void 0!==a&&(a.copyColorsArray(t.colors),a.needsUpdate=!0),t.colorsNeedUpdate=!1),t.uvsNeedUpdate&&(a=this.attributes.uv,void 0!==a&&(a.copyVector2sArray(t.uvs),a.needsUpdate=!0),t.uvsNeedUpdate=!1),t.lineDistancesNeedUpdate&&(a=this.attributes.lineDistance,void 0!==a&&(a.copyArray(t.lineDistances),a.needsUpdate=!0),t.lineDistancesNeedUpdate=!1),t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=new Se().fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute('position',new ge(t,3).copyVector3sArray(e.vertices)),0<e.normals.length){var r=new Float32Array(3*e.normals.length);this.addAttribute('normal',new ge(r,3).copyVector3sArray(e.normals))}if(0<e.colors.length){var a=new Float32Array(3*e.colors.length);this.addAttribute('color',new ge(a,3).copyColorsArray(e.colors))}if(0<e.uvs.length){var o=new Float32Array(2*e.uvs.length);this.addAttribute('uv',new ge(o,2).copyVector2sArray(e.uvs))}if(0<e.uvs2.length){var n=new Float32Array(2*e.uvs2.length);this.addAttribute('uv2',new ge(n,2).copyVector2sArray(e.uvs2))}if(0<e.indices.length){var s=65535<Me(e.indices)?Uint32Array:Uint16Array,p=new s(3*e.indices.length);this.setIndex(new ge(p,1).copyIndicesArray(e.indices))}for(var d in this.groups=e.groups,e.morphTargets){for(var c=[],m=e.morphTargets[d],u=0,i=m.length;u<i;u++){var l=m[u],g=new Ee(3*l.length,3);c.push(g.copyVector3sArray(l))}this.morphAttributes[d]=c}if(0<e.skinIndices.length){var f=new Ee(4*e.skinIndices.length,4);this.addAttribute('skinIndex',f.copyVector4sArray(e.skinIndices))}if(0<e.skinWeights.length){var h=new Ee(4*e.skinWeights.length,4);this.addAttribute('skinWeight',h.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new te);var e=this.attributes.position;void 0===e?this.boundingBox.makeEmpty():this.boundingBox.setFromBufferAttribute(e),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var e=new te,t=new m;return function(){null===this.boundingSphere&&(this.boundingSphere=new re);var r=this.attributes.position;if(r){var a=this.boundingSphere.center;e.setFromBufferAttribute(r),e.getCenter(a);for(var o=0,n=0,i=r.count;n<i;n++)t.x=r.getX(n),t.y=r.getY(n),t.z=r.getZ(n),o=go(o,a.distanceToSquared(t));this.boundingSphere.radius=so(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes,r=this.groups;if(t.position){var a=t.position.array;if(void 0===t.normal)this.addAttribute('normal',new ge(new Float32Array(a.length),3));else for(var o=t.normal.array,n=0,i=o.length;n<i;n++)o[n]=0;var s=t.normal.array,l=new m,p=new m,d=new m,c=new m,u=new m,g,f,h;if(e){var y=e.array;0===r.length&&this.addGroup(0,y.length);for(var x=0,v=r.length;x<v;++x)for(var _=r[x],b=_.start,E=_.count,n=b,i=b+E;n<i;n+=3)g=3*y[n+0],f=3*y[n+1],h=3*y[n+2],l.fromArray(a,g),p.fromArray(a,f),d.fromArray(a,h),c.subVectors(d,p),u.subVectors(l,p),c.cross(u),s[g]+=c.x,s[g+1]+=c.y,s[g+2]+=c.z,s[f]+=c.x,s[f+1]+=c.y,s[f+2]+=c.z,s[h]+=c.x,s[h+1]+=c.y,s[h+2]+=c.z}else for(var n=0,i=a.length;n<i;n+=9)l.fromArray(a,n),p.fromArray(a,n+3),d.fromArray(a,n+6),c.subVectors(d,p),u.subVectors(l,p),c.cross(u),s[n]=c.x,s[n+1]=c.y,s[n+2]=c.z,s[n+3]=c.x,s[n+4]=c.y,s[n+5]=c.z,s[n+6]=c.x,s[n+7]=c.y,s[n+8]=c.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(!(e&&e.isBufferGeometry))return void console.error('THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.',e);void 0===t&&(t=0);var r=this.attributes;for(var a in r)if(void 0!==e.attributes[a])for(var o=r[a],n=o.array,s=e.attributes[a],l=s.array,p=s.itemSize,d=0,i=p*t;d<l.length;d++,i++)n[i]=l[d];return this},normalizeNormals:function(){var e=new m;return function(){for(var t=this.attributes.normal,r=0,a=t.count;r<a;r++)e.x=t.getX(r),e.y=t.getY(r),e.z=t.getZ(r),e.normalize(),t.setXYZ(r,e.x,e.y,e.z)}}(),toNonIndexed:function(){if(null===this.index)return console.warn('THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.'),this;var e=new Ae,t=this.index.array,r=this.attributes;for(var a in r){for(var o=r[a],n=o.array,s=o.itemSize,p=new n.constructor(t.length*s),d=0,c=0,m=0,i=t.length;m<i;m++){d=t[m]*s;for(var l=0;l<s;l++)p[c++]=n[d++]}e.addAttribute(a,new ge(p,s))}return e},toJSON:function(){var e={metadata:{version:4.5,type:'BufferGeometry',generator:'BufferGeometry.toJSON'}};if(e.uuid=this.uuid,e.type=this.type,''!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var r in t)void 0!==t[r]&&(e[r]=t[r]);return e}e.data={attributes:{}};var a=this.index;if(null!==a){var i=Array.prototype.slice.call(a.array);e.data.index={type:a.array.constructor.name,array:i}}var o=this.attributes;for(var r in o){var n=o[r],i=Array.prototype.slice.call(n.array);e.data.attributes[r]={itemSize:n.itemSize,type:n.array.constructor.name,array:i,normalized:n.normalized}}var s=this.groups;0<s.length&&(e.data.groups=JSON.parse(JSON.stringify(s)));var l=this.boundingSphere;return null!==l&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e},clone:function(){return new Ae().copy(this)},copy:function(e){var t,r,a;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var i=e.index;null!==i&&this.setIndex(i.clone());var o=e.attributes;for(t in o){var n=o[t];this.addAttribute(t,n.clone())}var s=e.morphAttributes;for(t in s){var l=[],p=s[t];for(r=0,a=p.length;r<a;r++)l.push(p[r].clone());this.morphAttributes[t]=l}var d=e.groups;for(r=0,a=d.length;r<a;r++){var c=d[r];this.addGroup(c.start,c.count,c.materialIndex)}var m=e.boundingBox;null!==m&&(this.boundingBox=m.clone());var u=e.boundingSphere;return null!==u&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this},dispose:function(){this.dispatchEvent({type:'dispose'})}}),we.prototype=Object.create(ue.prototype),we.prototype.constructor=we,Le.prototype=Object.create(Ae.prototype),Le.prototype.constructor=Le,Re.prototype=Object.create(ue.prototype),Re.prototype.constructor=Re,Pe.prototype=Object.create(Ae.prototype),Pe.prototype.constructor=Pe,Ce.prototype=Object.create(K.prototype),Ce.prototype.constructor=Ce,Ce.prototype.isMeshBasicMaterial=!0,Ce.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},Ie.prototype=Object.create(K.prototype),Ie.prototype.constructor=Ie,Ie.prototype.isShaderMaterial=!0,Ie.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Hs.clone(e.uniforms),this.defines=e.defines,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},Ie.prototype.toJSON=function(e){var t=K.prototype.toJSON.call(this,e);return t.uniforms=this.uniforms,t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t},Object.assign(Ne.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){var r=t||new m;return r.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new m;return function(r){return this.origin.copy(this.at(r,e)),this}}(),closestPointToPoint:function(e,t){var r=t||new m;r.subVectors(e,this.origin);var a=r.dot(this.direction);return 0>a?r.copy(this.origin):r.copy(this.direction).multiplyScalar(a).add(this.origin)},distanceToPoint:function(e){return so(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new m;return function(t){var r=e.subVectors(t,this.origin).dot(this.direction);return 0>r?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(r).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:function(){var e=new m,t=new m,r=new m;return function(a,i,o,n){e.copy(a).add(i).multiplyScalar(0.5),t.copy(i).sub(a).normalize(),r.copy(this.origin).sub(e);var s=0.5*a.distanceTo(i),l=-this.direction.dot(t),p=r.dot(this.direction),d=-r.dot(t),m=r.lengthSq(),c=no(1-l*l),u,g,f,h;if(!(0<c))g=0<l?-s:s,u=go(0,-(l*g+p)),f=-u*u+g*(g+2*d)+m;else if(u=l*d-p,g=l*p-d,h=s*c,!(0<=u))g<=-h?(u=go(0,-(-l*s+p)),g=0<u?-s:fo(go(-s,-d),s),f=-u*u+g*(g+2*d)+m):g<=h?(u=0,g=fo(go(-s,-d),s),f=g*(g+2*d)+m):(u=go(0,-(l*s+p)),g=0<u?s:fo(go(-s,-d),s),f=-u*u+g*(g+2*d)+m);else if(!(g>=-h))g=-s,u=go(0,-(l*g+p)),f=-u*u+g*(g+2*d)+m;else if(g<=h){var y=1/c;u*=y,g*=y,f=u*(u+l*g+2*p)+g*(l*u+g+2*d)+m}else g=s,u=go(0,-(l*g+p)),f=-u*u+g*(g+2*d)+m;return o&&o.copy(this.direction).multiplyScalar(u).add(this.origin),n&&n.copy(t).multiplyScalar(g).add(e),f}}(),intersectSphere:function(){var e=new m;return function(t,r){e.subVectors(t.center,this.origin);var a=e.dot(this.direction),i=e.dot(e)-a*a,o=t.radius*t.radius;if(i>o)return null;var n=so(o-i),s=a-n,l=a+n;return 0>s&&0>l?null:0>s?this.at(l,r):this.at(s,r)}}(),intersectsSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},distanceToPlane:function(e){var r=e.normal.dot(this.direction);if(0===r)return 0===e.distanceToPoint(this.origin)?0:null;var a=-(this.origin.dot(e.normal)+e.constant)/r;return 0<=a?a:null},intersectPlane:function(e,r){var a=this.distanceToPlane(e);return null===a?null:this.at(a,r)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);if(0===t)return!0;var r=e.normal.dot(this.direction);return!!(0>r*t)},intersectBox:function(e,t){var r=1/this.direction.x,a=1/this.direction.y,i=1/this.direction.z,o=this.origin,n,s,l,p,d,c;return(0<=r?(n=(e.min.x-o.x)*r,s=(e.max.x-o.x)*r):(n=(e.max.x-o.x)*r,s=(e.min.x-o.x)*r),0<=a?(l=(e.min.y-o.y)*a,p=(e.max.y-o.y)*a):(l=(e.max.y-o.y)*a,p=(e.min.y-o.y)*a),n>p||l>s)?null:((l>n||n!==n)&&(n=l),(p<s||s!==s)&&(s=p),0<=i?(d=(e.min.z-o.z)*i,c=(e.max.z-o.z)*i):(d=(e.max.z-o.z)*i,c=(e.min.z-o.z)*i),n>c||d>s)?null:((d>n||n!==n)&&(n=d),(c<s||s!==s)&&(s=c),0>s?null:this.at(0<=n?n:s,t))},intersectsBox:function(){var e=new m;return function(t){return null!==this.intersectBox(t,e)}}(),intersectTriangle:function(){var e=new m,t=new m,r=new m,i=new m;return function(o,a,n,s,l){t.subVectors(a,o),r.subVectors(n,o),i.crossVectors(t,r);var p=this.direction.dot(i),d;if(0<p){if(s)return null;d=1}else if(0>p)d=-1,p=-p;else return null;e.subVectors(this.origin,o);var c=d*this.direction.dot(r.crossVectors(e,r));if(0>c)return null;var m=d*this.direction.dot(t.cross(e));if(0>m)return null;if(c+m>p)return null;var u=-d*e.dot(i);return 0>u?null:this.at(u/p,l)}}(),applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}),Object.assign(Ue.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){var t=e||new m;return t.addVectors(this.start,this.end).multiplyScalar(0.5)},delta:function(e){var t=e||new m;return t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){var r=t||new m;return this.delta(r).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new m,r=new m;return function(a,i){e.subVectors(a,this.start),r.subVectors(this.end,this.start);var o=r.dot(r),n=r.dot(e),s=n/o;return i&&(s=Ps.clamp(s,0,1)),s}}(),closestPointToPoint:function(e,r,a){var i=this.closestPointToPointParameter(e,r),t=a||new m;return this.delta(t).multiplyScalar(i).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),Object.assign(De,{normal:function(){var e=new m;return function(t,r,a,i){var o=i||new m;o.subVectors(a,r),e.subVectors(t,r),o.cross(e);var n=o.lengthSq();return 0<n?o.multiplyScalar(1/so(n)):o.set(0,0,0)}}(),barycoordFromPoint:function(){var e=new m,t=new m,r=new m;return function(i,o,a,n,s){e.subVectors(n,o),t.subVectors(a,o),r.subVectors(i,o);var l=e.dot(e),p=e.dot(t),d=e.dot(r),c=t.dot(t),g=t.dot(r),f=l*c-p*p,h=s||new m;if(0==f)return h.set(-2,-1,-1);var y=1/f,x=(c*d-p*g)*y,u=(l*g-p*d)*y;return h.set(1-x-u,u,x)}}(),containsPoint:function(){var e=new m;return function(t,r,a,i){var o=De.barycoordFromPoint(t,r,a,i,e);return 0<=o.x&&0<=o.y&&1>=o.x+o.y}}()}),Object.assign(De.prototype,{set:function(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this},setFromPointsAndIndices:function(e,t,r,a){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[a]),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},area:function(){var e=new m,t=new m;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),0.5*e.cross(t).length()}}(),midpoint:function(e){var t=e||new m;return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return De.normal(this.a,this.b,this.c,e)},plane:function(e){var t=e||new ae;return t.setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return De.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return De.containsPoint(e,this.a,this.b,this.c)},closestPointToPoint:function(){var e=new ae,t=[new Ue,new Ue,new Ue],r=new m,a=new m;return function(o,n){var s=n||new m,l=Infinity;if(e.setFromCoplanarPoints(this.a,this.b,this.c),e.projectPoint(o,r),!0===this.containsPoint(r))s.copy(r);else{t[0].set(this.a,this.b),t[1].set(this.b,this.c),t[2].set(this.c,this.a);for(var p=0;p<t.length;p++){t[p].closestPointToPoint(r,!0,a);var i=r.distanceToSquared(a);i<l&&(l=i,s.copy(a))}}return s}}(),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}),ze.prototype=Object.assign(Object.create(pe.prototype),{constructor:ze,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return pe.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e=this.geometry,t,r,a;if(e.isBufferGeometry){var i=e.morphAttributes,o=Object.keys(i);if(0<o.length){var n=i[o[0]];if(void 0!==n)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},(t=0,r=n.length);t<r;t++)a=n[t].name||t+'',this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=t}}else{var s=e.morphTargets;if(void 0!==s&&0<s.length)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},(t=0,r=s.length);t<r;t++)a=s[t].name||t+'',this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=t}},raycast:function(){function e(e,t,r,a,i,o,n){return De.barycoordFromPoint(e,t,r,a,f),i.multiplyScalar(f.x),o.multiplyScalar(f.y),n.multiplyScalar(f.z),i.add(o).add(n),i.clone()}function i(e,t,r,a,i,o,n,s){var l;if(l=t.side===Ro?a.intersectTriangle(n,o,i,!0,s):a.intersectTriangle(i,o,n,t.side!==Po,s),null===l)return null;_.copy(s),_.applyMatrix4(e.matrixWorld);var p=r.ray.origin.distanceTo(_);return p<r.near||p>r.far?null:{distance:p,point:_.clone(),object:e}}function t(t,r,o,n,s,m,a,u){l.fromBufferAttribute(n,m),p.fromBufferAttribute(n,a),d.fromBufferAttribute(n,u);var c=i(t,t.material,r,o,l,p,d,v);return c&&(s&&(h.fromBufferAttribute(s,m),y.fromBufferAttribute(s,a),x.fromBufferAttribute(s,u),c.uv=e(v,l,p,d,h,y,x)),c.face=new me(m,a,u,De.normal(l,p,d)),c.faceIndex=m),c}var o=new a,n=new Ne,s=new re,l=new m,p=new m,d=new m,c=new m,u=new m,g=new m,h=new r,y=new r,x=new r,f=new m,v=new m,_=new m;return function(r,m){var _=this.geometry,E=this.material,T=this.matrixWorld;if(void 0!==E&&(null===_.boundingSphere&&_.computeBoundingSphere(),s.copy(_.boundingSphere),s.applyMatrix4(T),!1!==r.ray.intersectsSphere(s))&&(o.getInverse(T),n.copy(r.ray).applyMatrix4(o),null===_.boundingBox||!1!==n.intersectsBox(_.boundingBox))){var S;if(_.isBufferGeometry){var M=_.index,A=_.attributes.position,w=_.attributes.uv,L,a,b,R,P;if(null!==M)for(R=0,P=M.count;R<P;R+=3)L=M.getX(R),a=M.getX(R+1),b=M.getX(R+2),S=t(this,r,n,A,w,L,a,b),S&&(S.faceIndex=xo(R/3),m.push(S));else if(void 0!==A)for(R=0,P=A.count;R<P;R+=3)L=R,a=R+1,b=R+2,S=t(this,r,n,A,w,L,a,b),S&&(S.index=L,m.push(S))}else if(_.isGeometry){var C=Array.isArray(E),I=_.vertices,N=_.faces,U=_.faceVertexUvs[0],D,z,B,F;0<U.length&&(F=U);for(var O=0,f=N.length;O<f;O++){var G=N[O],H=C?E[G.materialIndex]:E;if(void 0!==H){if(D=I[G.a],z=I[G.b],B=I[G.c],!0===H.morphTargets){var V=_.morphTargets,k=this.morphTargetInfluences;l.set(0,0,0),p.set(0,0,0),d.set(0,0,0);for(var W=0,j=V.length,X;W<j;W++)if(X=k[W],0!==X){var Y=V[W].vertices;l.addScaledVector(c.subVectors(Y[G.a],D),X),p.addScaledVector(u.subVectors(Y[G.b],z),X),d.addScaledVector(g.subVectors(Y[G.c],B),X)}l.add(D),p.add(z),d.add(B),D=l,z=p,B=d}if(S=i(this,H,r,n,D,z,B,v),S){if(F&&F[O]){var q=F[O];h.copy(q[0]),y.copy(q[1]),x.copy(q[2]),S.uv=e(v,D,z,B,h,y,x)}S.face=G,S.faceIndex=O,m.push(S)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var qs=0;ft.prototype=Object.assign(Object.create(de.prototype),{constructor:ft,isPerspectiveCamera:!0,copy:function(e,t){return de.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=0.5*this.getFilmHeight()/e;this.fov=2*Ps.RAD2DEG*to(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=eo(0.5*Ps.DEG2RAD*this.fov);return 0.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Ps.RAD2DEG*to(eo(0.5*Ps.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*fo(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/go(this.aspect,1)},setViewOffset:function(e,t,r,a,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=a,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*eo(0.5*Ps.DEG2RAD*this.fov)/this.zoom,r=2*t,a=this.aspect*r,i=-0.5*a,o=this.view;if(null!==this.view&&this.view.enabled){var n=o.fullWidth,s=o.fullHeight;i+=o.offsetX*a/n,t-=o.offsetY*r/s,a*=o.width/n,r*=o.height/s}var l=this.filmOffset;0!==l&&(i+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+a,t,t-r,e,this.far)},toJSON:function(e){var t=pe.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),ht.prototype=Object.assign(Object.create(ft.prototype),{constructor:ht,isArrayCamera:!0}),Et.prototype.isFogExp2=!0,Et.prototype.clone=function(){return new Et(this.color.getHex(),this.density)},Et.prototype.toJSON=function(){return{type:'FogExp2',color:this.color.getHex(),density:this.density}},Tt.prototype.isFog=!0,Tt.prototype.clone=function(){return new Tt(this.color.getHex(),this.near,this.far)},Tt.prototype.toJSON=function(){return{type:'Fog',color:this.color.getHex(),near:this.near,far:this.far}},St.prototype=Object.assign(Object.create(pe.prototype),{constructor:St,copy:function(e,t){return pe.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=pe.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}),Mt.prototype=Object.assign(Object.create(pe.prototype),{constructor:Mt,isLensFlare:!0,copy:function(e){pe.prototype.copy.call(this,e),this.positionScreen.copy(e.positionScreen),this.customUpdateCallback=e.customUpdateCallback;for(var t=0,r=e.lensFlares.length;t<r;t++)this.lensFlares.push(e.lensFlares[t]);return this},add:function(e,t,r,a,i,o){void 0===t&&(t=-1),void 0===r&&(r=0),void 0===o&&(o=1),void 0===i&&(i=new Y(16777215)),void 0===a&&(a=zo),r=fo(r,go(0,r)),this.lensFlares.push({texture:e,size:t,distance:r,x:0,y:0,z:0,scale:1,rotation:0,opacity:o,color:i,blending:a})},updateLensFlares:function(){var e=this.lensFlares.length,t=2*-this.positionScreen.x,r=2*-this.positionScreen.y,a,i;for(a=0;a<e;a++)i=this.lensFlares[a],i.x=this.positionScreen.x+t*i.distance,i.y=this.positionScreen.y+r*i.distance,i.wantedRotation=0.25*(i.x*ho),i.rotation+=0.25*(i.wantedRotation-i.rotation)}}),At.prototype=Object.create(K.prototype),At.prototype.constructor=At,At.prototype.isSpriteMaterial=!0,At.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this},wt.prototype=Object.assign(Object.create(pe.prototype),{constructor:wt,isSprite:!0,raycast:function(){var e=new m,t=new m,r=new m;return function(a,i){t.setFromMatrixPosition(this.matrixWorld),a.ray.closestPointToPoint(t,e),r.setFromMatrixScale(this.matrixWorld);var o=r.x*r.y/4;if(!(t.distanceToSquared(e)>o)){var n=a.ray.origin.distanceTo(e);n<a.near||n>a.far||i.push({distance:n,point:e.clone(),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),Lt.prototype=Object.assign(Object.create(pe.prototype),{constructor:Lt,copy:function(e){pe.prototype.copy.call(this,e,!1);for(var t=e.levels,r=0,a=t.length,i;r<a;r++)i=t[r],this.addLevel(i.object.clone(),i.distance);return this},addLevel:function(e,t){void 0===t&&(t=0),t=no(t);for(var r=this.levels,a=0;a<r.length&&!(t<r[a].distance);a++);r.splice(a,0,{distance:t,object:e}),this.add(e)},getObjectForDistance:function(e){for(var t=this.levels,r=1,a=t.length;r<a&&!(e<t[r].distance);r++);return t[r-1].object},raycast:function(){var e=new m;return function(t,r){e.setFromMatrixPosition(this.matrixWorld);var a=t.ray.origin.distanceTo(e);this.getObjectForDistance(a).raycast(t,r)}}(),update:function(){var e=new m,t=new m;return function(r){var a=this.levels;if(1<a.length){e.setFromMatrixPosition(r.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var o=e.distanceTo(t);a[0].object.visible=!0;for(var n=1,i=a.length;n<i&&o>=a[n].distance;n++)a[n-1].object.visible=!1,a[n].object.visible=!0;for(;n<i;n++)a[n].object.visible=!1}}}(),toJSON:function(e){var t=pe.prototype.toJSON.call(this,e);t.object.levels=[];for(var r=this.levels,a=0,i=r.length,o;a<i;a++)o=r[a],t.object.levels.push({object:o.object.uuid,distance:o.distance});return t}}),Object.assign(Rt.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length,r;e<t;e++)r=new a,this.bones[e]&&r.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(r)},pose:function(){var e,t,r;for(t=0,r=this.bones.length;t<r;t++)e=this.bones[t],e&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,r=this.bones.length;t<r;t++)e=this.bones[t],e&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){var e=new a,t=new a;return function(){for(var r=this.bones,a=this.boneInverses,o=this.boneMatrices,n=this.boneTexture,s=0,i=r.length,l;s<i;s++)l=r[s]?r[s].matrixWorld:t,e.multiplyMatrices(l,a[s]),e.toArray(o,16*s);void 0!==n&&(n.needsUpdate=!0)}}(),clone:function(){return new Rt(this.bones,this.boneInverses)}}),Pt.prototype=Object.assign(Object.create(pe.prototype),{constructor:Pt,isBone:!0}),Ct.prototype=Object.assign(Object.create(ze.prototype),{constructor:Ct,isSkinnedMesh:!0,initBones:function(){var e=[],t,r,a,i;if(this.geometry&&void 0!==this.geometry.bones){for(a=0,i=this.geometry.bones.length;a<i;a++)r=this.geometry.bones[a],t=new Pt,e.push(t),t.name=r.name,t.position.fromArray(r.pos),t.quaternion.fromArray(r.rotq),void 0!==r.scl&&t.scale.fromArray(r.scl);for(a=0,i=this.geometry.bones.length;a<i;a++)r=this.geometry.bones[a],-1!==r.parent&&null!==r.parent&&void 0!==e[r.parent]?e[r.parent].add(e[a]):this.add(e[a])}return this.updateMatrixWorld(!0),e},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var e,t;if(this.geometry&&this.geometry.isGeometry)for(t=0;t<this.geometry.skinWeights.length;t++){var r=this.geometry.skinWeights[t];e=1/r.manhattanLength(),e===Infinity?r.set(1,0,0,0):r.multiplyScalar(e)}else if(this.geometry&&this.geometry.isBufferGeometry){var a=new s,i=this.geometry.attributes.skinWeight;for(t=0;t<i.count;t++)a.x=i.getX(t),a.y=i.getY(t),a.z=i.getZ(t),a.w=i.getW(t),e=1/a.manhattanLength(),e===Infinity?a.set(1,0,0,0):a.multiplyScalar(e),i.setXYZW(t,a.x,a.y,a.z,a.w)}},updateMatrixWorld:function(e){ze.prototype.updateMatrixWorld.call(this,e),'attached'===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):'detached'===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn('THREE.SkinnedMesh: Unrecognized bindMode: '+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),It.prototype=Object.create(K.prototype),It.prototype.constructor=It,It.prototype.isLineBasicMaterial=!0,It.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},Nt.prototype=Object.assign(Object.create(pe.prototype),{constructor:Nt,isLine:!0,raycast:function(){var e=new a,t=new Ne,r=new re;return function(o,n){var s=o.linePrecision,p=s*s,d=this.geometry,c=this.matrixWorld;if(null===d.boundingSphere&&d.computeBoundingSphere(),r.copy(d.boundingSphere),r.applyMatrix4(c),!1!==o.ray.intersectsSphere(r)){e.getInverse(c),t.copy(o.ray).applyMatrix4(e);var u=new m,g=new m,f=new m,h=new m,y=this&&this.isLineSegments?2:1;if(d.isBufferGeometry){var x=d.index,v=d.attributes,_=v.position.array;if(null!==x)for(var E=x.array,T=0,S=E.length-1;T<S;T+=y){var l=E[T],a=E[T+1];u.fromArray(_,3*l),g.fromArray(_,3*a);var b=t.distanceSqToSegment(u,g,h,f);if(!(b>p)){h.applyMatrix4(this.matrixWorld);var M=o.ray.origin.distanceTo(h);M<o.near||M>o.far||n.push({distance:M,point:f.clone().applyMatrix4(this.matrixWorld),index:T,face:null,faceIndex:null,object:this})}}else for(var T=0,S=_.length/3-1;T<S;T+=y){u.fromArray(_,3*T),g.fromArray(_,3*T+3);var b=t.distanceSqToSegment(u,g,h,f);if(!(b>p)){h.applyMatrix4(this.matrixWorld);var M=o.ray.origin.distanceTo(h);M<o.near||M>o.far||n.push({distance:M,point:f.clone().applyMatrix4(this.matrixWorld),index:T,face:null,faceIndex:null,object:this})}}}else if(d.isGeometry)for(var A=d.vertices,w=A.length,T=0,b;T<w-1;T+=y)if(b=t.distanceSqToSegment(A[T],A[T+1],h,f),!(b>p)){h.applyMatrix4(this.matrixWorld);var M=o.ray.origin.distanceTo(h);M<o.near||M>o.far||n.push({distance:M,point:f.clone().applyMatrix4(this.matrixWorld),index:T,face:null,faceIndex:null,object:this})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ut.prototype=Object.assign(Object.create(Nt.prototype),{constructor:Ut,isLineSegments:!0}),Dt.prototype=Object.assign(Object.create(Nt.prototype),{constructor:Dt,isLineLoop:!0}),zt.prototype=Object.create(K.prototype),zt.prototype.constructor=zt,zt.prototype.isPointsMaterial=!0,zt.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this},Bt.prototype=Object.assign(Object.create(pe.prototype),{constructor:Bt,isPoints:!0,raycast:function(){var e=new a,t=new Ne,r=new re;return function(o,n){function s(e,r){var a=t.distanceSqToPoint(e);if(a<f){var i=t.closestPointToPoint(e);i.applyMatrix4(c);var s=o.ray.origin.distanceTo(i);if(s<o.near||s>o.far)return;n.push({distance:s,distanceToRay:so(a),point:i.clone(),index:r,face:null,object:p})}}var p=this,d=this.geometry,c=this.matrixWorld,u=o.params.Points.threshold;if(null===d.boundingSphere&&d.computeBoundingSphere(),r.copy(d.boundingSphere),r.applyMatrix4(c),r.radius+=u,!1!==o.ray.intersectsSphere(r)){e.getInverse(c),t.copy(o.ray).applyMatrix4(e);var g=u/((this.scale.x+this.scale.y+this.scale.z)/3),f=g*g,h=new m;if(d.isBufferGeometry){var y=d.index,x=d.attributes,v=x.position.array;if(null!==y)for(var _=y.array,b=0,i=_.length,E;b<i;b++)E=_[b],h.fromArray(v,3*E),s(h,E);else for(var b=0,a=v.length/3;b<a;b++)h.fromArray(v,3*b),s(h,b)}else for(var l=d.vertices,b=0,a=l.length;b<a;b++)s(l[b],b)}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ft.prototype=Object.assign(Object.create(pe.prototype),{constructor:Ft,isGroup:!0}),Ot.prototype=Object.assign(Object.create(n.prototype),{constructor:Ot,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),Gt.prototype=Object.create(n.prototype),Gt.prototype.constructor=Gt,Gt.prototype.isCompressedTexture=!0,Ht.prototype=Object.create(n.prototype),Ht.prototype.constructor=Ht,Ht.prototype.isDepthTexture=!0,Vt.prototype=Object.create(Ae.prototype),Vt.prototype.constructor=Vt,kt.prototype=Object.create(ue.prototype),kt.prototype.constructor=kt,Wt.prototype=Object.create(Ae.prototype),Wt.prototype.constructor=Wt,jt.prototype=Object.create(ue.prototype),jt.prototype.constructor=jt,Xt.prototype=Object.create(Ae.prototype),Xt.prototype.constructor=Xt,Yt.prototype=Object.create(ue.prototype),Yt.prototype.constructor=Yt,qt.prototype=Object.create(Xt.prototype),qt.prototype.constructor=qt,Zt.prototype=Object.create(ue.prototype),Zt.prototype.constructor=Zt,Jt.prototype=Object.create(Xt.prototype),Jt.prototype.constructor=Jt,Qt.prototype=Object.create(ue.prototype),Qt.prototype.constructor=Qt,Kt.prototype=Object.create(Xt.prototype),Kt.prototype.constructor=Kt,$t.prototype=Object.create(ue.prototype),$t.prototype.constructor=$t,er.prototype=Object.create(Xt.prototype),er.prototype.constructor=er,tr.prototype=Object.create(ue.prototype),tr.prototype.constructor=tr,rr.prototype=Object.create(Ae.prototype),rr.prototype.constructor=rr,ar.prototype=Object.create(ue.prototype),ar.prototype.constructor=ar,ir.prototype=Object.create(Ae.prototype),ir.prototype.constructor=ir,or.prototype=Object.create(ue.prototype),or.prototype.constructor=or,nr.prototype=Object.create(Ae.prototype),nr.prototype.constructor=nr;var Zs={triangulate:function(e,t,r){r=r||2;var a=t&&t.length,o=a?t[0]*r:e.length,n=sr(e,0,o,r,!0),s=[];if(!n)return s;var l,p,d,c,m,u,g;if(a&&(n=gr(e,t,n,r)),e.length>80*r){l=d=e[0],p=c=e[1];for(var f=r;f<o;f+=r)m=e[f],u=e[f+1],m<l&&(l=m),u<p&&(p=u),m>d&&(d=m),u>c&&(c=u);g=go(d-l,c-p),g=0===g?0:1/g}return pr(n,s,r,l,p,g),s}},Js={area:function(e){for(var t=e.length,r=0,a=t-1,i=0;i<t;a=i++)r+=e[a].x*e[i].y-e[i].x*e[a].y;return 0.5*r},isClockWise:function(e){return 0>Js.area(e)},triangulateShape:function(e,t){function r(e){var t=e.length;2<t&&e[t-1].equals(e[0])&&e.pop()}function a(e,t){for(var r=0;r<t.length;r++)e.push(t[r].x),e.push(t[r].y)}var o=[],n=[],s=[];r(e),a(o,e);var l=e.length;for(t.forEach(r),d=0;d<t.length;d++)n.push(l),l+=t[d].length,a(o,t[d]);for(var p=Zs.triangulate(o,n),d=0;d<p.length;d+=3)s.push(p.slice(d,d+3));return s}};Dr.prototype=Object.create(ue.prototype),Dr.prototype.constructor=Dr,zr.prototype=Object.create(Ae.prototype),zr.prototype.constructor=zr,zr.prototype.getArrays=function(){var e=this.getAttribute('position'),t=e?Array.prototype.slice.call(e.array):[],r=this.getAttribute('uv'),a=r?Array.prototype.slice.call(r.array):[],i=this.index,o=i?Array.prototype.slice.call(i.array):[];return{position:t,uv:a,index:o}},zr.prototype.addShapeList=function(e,t){var r=e.length;t.arrays=this.getArrays();for(var a=0,i;a<r;a++)i=e[a],this.addShape(i,t);this.setIndex(t.arrays.index),this.addAttribute('position',new Ee(t.arrays.position,3)),this.addAttribute('uv',new Ee(t.arrays.uv,2))},zr.prototype.addShape=function(e,a){function o(e,t,r){return t||console.error('THREE.ExtrudeGeometry: vec does not exist'),t.clone().multiplyScalar(r).add(e)}function n(e,t,a){var i=e.x-t.x,o=e.y-t.y,n=a.x-e.x,s=a.y-e.y,l=i*i+o*o,p,d,c;if(no(i*s-o*n)>_o){var m=so(l),u=so(n*n+s*s),g=t.x-o/m,f=t.y+i/m,h=a.x-s/u,y=a.y+n/u,x=((h-g)*s-(y-f)*n)/(i*s-o*n);p=g+i*x-e.x,d=f+o*x-e.y;var v=p*p+d*d;if(2>=v)return new r(p,d);c=so(v/2)}else{var _=!1;i>_o?n>_o&&(_=!0):i<-_o?n<-_o&&(_=!0):yo(o)===yo(s)&&(_=!0),_?(p=-o,d=i,c=so(l)):(p=i,d=o,c=so(l/2))}return new r(p/c,d/c)}function l(e,t){var r,i;for(K=e.length;0<=--K;){r=K,i=K-1,0>i&&(i=e.length-1);var o=0,n=L+2*M;for(o=0;o<n;o++){var s=Z*o,l=Z*(o+1),p=t+r+s,a=t+i+s,m=t+i+l,c=t+r+l;u(p,a,m,c)}}}function p(e,t,r){_.push(e),_.push(t),_.push(r)}function d(e,t,r){g(e),g(t),g(r);var a=y.length/3,i=C.generateTopUV(F,y,a-3,a-2,a-1);f(i[0]),f(i[1]),f(i[2])}function u(e,t,r,a){g(e),g(t),g(a),g(t),g(r),g(a);var i=y.length/3,o=C.generateSideWallUV(F,y,i-6,i-3,i-2,i-1);f(o[0]),f(o[1]),f(o[3]),f(o[1]),f(o[2]),f(o[3])}function g(e){x.push(y.length/3),y.push(_[3*e+0]),y.push(_[3*e+1]),y.push(_[3*e+2])}function f(e){v.push(e.x),v.push(e.y)}var c=a.arrays?a.arrays:this.getArrays(),y=c.position,x=c.index,v=c.uv,_=[],E=void 0===a.amount?100:a.amount,T=void 0===a.bevelThickness?6:a.bevelThickness,S=void 0===a.bevelSize?T-2:a.bevelSize,M=void 0===a.bevelSegments?3:a.bevelSegments,A=void 0===a.bevelEnabled||a.bevelEnabled,w=void 0===a.curveSegments?12:a.curveSegments,L=void 0===a.steps?1:a.steps,R=a.extrudePath,P=!1,C=void 0===a.UVGenerator?Dr.WorldUVGenerator:a.UVGenerator,I,N,U,D,B;R&&(I=R.getSpacedPoints(L),P=!0,A=!1,N=void 0===a.frames?R.computeFrenetFrames(L,!1):a.frames,U=new m,D=new m,B=new m),A||(M=0,T=0,S=0);var F=this,O=e.extractPoints(w),G=O.shape,H=O.holes,V=!Js.isClockWise(G),W,X,h;if(V)for(G=G.reverse(),X=0,h=H.length;X<h;X++)W=H[X],Js.isClockWise(W)&&(H[X]=W.reverse());var Y=Js.triangulateShape(G,H),q=G;for(X=0,h=H.length;X<h;X++)W=H[X],G=G.concat(W);for(var Z=G.length,J=Y.length,Q=[],K=0,i=q.length,$=i-1,j=K+1,k,b,ee,t,te,re;K<i;K++,$++,j++)$===i&&($=0),j===i&&(j=0),Q[K]=n(q[K],q[$],q[j]);var ae=[],ie=Q.concat(),oe;for(X=0,h=H.length;X<h;X++){for(W=H[X],oe=[],(K=0,i=W.length,$=i-1,j=K+1);K<i;K++,$++,j++)$===i&&($=0),j===i&&(j=0),oe[K]=n(W[K],W[$],W[j]);ae.push(oe),ie=ie.concat(oe)}for(k=0;k<M;k++){for(ee=k/M,t=T*io(ee*ho/2),b=S*ao(ee*ho/2),(K=0,i=q.length);K<i;K++)te=o(q[K],Q[K],b),p(te.x,te.y,-t);for(X=0,h=H.length;X<h;X++)for(W=H[X],oe=ae[X],(K=0,i=W.length);K<i;K++)te=o(W[K],oe[K],b),p(te.x,te.y,-t)}for(b=S,K=0;K<Z;K++)te=A?o(G[K],ie[K],b):G[K],P?(D.copy(N.normals[0]).multiplyScalar(te.x),U.copy(N.binormals[0]).multiplyScalar(te.y),B.copy(I[0]).add(D).add(U),p(B.x,B.y,B.z)):p(te.x,te.y,0);var ne;for(ne=1;ne<=L;ne++)for(K=0;K<Z;K++)te=A?o(G[K],ie[K],b):G[K],P?(D.copy(N.normals[ne]).multiplyScalar(te.x),U.copy(N.binormals[ne]).multiplyScalar(te.y),B.copy(I[ne]).add(D).add(U),p(B.x,B.y,B.z)):p(te.x,te.y,E/L*ne);for(k=M-1;0<=k;k--){for(ee=k/M,t=T*io(ee*ho/2),b=S*ao(ee*ho/2),(K=0,i=q.length);K<i;K++)te=o(q[K],Q[K],b),p(te.x,te.y,E+t);for(X=0,h=H.length;X<h;X++)for(W=H[X],oe=ae[X],(K=0,i=W.length);K<i;K++)te=o(W[K],oe[K],b),P?p(te.x,te.y+I[L-1].y,I[L-1].x+t):p(te.x,te.y,E+t)}(function(){var e=y.length/3;if(A){var t=0,r=Z*t;for(K=0;K<J;K++)re=Y[K],d(re[2]+r,re[1]+r,re[0]+r);for(t=L+2*M,r=Z*t,K=0;K<J;K++)re=Y[K],d(re[0]+r,re[1]+r,re[2]+r)}else{for(K=0;K<J;K++)re=Y[K],d(re[2],re[1],re[0]);for(K=0;K<J;K++)re=Y[K],d(re[0]+Z*L,re[1]+Z*L,re[2]+Z*L)}F.addGroup(e,y.length/3-e,void 0===a.material?0:a.material)})(),function(){var e=y.length/3,t=0;for(l(q,t),t+=q.length,(X=0,h=H.length);X<h;X++)W=H[X],l(W,t),t+=W.length;F.addGroup(e,y.length/3-e,void 0===a.extrudeMaterial?1:a.extrudeMaterial)}(),a.arrays||(this.setIndex(x),this.addAttribute('position',new Ee(y,3)),this.addAttribute('uv',new Ee(v,2)))},Dr.WorldUVGenerator={generateTopUV:function(e,t,a,i,o){var n=t[3*a],s=t[3*a+1],l=t[3*i],p=t[3*i+1],d=t[3*o],c=t[3*o+1];return[new r(n,s),new r(l,p),new r(d,c)]},generateSideWallUV:function(e,t,a,i,o,n){var s=t[3*a],l=t[3*a+1],p=t[3*a+2],d=t[3*i],c=t[3*i+1],m=t[3*i+2],u=t[3*o],g=t[3*o+1],f=t[3*o+2],h=t[3*n],y=t[3*n+1],x=t[3*n+2];return 0.01>no(l-c)?[new r(s,1-p),new r(d,1-m),new r(u,1-f),new r(h,1-x)]:[new r(l,1-p),new r(c,1-m),new r(g,1-f),new r(y,1-x)]}},Br.prototype=Object.create(ue.prototype),Br.prototype.constructor=Br,Fr.prototype=Object.create(zr.prototype),Fr.prototype.constructor=Fr,Or.prototype=Object.create(ue.prototype),Or.prototype.constructor=Or,Gr.prototype=Object.create(Ae.prototype),Gr.prototype.constructor=Gr,Hr.prototype=Object.create(ue.prototype),Hr.prototype.constructor=Hr,Vr.prototype=Object.create(Ae.prototype),Vr.prototype.constructor=Vr,kr.prototype=Object.create(ue.prototype),kr.prototype.constructor=kr,Wr.prototype=Object.create(Ae.prototype),Wr.prototype.constructor=Wr,jr.prototype=Object.create(ue.prototype),jr.prototype.constructor=jr,jr.prototype.toJSON=function(){var e=ue.prototype.toJSON.call(this),t=this.parameters.shapes;return Yr(t,e)},Xr.prototype=Object.create(Ae.prototype),Xr.prototype.constructor=Xr,Xr.prototype.toJSON=function(){var e=Ae.prototype.toJSON.call(this),t=this.parameters.shapes;return Yr(t,e)},qr.prototype=Object.create(Ae.prototype),qr.prototype.constructor=qr,Zr.prototype=Object.create(ue.prototype),Zr.prototype.constructor=Zr,Jr.prototype=Object.create(Ae.prototype),Jr.prototype.constructor=Jr,Qr.prototype=Object.create(Zr.prototype),Qr.prototype.constructor=Qr,Kr.prototype=Object.create(Jr.prototype),Kr.prototype.constructor=Kr,$r.prototype=Object.create(ue.prototype),$r.prototype.constructor=$r,ea.prototype=Object.create(Ae.prototype),ea.prototype.constructor=ea;var Qs=Object.freeze({WireframeGeometry:Vt,ParametricGeometry:kt,ParametricBufferGeometry:Wt,TetrahedronGeometry:Yt,TetrahedronBufferGeometry:qt,OctahedronGeometry:Zt,OctahedronBufferGeometry:Jt,IcosahedronGeometry:Qt,IcosahedronBufferGeometry:Kt,DodecahedronGeometry:$t,DodecahedronBufferGeometry:er,PolyhedronGeometry:jt,PolyhedronBufferGeometry:Xt,TubeGeometry:tr,TubeBufferGeometry:rr,TorusKnotGeometry:ar,TorusKnotBufferGeometry:ir,TorusGeometry:or,TorusBufferGeometry:nr,TextGeometry:Br,TextBufferGeometry:Fr,SphereGeometry:Or,SphereBufferGeometry:Gr,RingGeometry:Hr,RingBufferGeometry:Vr,PlaneGeometry:Re,PlaneBufferGeometry:Pe,LatheGeometry:kr,LatheBufferGeometry:Wr,ShapeGeometry:jr,ShapeBufferGeometry:Xr,ExtrudeGeometry:Dr,ExtrudeBufferGeometry:zr,EdgesGeometry:qr,ConeGeometry:Qr,ConeBufferGeometry:Kr,CylinderGeometry:Zr,CylinderBufferGeometry:Jr,CircleGeometry:$r,CircleBufferGeometry:ea,BoxGeometry:we,BoxBufferGeometry:Le});ta.prototype=Object.create(K.prototype),ta.prototype.constructor=ta,ta.prototype.isShadowMaterial=!0,ra.prototype=Object.create(Ie.prototype),ra.prototype.constructor=ra,ra.prototype.isRawShaderMaterial=!0,aa.prototype=Object.create(K.prototype),aa.prototype.constructor=aa,aa.prototype.isMeshStandardMaterial=!0,aa.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.defines={STANDARD:''},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},ia.prototype=Object.create(aa.prototype),ia.prototype.constructor=ia,ia.prototype.isMeshPhysicalMaterial=!0,ia.prototype.copy=function(e){return aa.prototype.copy.call(this,e),this.defines={PHYSICAL:''},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},oa.prototype=Object.create(K.prototype),oa.prototype.constructor=oa,oa.prototype.isMeshPhongMaterial=!0,oa.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},na.prototype=Object.create(oa.prototype),na.prototype.constructor=na,na.prototype.isMeshToonMaterial=!0,na.prototype.copy=function(e){return oa.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},sa.prototype=Object.create(K.prototype),sa.prototype.constructor=sa,sa.prototype.isMeshNormalMaterial=!0,sa.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},la.prototype=Object.create(K.prototype),la.prototype.constructor=la,la.prototype.isMeshLambertMaterial=!0,la.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},pa.prototype=Object.create(It.prototype),pa.prototype.constructor=pa,pa.prototype.isLineDashedMaterial=!0,pa.prototype.copy=function(e){return It.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var Ks=Object.freeze({ShadowMaterial:ta,SpriteMaterial:At,RawShaderMaterial:ra,ShaderMaterial:Ie,PointsMaterial:zt,MeshPhysicalMaterial:ia,MeshStandardMaterial:aa,MeshPhongMaterial:oa,MeshToonMaterial:na,MeshNormalMaterial:sa,MeshLambertMaterial:la,MeshDepthMaterial:$,MeshDistanceMaterial:ee,MeshBasicMaterial:Ce,LineDashedMaterial:pa,LineBasicMaterial:It,Material:K}),$s={enabled:!1,files:{},add:function(e,t){!1===this.enabled||(this.files[e]=t)},get:function(e){return!1===this.enabled?void 0:this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},el=new da,tl={};Object.assign(ca.prototype,{load:function(e,t,r,a){void 0===e&&(e=''),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var o=this,n=$s.get(e);if(void 0!==n)return o.manager.itemStart(e),setTimeout(function(){t&&t(n),o.manager.itemEnd(e)},0),n;if(void 0!==tl[e])return void tl[e].push({onLoad:t,onProgress:r,onError:a});var s=/^data:(.*?)(;base64)?,(.*)$/,l=e.match(s);if(l){var p=l[1],d=!!l[2],c=l[3];c=window.decodeURIComponent(c),d&&(c=window.atob(c));try{var m=(this.responseType||'').toLowerCase(),u;switch(m){case'arraybuffer':case'blob':for(var g=new Uint8Array(c.length),f=0;f<c.length;f++)g[f]=c.charCodeAt(f);u='blob'===m?new Blob([g.buffer],{type:p}):g.buffer;break;case'document':var i=new DOMParser;u=i.parseFromString(c,p);break;case'json':u=JSON.parse(c);break;default:u=c;}window.setTimeout(function(){t&&t(u),o.manager.itemEnd(e)},0)}catch(t){window.setTimeout(function(){a&&a(t),o.manager.itemEnd(e),o.manager.itemError(e)},0)}}else{tl[e]=[],tl[e].push({onLoad:t,onProgress:r,onError:a});var h=new XMLHttpRequest;for(var y in h.open('GET',e,!0),h.addEventListener('load',function(t){var r=this.response;$s.add(e,r);var a=tl[e];if(delete tl[e],200===this.status){for(var n=0,i=a.length,s;n<i;n++)s=a[n],s.onLoad&&s.onLoad(r);o.manager.itemEnd(e)}else if(0===this.status){console.warn('THREE.FileLoader: HTTP Status 0 received.');for(var n=0,i=a.length,s;n<i;n++)s=a[n],s.onLoad&&s.onLoad(r);o.manager.itemEnd(e)}else{for(var n=0,i=a.length,s;n<i;n++)s=a[n],s.onError&&s.onError(t);o.manager.itemEnd(e),o.manager.itemError(e)}},!1),h.addEventListener('progress',function(t){for(var r=tl[e],a=0,i=r.length,o;a<i;a++)o=r[a],o.onProgress&&o.onProgress(t)},!1),h.addEventListener('error',function(t){var r=tl[e];delete tl[e];for(var a=0,i=r.length,n;a<i;a++)n=r[a],n.onError&&n.onError(t);o.manager.itemEnd(e),o.manager.itemError(e)},!1),void 0!==this.responseType&&(h.responseType=this.responseType),void 0!==this.withCredentials&&(h.withCredentials=this.withCredentials),h.overrideMimeType&&h.overrideMimeType(void 0===this.mimeType?'text/plain':this.mimeType),this.requestHeader)h.setRequestHeader(y,this.requestHeader[y]);h.send(null)}return o.manager.itemStart(e),h},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),Object.assign(function(e){this.manager=void 0===e?el:e,this._parser=null}.prototype,{load:function(e,t,r,a){function o(o){p.load(e[o],function(e){var r=n._parser(e,!0);s[o]={width:r.width,height:r.height,format:r.format,mipmaps:r.mipmaps},d+=1,6==d&&(1===r.mipmapCount&&(l.minFilter=Un),l.format=r.format,l.needsUpdate=!0,t&&t(l))},r,a)}var n=this,s=[],l=new Gt;l.image=s;var p=new ca(this.manager);if(p.setPath(this.path),p.setResponseType('arraybuffer'),Array.isArray(e))for(var d=0,c=0,i=e.length;c<i;++c)o(c);else p.load(e,function(e){var r=n._parser(e,!0);if(r.isCubemap)for(var a=r.mipmaps.length/r.mipmapCount,o=0;o<a;o++){s[o]={mipmaps:[]};for(var p=0;p<r.mipmapCount;p++)s[o].mipmaps.push(r.mipmaps[o*r.mipmapCount+p]),s[o].format=r.format,s[o].width=r.width,s[o].height=r.height}else l.image.width=r.width,l.image.height=r.height,l.mipmaps=r.mipmaps;1===r.mipmapCount&&(l.minFilter=Un),l.format=r.format,l.needsUpdate=!0,t&&t(l)},r,a);return l},setPath:function(e){return this.path=e,this}}),Object.assign(function(e){this.manager=void 0===e?el:e,this._parser=null}.prototype,{load:function(e,t,r,a){var i=this,o=new d,n=new ca(this.manager);return n.setResponseType('arraybuffer'),n.load(e,function(e){var r=i._parser(e);r&&(void 0===r.image?void 0!==r.data&&(o.image.width=r.width,o.image.height=r.height,o.image.data=r.data):o.image=r.image,o.wrapS=void 0===r.wrapS?Rn:r.wrapS,o.wrapT=void 0===r.wrapT?Rn:r.wrapT,o.magFilter=void 0===r.magFilter?Un:r.magFilter,o.minFilter=void 0===r.minFilter?zn:r.minFilter,o.anisotropy=void 0===r.anisotropy?1:r.anisotropy,void 0!==r.format&&(o.format=r.format),void 0!==r.type&&(o.type=r.type),void 0!==r.mipmaps&&(o.mipmaps=r.mipmaps),1===r.mipmapCount&&(o.minFilter=Un),o.needsUpdate=!0,t&&t(o,r))},r,a),o}}),Object.assign(ma.prototype,{crossOrigin:'Anonymous',load:function(e,t,r,a){void 0===e&&(e=''),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=$s.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o;var n=document.createElementNS('http://www.w3.org/1999/xhtml','img');return n.addEventListener('load',function(){$s.add(e,this),t&&t(this),i.manager.itemEnd(e)},!1),n.addEventListener('error',function(t){a&&a(t),i.manager.itemEnd(e),i.manager.itemError(e)},!1),'data:'!==e.substr(0,5)&&void 0!==this.crossOrigin&&(n.crossOrigin=this.crossOrigin),i.manager.itemStart(e),n.src=e,n},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(function(e){this.manager=void 0===e?el:e}.prototype,{crossOrigin:'Anonymous',load:function(e,t,r,a){function o(r){s.load(e[r],function(e){n.images[r]=e,l++,6==l&&(n.needsUpdate=!0,t&&t(n))},void 0,a)}var n=new c,s=new ma(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);for(var l=0,p=0;p<e.length;++p)o(p);return n},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(ua.prototype,{crossOrigin:'Anonymous',load:function(e,t,r,a){var i=new n,o=new ma(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(r){i.image=r;var a=0<e.search(/\.(jpg|jpeg)$/)||0===e.search(/^data\:image\/jpeg/);i.format=a?Jn:Qn,i.needsUpdate=!0,void 0!==t&&t(i)},r,a),i},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(ga.prototype,{getPoint:function(){return console.warn('THREE.Curve: .getPoint() not implemented.'),null},getPointAt:function(e,r){var a=this.getUtoTmapping(e);return this.getPoint(a,r)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],r=0;r<=e;r++)t.push(this.getPoint(r/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t=[],r=this.getPoint(0),a=0,i,o;for(t.push(0),o=1;o<=e;o++)i=this.getPoint(o/e),a+=i.distanceTo(r),t.push(a),r=i;return this.cacheArcLengths=t,t},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,r){var a=this.getLengths(),o=0,i=a.length,n;n=r?r:e*a[i-1];for(var s=0,l=i-1,p;s<=l;)if(o=xo(s+(l-s)/2),p=a[o]-n,0>p)s=o+1;else if(0<p)l=o-1;else{l=o;break}if(o=l,a[o]===n)return o/(i-1);var d=a[o],c=a[o+1],m=(n-d)/(c-d),u=(o+m)/(i-1);return u},getTangent:function(e){var t=1e-4,r=e-t,a=e+t;0>r&&(r=0),1<a&&(a=1);var i=this.getPoint(r),o=this.getPoint(a),n=o.clone().sub(i);return n.normalize()},getTangentAt:function(e){var r=this.getUtoTmapping(e);return this.getTangent(r)},computeFrenetFrames:function(e,t){var r=new m,o=[],n=[],s=[],l=new m,p=new a,d,i,c;for(d=0;d<=e;d++)i=d/e,o[d]=this.getTangentAt(i),o[d].normalize();n[0]=new m,s[0]=new m;var u=Number.MAX_VALUE,g=no(o[0].x),f=no(o[0].y),h=no(o[0].z);for(g<=u&&(u=g,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),h<=u&&r.set(0,0,1),l.crossVectors(o[0],r).normalize(),n[0].crossVectors(o[0],l),s[0].crossVectors(o[0],n[0]),d=1;d<=e;d++)n[d]=n[d-1].clone(),s[d]=s[d-1].clone(),l.crossVectors(o[d-1],o[d]),l.length()>_o&&(l.normalize(),c=ro(Ps.clamp(o[d-1].dot(o[d]),-1,1)),n[d].applyMatrix4(p.makeRotationAxis(l,c))),s[d].crossVectors(o[d],n[d]);if(!0===t)for(c=ro(Ps.clamp(n[0].dot(n[e]),-1,1)),c/=e,0<o[0].dot(l.crossVectors(n[0],n[e]))&&(c=-c),d=1;d<=e;d++)n[d].applyMatrix4(p.makeRotationAxis(o[d],c*d)),s[d].crossVectors(o[d],n[d]);return{tangents:o,normals:n,binormals:s}},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:'Curve',generator:'Curve.toJSON'},arcLengthDivisions:this.arcLengthDivisions,type:this.type};return e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),fa.prototype=Object.create(ga.prototype),fa.prototype.constructor=fa,fa.prototype.isEllipseCurve=!0,fa.prototype.getPoint=function(e,t){for(var a=t||new r,i=2*ho,o=this.aEndAngle-this.aStartAngle,n=no(o)<_o;0>o;)o+=i;for(;o>i;)o-=i;o<_o&&(n?o=0:o=i),!0!==this.aClockwise||n||(o==i?o=-i:o-=i);var s=this.aStartAngle+e*o,l=this.aX+this.xRadius*io(s),p=this.aY+this.yRadius*ao(s);if(0!==this.aRotation){var d=io(this.aRotation),c=ao(this.aRotation),m=l-this.aX,u=p-this.aY;l=m*d-u*c+this.aX,p=m*c+u*d+this.aY}return a.set(l,p)},fa.prototype.copy=function(e){return ga.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},fa.prototype.toJSON=function(){var e=ga.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},fa.prototype.fromJSON=function(e){return ga.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},ha.prototype=Object.create(fa.prototype),ha.prototype.constructor=ha,ha.prototype.isArcCurve=!0;var rl=new m,al=new ya,il=new ya,ol=new ya;xa.prototype=Object.create(ga.prototype),xa.prototype.constructor=xa,xa.prototype.isCatmullRomCurve3=!0,xa.prototype.getPoint=function(e,t){var r=t||new m,a=this.points,i=a.length,o=(i-(this.closed?0:1))*e,n=xo(o),s=o-n;this.closed?n+=0<n?0:(xo(no(n)/a.length)+1)*a.length:0==s&&n===i-1&&(n=i-2,s=1);var l,p,d,c;if(this.closed||0<n?l=a[(n-1)%i]:(rl.subVectors(a[0],a[1]).add(a[0]),l=rl),p=a[n%i],d=a[(n+1)%i],this.closed||n+2<i?c=a[(n+2)%i]:(rl.subVectors(a[i-1],a[i-2]).add(a[i-1]),c=rl),'centripetal'===this.curveType||'chordal'===this.curveType){var u='chordal'===this.curveType?0.5:0.25,g=po(l.distanceToSquared(p),u),f=po(p.distanceToSquared(d),u),h=po(d.distanceToSquared(c),u);1e-4>f&&(f=1),1e-4>g&&(g=f),1e-4>h&&(h=f),al.initNonuniformCatmullRom(l.x,p.x,d.x,c.x,g,f,h),il.initNonuniformCatmullRom(l.y,p.y,d.y,c.y,g,f,h),ol.initNonuniformCatmullRom(l.z,p.z,d.z,c.z,g,f,h)}else'catmullrom'===this.curveType&&(al.initCatmullRom(l.x,p.x,d.x,c.x,this.tension),il.initCatmullRom(l.y,p.y,d.y,c.y,this.tension),ol.initCatmullRom(l.z,p.z,d.z,c.z,this.tension));return r.set(al.calc(s),il.calc(s),ol.calc(s)),r},xa.prototype.copy=function(e){ga.prototype.copy.call(this,e),this.points=[];for(var t=0,r=e.points.length,a;t<r;t++)a=e.points[t],this.points.push(a.clone());return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},xa.prototype.toJSON=function(){var e=ga.prototype.toJSON.call(this);e.points=[];for(var t=0,r=this.points.length,a;t<r;t++)a=this.points[t],e.points.push(a.toArray());return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},xa.prototype.fromJSON=function(e){ga.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,r=e.points.length,a;t<r;t++)a=e.points[t],this.points.push(new m().fromArray(a));return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Ra.prototype=Object.create(ga.prototype),Ra.prototype.constructor=Ra,Ra.prototype.isCubicBezierCurve=!0,Ra.prototype.getPoint=function(e,t){var a=t||new r,i=this.v0,o=this.v1,n=this.v2,s=this.v3;return a.set(La(e,i.x,o.x,n.x,s.x),La(e,i.y,o.y,n.y,s.y)),a},Ra.prototype.copy=function(e){return ga.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Ra.prototype.toJSON=function(){var e=ga.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Ra.prototype.fromJSON=function(e){return ga.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Pa.prototype=Object.create(ga.prototype),Pa.prototype.constructor=Pa,Pa.prototype.isCubicBezierCurve3=!0,Pa.prototype.getPoint=function(e,t){var r=t||new m,a=this.v0,i=this.v1,o=this.v2,n=this.v3;return r.set(La(e,a.x,i.x,o.x,n.x),La(e,a.y,i.y,o.y,n.y),La(e,a.z,i.z,o.z,n.z)),r},Pa.prototype.copy=function(e){return ga.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Pa.prototype.toJSON=function(){var e=ga.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Pa.prototype.fromJSON=function(e){return ga.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Ca.prototype=Object.create(ga.prototype),Ca.prototype.constructor=Ca,Ca.prototype.isLineCurve=!0,Ca.prototype.getPoint=function(e,t){var a=t||new r;return 1===e?a.copy(this.v2):(a.copy(this.v2).sub(this.v1),a.multiplyScalar(e).add(this.v1)),a},Ca.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Ca.prototype.getTangent=function(){var e=this.v2.clone().sub(this.v1);return e.normalize()},Ca.prototype.copy=function(e){return ga.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Ca.prototype.toJSON=function(){var e=ga.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Ca.prototype.fromJSON=function(e){return ga.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Ia.prototype=Object.create(ga.prototype),Ia.prototype.constructor=Ia,Ia.prototype.isLineCurve3=!0,Ia.prototype.getPoint=function(e,t){var r=t||new m;return 1===e?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r},Ia.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Ia.prototype.copy=function(e){return ga.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Ia.prototype.toJSON=function(){var e=ga.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Ia.prototype.fromJSON=function(e){return ga.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Na.prototype=Object.create(ga.prototype),Na.prototype.constructor=Na,Na.prototype.isQuadraticBezierCurve=!0,Na.prototype.getPoint=function(e,t){var a=t||new r,i=this.v0,o=this.v1,n=this.v2;return a.set(Ta(e,i.x,o.x,n.x),Ta(e,i.y,o.y,n.y)),a},Na.prototype.copy=function(e){return ga.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Na.prototype.toJSON=function(){var e=ga.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Na.prototype.fromJSON=function(e){return ga.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Ua.prototype=Object.create(ga.prototype),Ua.prototype.constructor=Ua,Ua.prototype.isQuadraticBezierCurve3=!0,Ua.prototype.getPoint=function(e,t){var r=t||new m,a=this.v0,i=this.v1,o=this.v2;return r.set(Ta(e,a.x,i.x,o.x),Ta(e,a.y,i.y,o.y),Ta(e,a.z,i.z,o.z)),r},Ua.prototype.copy=function(e){return ga.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Ua.prototype.toJSON=function(){var e=ga.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Ua.prototype.fromJSON=function(e){return ga.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Da.prototype=Object.create(ga.prototype),Da.prototype.constructor=Da,Da.prototype.isSplineCurve=!0,Da.prototype.getPoint=function(e,t){var a=t||new r,i=this.points,o=(i.length-1)*e,n=xo(o),s=o-n,l=i[0===n?n:n-1],p=i[n],d=i[n>i.length-2?i.length-1:n+1],c=i[n>i.length-3?i.length-1:n+2];return a.set(va(s,l.x,p.x,d.x,c.x),va(s,l.y,p.y,d.y,c.y)),a},Da.prototype.copy=function(e){ga.prototype.copy.call(this,e),this.points=[];for(var t=0,r=e.points.length,a;t<r;t++)a=e.points[t],this.points.push(a.clone());return this},Da.prototype.toJSON=function(){var e=ga.prototype.toJSON.call(this);e.points=[];for(var t=0,r=this.points.length,a;t<r;t++)a=this.points[t],e.points.push(a.toArray());return e},Da.prototype.fromJSON=function(e){ga.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,a=e.points.length,i;t<a;t++)i=e.points[t],this.points.push(new r().fromArray(i));return this};var nl=Object.freeze({ArcCurve:ha,CatmullRomCurve3:xa,CubicBezierCurve:Ra,CubicBezierCurve3:Pa,EllipseCurve:fa,LineCurve:Ca,LineCurve3:Ia,QuadraticBezierCurve:Na,QuadraticBezierCurve3:Ua,SplineCurve:Da});za.prototype=Object.assign(Object.create(ga.prototype),{constructor:za,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Ca(t,e))},getPoint:function(e){for(var t=e*this.getLength(),r=this.getCurveLengths(),a=0;a<r.length;){if(r[a]>=t){var i=r[a]-t,o=this.curves[a],n=o.getLength(),s=0===n?0:1-i/n;return o.getPointAt(s)}a++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,r=0,a=this.curves.length;r<a;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t=[],r=0,a=this.curves,i;r<a.length;r++)for(var o=a[r],n=o&&o.isEllipseCurve?2*e:o&&o.isLineCurve?1:o&&o.isSplineCurve?e*o.points.length:e,s=o.getPoints(n),l=0,p;l<s.length;l++)p=s[l],i&&i.equals(p)||(t.push(p),i=p);return this.autoClose&&1<t.length&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t},copy:function(e){ga.prototype.copy.call(this,e),this.curves=[];for(var t=0,r=e.curves.length,a;t<r;t++)a=e.curves[t],this.curves.push(a.clone());return this.autoClose=e.autoClose,this},toJSON:function(){var e=ga.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length,a;t<r;t++)a=this.curves[t],e.curves.push(a.toJSON());return e},fromJSON:function(e){ga.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,r=e.curves.length,a;t<r;t++)a=e.curves[t],this.curves.push(new nl[a.type]().fromJSON(a));return this}}),Ba.prototype=Object.assign(Object.create(za.prototype),{constructor:Ba,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var a=new Ca(this.currentPoint.clone(),new r(e,t));this.curves.push(a),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,a,i){var o=new Na(this.currentPoint.clone(),new r(e,t),new r(a,i));this.curves.push(o),this.currentPoint.set(a,i)},bezierCurveTo:function(e,t,a,i,o,n){var s=new Ra(this.currentPoint.clone(),new r(e,t),new r(a,i),new r(o,n));this.curves.push(s),this.currentPoint.set(o,n)},splineThru:function(e){var t=[this.currentPoint.clone()].concat(e),r=new Da(t);this.curves.push(r),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,r,a,i,o){var n=this.currentPoint.x,s=this.currentPoint.y;this.absarc(e+n,t+s,r,a,i,o)},absarc:function(e,t,r,a,i,o){this.absellipse(e,t,r,r,a,i,o)},ellipse:function(e,t,r,a,i,o,n,s){var l=this.currentPoint.x,p=this.currentPoint.y;this.absellipse(e+l,t+p,r,a,i,o,n,s)},absellipse:function(e,t,r,a,i,o,n,s){var l=new fa(e,t,r,a,i,o,n,s);if(0<this.curves.length){var p=l.getPoint(0);p.equals(this.currentPoint)||this.lineTo(p.x,p.y)}this.curves.push(l);var d=l.getPoint(1);this.currentPoint.copy(d)},copy:function(e){return za.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=za.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return za.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),Fa.prototype=Object.assign(Object.create(Ba.prototype),{constructor:Fa,getPointsHoles:function(e){for(var t=[],r=0,a=this.holes.length;r<a;r++)t[r]=this.holes[r].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Ba.prototype.copy.call(this,e),this.holes=[];for(var t=0,r=e.holes.length,a;t<r;t++)a=e.holes[t],this.holes.push(a.clone());return this},toJSON:function(){var e=Ba.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,r=this.holes.length,a;t<r;t++)a=this.holes[t],e.holes.push(a.toJSON());return e},fromJSON:function(e){Ba.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,r=e.holes.length,a;t<r;t++)a=e.holes[t],this.holes.push(new Ba().fromJSON(a));return this}}),Oa.prototype=Object.assign(Object.create(pe.prototype),{constructor:Oa,isLight:!0,copy:function(e){return pe.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=pe.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),Ga.prototype=Object.assign(Object.create(Oa.prototype),{constructor:Ga,isHemisphereLight:!0,copy:function(e){return Oa.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Ha.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),Va.prototype=Object.assign(Object.create(Ha.prototype),{constructor:Va,isSpotLightShadow:!0,update:function(e){var t=this.camera,r=2*Ps.RAD2DEG*e.angle,a=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;(r!==t.fov||a!==t.aspect||i!==t.far)&&(t.fov=r,t.aspect=a,t.far=i,t.updateProjectionMatrix())}}),ka.prototype=Object.assign(Object.create(Oa.prototype),{constructor:ka,isSpotLight:!0,copy:function(e){return Oa.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Wa.prototype=Object.assign(Object.create(Oa.prototype),{constructor:Wa,isPointLight:!0,copy:function(e){return Oa.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),ja.prototype=Object.assign(Object.create(Ha.prototype),{constructor:ja}),Xa.prototype=Object.assign(Object.create(Oa.prototype),{constructor:Xa,isDirectionalLight:!0,copy:function(e){return Oa.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Ya.prototype=Object.assign(Object.create(Oa.prototype),{constructor:Ya,isAmbientLight:!0}),qa.prototype=Object.assign(Object.create(Oa.prototype),{constructor:qa,isRectAreaLight:!0,copy:function(e){return Oa.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=Oa.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),Za.prototype=Object.assign(Object.create(oi.prototype),{constructor:Za,ValueTypeName:'string',ValueBufferType:Array,DefaultInterpolation:ms,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Ja.prototype=Object.assign(Object.create(oi.prototype),{constructor:Ja,ValueTypeName:'bool',ValueBufferType:Array,DefaultInterpolation:ms,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Object.assign(Qa.prototype,{evaluate:function(e){var t=this.parameterPositions,r=this._cachedIndex,a=t[r],i=t[r-1];validate_interval:{seek:{var o;linear_scan:{forward_scan:if(!(e<a)){for(var n=r+2;;){if(void 0===a){if(e<i)break forward_scan;return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,e,i)}if(r===n)break;if(i=a,a=t[++r],e<a)break seek}o=t.length;break linear_scan}if(!(e>=i)){var s=t[1];e<s&&(r=2,i=s);for(var n=r-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,a);if(r===n)break;if(a=i,i=t[--r-1],e>=i)break seek}o=r,r=0;break linear_scan}break validate_interval}for(;r<o;){var l=r+o>>>1;e<t[l]?o=l:r=l+1}if(a=t[r],i=t[r-1],void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,a);if(void 0===a)return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,i,e)}this._cachedIndex=r,this.intervalChanged_(r,i,a)}return this.interpolate_(r,i,e,a)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,r=this.sampleValues,a=this.valueSize,o=0;o!==a;++o)t[o]=r[e*a+o];return t},interpolate_:function(){throw new Error('call to abstract method')},intervalChanged_:function(){}}),Object.assign(Qa.prototype,{beforeStart_:Qa.prototype.copySampleValue_,afterEnd_:Qa.prototype.copySampleValue_}),Ka.prototype=Object.assign(Object.create(Qa.prototype),{constructor:Ka,interpolate_:function(e,r,a,t){for(var o=this.resultBuffer,n=this.sampleValues,s=this.valueSize,l=e*s,p=l+s;l!==p;l+=4)i.slerpFlat(o,0,n,l-s,n,l,(a-r)/(t-r));return o}}),$a.prototype=Object.assign(Object.create(oi.prototype),{constructor:$a,ValueTypeName:'quaternion',DefaultInterpolation:us,InterpolantFactoryMethodLinear:function(e){return new Ka(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),ei.prototype=Object.assign(Object.create(oi.prototype),{constructor:ei,ValueTypeName:'color'}),ti.prototype=Object.assign(Object.create(oi.prototype),{constructor:ti,ValueTypeName:'number'}),ri.prototype=Object.assign(Object.create(Qa.prototype),{constructor:ri,DefaultSettings_:{endingStart:fs,endingEnd:fs},intervalChanged_:function(e,t,r){var a=this.parameterPositions,i=e-2,o=e+1,n=a[i],s=a[o];if(void 0===n)switch(this.getSettings_().endingStart){case hs:i=e,n=2*t-r;break;case ys:i=a.length-2,n=t+a[i]-a[i+1];break;default:i=e,n=r;}if(void 0===s)switch(this.getSettings_().endingEnd){case hs:o=e,s=2*r-t;break;case ys:o=1,s=r+a[1]-a[0];break;default:o=e-1,s=t;}var l=0.5*(r-t),p=this.valueSize;this._weightPrev=l/(t-n),this._weightNext=l/(s-r),this._offsetPrev=i*p,this._offsetNext=o*p},interpolate_:function(e,r,a,t){for(var o=this.resultBuffer,n=this.sampleValues,s=this.valueSize,l=e*s,d=this._offsetPrev,c=this._offsetNext,m=this._weightPrev,u=this._weightNext,g=(a-r)/(t-r),p=g*g,f=p*g,h=0;h!==s;++h)o[h]=(-m*f+2*m*p-m*g)*n[d+h]+((1+m)*f+(-1.5-2*m)*p+(-0.5+m)*g+1)*n[l-s+h]+((-1-u)*f+(1.5+u)*p+0.5*g)*n[l+h]+(u*f-u*p)*n[c+h];return o}}),ai.prototype=Object.assign(Object.create(Qa.prototype),{constructor:ai,interpolate_:function(e,r,a,t){for(var o=this.resultBuffer,n=this.sampleValues,s=this.valueSize,l=e*s,p=(a-r)/(t-r),d=0;d!==s;++d)o[d]=n[l-s+d]*(1-p)+n[l+d]*p;return o}}),ii.prototype=Object.assign(Object.create(Qa.prototype),{constructor:ii,interpolate_:function(e){return this.copySampleValue_(e-1)}});var sl={arraySlice:function(e,t,r){return sl.isTypedArray(e)?new e.constructor(e.subarray(t,void 0===r?e.length:r)):e.slice(t,r)},convertArray:function(e,t,r){return e&&(r||e.constructor!==t)?'number'==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e):e},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,r=Array(t),a=0;a!==t;++a)r[a]=a;return r.sort(function(t,r){return e[t]-e[r]}),r},sortedArray:function(e,t,r){for(var a=e.length,o=new e.constructor(a),n=0,i=0,s;i!==a;++n){s=r[n]*t;for(var l=0;l!==t;++l)o[i++]=e[s+l]}return o},flattenJSON:function(e,t,r,a){for(var o=1,i=e[0];void 0!==i&&void 0===i[a];)i=e[o++];if(void 0!==i){var n=i[a];if(void 0!==n)if(Array.isArray(n))do n=i[a],void 0!==n&&(t.push(i.time),r.push.apply(r,n)),i=e[o++];while(void 0!==i);else if(void 0!==n.toArray)do n=i[a],void 0!==n&&(t.push(i.time),n.toArray(r,r.length)),i=e[o++];while(void 0!==i);else do n=i[a],void 0!==n&&(t.push(i.time),r.push(n)),i=e[o++];while(void 0!==i)}}};Object.assign(oi,{parse:function(e){if(void 0===e.type)throw new Error('THREE.KeyframeTrack: track type undefined, can not parse');var t=oi._getTrackTypeForValueTypeName(e.type);if(void 0===e.times){var r=[],a=[];sl.flattenJSON(e.keys,r,a,'value'),e.times=r,e.values=a}return void 0===t.parse?new t(e.name,e.times,e.values,e.interpolation):t.parse(e)},toJSON:function(e){var t=e.constructor,r;if(void 0!==t.toJSON)r=t.toJSON(e);else{r={name:e.name,times:sl.convertArray(e.times,Array),values:sl.convertArray(e.values,Array)};var a=e.getInterpolation();a!==e.DefaultInterpolation&&(r.interpolation=a)}return r.type=e.ValueTypeName,r},_getTrackTypeForValueTypeName:function(e){switch(e.toLowerCase()){case'scalar':case'double':case'float':case'number':case'integer':return ti;case'vector':case'vector2':case'vector3':case'vector4':return ni;case'color':return ei;case'quaternion':return $a;case'bool':case'boolean':return Ja;case'string':return Za;}throw new Error('THREE.KeyframeTrack: Unsupported typeName: '+e)}}),Object.assign(oi.prototype,{constructor:oi,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:us,InterpolantFactoryMethodDiscrete:function(e){return new ii(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new ai(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new ri(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;if(e===ms?t=this.InterpolantFactoryMethodDiscrete:e===us?t=this.InterpolantFactoryMethodLinear:e===gs?t=this.InterpolantFactoryMethodSmooth:void 0,void 0===t){var r='unsupported interpolation for '+this.ValueTypeName+' keyframe track named '+this.name;if(void 0===this.createInterpolant)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return void console.warn('THREE.KeyframeTrack:',r)}this.createInterpolant=t},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ms;case this.InterpolantFactoryMethodLinear:return us;case this.InterpolantFactoryMethodSmooth:return gs;}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,r=0,a=t.length;r!==a;++r)t[r]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,r=0,a=t.length;r!==a;++r)t[r]*=e;return this},trim:function(e,t){for(var r=this.times,a=r.length,i=0,o=a-1;i!==a&&r[i]<e;)++i;for(;-1!=o&&r[o]>t;)--o;if(++o,0!=i||o!==a){i>=o&&(o=go(o,1),i=o-1);var n=this.getValueSize();this.times=sl.arraySlice(r,i,o),this.values=sl.arraySlice(this.values,i*n,o*n)}return this},validate:function(){var e=!0,t=this.getValueSize();0!=t-xo(t)&&(console.error('THREE.KeyframeTrack: Invalid value size in track.',this),e=!1);var r=this.times,a=this.values,o=r.length;0===o&&(console.error('THREE.KeyframeTrack: Track is empty.',this),e=!1);for(var s=null,l=0,i;l!==o;l++){if(i=r[l],'number'==typeof i&&isNaN(i)){console.error('THREE.KeyframeTrack: Time is not a valid number.',this,l,i),e=!1;break}if(null!=s&&s>i){console.error('THREE.KeyframeTrack: Out of order keys.',this,l,i,s),e=!1;break}s=i}if(void 0!==a&&sl.isTypedArray(a))for(var l=0,p=a.length,n;l!==p;++l)if(n=a[l],isNaN(n)){console.error('THREE.KeyframeTrack: Value is not a valid number.',this,l,n),e=!1;break}return e},optimize:function(){for(var e=this.times,t=this.values,r=this.getValueSize(),a=this.getInterpolation()===gs,o=1,n=e.length-1,s=1;s<n;++s){var i=!1,l=e[s],p=e[s+1];if(l!==p&&(1!==s||l!==l[0]))if(!a){for(var d=s*r,c=0,m;c!==r;++c)if(m=t[d+c],m!==t[d-r+c]||m!==t[d+r+c]){i=!0;break}}else i=!0;if(i){if(s!==o){e[o]=e[s];for(var u=s*r,g=o*r,c=0;c!==r;++c)t[g+c]=t[u+c]}++o}}if(0<n){e[o]=e[n];for(var u=n*r,g=o*r,c=0;c!==r;++c)t[g+c]=t[u+c];++o}return o!==e.length&&(this.times=sl.arraySlice(e,0,o),this.values=sl.arraySlice(t,0,o*r)),this}}),ni.prototype=Object.assign(Object.create(oi.prototype),{constructor:ni,ValueTypeName:'vector'}),Object.assign(si,{parse:function(e){for(var t=[],r=e.tracks,a=1/(e.fps||1),o=0,i=r.length;o!==i;++o)t.push(oi.parse(r[o]).scale(a));return new si(e.name,e.duration,t)},toJSON:function(e){for(var t=[],r=e.tracks,a={name:e.name,duration:e.duration,tracks:t},o=0,i=r.length;o!==i;++o)t.push(oi.toJSON(r[o]));return a},CreateFromMorphTargetSequence:function(e,t,r,a){for(var o=t.length,n=[],s=0;s<o;s++){var i=[],l=[];i.push((s+o-1)%o,s,(s+1)%o),l.push(0,1,0);var p=sl.getKeyframeOrder(i);i=sl.sortedArray(i,1,p),l=sl.sortedArray(l,1,p),a||0!==i[0]||(i.push(o),l.push(l[0])),n.push(new ti('.morphTargetInfluences['+t[s].name+']',i,l).scale(1/r))}return new si(e,-1,n)},findByName:function(e,t){var r=e;if(!Array.isArray(e)){var a=e;r=a.geometry&&a.geometry.animations||a.animations}for(var o=0;o<r.length;o++)if(r[o].name===t)return r[o];return null},CreateClipsFromMorphTargetSequences:function(e,t,r){for(var a={},o=/^([\w-]*?)([\d]+)$/,n=0,i=e.length;n<i;n++){var s=e[n],l=s.name.match(o);if(l&&1<l.length){var p=l[1],d=a[p];d||(a[p]=d=[]),d.push(s)}}var c=[];for(var p in a)c.push(si.CreateFromMorphTargetSequence(p,a[p],t,r));return c},parseAnimation:function(e,t){if(!e)return console.error('THREE.AnimationClip: No animation in JSONLoader data.'),null;for(var r=function(e,t,r,a,i){if(0!==r.length){var o=[],n=[];sl.flattenJSON(r,o,n,a),0!==o.length&&i.push(new e(t,o,n))}},a=[],i=e.name||'default',o=e.length||-1,n=e.fps||30,s=e.hierarchy||[],l=0,p;l<s.length;l++)if(p=s[l].keys,p&&0!==p.length)if(p[0].morphTargets){for(var d={},c=0;c<p.length;c++)if(p[c].morphTargets)for(var u=0;u<p[c].morphTargets.length;u++)d[p[c].morphTargets[u]]=-1;for(var m in d){for(var g=[],f=[],u=0,h;u!==p[c].morphTargets.length;++u)h=p[c],g.push(h.time),f.push(h.morphTarget===m?1:0);a.push(new ti('.morphTargetInfluence['+m+']',g,f))}o=d.length*(n||1)}else{var y='.bones['+t[l].name+']';r(ni,y+'.position',p,'pos',a),r($a,y+'.quaternion',p,'rot',a),r(ni,y+'.scale',p,'scl',a)}if(0===a.length)return null;var x=new si(i,o,a);return x}}),Object.assign(si.prototype,{resetDuration:function(){for(var e=this.tracks,t=0,r=0,a=e.length,i;r!==a;++r)i=this.tracks[r],t=go(t,i.times[i.times.length-1]);this.duration=t},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}}),Object.assign(li.prototype,{load:function(e,t,r,a){var i=this,o=new ca(i.manager);o.load(e,function(e){t(i.parse(JSON.parse(e)))},r,a)},setTextures:function(e){this.textures=e},parse:function(e){function t(e){return void 0===a[e]&&console.warn('THREE.MaterialLoader: Undefined texture',e),a[e]}var a=this.textures,i=new Ks[e.type];if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&i.specular.setHex(e.specular),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearCoat&&(i.clearCoat=e.clearCoat),void 0!==e.clearCoatRoughness&&(i.clearCoatRoughness=e.clearCoatRoughness),void 0!==e.uniforms&&(i.uniforms=e.uniforms),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.vertexColors&&(i.vertexColors=e.vertexColors),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.side&&(i.side=e.side),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),1!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.skinning&&(i.skinning=e.skinning),void 0!==e.morphTargets&&(i.morphTargets=e.morphTargets),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.shading&&(i.flatShading=1===e.shading),void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=t(e.map)),void 0!==e.alphaMap&&(i.alphaMap=t(e.alphaMap),i.transparent=!0),void 0!==e.bumpMap&&(i.bumpMap=t(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=t(e.normalMap)),void 0!==e.normalScale){var o=e.normalScale;!1===Array.isArray(o)&&(o=[o,o]),i.normalScale=new r().fromArray(o)}return void 0!==e.displacementMap&&(i.displacementMap=t(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=t(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=t(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=t(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=t(e.specularMap)),void 0!==e.envMap&&(i.envMap=t(e.envMap)),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.lightMap&&(i.lightMap=t(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=t(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=t(e.gradientMap)),i}}),Object.assign(pi.prototype,{load:function(e,t,r,a){var i=this,o=new ca(i.manager);o.load(e,function(e){t(i.parse(JSON.parse(e)))},r,a)},parse:function(e){var t=new Ae,r=e.data.index;if(void 0!==r){var a=new ll[r.type](r.array);t.setIndex(new ge(a,1))}var o=e.data.attributes;for(var s in o){var l=o[s],a=new ll[l.type](l.array);t.addAttribute(s,new ge(a,l.itemSize,l.normalized))}var p=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==p)for(var d=0,i=p.length,n;d!==i;++d)n=p[d],t.addGroup(n.start,n.count,n.materialIndex);var c=e.data.boundingSphere;if(void 0!==c){var u=new m;void 0!==c.center&&u.fromArray(c.center),t.boundingSphere=new re(u,c.radius)}return t}});var ll={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:'undefined'==typeof Uint8ClampedArray?Uint8Array:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};di.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,r=0,a=t.length;r<a;r+=2){var i=t[r],o=t[r+1];if(i.test(e))return o}return null}},Object.assign(di.prototype,{crossOrigin:void 0,initMaterials:function(e,t,r){for(var a=[],o=0;o<e.length;++o)a[o]=this.createMaterial(e[o],t,r);return a},createMaterial:function(){var e={NoBlending:Do,NormalBlending:zo,AdditiveBlending:Bo,SubtractiveBlending:Fo,MultiplyBlending:Oo,CustomBlending:Go},t=new Y,r=new ua,a=new li;return function(i,o,n){function s(e,t,a,i,s){var p=o+e,d=di.Handlers.get(p),c;null===d?(r.setCrossOrigin(n),c=r.load(p)):c=d.load(p),void 0!==t&&(c.repeat.fromArray(t),1!==t[0]&&(c.wrapS=Ln),1!==t[1]&&(c.wrapT=Ln)),void 0!==a&&c.offset.fromArray(a),void 0!==i&&('repeat'===i[0]&&(c.wrapS=Ln),'mirror'===i[0]&&(c.wrapS=Pn),'repeat'===i[1]&&(c.wrapT=Ln),'mirror'===i[1]&&(c.wrapT=Pn)),void 0!==s&&(c.anisotropy=s);var m=Ps.generateUUID();return l[m]=c,m}var l={},p={uuid:Ps.generateUUID(),type:'MeshLambertMaterial'};for(var d in i){var c=i[d];switch(d){case'DbgColor':case'DbgIndex':case'opticalDensity':case'illumination':break;case'DbgName':p.name=c;break;case'blending':p.blending=e[c];break;case'colorAmbient':case'mapAmbient':console.warn('THREE.Loader.createMaterial:',d,'is no longer supported.');break;case'colorDiffuse':p.color=t.fromArray(c).getHex();break;case'colorSpecular':p.specular=t.fromArray(c).getHex();break;case'colorEmissive':p.emissive=t.fromArray(c).getHex();break;case'specularCoef':p.shininess=c;break;case'shading':'basic'===c.toLowerCase()&&(p.type='MeshBasicMaterial'),'phong'===c.toLowerCase()&&(p.type='MeshPhongMaterial'),'standard'===c.toLowerCase()&&(p.type='MeshStandardMaterial');break;case'mapDiffuse':p.map=s(c,i.mapDiffuseRepeat,i.mapDiffuseOffset,i.mapDiffuseWrap,i.mapDiffuseAnisotropy);break;case'mapDiffuseRepeat':case'mapDiffuseOffset':case'mapDiffuseWrap':case'mapDiffuseAnisotropy':break;case'mapEmissive':p.emissiveMap=s(c,i.mapEmissiveRepeat,i.mapEmissiveOffset,i.mapEmissiveWrap,i.mapEmissiveAnisotropy);break;case'mapEmissiveRepeat':case'mapEmissiveOffset':case'mapEmissiveWrap':case'mapEmissiveAnisotropy':break;case'mapLight':p.lightMap=s(c,i.mapLightRepeat,i.mapLightOffset,i.mapLightWrap,i.mapLightAnisotropy);break;case'mapLightRepeat':case'mapLightOffset':case'mapLightWrap':case'mapLightAnisotropy':break;case'mapAO':p.aoMap=s(c,i.mapAORepeat,i.mapAOOffset,i.mapAOWrap,i.mapAOAnisotropy);break;case'mapAORepeat':case'mapAOOffset':case'mapAOWrap':case'mapAOAnisotropy':break;case'mapBump':p.bumpMap=s(c,i.mapBumpRepeat,i.mapBumpOffset,i.mapBumpWrap,i.mapBumpAnisotropy);break;case'mapBumpScale':p.bumpScale=c;break;case'mapBumpRepeat':case'mapBumpOffset':case'mapBumpWrap':case'mapBumpAnisotropy':break;case'mapNormal':p.normalMap=s(c,i.mapNormalRepeat,i.mapNormalOffset,i.mapNormalWrap,i.mapNormalAnisotropy);break;case'mapNormalFactor':p.normalScale=[c,c];break;case'mapNormalRepeat':case'mapNormalOffset':case'mapNormalWrap':case'mapNormalAnisotropy':break;case'mapSpecular':p.specularMap=s(c,i.mapSpecularRepeat,i.mapSpecularOffset,i.mapSpecularWrap,i.mapSpecularAnisotropy);break;case'mapSpecularRepeat':case'mapSpecularOffset':case'mapSpecularWrap':case'mapSpecularAnisotropy':break;case'mapMetalness':p.metalnessMap=s(c,i.mapMetalnessRepeat,i.mapMetalnessOffset,i.mapMetalnessWrap,i.mapMetalnessAnisotropy);break;case'mapMetalnessRepeat':case'mapMetalnessOffset':case'mapMetalnessWrap':case'mapMetalnessAnisotropy':break;case'mapRoughness':p.roughnessMap=s(c,i.mapRoughnessRepeat,i.mapRoughnessOffset,i.mapRoughnessWrap,i.mapRoughnessAnisotropy);break;case'mapRoughnessRepeat':case'mapRoughnessOffset':case'mapRoughnessWrap':case'mapRoughnessAnisotropy':break;case'mapAlpha':p.alphaMap=s(c,i.mapAlphaRepeat,i.mapAlphaOffset,i.mapAlphaWrap,i.mapAlphaAnisotropy);break;case'mapAlphaRepeat':case'mapAlphaOffset':case'mapAlphaWrap':case'mapAlphaAnisotropy':break;case'flipSided':p.side=Ro;break;case'doubleSided':p.side=Po;break;case'transparency':console.warn('THREE.Loader.createMaterial: transparency has been renamed to opacity'),p.opacity=c;break;case'depthTest':case'depthWrite':case'colorWrite':case'opacity':case'reflectivity':case'transparent':case'visible':case'wireframe':p[d]=c;break;case'vertexColors':!0===c&&(p.vertexColors=Uo),'face'===c&&(p.vertexColors=No);break;default:console.error('THREE.Loader.createMaterial: Unsupported',d,c);}}return'MeshBasicMaterial'===p.type&&delete p.emissive,'MeshPhongMaterial'!==p.type&&delete p.specular,1>p.opacity&&(p.transparent=!0),a.setTextures(l),a.parse(p)}}()});var pl={decodeText:function(e){if('undefined'!=typeof TextDecoder)return new TextDecoder().decode(e);for(var t='',r=0,a=e.length;r<a;r++)t+=String.fromCharCode(e[r]);return t},extractUrlBase:function(e){var t=e.split('/');return 1===t.length?'./':(t.pop(),t.join('/')+'/')}};Object.assign(ci.prototype,{load:function(e,t,r,a){var i=this,o=this.texturePath&&'string'==typeof this.texturePath?this.texturePath:pl.extractUrlBase(e),n=new ca(this.manager);n.setWithCredentials(this.withCredentials),n.load(e,function(r){var a=JSON.parse(r),n=a.metadata;if(void 0!==n){var s=n.type;if(void 0!==s){if('object'===s.toLowerCase())return void console.error('THREE.JSONLoader: '+e+' should be loaded with THREE.ObjectLoader instead.');if('scene'===s.toLowerCase())return void console.error('THREE.JSONLoader: '+e+' should be loaded with THREE.SceneLoader instead.')}}var l=i.parse(a,o);t(l.geometry,l.materials)},r,a)},setTexturePath:function(e){this.texturePath=e},parse:function(){function e(e,t){function a(e,t){return e&1<<t}var o=e.faces,n=e.vertices,s=e.normals,l=e.colors,p=e.scale,d=0,c,i,g,f,h,y,x,_,b,E,T,S,M,A,w,L,R,P,C,I,N,U,D,z,B,F,u;if(void 0!==e.uvs){for(c=0;c<e.uvs.length;c++)e.uvs[c].length&&d++;for(c=0;c<d;c++)t.faceVertexUvs[c]=[]}for(f=0,h=n.length;f<h;)P=new m,P.x=n[f++]*p,P.y=n[f++]*p,P.z=n[f++]*p,t.vertices.push(P);for(f=0,h=o.length;f<h;)if(E=o[f++],T=a(E,0),S=a(E,1),M=a(E,3),A=a(E,4),w=a(E,5),L=a(E,6),R=a(E,7),T){if(I=new me,I.a=o[f],I.b=o[f+1],I.c=o[f+3],N=new me,N.a=o[f+1],N.b=o[f+2],N.c=o[f+3],f+=4,S&&(b=o[f++],I.materialIndex=b,N.materialIndex=b),g=t.faces.length,M)for(c=0;c<d;c++)for(z=e.uvs[c],t.faceVertexUvs[c][g]=[],t.faceVertexUvs[c][g+1]=[],i=0;4>i;i++)_=o[f++],F=z[2*_],u=z[2*_+1],B=new r(F,u),2!==i&&t.faceVertexUvs[c][g].push(B),0!==i&&t.faceVertexUvs[c][g+1].push(B);if(A&&(x=3*o[f++],I.normal.set(s[x++],s[x++],s[x]),N.normal.copy(I.normal)),w)for(c=0;4>c;c++)x=3*o[f++],D=new m(s[x++],s[x++],s[x]),2!==c&&I.vertexNormals.push(D),0!==c&&N.vertexNormals.push(D);if(L&&(y=o[f++],U=l[y],I.color.setHex(U),N.color.setHex(U)),R)for(c=0;4>c;c++)y=o[f++],U=l[y],2!==c&&I.vertexColors.push(new Y(U)),0!==c&&N.vertexColors.push(new Y(U));t.faces.push(I),t.faces.push(N)}else{if(C=new me,C.a=o[f++],C.b=o[f++],C.c=o[f++],S&&(b=o[f++],C.materialIndex=b),g=t.faces.length,M)for(c=0;c<d;c++)for(z=e.uvs[c],t.faceVertexUvs[c][g]=[],i=0;3>i;i++)_=o[f++],F=z[2*_],u=z[2*_+1],B=new r(F,u),t.faceVertexUvs[c][g].push(B);if(A&&(x=3*o[f++],C.normal.set(s[x++],s[x++],s[x])),w)for(c=0;3>c;c++)x=3*o[f++],D=new m(s[x++],s[x++],s[x]),C.vertexNormals.push(D);if(L&&(y=o[f++],C.color.setHex(l[y])),R)for(c=0;3>c;c++)y=o[f++],C.vertexColors.push(new Y(l[y]));t.faces.push(C)}}function t(e,t){var r=void 0===e.influencesPerVertex?2:e.influencesPerVertex;if(e.skinWeights)for(var o=0,i=e.skinWeights.length;o<i;o+=r){var n=e.skinWeights[o],l=1<r?e.skinWeights[o+1]:0,p=2<r?e.skinWeights[o+2]:0,m=3<r?e.skinWeights[o+3]:0;t.skinWeights.push(new s(n,l,p,m))}if(e.skinIndices)for(var o=0,i=e.skinIndices.length;o<i;o+=r){var u=e.skinIndices[o],a=1<r?e.skinIndices[o+1]:0,g=2<r?e.skinIndices[o+2]:0,c=3<r?e.skinIndices[o+3]:0;t.skinIndices.push(new s(u,a,g,c))}t.bones=e.bones,t.bones&&0<t.bones.length&&(t.skinWeights.length!==t.skinIndices.length||t.skinIndices.length!==t.vertices.length)&&console.warn('When skinning, number of vertices ('+t.vertices.length+'), skinIndices ('+t.skinIndices.length+'), and skinWeights ('+t.skinWeights.length+') should match.')}function a(e,t){var r=e.scale;if(void 0!==e.morphTargets)for(var a=0,i=e.morphTargets.length;a<i;a++){t.morphTargets[a]={},t.morphTargets[a].name=e.morphTargets[a].name,t.morphTargets[a].vertices=[];for(var o=t.morphTargets[a].vertices,n=e.morphTargets[a].vertices,s=0,l=n.length,p;s<l;s+=3)p=new m,p.x=n[s]*r,p.y=n[s+1]*r,p.z=n[s+2]*r,o.push(p)}if(void 0!==e.morphColors&&0<e.morphColors.length){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');for(var d=t.faces,c=e.morphColors[0].colors,a=0,i=d.length;a<i;a++)d[a].color.fromArray(c,3*a)}}function i(e,t){var r=[],a=[];void 0!==e.animation&&a.push(e.animation),void 0!==e.animations&&(e.animations.length?a=a.concat(e.animations):a.push(e.animations));for(var o=0,i;o<a.length;o++)i=si.parseAnimation(a[o],t.bones),i&&r.push(i);if(t.morphTargets){var n=si.CreateClipsFromMorphTargetSequences(t.morphTargets,10);r=r.concat(n)}0<r.length&&(t.animations=r)}return function(r,o){void 0!==r.data&&(r=r.data),r.scale=void 0===r.scale?1:1/r.scale;var n=new ue;if(e(r,n),t(r,n),a(r,n),i(r,n),n.computeFaceNormals(),n.computeBoundingSphere(),void 0===r.materials||0===r.materials.length)return{geometry:n};var s=di.prototype.initMaterials(r.materials,o,this.crossOrigin);return{geometry:n,materials:s}}}()}),Object.assign(function(e){this.manager=void 0===e?el:e,this.texturePath=''}.prototype,{load:function(e,t,r,a){''===this.texturePath&&(this.texturePath=e.substring(0,e.lastIndexOf('/')+1));var i=this,o=new ca(i.manager);o.load(e,function(r){var o=null;try{o=JSON.parse(r)}catch(t){return void 0!==a&&a(t),void console.error('THREE:ObjectLoader: Can\'t parse '+e+'.',t.message)}var n=o.metadata;return void 0===n||void 0===n.type||'geometry'===n.type.toLowerCase()?void console.error('THREE.ObjectLoader: Can\'t load '+e+'. Use THREE.JSONLoader instead.'):void i.parse(o,t)},r,a)},setTexturePath:function(e){this.texturePath=e},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,t){var r=this.parseShape(e.shapes),a=this.parseGeometries(e.geometries,r),i=this.parseImages(e.images,function(){void 0!==t&&t(s)}),o=this.parseTextures(e.textures,i),n=this.parseMaterials(e.materials,o),s=this.parseObject(e.object,a,n);return e.animations&&(s.animations=this.parseAnimations(e.animations)),(void 0===e.images||0===e.images.length)&&void 0!==t&&t(s),s},parseShape:function(e){var t={};if(void 0!==e)for(var r=0,a=e.length,i;r<a;r++)i=new Fa().fromJSON(e[r]),t[i.uuid]=i;return t},parseGeometries:function(e,t){var r={};if(void 0!==e)for(var a=new ci,o=new pi,n=0,i=e.length;n<i;n++){var s=e[n],l;switch(s.type){case'PlaneGeometry':case'PlaneBufferGeometry':l=new Qs[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case'BoxGeometry':case'BoxBufferGeometry':case'CubeGeometry':l=new Qs[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case'CircleGeometry':case'CircleBufferGeometry':l=new Qs[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case'CylinderGeometry':case'CylinderBufferGeometry':l=new Qs[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case'ConeGeometry':case'ConeBufferGeometry':l=new Qs[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case'SphereGeometry':case'SphereBufferGeometry':l=new Qs[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case'DodecahedronGeometry':case'DodecahedronBufferGeometry':case'IcosahedronGeometry':case'IcosahedronBufferGeometry':case'OctahedronGeometry':case'OctahedronBufferGeometry':case'TetrahedronGeometry':case'TetrahedronBufferGeometry':l=new Qs[s.type](s.radius,s.detail);break;case'RingGeometry':case'RingBufferGeometry':l=new Qs[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case'TorusGeometry':case'TorusBufferGeometry':l=new Qs[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case'TorusKnotGeometry':case'TorusKnotBufferGeometry':l=new Qs[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case'LatheGeometry':case'LatheBufferGeometry':l=new Qs[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case'PolyhedronGeometry':case'PolyhedronBufferGeometry':l=new Qs[s.type](s.vertices,s.indices,s.radius,s.details);break;case'ShapeGeometry':case'ShapeBufferGeometry':for(var p=[],n=0,i=s.shapes.length,d;n<i;n++)d=t[s.shapes[n]],p.push(d);l=new Qs[s.type](p,s.curveSegments);break;case'BufferGeometry':l=o.parse(s);break;case'Geometry':l=a.parse(s,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue;}l.uuid=s.uuid,void 0!==s.name&&(l.name=s.name),r[s.uuid]=l}return r},parseMaterials:function(e,t){var r={};if(void 0!==e){var a=new li;a.setTextures(t);for(var o=0,i=e.length,n;o<i;o++)if(n=e[o],'MultiMaterial'===n.type){for(var s=[],l=0;l<n.materials.length;l++)s.push(a.parse(n.materials[l]));r[n.uuid]=s}else r[n.uuid]=a.parse(n)}return r},parseAnimations:function(e){for(var t=[],r=0,a;r<e.length;r++)a=si.parse(e[r]),t.push(a);return t},parseImages:function(e,t){function r(e){return a.manager.itemStart(e),s.load(e,function(){a.manager.itemEnd(e)},void 0,function(){a.manager.itemEnd(e),a.manager.itemError(e)})}var a=this,o={};if(void 0!==e&&0<e.length){var n=new da(t),s=new ma(n);s.setCrossOrigin(this.crossOrigin);for(var p=0,i=e.length;p<i;p++){var l=e[p],d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:a.texturePath+l.url;o[l.uuid]=r(d)}}return o},parseTextures:function(e,t){function r(e,t){return'number'==typeof e?e:(console.warn('THREE.ObjectLoader.parseTexture: Constant should be in numeric form.',e),t[e])}var a={};if(void 0!==e)for(var o=0,i=e.length,s;o<i;o++){s=e[o],void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===t[s.image]&&console.warn('THREE.ObjectLoader: Undefined image',s.image);var l=new n(t[s.image]);l.needsUpdate=!0,l.uuid=s.uuid,void 0!==s.name&&(l.name=s.name),void 0!==s.mapping&&(l.mapping=r(s.mapping,dl)),void 0!==s.offset&&l.offset.fromArray(s.offset),void 0!==s.repeat&&l.repeat.fromArray(s.repeat),void 0!==s.center&&l.center.fromArray(s.center),void 0!==s.rotation&&(l.rotation=s.rotation),void 0!==s.wrap&&(l.wrapS=r(s.wrap[0],cl),l.wrapT=r(s.wrap[1],cl)),void 0!==s.minFilter&&(l.minFilter=r(s.minFilter,ml)),void 0!==s.magFilter&&(l.magFilter=r(s.magFilter,ml)),void 0!==s.anisotropy&&(l.anisotropy=s.anisotropy),void 0!==s.flipY&&(l.flipY=s.flipY),a[s.uuid]=l}return a},parseObject:function(){var e=new a;return function(t,r,a){function o(e){return void 0===r[e]&&console.warn('THREE.ObjectLoader: Undefined geometry',e),r[e]}function n(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length,o;r<i;r++)o=e[r],void 0===a[o]&&console.warn('THREE.ObjectLoader: Undefined material',o),t.push(a[o]);return t}return void 0===a[e]&&console.warn('THREE.ObjectLoader: Undefined material',e),a[e]}}var s;switch(t.type){case'Scene':s=new St,void 0!==t.background&&vo(t.background)&&(s.background=new Y(t.background)),void 0!==t.fog&&('Fog'===t.fog.type?s.fog=new Tt(t.fog.color,t.fog.near,t.fog.far):'FogExp2'===t.fog.type&&(s.fog=new Et(t.fog.color,t.fog.density)));break;case'PerspectiveCamera':s=new ft(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(s.focus=t.focus),void 0!==t.zoom&&(s.zoom=t.zoom),void 0!==t.filmGauge&&(s.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(s.filmOffset=t.filmOffset),void 0!==t.view&&(s.view=Object.assign({},t.view));break;case'OrthographicCamera':s=new ce(t.left,t.right,t.top,t.bottom,t.near,t.far);break;case'AmbientLight':s=new Ya(t.color,t.intensity);break;case'DirectionalLight':s=new Xa(t.color,t.intensity);break;case'PointLight':s=new Wa(t.color,t.intensity,t.distance,t.decay);break;case'RectAreaLight':s=new qa(t.color,t.intensity,t.width,t.height);break;case'SpotLight':s=new ka(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case'HemisphereLight':s=new Ga(t.color,t.groundColor,t.intensity);break;case'SkinnedMesh':console.warn('THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.');case'Mesh':var p=o(t.geometry),d=n(t.material);s=p.bones&&0<p.bones.length?new Ct(p,d):new ze(p,d);break;case'LOD':s=new Lt;break;case'Line':s=new Nt(o(t.geometry),n(t.material),t.mode);break;case'LineLoop':s=new Dt(o(t.geometry),n(t.material));break;case'LineSegments':s=new Ut(o(t.geometry),n(t.material));break;case'PointCloud':case'Points':s=new Bt(o(t.geometry),n(t.material));break;case'Sprite':s=new wt(n(t.material));break;case'Group':s=new Ft;break;default:s=new pe;}if(s.uuid=t.uuid,void 0!==t.name&&(s.name=t.name),void 0===t.matrix?(void 0!==t.position&&s.position.fromArray(t.position),void 0!==t.rotation&&s.rotation.fromArray(t.rotation),void 0!==t.quaternion&&s.quaternion.fromArray(t.quaternion),void 0!==t.scale&&s.scale.fromArray(t.scale)):(e.fromArray(t.matrix),e.decompose(s.position,s.quaternion,s.scale)),void 0!==t.castShadow&&(s.castShadow=t.castShadow),void 0!==t.receiveShadow&&(s.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(s.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(s.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&s.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(s.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(s.visible=t.visible),void 0!==t.userData&&(s.userData=t.userData),void 0!==t.children)for(var c=t.children,m=0;m<c.length;m++)s.add(this.parseObject(c[m],r,a));if('LOD'===t.type)for(var i=t.levels,u=0;u<i.length;u++){var l=i[u],g=s.getObjectByProperty('uuid',l.object);void 0!==g&&s.addLevel(g,l.distance)}return s}}()});var dl={UVMapping:_n,CubeReflectionMapping:bn,CubeRefractionMapping:En,EquirectangularReflectionMapping:Tn,EquirectangularRefractionMapping:Sn,SphericalReflectionMapping:Mn,CubeUVReflectionMapping:An,CubeUVRefractionMapping:wn},cl={RepeatWrapping:Ln,ClampToEdgeWrapping:Rn,MirroredRepeatWrapping:Pn},ml={NearestFilter:Cn,NearestMipMapNearestFilter:In,NearestMipMapLinearFilter:Nn,LinearFilter:Un,LinearMipMapNearestFilter:Dn,LinearMipMapLinearFilter:zn};Object.assign(mi.prototype,{moveTo:function(e,t){this.currentPath=new Ba,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,r,a){this.currentPath.quadraticCurveTo(e,t,r,a)},bezierCurveTo:function(e,t,r,a,i,o){this.currentPath.bezierCurveTo(e,t,r,a,i,o)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function r(e){for(var t=[],r=0,a=e.length;r<a;r++){var i=e[r],o=new Fa;o.curves=i.curves,t.push(o)}return t}function a(e,t){for(var r=t.length,a=!1,i=r-1,o=0;o<r;i=o++){var n=t[i],s=t[o],l=s.x-n.x,p=s.y-n.y;if(no(p)>_o){if(0>p&&(n=t[o],l=-l,s=t[i],p=-p),e.y<n.y||e.y>s.y)continue;if(e.y!==n.y){var d=p*(e.x-n.x)-l*(e.y-n.y);if(0==d)return!0;if(0>d)continue;a=!a}else if(e.x===n.x)return!0}else{if(e.y!==n.y)continue;if(s.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=s.x)return!0}}return a}var o=Js.isClockWise,n=this.subPaths;if(0===n.length)return[];if(!0===t)return r(n);var s=[],p,d,c;if(1===n.length)return d=n[0],c=new Fa,c.curves=d.curves,s.push(c),s;var m=!o(n[0].getPoints());m=e?!m:m;var u=[],g=[],f=[],h=0,y;g[h]=void 0,f[h]=[];for(var x=0,i=n.length;x<i;x++)d=n[x],y=d.getPoints(),p=o(y),p=e?!p:p,p?(!m&&g[h]&&h++,g[h]={s:new Fa,p:y},g[h].s.curves=d.curves,m&&h++,f[h]=[]):f[h].push({h:d,p:y[0]});if(!g[0])return r(n);if(1<g.length){for(var l=!1,v=[],_=0,b=g.length;_<b;_++)u[_]=[];for(var _=0,b=g.length,E;_<b;_++){E=f[_];for(var T=0;T<E.length;T++){for(var S=E[T],M=!0,A=0;A<g.length;A++)a(S.p,g[A].p)&&(_!==A&&v.push({froms:_,tos:A,hole:T}),M?(M=!1,u[A].push(S)):l=!0);M&&u[_].push(S)}}0<v.length&&!l&&(f=u)}for(var x=0,w=g.length,L;x<w;x++){c=g[x].s,s.push(c),L=f[x];for(var R=0,P=L.length;R<P;R++)c.holes.push(L[R].h)}return s}}),Object.assign(ui.prototype,{isFont:!0,generateShapes:function(e,t,r){function a(e){for(var r=(e+'').split(''),a=t/o.resolution,n=(o.boundingBox.yMax-o.boundingBox.yMin+o.underlineThickness)*a,s=0,l=0,p=[],d=0,c;d<r.length;d++)if(c=r[d],'\n'===c)s=0,l-=n;else{var m=i(c,a,s,l);s+=m.offsetX,p.push(m.path)}return p}function i(e,t,r,a){var n=o.glyphs[e]||o.glyphs['?'];if(n){var s=new mi,p=[],d,c,m,u,g,f,h,y,x,v,_;if(n.o)for(var b=n._cachedOutline||(n._cachedOutline=n.o.split(' ')),E=0,i=b.length,l;E<i;)l=b[E++],'m'===l?(d=b[E++]*t+r,c=b[E++]*t+a,s.moveTo(d,c)):'l'===l?(d=b[E++]*t+r,c=b[E++]*t+a,s.lineTo(d,c)):'q'===l?(m=b[E++]*t+r,u=b[E++]*t+a,h=b[E++]*t+r,y=b[E++]*t+a,s.quadraticCurveTo(h,y,m,u),_=p[p.length-1],_&&(g=_.x,f=_.y)):'b'===l?(m=b[E++]*t+r,u=b[E++]*t+a,h=b[E++]*t+r,y=b[E++]*t+a,x=b[E++]*t+r,v=b[E++]*t+a,s.bezierCurveTo(h,y,x,v,m,u),_=p[p.length-1],_&&(g=_.x,f=_.y)):void 0;return{offsetX:n.ha*t,path:s}}}void 0===t&&(t=100),void 0===r&&(r=4);for(var o=this.data,n=a(e),s=[],l=0,p=n.length;l<p;l++)Array.prototype.push.apply(s,n[l].toShapes());return s}}),Object.assign(function(e){this.manager=void 0===e?el:e}.prototype,{load:function(e,t,r,a){var i=this,o=new ca(this.manager);o.setPath(this.path),o.load(e,function(e){var r;try{r=JSON.parse(e)}catch(t){console.warn('THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.'),r=JSON.parse(e.substring(65,e.length-2))}var a=i.parse(r);t&&t(a)},r,a)},parse:function(e){return new ui(e)},setPath:function(e){return this.path=e,this}});var ul={getContext:function(){return void 0==gl&&(gl=new(window.AudioContext||window.webkitAudioContext)),gl},setContext:function(e){gl=e}},gl;Object.assign(gi.prototype,{load:function(e,t,r,a){var i=new ca(this.manager);i.setResponseType('arraybuffer'),i.load(e,function(e){var r=ul.getContext();r.decodeAudioData(e,function(e){t(e)})},r,a)}}),Object.assign(function(){this.type='StereoCamera',this.aspect=1,this.eyeSep=0.064,this.cameraL=new ft,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ft,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}.prototype,{update:function(){var e=new a,t=new a,r,i,o,n,s,l,p,d;return function(a){var c=r!==this||i!==a.focus||o!==a.fov||n!==a.aspect*this.aspect||s!==a.near||l!==a.far||p!==a.zoom||d!==this.eyeSep;if(c){r=this,i=a.focus,o=a.fov,n=a.aspect*this.aspect,s=a.near,l=a.far,p=a.zoom;var m=a.projectionMatrix.clone();d=this.eyeSep/2;var u=d*s/i,g=s*eo(0.5*(Ps.DEG2RAD*o))/p,f,h;t.elements[12]=-d,e.elements[12]=d,f=-g*n+u,h=g*n+u,m.elements[0]=2*s/(h-f),m.elements[8]=(h+f)/(h-f),this.cameraL.projectionMatrix.copy(m),f=-g*n-u,h=g*n-u,m.elements[0]=2*s/(h-f),m.elements[8]=(h+f)/(h-f),this.cameraR.projectionMatrix.copy(m)}this.cameraL.matrixWorld.copy(a.matrixWorld).multiply(t),this.cameraR.matrixWorld.copy(a.matrixWorld).multiply(e)}}()}),fi.prototype=Object.create(pe.prototype),fi.prototype.constructor=fi,hi.prototype=Object.assign(Object.create(pe.prototype),{constructor:hi,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(e){null===this.filter?this.gain.disconnect(this.context.destination):(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){this.gain.gain.value=e},updateMatrixWorld:function(){var e=new m,t=new i,r=new m,a=new m;return function(i){pe.prototype.updateMatrixWorld.call(this,i);var o=this.context.listener,n=this.up;this.matrixWorld.decompose(e,t,r),a.set(0,0,-1).applyQuaternion(t),o.positionX?(o.positionX.setValueAtTime(e.x,this.context.currentTime),o.positionY.setValueAtTime(e.y,this.context.currentTime),o.positionZ.setValueAtTime(e.z,this.context.currentTime),o.forwardX.setValueAtTime(a.x,this.context.currentTime),o.forwardY.setValueAtTime(a.y,this.context.currentTime),o.forwardZ.setValueAtTime(a.z,this.context.currentTime),o.upX.setValueAtTime(n.x,this.context.currentTime),o.upY.setValueAtTime(n.y,this.context.currentTime),o.upZ.setValueAtTime(n.z,this.context.currentTime)):(o.setPosition(e.x,e.y,e.z),o.setOrientation(a.x,a.y,a.z,n.x,n.y,n.z))}}()}),yi.prototype=Object.assign(Object.create(pe.prototype),{constructor:yi,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType='audioNode',this.source=e,this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType='buffer',this.autoplay&&this.play(),this},play:function(){if(!0===this.isPlaying)return void console.warn('THREE.Audio: Audio is already playing.');if(!1===this.hasPlaybackControl)return void console.warn('THREE.Audio: this Audio has no playback control.');var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.onended=this.onEnded.bind(this),e.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,e.start(this.startTime,this.offset),this.isPlaying=!0,this.source=e,this.connect()},pause:function(){return!1===this.hasPlaybackControl?void console.warn('THREE.Audio: this Audio has no playback control.'):(!0===this.isPlaying&&(this.source.stop(),this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this)},stop:function(){return!1===this.hasPlaybackControl?void console.warn('THREE.Audio: this Audio has no playback control.'):(this.source.stop(),this.offset=0,this.isPlaying=!1,this)},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){return!1===this.hasPlaybackControl?void console.warn('THREE.Audio: this Audio has no playback control.'):(this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this)},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn('THREE.Audio: this Audio has no playback control.'),!1):this.loop},setLoop:function(e){return!1===this.hasPlaybackControl?void console.warn('THREE.Audio: this Audio has no playback control.'):(this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this)},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.value=e,this}}),xi.prototype=Object.assign(Object.create(yi.prototype),{constructor:xi,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){this.panner.refDistance=e},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){this.panner.rolloffFactor=e},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){this.panner.distanceModel=e},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){this.panner.maxDistance=e},updateMatrixWorld:function(){var e=new m;return function(t){pe.prototype.updateMatrixWorld.call(this,t),e.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(e.x,e.y,e.z)}}()}),Object.assign(vi.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),r=0;r<t.length;r++)e+=t[r];return e/t.length}}),Object.assign(_i.prototype,{accumulate:function(e,t){var r=this.buffer,a=this.valueSize,o=e*a+a,n=this.cumulativeWeight;if(0===n){for(var s=0;s!==a;++s)r[o+s]=r[s];n=t}else{n+=t;var i=t/n;this._mixBufferRegion(r,o,0,i,a)}this.cumulativeWeight=n},apply:function(e){var t=this.valueSize,r=this.buffer,a=e*t+t,o=this.cumulativeWeight,n=this.binding;if(this.cumulativeWeight=0,1>o){this._mixBufferRegion(r,a,3*t,1-o,t)}for(var s=t;s!==t+t;++s)if(r[s]!==r[s+t]){n.setValue(r,a);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,r=this.valueSize,a=3*r;e.getValue(t,a);for(var o=r;o!==a;++o)t[o]=t[a+o%r];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,r,a,o,t){if(0.5<=o)for(var n=0;n!==t;++n)e[r+n]=e[a+n]},_slerp:function(e,r,a,o){i.slerpFlat(e,r,e,r,e,a,o)},_lerp:function(e,r,a,o,t){for(var n=0,i;n!==t;++n)i=r+n,e[i]=e[i]*(1-o)+e[a+n]*o}}),Object.assign(bi.prototype,{getValue:function(e,t){this.bind();var r=this._targetGroup.nCachedObjects_,a=this._bindings[r];void 0!==a&&a.getValue(e,t)},setValue:function(e,t){for(var r=this._bindings,a=this._targetGroup.nCachedObjects_,i=r.length;a!==i;++a)r[a].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}),Object.assign(Ei,{Composite:bi,create:function(e,t,r){return e&&e.isAnimationObjectGroup?new Ei.Composite(e,t,r):new Ei(e,t,r)},sanitizeNodeName:function(e){return e.replace(/\s/g,'_').replace(/[^\w-]/g,'')},parseTrackName:function(){var e=/((?:[\w-]+[\/:])*)/,t=/([\w-\.]+)?/,r=/(?:\.([\w-]+)(?:\[(.+)\])?)?/,a=/\.([\w-]+)(?:\[(.+)\])?/,i=new RegExp('^'+e.source+t.source+r.source+a.source+'$'),o=['material','materials','bones'];return function(e){var t=i.exec(e);if(!t)throw new Error('PropertyBinding: Cannot parse trackName: '+e);var r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},a=r.nodeName&&r.nodeName.lastIndexOf('.');if(void 0!==a&&-1!==a){var n=r.nodeName.substring(a+1);-1!==o.indexOf(n)&&(r.nodeName=r.nodeName.substring(0,a),r.objectName=n)}if(null===r.propertyName||0===r.propertyName.length)throw new Error('PropertyBinding: can not parse propertyName from trackName: '+e);return r}}(),findNode:function(e,t){if(!t||''===t||'root'===t||'.'===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var r=function(e){for(var r=0,a;r<e.bones.length;r++)if(a=e.bones[r],a.name===t)return a;return null},a=r(e.skeleton);if(a)return a}if(e.children){var o=function(e){for(var r=0,a;r<e.length;r++){if(a=e[r],a.name===t||a.uuid===t)return a;var i=o(a.children);if(i)return i}return null},i=o(e.children);if(i)return i}return null}}),Object.assign(Ei.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var r=this.resolvedProperty,a=0,i=r.length;a!==i;++a)e[t++]=r[a]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var r=this.resolvedProperty,a=0,i=r.length;a!==i;++a)r[a]=e[t++]},function(e,t){for(var r=this.resolvedProperty,a=0,i=r.length;a!==i;++a)r[a]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var r=this.resolvedProperty,a=0,i=r.length;a!==i;++a)r[a]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,r=t.objectName,a=t.propertyName,o=t.propertyIndex;if(e||(e=Ei.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error('THREE.PropertyBinding: Trying to update node for track: '+this.path+' but it wasn\'t found.');if(r){var n=t.objectIndex;switch(r){case'materials':if(!e.material)return void console.error('THREE.PropertyBinding: Can not bind to material as node does not have a material.',this);if(!e.material.materials)return void console.error('THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.',this);e=e.material.materials;break;case'bones':if(!e.skeleton)return void console.error('THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.',this);e=e.skeleton.bones;for(var s=0;s<e.length;s++)if(e[s].name===n){n=s;break}break;default:if(void 0===e[r])return void console.error('THREE.PropertyBinding: Can not bind to objectName of node undefined.',this);e=e[r];}if(void 0!==n){if(void 0===e[n])return void console.error('THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.',this,e);e=e[n]}}var i=e[a];if(void 0===i){var l=t.nodeName;return void console.error('THREE.PropertyBinding: Trying to update property for track: '+l+'.'+a+' but it wasn\'t found.',e)}var p=this.Versioning.None;void 0===e.needsUpdate?void 0!==e.matrixWorldNeedsUpdate&&(p=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=e):(p=this.Versioning.NeedsUpdate,this.targetObject=e);var d=this.BindingType.Direct;if(void 0!==o){if('morphTargetInfluences'===a){if(!e.geometry)return void console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.',this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.',this);for(var s=0;s<this.node.geometry.morphAttributes.position.length;s++)if(e.geometry.morphAttributes.position[s].name===o){o=s;break}}else{if(!e.geometry.morphTargets)return void console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.',this);for(var s=0;s<this.node.geometry.morphTargets.length;s++)if(e.geometry.morphTargets[s].name===o){o=s;break}}}d=this.BindingType.ArrayElement,this.resolvedProperty=i,this.propertyIndex=o}else void 0!==i.fromArray&&void 0!==i.toArray?(d=this.BindingType.HasFromToArray,this.resolvedProperty=i):Array.isArray(i)?(d=this.BindingType.EntireArray,this.resolvedProperty=i):this.propertyName=a;this.getValue=this.GetterByBindingType[d],this.setValue=this.SetterByBindingTypeAndVersioning[d][p]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Ei.prototype,{_getValue_unbound:Ei.prototype.getValue,_setValue_unbound:Ei.prototype.setValue}),Object.assign(function(){this.uuid=Ps.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,r=arguments.length;t!==r;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var a=this;this.stats={objects:{get total(){return a._objects.length},get inUse(){return this.total-a.nCachedObjects_}},get bindingsPerObject(){return a._bindings.length}}}.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,r=this.nCachedObjects_,a=this._indicesByUUID,o=this._paths,s=this._parsedPaths,l=this._bindings,p=l.length,d=0,i=arguments.length;d!==i;++d){var n=arguments[d],c=n.uuid,u=a[c],g=void 0;if(void 0===u){u=t++,a[c]=u,e.push(n);for(var f=0,h=p;f!==h;++f)l[f].push(new Ei(n,o[f],s[f]))}else if(u<r){g=e[u];var m=--r,y=e[m];a[y.uuid]=u,e[u]=y,a[c]=m,e[m]=n;for(var f=0,h=p;f!==h;++f){var x=l[f],v=x[m],_=x[u];x[u]=v,void 0===_&&(_=new Ei(n,o[f],s[f])),x[m]=_}}else e[u]!==g&&console.error('THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.')}this.nCachedObjects_=r},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,r=this._indicesByUUID,a=this._bindings,o=a.length,s=0,i=arguments.length;s!==i;++s){var n=arguments[s],l=n.uuid,p=r[l];if(void 0!==p&&p>=t){var d=t++,c=e[d];r[c.uuid]=p,e[p]=c,r[l]=d,e[d]=n;for(var m=0;m!==o;++m){var u=a[m],g=u[d],f=u[p];u[p]=g,u[d]=f}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,r=this.nCachedObjects_,a=this._indicesByUUID,o=this._bindings,s=o.length,l=0,i=arguments.length;l!==i;++l){var n=arguments[l],p=n.uuid,d=a[p];if(void 0!==d)if(delete a[p],d<r){var c=--r,u=e[c],g=--t,f=e[g];a[u.uuid]=d,e[d]=u,a[f.uuid]=c,e[c]=f,e.pop();for(var h=0,y=s;h!==y;++h){var m=o[h],x=m[c],v=m[g];m[d]=x,m[c]=v,m.pop()}}else{var g=--t,f=e[g];a[f.uuid]=d,e[d]=f,e.pop();for(var h=0,y=s,m;h!==y;++h)m=o[h],m[d]=m[g],m.pop()}}this.nCachedObjects_=r},subscribe_:function(e,t){var r=this._bindingsIndicesByPath,a=r[e],o=this._bindings;if(void 0!==a)return o[a];var s=this._paths,l=this._parsedPaths,p=this._objects,d=p.length,c=this.nCachedObjects_,m=Array(d);a=o.length,r[e]=a,s.push(e),l.push(t),o.push(m);for(var u=c,i=p.length,n;u!==i;++u)n=p[u],m[u]=new Ei(n,e,t);return m},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,r=t[e];if(void 0!==r){var a=this._paths,i=this._parsedPaths,o=this._bindings,n=o.length-1,s=o[n],l=e[n];t[l]=r,o[r]=s,o.pop(),i[r]=i[n],i.pop(),a[r]=a[n],a.pop()}}}),Object.assign(Ti.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){var a=this._clip.duration,i=e._clip.duration;e.warp(1,i/a,t),this.warp(a/i,1,t)}return this},crossFadeTo:function(e,t,r){return e.crossFadeFrom(this,t,r)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,r){var a=this._mixer,i=a.time,o=this._timeScaleInterpolant,n=this.timeScale;null===o&&(o=a._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,l=o.sampleValues;return s[0]=i,s[1]=i+r,l[0]=e/n,l[1]=t/n,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,r,a){if(!this.enabled)return void this._updateWeight(e);var i=this._startTime;if(null!==i){var o=(e-i)*r;if(0>o||0===r)return;this._startTime=null,t=r*o}t*=this._updateTimeScale(e);var n=this._updateTime(t),s=this._updateWeight(e);if(0<s)for(var l=this._interpolants,p=this._propertyBindings,d=0,c=l.length;d!==c;++d)l[d].evaluate(n),p[d].accumulate(a,s)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var r=this._weightInterpolant;if(null!==r){var a=r.evaluate(e)[0];t*=a,e>r.parameterPositions[1]&&(this.stopFading(),0===a&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var r=this._timeScaleInterpolant;if(null!==r){var a=r.evaluate(e)[0];t*=a,e>r.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e;if(0===e)return t;var r=this._clip.duration,a=this.loop,i=this._loopCount;if(a===2200){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));handle_stop:{if(t>=r)t=r;else if(0>t)t=0;else break handle_stop;this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:'finished',action:this,direction:0>e?-1:1})}}else{var o=a===2202;if(-1===i&&(0<=e?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),t>=r||0>t){var n=xo(t/r);t-=r*n,i+=no(n);var s=this.repetitions-i;if(0>s)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=0<e?r:0,this._mixer.dispatchEvent({type:'finished',action:this,direction:0<e?1:-1});else{if(0==s){var l=0>e;this._setEndings(l,!l,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this._mixer.dispatchEvent({type:'loop',action:this,loopDelta:n})}}if(o&&1==(1&i))return this.time=t,r-t}return this.time=t,t},_setEndings:function(e,t,r){var a=this._interpolantSettings;r?(a.endingStart=hs,a.endingEnd=hs):(a.endingStart=e?this.zeroSlopeAtStart?hs:fs:ys,a.endingEnd=t?this.zeroSlopeAtEnd?hs:fs:ys)},_scheduleFading:function(e,t,r){var a=this._mixer,i=a.time,o=this._weightInterpolant;null===o&&(o=a._lendControlInterpolant(),this._weightInterpolant=o);var n=o.parameterPositions,s=o.sampleValues;return n[0]=i,s[0]=t,n[1]=i+e,s[1]=r,this}}),Si.prototype=Object.assign(Object.create(t.prototype),{constructor:Si,_bindAction:function(e,t){var r=e._localRoot||this._root,a=e._clip.tracks,o=a.length,n=e._propertyBindings,s=e._interpolants,l=r.uuid,p=this._bindingsByRootAndName,d=p[l];void 0===d&&(d={},p[l]=d);for(var c=0;c!==o;++c){var i=a[c],m=i.name,u=d[m];if(void 0!==u)n[c]=u;else{if(u=n[c],void 0!==u){null===u._cacheIndex&&(++u.referenceCount,this._addInactiveBinding(u,l,m));continue}var g=t&&t._propertyBindings[c].binding.parsedPath;u=new _i(Ei.create(r,m,g),i.ValueTypeName,i.getValueSize()),++u.referenceCount,this._addInactiveBinding(u,l,m),n[c]=u}s[c].resultBuffer=u.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,r=e._clip.uuid,a=this._actionsByClip[r];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,r,t)}for(var o=e._propertyBindings,s=0,i=o.length,n;s!==i;++s)n=o[s],0==n.useCount++&&(this._lendBinding(n),n.saveOriginalState());this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,r=0,a=t.length,i;r!==a;++r)i=t[r],0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i));this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,r){var a=this._actions,i=this._actionsByClip,o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{var n=o.knownActions;e._byClipCacheIndex=n.length,n.push(e)}e._cacheIndex=a.length,a.push(e),o.actionByRoot[r]=e},_removeInactiveAction:function(e){var t=this._actions,r=t[t.length-1],a=e._cacheIndex;r._cacheIndex=a,t[a]=r,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,o=this._actionsByClip,n=o[i],s=n.knownActions,l=s[s.length-1],p=e._byClipCacheIndex;l._byClipCacheIndex=p,s[p]=l,s.pop(),e._byClipCacheIndex=null;var d=n.actionByRoot,c=(e._localRoot||this._root).uuid;delete d[c],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,r=0,a=t.length,i;r!==a;++r)i=t[r],0==--i.referenceCount&&this._removeInactiveBinding(i)},_lendAction:function(e){var t=this._actions,r=e._cacheIndex,a=this._nActiveActions++,i=t[a];e._cacheIndex=a,t[a]=e,i._cacheIndex=r,t[r]=i},_takeBackAction:function(e){var t=this._actions,r=e._cacheIndex,a=--this._nActiveActions,i=t[a];e._cacheIndex=a,t[a]=e,i._cacheIndex=r,t[r]=i},_addInactiveBinding:function(e,t,r){var a=this._bindingsByRootAndName,i=a[t],o=this._bindings;void 0===i&&(i={},a[t]=i),i[r]=e,e._cacheIndex=o.length,o.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,r=e.binding,a=r.rootNode.uuid,i=r.path,o=this._bindingsByRootAndName,n=o[a],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete n[i];remove_empty_map:{for(var p in n)break remove_empty_map;delete o[a]}},_lendBinding:function(e){var t=this._bindings,r=e._cacheIndex,a=this._nActiveBindings++,i=t[a];e._cacheIndex=a,t[a]=e,i._cacheIndex=r,t[r]=i},_takeBackBinding:function(e){var t=this._bindings,r=e._cacheIndex,a=--this._nActiveBindings,i=t[a];e._cacheIndex=a,t[a]=e,i._cacheIndex=r,t[r]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,r=e[t];return void 0===r&&(r=new ai(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),r.__cacheIndex=t,e[t]=r),r},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,r=e.__cacheIndex,a=--this._nActiveControlInterpolants,i=t[a];e.__cacheIndex=a,t[a]=e,i.__cacheIndex=r,t[r]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var r=t||this._root,a=r.uuid,i='string'==typeof e?si.findByName(r,e):e,o=null===i?e:i.uuid,n=this._actionsByClip[o],s=null;if(void 0!==n){var l=n.actionByRoot[a];if(void 0!==l)return l;s=n.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var p=new Ti(this,i,t);return this._bindAction(p,s),this._addInactiveAction(p,o,a),p},existingAction:function(e,t){var r=t||this._root,a=r.uuid,i='string'==typeof e?si.findByName(r,e):e,o=i?i.uuid:e,n=this._actionsByClip[o];return void 0===n?null:n.actionByRoot[a]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,r=this._bindings,a=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var o=0;o!==t;++o)e[o].reset();for(var o=0;o!==a;++o)r[o].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,r=this._nActiveActions,a=this.time+=e,o=yo(e),n=this._accuIndex^=1,s=0,i;s!==r;++s)i=t[s],i._update(a,e,o,n);for(var l=this._bindings,p=this._nActiveBindings,s=0;s!==p;++s)l[s].apply(n);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,r=e.uuid,a=this._actionsByClip,o=a[r];if(void 0!==o){for(var s=o.knownActions,l=0,i=s.length,n;l!==i;++l){n=s[l],this._deactivateAction(n);var p=n._cacheIndex,d=t[t.length-1];n._cacheIndex=null,n._byClipCacheIndex=null,d._cacheIndex=p,t[p]=d,t.pop(),this._removeInactiveBindingsForAction(n)}delete a[r]}},uncacheRoot:function(e){var t=e.uuid,r=this._actionsByClip;for(var a in r){var i=r[a].actionByRoot,o=i[t];void 0!==o&&(this._deactivateAction(o),this._removeInactiveAction(o))}var n=this._bindingsByRootAndName,s=n[t];if(void 0!==s)for(var l in s){var p=s[l];p.restoreOriginalState(),this._removeInactiveBinding(p)}},uncacheAction:function(e,t){var r=this.existingAction(e,t);null!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}}),Mi.prototype.clone=function(){return new Mi(void 0===this.value.clone?this.value:this.value.clone())},Ai.prototype=Object.assign(Object.create(Ae.prototype),{constructor:Ai,isInstancedBufferGeometry:!0,copy:function(e){return Ae.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return new this.constructor().copy(this)}}),Object.defineProperties(wi.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(wi.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this},setXYZ:function(e,t,r,a){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=a,this},setXYZW:function(e,t,r,a,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=a,this.data.array[e+3]=i,this}}),Object.defineProperty(Li.prototype,'needsUpdate',{set:function(e){!0===e&&this.version++}}),Object.assign(Li.prototype,{isInterleavedBuffer:!0,setArray:function(e){if(Array.isArray(e))throw new TypeError('THREE.BufferAttribute: array should be a Typed Array.');this.count=void 0===e?0:e.length/this.stride,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,r){e*=this.stride,r*=t.stride;for(var a=0,i=this.stride;a<i;a++)this.array[e+a]=t.array[r+a];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return new this.constructor().copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),Ri.prototype=Object.assign(Object.create(Li.prototype),{constructor:Ri,isInstancedInterleavedBuffer:!0,copy:function(e){return Li.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Pi.prototype=Object.assign(Object.create(ge.prototype),{constructor:Pi,isInstancedBufferAttribute:!0,copy:function(e){return ge.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(function(e,t,r,a){this.ray=new Ne(e,t),this.near=r||0,this.far=a||Infinity,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn('THREE.Raycaster: params.PointCloud has been renamed to params.Points.'),this.Points}}})}.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,0.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error('THREE.Raycaster: Unsupported camera type.')},intersectObject:function(e,t){var r=[];return Ii(e,this,r,t),r.sort(Ci),r},intersectObjects:function(e,t){var r=[];if(!1===Array.isArray(e))return console.warn('THREE.Raycaster.intersectObjects: objects is not an Array.'),r;for(var a=0,i=e.length;a<i;a++)Ii(e[a],this,r,t);return r.sort(Ci),r}}),Object.assign(function(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}.prototype,{start:function(){this.startTime=('undefined'==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=('undefined'==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}),Object.assign(function(e,t,r){return this.radius=void 0===e?1:e,this.phi=void 0===t?0:t,this.theta=void 0===r?0:r,this}.prototype,{set:function(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){var e=1e-6;return this.phi=go(e,fo(ho-e,this.phi)),this},setFromVector3:function(e){return this.radius=e.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=oo(e.x,e.z),this.phi=ro(Ps.clamp(e.y/this.radius,-1,1))),this}}),Object.assign(function(e,t,r){return this.radius=void 0===e?1:e,this.theta=void 0===t?0:t,this.y=void 0===r?0:r,this}.prototype,{set:function(e,t,r){return this.radius=e,this.theta=t,this.y=r,this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.radius=so(e.x*e.x+e.z*e.z),this.theta=oo(e.x,e.z),this.y=e.y,this}}),Ni.prototype=Object.create(pe.prototype),Ni.prototype.constructor=Ni,Ni.prototype.isImmediateRenderObject=!0,Ui.prototype=Object.create(Ut.prototype),Ui.prototype.constructor=Ui,Ui.prototype.update=function(){var e=new m,t=new m,r=new o;return function(){var a=['a','b','c'];this.object.updateMatrixWorld(!0),r.getNormalMatrix(this.object.matrixWorld);var o=this.object.matrixWorld,n=this.geometry.attributes.position,s=this.object.geometry;if(s&&s.isGeometry)for(var p=s.vertices,d=s.faces,c=0,m=0,i=d.length,l;m<i;m++){l=d[m];for(var u=0,g=l.vertexNormals.length;u<g;u++){var f=p[l[a[u]]],h=l.vertexNormals[u];e.copy(f).applyMatrix4(o),t.copy(h).applyMatrix3(r).normalize().multiplyScalar(this.size).add(e),n.setXYZ(c,e.x,e.y,e.z),++c,n.setXYZ(c,t.x,t.y,t.z),++c}}else if(s&&s.isBufferGeometry)for(var y=s.attributes.position,x=s.attributes.normal,c=0,u=0,g=y.count;u<g;u++)e.set(y.getX(u),y.getY(u),y.getZ(u)).applyMatrix4(o),t.set(x.getX(u),x.getY(u),x.getZ(u)),t.applyMatrix3(r).normalize().multiplyScalar(this.size).add(e),n.setXYZ(c,e.x,e.y,e.z),++c,n.setXYZ(c,t.x,t.y,t.z),++c;n.needsUpdate=!0}}(),Di.prototype=Object.create(pe.prototype),Di.prototype.constructor=Di,Di.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Di.prototype.update=function(){var e=new m,t=new m;return function(){this.light.updateMatrixWorld();var r=this.light.distance?this.light.distance:1e3,a=r*eo(this.light.angle);this.cone.scale.set(a,a,r),e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t.sub(e)),void 0===this.color?this.cone.material.color.copy(this.light.color):this.cone.material.color.set(this.color)}}(),Bi.prototype=Object.create(Ut.prototype),Bi.prototype.constructor=Bi,Bi.prototype.updateMatrixWorld=function(){var e=new m,t=new a,r=new a;return function(a){var o=this.bones,n=this.geometry,s=n.getAttribute('position');r.getInverse(this.root.matrixWorld);for(var l=0,i=0,p;l<o.length;l++)p=o[l],p.parent&&p.parent.isBone&&(t.multiplyMatrices(r,p.matrixWorld),e.setFromMatrixPosition(t),s.setXYZ(i,e.x,e.y,e.z),t.multiplyMatrices(r,p.parent.matrixWorld),e.setFromMatrixPosition(t),s.setXYZ(i+1,e.x,e.y,e.z),i+=2);n.getAttribute('position').needsUpdate=!0,pe.prototype.updateMatrixWorld.call(this,a)}}(),Fi.prototype=Object.create(ze.prototype),Fi.prototype.constructor=Fi,Fi.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Fi.prototype.update=function(){void 0===this.color?this.material.color.copy(this.light.color):this.material.color.set(this.color)},Oi.prototype=Object.create(pe.prototype),Oi.prototype.constructor=Oi,Oi.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Oi.prototype.update=function(){var e=0.5*this.light.width,t=0.5*this.light.height,r=this.line.geometry.attributes.position,a=r.array;a[0]=e,a[1]=-t,a[2]=0,a[3]=e,a[4]=t,a[5]=0,a[6]=-e,a[7]=t,a[8]=0,a[9]=-e,a[10]=-t,a[11]=0,a[12]=e,a[13]=-t,a[14]=0,r.needsUpdate=!0,void 0===this.color?this.line.material.color.copy(this.light.color):this.line.material.color.set(this.color)},Gi.prototype=Object.create(pe.prototype),Gi.prototype.constructor=Gi,Gi.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Gi.prototype.update=function(){var e=new m,t=new Y,r=new Y;return function(){var a=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var o=a.geometry.getAttribute('color');t.copy(this.light.color),r.copy(this.light.groundColor);for(var n=0,i=o.count,s;n<i;n++)s=n<i/2?t:r,o.setXYZ(n,s.r,s.g,s.b);o.needsUpdate=!0}a.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),Hi.prototype=Object.create(Ut.prototype),Hi.prototype.constructor=Hi,Vi.prototype=Object.create(Ut.prototype),Vi.prototype.constructor=Vi,ki.prototype=Object.create(Ut.prototype),ki.prototype.constructor=ki,ki.prototype.update=function(){var e=new m,t=new m,r=new o;return function(){this.object.updateMatrixWorld(!0),r.getNormalMatrix(this.object.matrixWorld);for(var a=this.object.matrixWorld,o=this.geometry.attributes.position,n=this.object.geometry,s=n.vertices,p=n.faces,d=0,c=0,i=p.length;c<i;c++){var l=p[c],m=l.normal;e.copy(s[l.a]).add(s[l.b]).add(s[l.c]).divideScalar(3).applyMatrix4(a),t.copy(m).applyMatrix3(r).normalize().multiplyScalar(this.size).add(e),o.setXYZ(d,e.x,e.y,e.z),++d,o.setXYZ(d,t.x,t.y,t.z),++d}o.needsUpdate=!0}}(),Wi.prototype=Object.create(pe.prototype),Wi.prototype.constructor=Wi,Wi.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Wi.prototype.update=function(){var e=new m,t=new m,r=new m;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),r.subVectors(t,e),this.lightPlane.lookAt(r),void 0===this.color?(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)):(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)),this.targetLine.lookAt(r),this.targetLine.scale.z=r.length()}}(),ji.prototype=Object.create(Ut.prototype),ji.prototype.constructor=ji,ji.prototype.update=function(){function e(e,n,s,p){t.set(n,s,p).unproject(r);var d=o[e];if(void 0!==d)for(var c=a.getAttribute('position'),m=0,i=d.length;m<i;m++)c.setXYZ(d[m],t.x,t.y,t.z)}var t=new m,r=new de,a,o;return function(){a=this.geometry,o=this.pointMap;var t=1,i=1;r.projectionMatrix.copy(this.camera.projectionMatrix),e('c',0,0,-1),e('t',0,0,1),e('n1',-t,-i,-1),e('n2',t,-i,-1),e('n3',-t,i,-1),e('n4',t,i,-1),e('f1',-t,-i,1),e('f2',t,-i,1),e('f3',-t,i,1),e('f4',t,i,1),e('u1',0.7*t,1.1*i,-1),e('u2',0.7*-t,1.1*i,-1),e('u3',0,2*i,-1),e('cf1',-t,0,1),e('cf2',t,0,1),e('cf3',0,-i,1),e('cf4',0,i,1),e('cn1',-t,0,-1),e('cn2',t,0,-1),e('cn3',0,-i,-1),e('cn4',0,i,-1),a.getAttribute('position').needsUpdate=!0}}(),Xi.prototype=Object.create(Ut.prototype),Xi.prototype.constructor=Xi,Xi.prototype.update=function(){var e=new te;return function(t){if(void 0!==t&&console.warn('THREE.BoxHelper: .update() has no longer arguments.'),void 0!==this.object&&e.setFromObject(this.object),!e.isEmpty()){var r=e.min,a=e.max,i=this.geometry.attributes.position,o=i.array;o[0]=a.x,o[1]=a.y,o[2]=a.z,o[3]=r.x,o[4]=a.y,o[5]=a.z,o[6]=r.x,o[7]=r.y,o[8]=a.z,o[9]=a.x,o[10]=r.y,o[11]=a.z,o[12]=a.x,o[13]=a.y,o[14]=r.z,o[15]=r.x,o[16]=a.y,o[17]=r.z,o[18]=r.x,o[19]=r.y,o[20]=r.z,o[21]=a.x,o[22]=r.y,o[23]=r.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),Xi.prototype.setFromObject=function(e){return this.object=e,this.update(),this},Yi.prototype=Object.create(Ut.prototype),Yi.prototype.constructor=Yi,Yi.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(0.5),pe.prototype.updateMatrixWorld.call(this,e))},qi.prototype=Object.create(Nt.prototype),qi.prototype.constructor=qi,qi.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;1e-8>no(t)&&(t=1e-8),this.scale.set(0.5*this.size,0.5*this.size,t),this.lookAt(this.plane.normal),pe.prototype.updateMatrixWorld.call(this,e)};var fl,hl;Zi.prototype=Object.create(pe.prototype),Zi.prototype.constructor=Zi,Zi.prototype.setDirection=function(){var e=new m,t;return function(r){0.99999<r.y?this.quaternion.set(0,0,0,1):-0.99999>r.y?this.quaternion.set(1,0,0,0):(e.set(r.z,0,-r.x).normalize(),t=ro(r.y),this.quaternion.setFromAxisAngle(e,t))}}(),Zi.prototype.setLength=function(e,t,r){void 0===t&&(t=0.2*e),void 0===r&&(r=0.2*t),this.line.scale.set(1,go(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()},Zi.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},Ji.prototype=Object.create(Ut.prototype),Ji.prototype.constructor=Ji,ga.create=function(e,t){return console.log('THREE.Curve.create() has been deprecated'),e.prototype=Object.create(ga.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(za.prototype,{createPointsGeometry:function(e){console.warn('THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.');var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn('THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.');var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn('THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.');for(var t=new ue,r=0,a=e.length,i;r<a;r++)i=e[r],t.vertices.push(new m(i.x,i.y,i.z||0));return t}}),Object.assign(Ba.prototype,{fromPoints:function(e){console.warn('THREE.Path: .fromPoints() has been renamed to .setFromPoints().'),this.setFromPoints(e)}}),Qi.prototype=Object.create(xa.prototype),Object.assign(Qi.prototype,{initFromArray:function(){console.error('THREE.Spline: .initFromArray() has been removed.')},getControlPointsArray:function(){console.error('THREE.Spline: .getControlPointsArray() has been removed.')},reparametrizeByArcLength:function(){console.error('THREE.Spline: .reparametrizeByArcLength() has been removed.')}}),Hi.prototype.setColors=function(){console.error('THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.')},Bi.prototype.update=function(){console.error('THREE.SkeletonHelper: update() no longer needs to be called.')},Object.assign(di.prototype,{extractUrlBase:function(e){return console.warn('THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.'),pl.extractUrlBase(e)}}),Object.assign(q.prototype,{center:function(e){return console.warn('THREE.Box2: .center() has been renamed to .getCenter().'),this.getCenter(e)},empty:function(){return console.warn('THREE.Box2: .empty() has been renamed to .isEmpty().'),this.isEmpty()},isIntersectionBox:function(e){return console.warn('THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().'),this.intersectsBox(e)},size:function(e){return console.warn('THREE.Box2: .size() has been renamed to .getSize().'),this.getSize(e)}}),Object.assign(te.prototype,{center:function(e){return console.warn('THREE.Box3: .center() has been renamed to .getCenter().'),this.getCenter(e)},empty:function(){return console.warn('THREE.Box3: .empty() has been renamed to .isEmpty().'),this.isEmpty()},isIntersectionBox:function(e){return console.warn('THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().'),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn('THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().'),this.intersectsSphere(e)},size:function(e){return console.warn('THREE.Box3: .size() has been renamed to .getSize().'),this.getSize(e)}}),Ue.prototype.center=function(e){return console.warn('THREE.Line3: .center() has been renamed to .getCenter().'),this.getCenter(e)},Object.assign(Ps,{random16:function(){return console.warn('THREE.Math: .random16() has been deprecated. Use Math.random() instead.'),Math.random()},nearestPowerOfTwo:function(e){return console.warn('THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().'),Ps.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn('THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().'),Ps.ceilPowerOfTwo(e)}}),Object.assign(o.prototype,{flattenToArrayOffset:function(e,t){return console.warn('THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.'),this.toArray(e,t)},multiplyVector3:function(e){return console.warn('THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.'),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error('THREE.Matrix3: .multiplyVector3Array() has been removed.')},applyToBuffer:function(e){return console.warn('THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.'),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error('THREE.Matrix3: .applyToVector3Array() has been removed.')}}),Object.assign(a.prototype,{extractPosition:function(e){return console.warn('THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().'),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn('THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.'),this.toArray(e,t)},getPosition:function(){var e;return function(){return void 0==e&&(e=new m),console.warn('THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.'),e.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(e){return console.warn('THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().'),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn('THREE.Matrix4: .multiplyToArray() has been removed.')},multiplyVector3:function(e){return console.warn('THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.'),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn('THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.'),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error('THREE.Matrix4: .multiplyVector3Array() has been removed.')},rotateAxis:function(e){console.warn('THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.'),e.transformDirection(this)},crossVector:function(e){return console.warn('THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.'),e.applyMatrix4(this)},translate:function(){console.error('THREE.Matrix4: .translate() has been removed.')},rotateX:function(){console.error('THREE.Matrix4: .rotateX() has been removed.')},rotateY:function(){console.error('THREE.Matrix4: .rotateY() has been removed.')},rotateZ:function(){console.error('THREE.Matrix4: .rotateZ() has been removed.')},rotateByAxis:function(){console.error('THREE.Matrix4: .rotateByAxis() has been removed.')},applyToBuffer:function(e){return console.warn('THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.'),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error('THREE.Matrix4: .applyToVector3Array() has been removed.')},makeFrustum:function(e,t,r,a,i,o){return console.warn('THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.'),this.makePerspective(e,t,a,r,i,o)}}),ae.prototype.isIntersectionLine=function(e){return console.warn('THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().'),this.intersectsLine(e)},i.prototype.multiplyVector3=function(e){return console.warn('THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.'),e.applyQuaternion(this)},Object.assign(Ne.prototype,{isIntersectionBox:function(e){return console.warn('THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().'),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn('THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().'),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn('THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().'),this.intersectsSphere(e)}}),Object.assign(Fa.prototype,{extractAllPoints:function(e){return console.warn('THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.'),this.extractPoints(e)},extrude:function(e){return console.warn('THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.'),new Dr(this,e)},makeGeometry:function(e){return console.warn('THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.'),new jr(this,e)}}),Object.assign(r.prototype,{fromAttribute:function(e,t,r){return console.warn('THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().'),this.fromBufferAttribute(e,t,r)},distanceToManhattan:function(e){return console.warn('THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().'),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn('THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().'),this.manhattanLength()}}),Object.assign(m.prototype,{setEulerFromRotationMatrix:function(){console.error('THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.')},setEulerFromQuaternion:function(){console.error('THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.')},getPositionFromMatrix:function(e){return console.warn('THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().'),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn('THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().'),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn('THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().'),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn('THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.'),this.applyMatrix4(e)},fromAttribute:function(e,t,r){return console.warn('THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().'),this.fromBufferAttribute(e,t,r)},distanceToManhattan:function(e){return console.warn('THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().'),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn('THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().'),this.manhattanLength()}}),Object.assign(s.prototype,{fromAttribute:function(e,t,r){return console.warn('THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().'),this.fromBufferAttribute(e,t,r)},lengthManhattan:function(){return console.warn('THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().'),this.manhattanLength()}}),ue.prototype.computeTangents=function(){console.warn('THREE.Geometry: .computeTangents() has been removed.')},Object.assign(pe.prototype,{getChildByName:function(e){return console.warn('THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().'),this.getObjectByName(e)},renderDepth:function(){console.warn('THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.')},translate:function(e,t){return console.warn('THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.'),this.translateOnAxis(t,e)}}),Object.defineProperties(pe.prototype,{eulerOrder:{get:function(){return console.warn('THREE.Object3D: .eulerOrder is now .rotation.order.'),this.rotation.order},set:function(e){console.warn('THREE.Object3D: .eulerOrder is now .rotation.order.'),this.rotation.order=e}},useQuaternion:{get:function(){console.warn('THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.')},set:function(){console.warn('THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.')}}}),Object.defineProperties(Lt.prototype,{objects:{get:function(){return console.warn('THREE.LOD: .objects has been renamed to .levels.'),this.levels}}}),Object.defineProperty(Rt.prototype,'useVertexTexture',{get:function(){console.warn('THREE.Skeleton: useVertexTexture has been removed.')},set:function(){console.warn('THREE.Skeleton: useVertexTexture has been removed.')}}),Object.defineProperty(ga.prototype,'__arcLengthDivisions',{get:function(){return console.warn('THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.'),this.arcLengthDivisions},set:function(e){console.warn('THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.'),this.arcLengthDivisions=e}}),ft.prototype.setLens=function(e,t){console.warn('THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup.'),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Oa.prototype,{onlyShadow:{set:function(){console.warn('THREE.Light: .onlyShadow has been removed.')}},shadowCameraFov:{set:function(e){console.warn('THREE.Light: .shadowCameraFov is now .shadow.camera.fov.'),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn('THREE.Light: .shadowCameraLeft is now .shadow.camera.left.'),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn('THREE.Light: .shadowCameraRight is now .shadow.camera.right.'),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn('THREE.Light: .shadowCameraTop is now .shadow.camera.top.'),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn('THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.'),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn('THREE.Light: .shadowCameraNear is now .shadow.camera.near.'),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn('THREE.Light: .shadowCameraFar is now .shadow.camera.far.'),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn('THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.')}},shadowBias:{set:function(e){console.warn('THREE.Light: .shadowBias is now .shadow.bias.'),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn('THREE.Light: .shadowDarkness has been removed.')}},shadowMapWidth:{set:function(e){console.warn('THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.'),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn('THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.'),this.shadow.mapSize.height=e}}}),Object.defineProperties(ge.prototype,{length:{get:function(){return console.warn('THREE.BufferAttribute: .length has been deprecated. Use .count instead.'),this.array.length}}}),Object.assign(Ae.prototype,{addIndex:function(e){console.warn('THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().'),this.setIndex(e)},addDrawCall:function(e,t,r){void 0!==r&&console.warn('THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.'),console.warn('THREE.BufferGeometry: .addDrawCall() is now .addGroup().'),this.addGroup(e,t)},clearDrawCalls:function(){console.warn('THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().'),this.clearGroups()},computeTangents:function(){console.warn('THREE.BufferGeometry: .computeTangents() has been removed.')},computeOffsets:function(){console.warn('THREE.BufferGeometry: .computeOffsets() has been removed.')}}),Object.defineProperties(Ae.prototype,{drawcalls:{get:function(){return console.error('THREE.BufferGeometry: .drawcalls has been renamed to .groups.'),this.groups}},offsets:{get:function(){return console.warn('THREE.BufferGeometry: .offsets has been renamed to .groups.'),this.groups}}}),Object.defineProperties(Mi.prototype,{dynamic:{set:function(){console.warn('THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.')}},onUpdate:{value:function(){return console.warn('THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.'),this}}}),Object.defineProperties(K.prototype,{wrapAround:{get:function(){console.warn('THREE.Material: .wrapAround has been removed.')},set:function(){console.warn('THREE.Material: .wrapAround has been removed.')}},wrapRGB:{get:function(){return console.warn('THREE.Material: .wrapRGB has been removed.'),new Y}},shading:{get:function(){console.error('THREE.'+this.type+': .shading has been removed. Use the boolean .flatShading instead.')},set:function(e){console.warn('THREE.'+this.type+': .shading has been removed. Use the boolean .flatShading instead.'),this.flatShading=e===Co}}}),Object.defineProperties(oa.prototype,{metal:{get:function(){return console.warn('THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.'),!1},set:function(){console.warn('THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead')}}}),Object.defineProperties(Ie.prototype,{derivatives:{get:function(){return console.warn('THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.'),this.extensions.derivatives},set:function(e){console.warn('THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.'),this.extensions.derivatives=e}}}),Object.assign(bt.prototype,{getCurrentRenderTarget:function(){return console.warn('THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().'),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn('THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().'),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn('THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.'),this.capabilities.precision},resetGLState:function(){return console.warn('THREE.WebGLRenderer: .resetGLState() is now .state.reset().'),this.state.reset()},supportsFloatTextures:function(){return console.warn('THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \'OES_texture_float\' ).'),this.extensions.get('OES_texture_float')},supportsHalfFloatTextures:function(){return console.warn('THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \'OES_texture_half_float\' ).'),this.extensions.get('OES_texture_half_float')},supportsStandardDerivatives:function(){return console.warn('THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \'OES_standard_derivatives\' ).'),this.extensions.get('OES_standard_derivatives')},supportsCompressedTextureS3TC:function(){return console.warn('THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \'WEBGL_compressed_texture_s3tc\' ).'),this.extensions.get('WEBGL_compressed_texture_s3tc')},supportsCompressedTexturePVRTC:function(){return console.warn('THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \'WEBGL_compressed_texture_pvrtc\' ).'),this.extensions.get('WEBGL_compressed_texture_pvrtc')},supportsBlendMinMax:function(){return console.warn('THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \'EXT_blend_minmax\' ).'),this.extensions.get('EXT_blend_minmax')},supportsVertexTextures:function(){return console.warn('THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.'),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn('THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \'ANGLE_instanced_arrays\' ).'),this.extensions.get('ANGLE_instanced_arrays')},enableScissorTest:function(e){console.warn('THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().'),this.setScissorTest(e)},initMaterial:function(){console.warn('THREE.WebGLRenderer: .initMaterial() has been removed.')},addPrePlugin:function(){console.warn('THREE.WebGLRenderer: .addPrePlugin() has been removed.')},addPostPlugin:function(){console.warn('THREE.WebGLRenderer: .addPostPlugin() has been removed.')},updateShadowMap:function(){console.warn('THREE.WebGLRenderer: .updateShadowMap() has been removed.')}}),Object.defineProperties(bt.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn('THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.'),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn('THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.'),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(e){console.warn('THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.'),this.shadowMap.cullFace=e}}}),Object.defineProperties(oe.prototype,{cullFace:{get:function(){return this.renderReverseSided?So:To},set:function(e){var t=e!==To;console.warn('WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to '+t+'.'),this.renderReverseSided=t}}}),Object.defineProperties(l.prototype,{wrapS:{get:function(){return console.warn('THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.'),this.texture.wrapS},set:function(e){console.warn('THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.'),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn('THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.'),this.texture.wrapT},set:function(e){console.warn('THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.'),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn('THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.'),this.texture.magFilter},set:function(e){console.warn('THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.'),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn('THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.'),this.texture.minFilter},set:function(e){console.warn('THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.'),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn('THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.'),this.texture.anisotropy},set:function(e){console.warn('THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.'),this.texture.anisotropy=e}},offset:{get:function(){return console.warn('THREE.WebGLRenderTarget: .offset is now .texture.offset.'),this.texture.offset},set:function(e){console.warn('THREE.WebGLRenderTarget: .offset is now .texture.offset.'),this.texture.offset=e}},repeat:{get:function(){return console.warn('THREE.WebGLRenderTarget: .repeat is now .texture.repeat.'),this.texture.repeat},set:function(e){console.warn('THREE.WebGLRenderTarget: .repeat is now .texture.repeat.'),this.texture.repeat=e}},format:{get:function(){return console.warn('THREE.WebGLRenderTarget: .format is now .texture.format.'),this.texture.format},set:function(e){console.warn('THREE.WebGLRenderTarget: .format is now .texture.format.'),this.texture.format=e}},type:{get:function(){return console.warn('THREE.WebGLRenderTarget: .type is now .texture.type.'),this.texture.type},set:function(e){console.warn('THREE.WebGLRenderTarget: .type is now .texture.type.'),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn('THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.'),this.texture.generateMipmaps},set:function(e){console.warn('THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.'),this.texture.generateMipmaps=e}}}),Object.assign(yt.prototype,{getStandingMatrix:function(){console.warn('THREE.WebVRManager: .getStandingMatrix() has been removed.')}}),Object.defineProperties(yt.prototype,{standing:{set:function(){console.warn('THREE.WebVRManager: .standing has been removed.')}}}),yi.prototype.load=function(e){console.warn('THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.');var t=this,r=new gi;return r.load(e,function(e){t.setBuffer(e)}),this},vi.prototype.getData=function(){return console.warn('THREE.AudioAnalyser: .getData() is now .getFrequencyData().'),this.getFrequencyData()},fi.prototype.updateCubeMap=function(e,t){return console.warn('THREE.CubeCamera: .updateCubeMap() is now .update().'),this.update(e,t)};class yl{constructor(e,t){this._tilesets=e,this.layers=[],this.group=t,this._mapGroup=new Ft,this._ghostGroup=new Ft,this.group.add(this._mapGroup),this.group.add(this._ghostGroup)}set map(e){this._previousMap=this._map,this._map=e,this._regenerateMeshes()}set tilesets(e){this._tilesets=e,this._regenerateMeshes(!0)}castRayOnLayer(e,t){const r=new ae(new m(0,0,1),0),a=t.intersectPlane(r);if(a){const e={x:a.x+this._map.width/2,y:-(a.y-this._map.height/2)};return e}return null}setGhosts(e){this._ghostGroup.children=[],this._map.layers.forEach((t,r)=>t.tiles.forEach((t,a)=>{const i=(e[r]||[])[a],o=this._mapGroup.children[r].children.find((e)=>e.name===a),n=i&&0<=i.tilesetId&&0<=i.tileId;if(n){const e=!t||i.tilesetId!==t.tilesetId||i.tileId!==t.tileId;if(e){o&&(o.visible=!1);const e=this._getTileMesh(i.tilesetId,i.tileId,a);if(e)return e.material=e.material.clone(),e.material.opacity=0.7,void this._ghostGroup.add(e)}}o&&(o.visible=!0)}))}_regenerateMeshes(e){if(this._map&&this._tilesets){e=e||!this._previousMap;const t=this._map.layers.map((t,r)=>{if(e||t!==this._previousMap.layers[r]){const e=new Ft;return t.tiles.forEach(({tileId:t,tilesetId:r},a)=>{const i=this._getTileMesh(r,t,a);i&&(i.name=a,e.add(i))}),e}return this._mapGroup.children[r]});this._mapGroup.remove(...this._mapGroup.children),this._mapGroup.add(...t)}}_getTileMesh(e,t,r){const a=this._tilesets[e];if(a){const e=a.meshes[t];if(e){const t=e.clone(),a=parseInt(this._map.width),i=parseInt(this._map.height),o=xo(r%a),n=xo(r/a);return t.position.set(o-a/2+0.5,-n+i-i/2-0.5,0),t}}}}class xl{constructor(e,t){this.meshes=[],this.texture=t;const r=t.image.naturalWidth,a=t.image.naturalHeight,o=e.tileWidth,n=e.tileHeight,s=xo(r/o),l=xo(a/n),i=this.texture.image,p=document.createElement('canvas');p.width=r,p.height=a;const d=p.getContext('2d');d.drawImage(i,0,0,r,a);const c=(e)=>{const t=d.getImageData(e%s*o,e/s*n,o,n).data;for(let r=0;r<t.length/4;r++){const e=4*r+3;if(0!==t[e])return!1}return!0};for(let p=0;p<s*l;p++)if(!c(p)){const e=new Re(1,1);e.faceVertexUvs=[Ki(p,r,a,o,n)],e.uvsNeedUpdate=!0;const t=new Ce({map:this.texture,transparent:!0});this.meshes[p]=new ze(e,t)}else this.meshes[p]=!1}static async load(e){const t=await new Promise((t)=>{const r=new ua;r.crossOrigin='use-credentials',r.load(e.url,t)});return t.minFilter=t.magFilter=Cn,new xl(e,t)}}const vl={CUBE:'cube',PLANE:'plane'};class _l{constructor(e,t,r){this._parent=r,this._object3D=$i(e,t);const a=(t.x||0)-0.5,i=(t.y||0)+0.5,o=(t.z||0)-0.5,n=t.width||1,s=t.height||1,l=t.depth||1;this.object3D.position.set(a+n/2,i-s/2,o+l/2),this.object3D.scale.set(t.width||1,t.height||1,t.depth||1),this._parent.add(this._object3D)}get object3D(){return this._object3D}removeSelf(){this._parent.remove(this.object3D)}}const bl=new Map;let El=!1;class Tl{static enableTesting(){El=!0,console.info('[dtile-renderer] Testing mode enabled; WebGL will not be used.')}constructor(e){this._canvas=e,this._width=1,this._height=1,El||(this.renderer=new bt({canvas:e,alpha:!0})),this.camera=new ce(0,0,0,25,0.1,1e3),this.resetView(),this.scene=new St,this._mapSceneGroup=new Ft,this.scene.add(this._mapSceneGroup),this.debugMode=!1,this.runProfile=!1,this._tilesets=[],this._mapRenderer=new yl(this.tilesets,this._mapSceneGroup)}async updateMap(e){this._mapRenderer.map=e,this._map=e}async updateTilesets(e){let t=!this._previousTilesets;await Promise.all(Object.entries(e).map(async([e,r])=>{r&&(this._previousTilesets&&this._previousTilesets[e]===r||(this._tilesets[e]=await xl.load(r),t=!0))})),Object.keys(this._previousTilesets||{}).forEach((r)=>{e[r]||(this._tilesets[r]=null,t=!0)}),this._previousTilesets=e,t&&(this._mapRenderer.tilesets=this._tilesets)}setCameraBoundOffsets(e,t,r,a){this._cameraBoundOffsets={x1:e,x2:t,y1:r,y2:a}}getTileXY(e,t,r){const a=(()=>{if(this.camera.isOrthographicCamera){const e=this._screenToWorldPosition(t,r),a=this.camera.getWorldDirection();return a.z=-a.z,new Ne(e,a)}console.warn('This type of camera is not supported for raycasting')})();return this._mapRenderer.castRayOnLayer(e,a)}render(){El||(this.debugMode&&console.time('Render Time'),this.renderer.render(this.scene,this.camera),this.debugMode&&this.printDebugInfo('Render Time'))}setGhosts(e){this._mapRenderer.setGhosts(e)}createObject(e,t){const[r,a]=(()=>this._map?[this._map.width,this._map.height]:[0,0])();return t.x-=r/2-0.5,t.y=-t.y+a/2-0.5,new _l(e,t,this.scene)}updateRendererSize(e,t){El||this.renderer.setSize(e,t),this._width=e,this._height=t,this._updateOrhtographicCamera()}zoom(e,t,r){r*=-1,r/=100;const a=Ps.clamp(this.camera.bottom-r,0.1,100),i=this._screenToWorldPosition(e,t),o=new m().subVectors(i,this.camera.position),n=o.clone().multiplyScalar(a/this.camera.bottom),s=new m().subVectors(o,n);s.setZ(0),this.camera.position.add(s),this.camera.bottom=a,this._updateOrhtographicCamera()}pan(e,t){const r=this._screenToWorldUnits(e,t);this.camera.position.add(r),this._updateOrhtographicCamera()}resetView(){this.camera.position.set(0,0,-100),this.camera.position.z=-100,this.camera.rotation.y=ho,this.camera.rotation.z=ho,this.camera.bottom=25,this._updateOrhtographicCamera()}_updateOrhtographicCamera(){const e=this.camera.bottom,t=this._width/this._height;if(this.camera.top=-e,this.camera.left=-e*t,this.camera.right=e*t,this._map){const e=this.camera,t=e.position,r=this._map.width/2,a=this._map.height/2,{x1:i,x2:o,y1:n,y2:s}=this._cameraBoundOffsets||{x1:0,x2:0,y1:0,y2:0},l=this._screenToWorldUnits(i,n),p=this._screenToWorldUnits(o,s);this.camera.position.set(Ps.clamp(t.x,fo(-r-e.left-l.x,0),go(r-e.right+p.x,0)),Ps.clamp(t.y,fo(-a-e.top-l.y,0),go(a-e.bottom+p.y,0)),t.z)}this.camera.updateProjectionMatrix()}_screenToWorldPosition(e,t){const r=new m;return r.x=2*(e/this._width)-1,r.y=2*-(t/this._height)+1,r.z=1,r.unproject(this.camera),r}_screenToWorldUnits(e,t){return new m(e/this._width*(2*this.camera.right),-t/this._height*(2*this.camera.bottom),0)}printDebugInfo(e){console.group('Render info'),console.log(`
            Draw Calls: ${this.renderer.info.render.calls}
            Vertex Count: ${this.renderer.info.render.vertices}
            Face Count: ${this.renderer.info.render.faces}
            ---
            Textures Count: ${this.renderer.info.memory.textures}
            Shader Program Count: ${this.renderer.info.programs.length}
        `.replace(/[ ]{2,}/g,'').trim()),e&&(console.log('---'),console.timeEnd(e)),console.groupEnd()}}return window.DTileRenderer=Tl,window.DTileRenderObjectType=vl,e['default']=Tl,e.ObjectType=vl,e}({});</script><script>var b9498=function(a){"use strict";function b(){return new Proxy({_functionCalls:[]},{get:(a,b)=>"later"===b?(b)=>(Object.entries(a).forEach(([a,c])=>{a.startsWith("_")||(b[a]=c)}),a._functionCalls.forEach(({key:a,args:c})=>{b[a](...c)}),b):(...c)=>{a._functionCalls.push({key:b,args:c})},set:(a,b,c)=>(a[b]=c,!0)})}const c=(()=>"undefined"==typeof global?window:global)();return c.untilLater=b,a["default"]=b,a}({});</script><dom-module id="dtile-tilemap-viewer" assetpath="src/dtile-tilemap-viewer/"><template><style>#renderer,:host{display:block;position:absolute;top:0;right:0;bottom:0;left:0;width:100%!important;height:100%!important;background:0 0}</style><canvas id="renderer"></canvas></template></dom-module><script>var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};class DTileTilemapViewer extends Polymer.Element{static get is(){return"dtile-tilemap-viewer"}static get properties(){return{renderer:{type:Object,value:()=>untilLater()},map:Object,tilesets:Object,currentLayer:{type:Number,value:0},outline:Boolean,backdrop:{type:Boolean,value:!0},selection:Array,cameraBoundOffsetX1:{type:Number,value:0},cameraBoundOffsetX2:{type:Number,value:0},cameraBoundOffsetY1:{type:Number,value:0},cameraBoundOffsetY2:{type:Number,value:0},debugEnabled:Boolean,profilingEnabled:Boolean}}static get observers(){return["_updateMap(map)","_updateTilesets(tilesets)","_showSelection(selection)","_showObjects(map.objects)",`_setCameraBoundOffsets(
                    cameraBoundOffsetX1, cameraBoundOffsetX2,
                    cameraBoundOffsetY1, cameraBoundOffsetY2
                )`,"_updateBackdrop(backdrop, map)","_updateOutline(outline, map)","_setDebug(debugEnabled, profilingEnabled)"]}ready(){super.ready(),window.mocha&&DTileRenderer.enableTesting(),this.renderer=this.renderer.later(new DTileRenderer(this.$.renderer)),this._setDebug(this.debugEnabled),this._toUpdate=[],this._setCameraBoundOffsets(this.cameraBoundOffsetX1,this.cameraBoundOffsetX2,this.cameraBoundOffsetY1,this.cameraBoundOffsetY2),this.renderer.resetView(),this._sizeListener=this.updateSize.bind(this),window.addEventListener("resize",this._sizeListener),this._backdrop=this.renderer.createObject(DTileRenderObjectType.CUBE,{material:{color:2171169}}),this._outline=this.renderer.createObject(DTileRenderObjectType.PLANE,{z:-0.5,useShaderMaterial:!0,material:{vertexShader:`
                        varying vec2 vertexPosition;

                        void main() {
                            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
                            vertexPosition = (vec4(position, 1.0) * modelMatrix).xy;
                        }
                        `,fragmentShader:`
                        varying vec2 vertexPosition;

                        vec4 line() {
                            // Credit goes here: http://madebyevan.com/shaders/grid/
                            // Only a few modifications were made to size it correctly.
                            vec2 coord = vertexPosition;

                            vec2 grid = abs(fract(coord - 0.5) - 0.5) / fwidth(coord);
                            float line = min(grid.x, grid.y);

                            return vec4(vec3(1.0), 1.0 - min(line, 1.0));
                        }

                        void main() {
                            gl_FragColor = line();
                        }
                        `,extensions:{derivatives:!0},transparent:!0}}),this._setUpPointerEvents(),this.addEventListener("mousemove",(a)=>{4===a.buttons&&(a.stopPropagation(),a.preventDefault(),this.renderer.pan(a.movementX,a.movementY),this.renderer.render())}),this.addEventListener("wheel",(a)=>{if(a.preventDefault(),a.stopPropagation(),a.ctrlKey){const{top:b,left:c}=a.target.getBoundingClientRect();this.renderer.zoom(a.clientX-c,a.clientY-b,a.deltaY)}else this.renderer.pan(a.deltaX,a.deltaY);this.renderer.render()})}updateSize(){this.renderer.updateRendererSize(this.$.renderer.offsetWidth,this.$.renderer.offsetHeight),this.render()}render(){this._renderScheduled||(this._renderScheduled=!0,requestAnimationFrame(()=>{this.renderer.render(),this._renderScheduled=!1}))}_updateMap(a){this.renderer.updateMap(a),this.renderer.render()}_updateTilesets(a){this.renderer.updateTilesets(a),this.renderer.render()}_setDebug(a,b){this.renderer.debugMode=a,this.renderer.runProfile=b}_showSelection(a=[]){this._selectionObjects&&this._selectionObjects.forEach((a)=>a.removeSelf()),this._selectionObjects=a.map(({x:a,y:b})=>this.renderer.createObject(DTileRenderObjectType.CUBE,{x:a,y:b,z:-1,material:{color:58879,opacity:0.3,transparent:!0}})),this.render()}_showObjects(a=[]){this._objectObjects&&this._objectObjects.forEach((a)=>a.removeSelf()),this._objectObjects=a.map(({x:a,y:b,width:c,height:d})=>this.renderer.createObject(DTileRenderObjectType.PLANE,{x:a,y:b,z:-3,width:c,height:d,material:{map:{texture:"/img/sprites.png",textureSize:[512,512],gridSize:[32,32],subSprite:0},transparent:!0}})),this.render()}_setCameraBoundOffsets(a,b,c,d){this.renderer.setCameraBoundOffsets(a,b,c,d)}_updateBackdrop(a,b){this._backdrop&&(a?(this._backdrop.object3D.visible=!0,this._backdrop.object3D.scale.set(b.width,b.height,1)):this._backdrop.object3D.visible=!1,this.renderer.render())}_updateOutline(a,b){this._outline&&(a?(this._outline.object3D.visible=!0,this._outline.object3D.scale.set(b.width,b.height,1)):this._outline.object3D.visible=!1,this.renderer.render())}_setUpPointerEvents(){let a,b={},c={},d={},f=!1,g=!1;const h=(a,b)=>this.renderer.getTileXY(this.currentLayer,a,b),i=(f,g,e,i)=>{var j=Math.floor;const{top:k,left:l}=this.getBoundingClientRect(),m=g.clientX-l,n=g.clientY-k,{x:o,y:p}=h(m,n)||{x:NaN,y:NaN},q={startPerciseTileX:c.x,startPerciseTileY:c.y,startTileX:j(c.x),startTileY:j(c.y),startX:d.x,startY:d.y};return new CustomEvent(f,{detail:_extends({perciseTileX:o,perciseTileY:p,tileX:j(o),tileY:j(p),x:m,y:n,shift:g.shiftKey,ctrl:g.ctrlKey,button:a},i?{}:q,{totalDeltaX:g.clientX-b.clientX,totalDeltaY:g.clientY-b.clientY,deltaX:g.movementX,deltaY:g.movementY},e),bubbles:!0})};this.addEventListener("contextmenu",(a)=>{a.preventDefault()}),this.addEventListener("mousedown",(i)=>{i.stopPropagation(),i.preventDefault(),b=i;const{top:e,left:j}=i.target.getBoundingClientRect();d={x:i.clientX-j,y:i.clientY-e},c=h(d.x,d.y),f=!0,g=!1,a=i.button}),this.addEventListener("mousemove",(a)=>{this._lastMoveEvent=a,f?(a.stopPropagation(),a.preventDefault(),4===a.buttons?g=!0:(!g&&(this.dispatchEvent(i("tile-track",b,{state:"start"})),g=!0),this.dispatchEvent(i("tile-track",a,{state:"track"})))):this.dispatchEvent(i("tile-move",a,{},!0))}),this.addEventListener("mouseup",(b)=>{f&&(b.stopPropagation(),b.preventDefault(),g?this.dispatchEvent(i("tile-track",b,{state:"end"})):this.dispatchEvent(i("tile-tap",b)),f=!1,a=void 0)}),this.addEventListener("wheel",()=>{f?this.dispatchEvent(i("tile-track",this._lastMoveEvent,{state:"track"})):this.dispatchEvent(i("tile-move",this._lastMoveEvent,{},!0))})}}customElements.define(DTileTilemapViewer.is,DTileTilemapViewer);</script><dom-module id="dtile-tileset-viewer" assetpath="src/dtile-tileset-viewer/"><template><style>:host{position:relative;min-width:200px;min-height:300px;display:block}</style><dtile-tilemap-viewer id="tileset-map-viewer" map="[[tilesetMap]]" tilesets="[[tilesets]]" selection="[[_getSelection(selection, _temporarySelection, _useTemporarySelection)]]"></dtile-tilemap-viewer></template></dom-module><script>class DTileTilesetViewer extends Polymer.Element{static get is(){return"dtile-tileset-viewer"}static get properties(){return{tilesets:Object,tilesetId:String,tilesetMap:Object,showMeta:Boolean,selection:Array,_temporarySelection:Array,_useTemporarySelection:Boolean}}static get observers(){return["_generateTilesetMap(tilesetId, tilesets, showMeta)","_toggleAnimation(showMeta)"]}get renderer(){return this.$["tileset-map-viewer"].renderer}get tilesetTileWidth(){return this.tilesetMap.width}get tilesetTileHeight(){return this.tilesetMap.height}ready(){super.ready();const a=this.$["tileset-map-viewer"],b=(a)=>{this.dispatchEvent(new CustomEvent("tileset-selection",{detail:a,bubbles:!0}))};a.addEventListener("tile-tap",(a)=>{b([{x:a.detail.tileX,y:a.detail.tileY,layer:0}])}),a.addEventListener("tile-track",(a)=>{var c=Math.max,d=Math.min;const e=[],f=[a.detail.tileX,a.detail.startTileX],g=[a.detail.tileY,a.detail.startTileY];for(let b=d(...f);b<=c(...f);b++)for(let a=d(...g);a<=c(...g);a++)0>b||0>a||b>this.tilesetMap.width||a>this.tilesetMap.height||e.push({x:b,y:a,layer:0});"end"===a.detail.state?(b(e),this._useTemporarySelection=!1):(this._temporarySelection=e,this._useTemporarySelection=!0)})}resetView(){this.renderer.resetView(),this.$["tileset-map-viewer"].updateSize()}async _generateTilesetMap(a,b){void 0===a||void 0===b||(this.tilesetMap=await generateTilesetMap(a,b[a]))}_getSelection(a,b,c){return c?b:a}_toggleAnimation(a){if(a){const a=()=>{this.showMeta&&requestAnimationFrame(a)};a()}}}function getImageDimensions(a){return new Promise((b)=>{a||b();const c=document.createElement("img");c.onload=()=>{b({width:c.width,height:c.height})},c.src=a})}async function generateTilesetMap(a,b={}){const{width:c=25*b.tileWidth,height:d=25*b.tileHeight}=(await getImageDimensions(b.url))||{},e=parseInt(c/b.tileWidth),f=parseInt(d/b.tileHeight),g=[];for(let c=0;c<e*f;c++)g[c]={tileId:c,tilesetId:a};const h={width:e,height:f,tileWidth:b.tileWidth,tileHeight:b.tileHeight,layers:[{tiles:g}]};return h}customElements.define(DTileTilesetViewer.is,DTileTilesetViewer);</script><dom-module id="dtile-map-exporter" assetpath="src/map-exporter/"><template><paper-dialog id="dialog"><h2>Export map</h2><paper-dropdown-menu label="Exporter" autofocus=""><paper-listbox slot="dropdown-content" selected="{{_selectedExporter}}"><template is="dom-repeat" items="[[exporters]]"><paper-item>[[item.exporterName]]</paper-item></template></paper-listbox></paper-dropdown-menu><div class="buttons"><paper-button dialog-dismiss="">Cancel</paper-button><paper-button dialog-confirm="" on-tap="_exportTapped">Export</paper-button></div></paper-dialog></template></dom-module><script>DTile.exporters=[];</script><script>var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};(()=>{function a(a){return a.match(/^https?:\/\//)}async function b(a){const b=await(await fetch(a)).blob(),c=await DTile.utils.readFileAsArrayBuffer(b);return new Uint8Array(c)}const c=!0,d=!1;DTile.exporters.push(class{static get exporterName(){return"DTile (JSON)"}static async exportMap(b){const c=new Map,e=b.entities.maps[b.ui.currentMapId].present;e.width=parseInt(e.width),e.height=parseInt(e.height),e.tileWidth=parseInt(e.tileWidth),e.tileHeight=parseInt(e.tileHeight);const f=b.entities.projects[b.ui.currentProjectId],g=await Promise.all(f.tilesetIds.map((a,d)=>(c.set(a,d),b.entities.tilesets[a])).map(async(b)=>{const c=a(b.url),e=c&&!d?b.url:void 0,f=c||d?void 0:`${b.name.toLowerCase()}.png`,g=void 0;return _extends({},b,{tileWidth:parseInt(b.tileWidth),tileHeight:parseInt(b.tileHeight),url:e,path:f,imageData:g})})),h=e.layers.map((a)=>_extends({},a,{tiles:a.tiles.map((a)=>0>a.tileId||0>a.tilesetId?null:{tileId:a.tileId,tilesetId:c.get(a.tilesetId)})})),i=JSON.stringify(_extends({},e,{layers:h,tilesets:g})),j=new Blob([pako.gzip(i)]);saveAs(j,`${e.name}.json${".gz"}`)}})})();</script><script>var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};(()=>{function a(a){return btoa(a.reduce((a,c)=>a+String.fromCharCode(c),""))}function b(a={}){const b=Object.entries(a);return 0>=b.length?"":`
            <properties>
                ${b.map(([a,b])=>`
                    <property name="${a}" type="string">${b}</property>
                `).join("")}
            </properties>
        `.trim()}DTile.exporters.push(class{static get exporterName(){return"Tiled (TMX)"}static async exportMap(c){const d=c.entities.maps[c.ui.currentMapId].present,e=c.entities.projects[c.ui.currentProjectId];let f=1;const{tileWidth:g,tileHeight:h}=d,i=await Promise.all(e.tilesetIds.map(async(b)=>{const d=c.entities.tilesets[b],e=await(await fetch(d.url)).blob(),g=new Image;g.src=URL.createObjectURL(e),await new Promise((a)=>g.onload=()=>a());const h=await DTile.utils.readFileAsArrayBuffer(e),i=new Uint8Array(h),j=a(pako.deflate(i)),k=parseInt(g.width/d.tileWidth)*parseInt(g.height/d.tileHeight);return f+=k,{id:b,firstgid:f-k,tileset:d,tileCount:k,image:g,imageData:j}})),j=d.layers.map((b)=>{const c=b.tiles.map((a)=>{if(-1==a.tileId||-1==a.tilesetId)return 0;const b=i.find((b)=>b.id==a.tilesetId);return b.firstgid+a.tileId}),d=new Uint8Array(c.map((a)=>[255&a,255&a>>8,255&a>>16,255&a>>24]).reduce((a,b)=>a.concat(b),[])),e=a(pako.deflate(d));return _extends({},b,{tileData:e})}),k=`
                <map version="1.0" orientation="orthogonal" renderorder="right-down"
                    width="${d.width}" height="${d.height}"
                    tilewidth="${d.tileWidth}" tileheight="${d.tileHeight}">

                    ${i.map((a)=>`
                        <tileset name="${a.tileset.name}"
                            firstgid="${a.firstgid}"
                            tilewidth="${a.tileset.tileWidth}"
                            tileheight="${a.tileset.tileHeight}"
                            tilecount="${a.tileCount}">
                            <image format="png"
                                width="${a.image.width}" height="${a.image.height}"
                                ${`
                                    source="${a.tileset.name.toLowerCase()}.png">
                                `}
                            </image>

                            ${b(a.meta)}
                        </tileset>
                    `).join("")}

                    <objectgroup name="Objects" color="#8000E5FF">
                        ${d.objects.map((a,c)=>`
                            <object id="${c}" name="${a.name}"
                                x="${a.x*g}"
                                y="${a.y*h}"
                                width="${a.width*g}"
                                height="${a.height*h}">

                                ${b(a.meta)}
                            </object>
                        `).join("")}
                    </objectgroup>

                    ${j.map((a)=>`
                        <layer name="${a.name}" width="${d.width}" height="${d.height}">
                            <data encoding="base64" compression="zlib">
                                ${a.tileData}
                            </data>
                            ${b(a.meta)}
                        </layer>
                    `).join("")}

                    ${b(d.meta)}
                </map>
            `.trim().replace(/^\s+/gm,"").replace(/(\w+=".+?")\n/g,"$1 "),l=new Blob([k],{type:"text/plain"});saveAs(l,`${d.name}.tmx`)}})})();</script><script>(()=>{DTile.exporters.push(class{static get exporterName(){return"Image (PNG)"}static async exportMap(a){const b=a.entities.maps[a.ui.currentMapId].present,c=a.entities.projects[a.ui.currentProjectId],d=parseInt(b.width),e=parseInt(b.height),f=parseInt(b.tileWidth),g=parseInt(b.tileHeight),h=document.createElement("canvas");h.width=d*f,h.height=e*g;const j=new Map,k=await Promise.all(c.tilesetIds.map((b,c)=>{j.set(b,c);const d=new Image,e=a.entities.tilesets[b],f=new Promise((a)=>{d.onload=()=>a({img:d,size:[e.tileWidth,e.tileHeight]})});return d.src=e.url,f})),l=h.getContext("2d");for(let c of b.layers)c.tiles.forEach(({tileId:a,tilesetId:b},c)=>{var e=Math.floor;if(!(0>a||0>b)){const{img:h,size:[i,m]}=k[j.get(b)],n=h.naturalWidth/f;l.drawImage(h,e(a%n)*i,e(a/n)*m,i,m,e(c%d)*f,e(c/d)*g,f,g)}});const i=await new Promise((a)=>h.toBlob((c)=>a(c)));saveAs(i,`${b.name}.png`)}})})();</script><script>class DTileMapExporter extends DTile.ReduxMixin(Polymer.Element){static get is(){return"dtile-map-exporter"}static get properties(){return{exporters:{type:Array,value:()=>[]},_selectedExporter:{type:Object}}}constructor(){super(),this.exporters.push(...DTile.exporters)}open(){this.$.dialog.open()}exportMap(a){a.exportMap(this.getState())}_exportTapped(){this.exportMap(this.exporters[this._selectedExporter])}}customElements.define(DTileMapExporter.is,DTileMapExporter);</script><script>class PaperIconRadioGroup extends Polymer.Element{static get template(){return`
                <style>
                    :host {
                        display: block;
                    }

                    ::slotted(paper-icon-button) {
                        border-radius: 50%;
                        transition: background 0.2s;
                    }

                    ::slotted(paper-icon-button[active]) {
                        background: var(--paper-icon-selected-color, rgba(255, 255, 255, 0.3));
                    }
                </style>
                <slot></slot>
            `}static get properties(){return{selected:{type:String,reflectToAttribute:!0,notify:!0}}}static get observers(){return["_updateButtons(selected)"]}constructor(){super(),this._iconButtons=[]}ready(){super.ready(),this._iconButtons=[...this.querySelectorAll("paper-icon-button")],this._iconButtons.forEach(this._registerIconButton);const a=new MutationObserver((a)=>{a.forEach((a)=>{for(let b of a.addedNodes)"PAPER-ICON-BUTTON"===b.tagName&&this._registerIconButton(b)})});a.observe(this,{childList:!0,attributes:!0,characterData:!0})}_registerIconButton(a){this._iconButtons.push(a),a.toggles=!0,a.name===this.selected&&(a.active=!0),a.addEventListener("change",()=>{a.active?(this.selected=a.name,this._updateButtons()):a.active=!0})}_updateButtons(){this._iconButtons.forEach((a)=>{a.active=a.name===this.selected})}}customElements.define("paper-icon-radio-group",PaperIconRadioGroup);</script><script>!function(f,a){var g=Math.max,h=Math.min,i={},c={},b={};!function(g){function a(d){if("number"==typeof d)return d;var e={};for(var b in d)e[b]=d[b];return e}function m(){this._delay=0,this._endDelay=0,this._fill="none",this._iterationStart=0,this._iterations=1,this._duration=0,this._playbackRate=1,this._direction="normal",this._easing="linear",this._easingFunction=u}function c(){return g.isDeprecated("Invalid timing inputs","2016-03-02","TypeError exceptions will be thrown instead.",!0)}function d(a,d){var e=new m;return d&&(e.fill="both",e.duration="auto"),"number"!=typeof a||isNaN(a)?void 0!==a&&Object.getOwnPropertyNames(a).forEach(function(b){if("auto"!=a[b]){if(("number"==typeof e[b]||"duration"==b)&&("number"!=typeof a[b]||isNaN(a[b])))return;if("fill"==b&&-1==s.indexOf(a[b]))return;if("direction"==b&&-1==t.indexOf(a[b]))return;if("playbackRate"==b&&1!==a[b]&&g.isDeprecated("AnimationEffectTiming.playbackRate","2014-11-28","Use Animation.playbackRate instead."))return;e[b]=a[b]}}):e.duration=a,e}function e(m,a,n,c){return 0>m||1<m||0>n||1<n?u:function(d){function e(d,a,b){return 3*d*(1-b)*(1-b)*b+3*a*(1-b)*b*b+b*b*b}if(0>=d){var f=0;return 0<m?f=a/m:!a&&0<n&&(f=c/n),f*d}if(1<=d){var g=0;return 1>n?g=(c-1)/(n-1):1==n&&1>m&&(g=(a-1)/(m-1)),1+g*(d-1)}for(var h=0,i=1;h<i;){var j=(h+i)/2,k=e(m,n,j);if(1e-5>r(d-k))return e(a,c,j);k<d?h=j:i=j}return e(a,c,j)}}function f(e,a){return function(b){if(1<=b)return 1;var c=1/e;return(b+=a*c)-b%c}}function b(d){B||(B=document.createElement("div").style),B.animationTimingFunction="",B.animationTimingFunction=d;var a=B.animationTimingFunction;if(""==a&&c())throw new TypeError(d+" is not a valid value for easing");return a}function i(d){if("linear"==d)return u;var a=C.exec(d);if(a)return e.apply(this,a.slice(1).map(Number));var b=E.exec(d);return b?f(+b[1],{start:v,middle:w,end:x}[b[2]]):D[d]||u}function j(b){return 0===b.duration||0===b.iterations?0:b.duration*b.iterations}function k(e,a,b){if(null==a)return F;var c=b.delay+e+b.endDelay;return a<h(b.delay,c)?G:a>=h(b.delay+e,c)?H:I}function l(f,a,b,c,d){return c===G?"backwards"==a||"both"==a?0:null:c===I?b-d:c===H?"forwards"==a||"both"==a?f:null:c===F?null:void 0}function n(g,a,b,c,d){var e=d;return 0===g?a!==G&&(e+=b):e+=c/g,e}function o(h,a,b,c,d,e){var f=h===1/0?a%1:h%1;return 0!=f||b!==H||0===c||0===d&&0!==e||(f=1),f}function p(e,a,b,c){var d=Math.floor;return e===H&&a===1/0?1/0:1===b?d(c)-1:d(c)}function q(f,a,b){var c=f;if("normal"!==f&&"reverse"!==f){var d=a;"alternate-reverse"===f&&(d+=1),c="normal",d!==1/0&&0!=d%2&&(c="reverse")}return"normal"===c?b:1-b}var r=Math.abs,s=["backwards","forwards","both","none"],t=["reverse","alternate","alternate-reverse"],u=function(b){return b};m.prototype={_setMember:function(a,b){this["_"+a]=b,this._effect&&(this._effect._timingInput[a]=b,this._effect._timing=g.normalizeTimingInput(this._effect._timingInput),this._effect.activeDuration=g.calculateActiveDuration(this._effect._timing),this._effect._animation&&this._effect._animation._rebuildUnderlyingAnimation())},get playbackRate(){return this._playbackRate},set delay(b){this._setMember("delay",b)},get delay(){return this._delay},set endDelay(b){this._setMember("endDelay",b)},get endDelay(){return this._endDelay},set fill(b){this._setMember("fill",b)},get fill(){return this._fill},set iterationStart(b){if((isNaN(b)||0>b)&&c())throw new TypeError("iterationStart must be a non-negative number, received: "+timing.iterationStart);this._setMember("iterationStart",b)},get iterationStart(){return this._iterationStart},set duration(b){if("auto"!=b&&(isNaN(b)||0>b)&&c())throw new TypeError("duration must be non-negative or auto, received: "+b);this._setMember("duration",b)},get duration(){return this._duration},set direction(b){this._setMember("direction",b)},get direction(){return this._direction},set easing(c){this._easingFunction=i(b(c)),this._setMember("easing",c)},get easing(){return this._easing},set iterations(b){if((isNaN(b)||0>b)&&c())throw new TypeError("iterations must be non-negative, received: "+b);this._setMember("iterations",b)},get iterations(){return this._iterations}};var v=1,w=.5,x=0,D={ease:e(.25,.1,.25,1),"ease-in":e(.42,0,1,1),"ease-out":e(0,0,.58,1),"ease-in-out":e(.42,0,.58,1),"step-start":f(1,v),"step-middle":f(1,w),"step-end":f(1,x)},B=null,C=/cubic-bezier\(\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*\)/,E=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/,F=0,G=1,H=2,I=3;g.cloneTimingInput=a,g.makeTiming=d,g.numericTimingToObject=function(b){return"number"==typeof b&&(b=isNaN(b)?{duration:0}:{duration:b}),b},g.normalizeTimingInput=function(a,b){return a=g.numericTimingToObject(a),d(a,b)},g.calculateActiveDuration=function(b){return r(j(b)/b.playbackRate)},g.calculateIterationProgress=function(j,a,b){var c=k(j,a,b),d=l(j,b.fill,a,c,b.delay);if(null===d)return null;var e=n(b.duration,c,b.iterations,d,b.iterationStart),f=o(e,b.iterationStart,c,b.iterations,d,b.duration),g=p(c,b.iterations,f,e),h=q(b.direction,g,f);return b._easingFunction(h)},g.calculatePhase=k,g.normalizeEasing=b,g.parseEasingFunction=i}(i),function(l){function m(c,a){return c in g?g[c][a]||a:a}function c(b){return"display"===b||0===b.lastIndexOf("animation",0)||0===b.lastIndexOf("transition",0)}function a(i,a,b){if(!c(i)){var l=d[i];if(l)for(var f in h.style[i]=a,l){var g=l[f],j=h.style[g];b[g]=m(g,j)}else b[i]=m(i,a)}}function e(h){var a=[];for(var b in h)if(!(b in["easing","offset","composite"])){var c=h[b];Array.isArray(c)||(c=[c]);for(var d,e=c.length,i=0;i<e;i++)d={},d.offset="offset"in h?h.offset:1==e?1:i/(e-1),"easing"in h&&(d.easing=h.easing),"composite"in h&&(d.composite=h.composite),d[b]=c[i],a.push(d)}return a.sort(function(c,a){return c.offset-a.offset}),a}function b(f){function b(){var d=j.length;null==j[d-1].offset&&(j[d-1].offset=1),1<d&&null==j[0].offset&&(j[0].offset=0);for(var a,f=0,b=j[0].offset,h=1;h<d;h++)if(a=j[h].offset,null!=a){for(var e=1;e<h-f;e++)j[f+e].offset=b+(a-b)*e/(h-f);f=h,b=a}}if(null==f)return[];window.Symbol&&Symbol.iterator&&Array.prototype.from&&f[Symbol.iterator]&&(f=Array.from(f)),Array.isArray(f)||(f=e(f));for(var c,j=f.map(function(e){var b={};for(var c in e){var d=e[c];if("offset"==c){if(null!=d){if(d=+d,!isFinite(d))throw new TypeError("Keyframe offsets must be numbers.");if(0>d||1<d)throw new TypeError("Keyframe offsets must be between 0 and 1.")}}else if("composite"==c){if("add"==d||"accumulate"==d)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"add compositing is not supported"};if("replace"!=d)throw new TypeError("Invalid composite mode "+d+".")}else d="easing"==c?l.normalizeEasing(d):""+d;a(c,d,b)}return void 0==b.offset&&(b.offset=null),void 0==b.easing&&(b.easing="linear"),b}),d=!0,k=-1/0,h=0;h<j.length;h++)if(c=j[h].offset,null!=c){if(c<k)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");k=c}else d=!1;return j=j.filter(function(b){return 0<=b.offset&&1>=b.offset}),d||b(),j}var d={background:["backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","backgroundAttachment","backgroundOrigin","backgroundClip","backgroundColor"],border:["borderTopColor","borderTopStyle","borderTopWidth","borderRightColor","borderRightStyle","borderRightWidth","borderBottomColor","borderBottomStyle","borderBottomWidth","borderLeftColor","borderLeftStyle","borderLeftWidth"],borderBottom:["borderBottomWidth","borderBottomStyle","borderBottomColor"],borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderLeft:["borderLeftWidth","borderLeftStyle","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderRight:["borderRightWidth","borderRightStyle","borderRightColor"],borderTop:["borderTopWidth","borderTopStyle","borderTopColor"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],flex:["flexGrow","flexShrink","flexBasis"],font:["fontFamily","fontSize","fontStyle","fontVariant","fontWeight","lineHeight"],margin:["marginTop","marginRight","marginBottom","marginLeft"],outline:["outlineColor","outlineStyle","outlineWidth"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"]},h=document.createElementNS("http://www.w3.org/1999/xhtml","div"),f={thin:"1px",medium:"3px",thick:"5px"},g={borderBottomWidth:f,borderLeftWidth:f,borderRightWidth:f,borderTopWidth:f,fontSize:{"xx-small":"60%","x-small":"75%",small:"89%",medium:"100%",large:"120%","x-large":"150%","xx-large":"200%"},fontWeight:{normal:"400",bold:"700"},outlineWidth:f,textShadow:{none:"0px 0px 0px transparent"},boxShadow:{none:"0px 0px 0px 0px transparent"}};l.convertToArrayForm=e,l.normalizeKeyframes=b}(i),function(g){var i={};g.isDeprecated=function(b,a,c,d){var e=d?"are":"is",f=new Date,g=new Date(a);return g.setMonth(g.getMonth()+3),!(f<g&&(b in i||console.warn("Web Animations: "+b+" "+e+" deprecated and will stop working on "+g.toDateString()+". "+c),i[b]=!0,1))},g.deprecated=function(a,b,c,d){var e=d?"are":"is";if(g.isDeprecated(a,b,c,d))throw new Error(a+" "+e+" no longer supported. "+c)}}(i),function(){var e=Math.round;if(document.documentElement.animate){var d=document.documentElement.animate([],0),a=!0;if(d&&(a=!1,["play","currentTime","pause","reverse","playbackRate","cancel","finish","startTime","playState"].forEach(function(b){void 0===d[b]&&(a=!0)})),!a)return}!function(n,o){function a(h){for(var a={},b=0;b<h.length;b++)for(var c in h[b])if("offset"!=c&&"easing"!=c&&"composite"!=c){var i={offset:h[b].offset,easing:h[b].easing,value:h[b][c]};a[c]=a[c]||[],a[c].push(i)}for(var e in a){var f=a[e];if(0!=f[0].offset||1!=f[f.length-1].offset)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"Partial keyframes are not supported"}}return a}function b(a){var b=[];for(var c in a)for(var d=a[c],f=0;f<d.length-1;f++){var g=f,h=f+1,i=d[g].offset,j=d[h].offset,k=i,p=j;0==f&&(k=-1/0,0==j&&(h=g)),f==d.length-2&&(p=1/0,1==i&&(g=h)),b.push({applyFrom:k,applyTo:p,startOffset:d[g].offset,endOffset:d[h].offset,easingFunction:n.parseEasingFunction(d[g].easing),property:c,interpolation:o.propertyInterpolation(c,d[g].value,d[h].value)})}return b.sort(function(c,a){return c.startOffset-a.startOffset}),b}o.convertEffectInput=function(d){var c=n.normalizeKeyframes(d),e=a(c),f=b(e);return function(b,h){if(null!=h)f.filter(function(b){return h>=b.applyFrom&&h<b.applyTo}).forEach(function(a){var c=h-a.startOffset,d=a.endOffset-a.startOffset,e=0==d?0:a.easingFunction(c/d);o.apply(b,a.property,a.interpolation(e))});else for(var a in e)"offset"!=a&&"easing"!=a&&"composite"!=a&&o.clear(b,a)}}}(i,c),function(p,a){function q(b){return b.replace(/-(.)/g,function(c,a){return a.toUpperCase()})}function d(d,a,b){r[b]=r[b]||[],r[b].push([d,a])}function b(e,a,b){for(var c=0;c<b.length;c++)d(e,a,q(b[c]))}function c(b,c,d){var e=b;/-/.test(b)&&!p.isDeprecated("Hyphenated property names","2016-03-22","Use camelCase instead.",!0)&&(e=q(b)),"initial"!=c&&"initial"!=d||("initial"==c&&(c=h[e]),"initial"==d&&(d=h[e]));for(var f=c==d?[]:r[e],i=0;f&&i<f.length;i++){var j=f[i][0](c),k=f[i][0](d);if(void 0!==j&&void 0!==k){var l=f[i][1](j,k);if(l){var m=a.Interpolation.apply(null,l);return function(b){return 0==b?c:1==b?d:m(b)}}}}return a.Interpolation(!1,!0,function(b){return b?d:c})}var r={};a.addPropertiesHandler=b;var h={backgroundColor:"transparent",backgroundPosition:"0% 0%",borderBottomColor:"currentColor",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderBottomWidth:"3px",borderLeftColor:"currentColor",borderLeftWidth:"3px",borderRightColor:"currentColor",borderRightWidth:"3px",borderSpacing:"2px",borderTopColor:"currentColor",borderTopLeftRadius:"0px",borderTopRightRadius:"0px",borderTopWidth:"3px",bottom:"auto",clip:"rect(0px, 0px, 0px, 0px)",color:"black",fontSize:"100%",fontWeight:"400",height:"auto",left:"auto",letterSpacing:"normal",lineHeight:"120%",marginBottom:"0px",marginLeft:"0px",marginRight:"0px",marginTop:"0px",maxHeight:"none",maxWidth:"none",minHeight:"0px",minWidth:"0px",opacity:"1.0",outlineColor:"invert",outlineOffset:"0px",outlineWidth:"3px",paddingBottom:"0px",paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",right:"auto",strokeDasharray:"none",strokeDashoffset:"0px",textIndent:"0px",textShadow:"0px 0px 0px transparent",top:"auto",transform:"",verticalAlign:"0px",visibility:"visible",width:"auto",wordSpacing:"normal",zIndex:"auto"};a.propertyInterpolation=c}(i,c),function(l,a){function b(a){var b=l.calculateActiveDuration(a),c=function(c){return l.calculateIterationProgress(b,c,a)};return c._totalDuration=a.delay+b+a.endDelay,c}a.KeyframeEffect=function(d,c,e,f){var g,h=b(l.normalizeTimingInput(e)),i=a.convertEffectInput(c),j=function(){i(d,g)};return j._update=function(b){return null!==(g=h(b))},j._clear=function(){i(d,null)},j._hasSameTarget=function(b){return d===b},j._target=d,j._totalDuration=h._totalDuration,j._id=f,j}}(i,c),function(e){e.apply=function(a,b,c){a.style[e.propertyName(b)]=c},e.clear=function(a,b){a.style[e.propertyName(b)]=""}}(c),function(e){window.Element.prototype.animate=function(a,b){var c="";return b&&b.id&&(c=b.id),e.timeline._play(e.KeyframeEffect(this,a,b,c))}}(c),function(b){function g(c,h,i){if("number"==typeof c&&"number"==typeof h)return c*(1-i)+h*i;if("boolean"==typeof c&&"boolean"==typeof h)return .5>i?c:h;if(c.length==h.length){for(var d=[],e=0;e<c.length;e++)d.push(g(c[e],h[e],i));return d}throw"Mismatched interpolation arguments "+c+":"+h}b.Interpolation=function(c,a,b){return function(d){return b(g(c,a,d))}}}(c),function(c,e){c.sequenceNumber=0;var f=function(d,a,b){this.target=d,this.currentTime=a,this.timelineTime=b,this.type="finish",this.bubbles=!1,this.cancelable=!1,this.currentTarget=d,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()};e.Animation=function(a){this.id="",a&&a._id&&(this.id=a._id),this._sequenceNumber=c.sequenceNumber++,this._currentTime=0,this._startTime=null,this._paused=!1,this._playbackRate=1,this._inTimeline=!0,this._finishedFlag=!0,this.onfinish=null,this._finishHandlers=[],this._effect=a,this._inEffect=this._effect._update(0),this._idle=!0,this._currentTimePending=!1},e.Animation.prototype={_ensureAlive:function(){this._inEffect=0>this.playbackRate&&0===this.currentTime?this._effect._update(-1):this._effect._update(this.currentTime),this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,e.timeline._animations.push(this))},_tickCurrentTime:function(c,a){c!=this._currentTime&&(this._currentTime=c,this._isFinished&&!a&&(this._currentTime=0<this._playbackRate?this._totalDuration:0),this._ensureAlive())},get currentTime(){return this._idle||this._currentTimePending?null:this._currentTime},set currentTime(b){b=+b,isNaN(b)||(e.restart(),this._paused||null==this._startTime||(this._startTime=this._timeline.currentTime-b/this._playbackRate),this._currentTimePending=!1,this._currentTime!=b&&(this._idle&&(this._idle=!1,this._paused=!0),this._tickCurrentTime(b,!0),e.applyDirtiedAnimation(this)))},get startTime(){return this._startTime},set startTime(b){b=+b,isNaN(b)||this._paused||this._idle||(this._startTime=b,this._tickCurrentTime((this._timeline.currentTime-this._startTime)*this.playbackRate),e.applyDirtiedAnimation(this))},get playbackRate(){return this._playbackRate},set playbackRate(b){if(b!=this._playbackRate){var a=this.currentTime;this._playbackRate=b,this._startTime=null,"paused"!=this.playState&&"idle"!=this.playState&&(this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),e.applyDirtiedAnimation(this)),null!=a&&(this.currentTime=a)}},get _isFinished(){return!this._idle&&(0<this._playbackRate&&this._currentTime>=this._totalDuration||0>this._playbackRate&&0>=this._currentTime)},get _totalDuration(){return this._effect._totalDuration},get playState(){return this._idle?"idle":null==this._startTime&&!this._paused&&0!=this.playbackRate||this._currentTimePending?"pending":this._paused?"paused":this._isFinished?"finished":"running"},_rewind:function(){if(0<=this._playbackRate)this._currentTime=0;else{if(!(this._totalDuration<1/0))throw new DOMException("Unable to rewind negative playback rate animation with infinite duration","InvalidStateError");this._currentTime=this._totalDuration}},play:function(){this._paused=!1,(this._isFinished||this._idle)&&(this._rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),e.applyDirtiedAnimation(this)},pause:function(){this._isFinished||this._paused||this._idle?this._idle&&(this._rewind(),this._idle=!1):this._currentTimePending=!0,this._startTime=null,this._paused=!0},finish:function(){this._idle||(this.currentTime=0<this._playbackRate?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this._currentTimePending=!1,e.applyDirtiedAnimation(this))},cancel:function(){this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._isFinished=!0,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this._effect._update(null),e.applyDirtiedAnimation(this))},reverse:function(){this.playbackRate*=-1,this.play()},addEventListener:function(c,a){"function"==typeof a&&"finish"==c&&this._finishHandlers.push(a)},removeEventListener:function(d,a){if("finish"==d){var b=this._finishHandlers.indexOf(a);0<=b&&this._finishHandlers.splice(b,1)}},_fireEvents:function(d){if(!this._isFinished)this._finishedFlag=!1;else if(!this._finishedFlag){var e=new f(this,this._currentTime,d),a=this._finishHandlers.concat(this.onfinish?[this.onfinish]:[]);setTimeout(function(){a.forEach(function(b){b.call(e.target,e)})},0),this._finishedFlag=!0}},_tick:function(c,a){this._idle||this._paused||(null==this._startTime?a&&(this.startTime=c-this._currentTime/this.playbackRate):this._isFinished||this._tickCurrentTime((c-this._startTime)*this.playbackRate)),a&&(this._currentTimePending=!1,this._fireEvents(c))},get _needsTick(){return this.playState in{pending:1,running:1}||!this._finishedFlag},_targetAnimations:function(){var b=this._effect._target;return b._activeAnimations||(b._activeAnimations=[]),b._activeAnimations},_markTarget:function(){var b=this._targetAnimations();-1===b.indexOf(this)&&b.push(this)},_unmarkTarget:function(){var c=this._targetAnimations(),a=c.indexOf(this);-1!==a&&c.splice(a,1)}}}(i,c),function(r,s){function c(c){var a=h;h=[],c<n.currentTime&&(c=n.currentTime),n._animations.sort(d),n._animations=f(c,!0,n._animations)[0],a.forEach(function(a){a[1](c)}),e(),j=void 0}function d(c,a){return c._sequenceNumber-a._sequenceNumber}function a(){this._animations=[],this.currentTime=window.performance&&performance.now?performance.now():0}function e(){l.forEach(function(b){b()}),l.length=0}function f(i,a,c){m=!0,b=!1,s.timeline.currentTime=i,k=!1;var j=[],e=[],f=[],g=[];return c.forEach(function(c){c._tick(i,a),c._inEffect?(e.push(c._effect),c._markTarget()):(j.push(c._effect),c._unmarkTarget()),c._needsTick&&(k=!0);var b=c._inEffect||c._needsTick;c._inTimeline=b,b?f.push(c):g.push(c)}),l.push.apply(l,j),l.push.apply(l,e),k&&requestAnimationFrame(function(){}),m=!1,[f,g]}var g=window.requestAnimationFrame,h=[],i=0;window.requestAnimationFrame=function(d){var a=i++;return 0==h.length&&g(c),h.push([a,d]),a},window.cancelAnimationFrame=function(c){h.forEach(function(a){a[0]==c&&(a[1]=function(){})})},a.prototype={_play:function(a){a._timing=r.normalizeTimingInput(a.timing);var b=new s.Animation(a);return b._idle=!1,b._timeline=this,this._animations.push(b),s.restart(),s.applyDirtiedAnimation(b),b}};var j=void 0,k=!1,b=!1;s.restart=function(){return k||(k=!0,requestAnimationFrame(function(){}),b=!0),b},s.applyDirtiedAnimation=function(b){if(!m){b._markTarget();var a=b._targetAnimations();a.sort(d),f(s.timeline.currentTime,!1,a.slice())[1].forEach(function(c){var a=n._animations.indexOf(c);-1!==a&&n._animations.splice(a,1)}),e()}};var l=[],m=!1,n=new a;s.timeline=n}(i,c),function(g){function h(d,a){var e=d.exec(a);if(e)return e=d.ignoreCase?e[0].toLowerCase():e[0],[e,a.substr(e.length)]}function b(d,a){a=a.replace(/^\s*/,"");var b=d(a);if(b)return[b[0],b[1].replace(/^\s*/,"")]}function a(c,a,i){c=b.bind(null,c);for(var e,j=[];;){if(e=c(i),!e)return[j,i];if(j.push(e[0]),i=e[1],!(e=h(a,i))||""==e[1])return[j,i];i=e[1]}}function c(f,a){for(var b=0,c=0;c<a.length&&(!/\s|,/.test(a[c])||0!=b);c++)if("("==a[c])b++;else if(")"==a[c]&&(b--,0==b&&c++,0>=b))break;var d=f(a.substr(0,c));return void 0==d?void 0:[d,a.substr(c)]}function m(e,a){for(var b=e,c=a;b&&c;)b>c?b%=c:c%=b;return b=e*a/(b+c)}function d(f,a,n,b,c){for(var d,e=[],g=[],h=[],i=m(b.length,c.length),o=0;o<i;o++){if(d=a(b[o%b.length],c[o%c.length]),!d)return;e.push(d[0]),g.push(d[1]),h.push(d[2])}return[e,g,function(a){var b=a.map(function(c,a){return h[a](c)}).join(n);return f?f(b):b}]}g.consumeToken=h,g.consumeTrimmed=b,g.consumeRepeated=a,g.consumeParenthesised=c,g.ignore=function(d){return function(a){var b=d(a);return b&&(b[0]=void 0),b}},g.optional=function(d,a){return function(b){return d(b)||[a,b]}},g.consumeList=function(a,b){for(var c,h=[],d=0;d<a.length;d++){if(c=g.consumeTrimmed(a[d],b),!c||""==c[0])return;void 0!==c[0]&&h.push(c[0]),b=c[1]}if(""==b)return h},g.mergeNestedRepeated=d.bind(null,null),g.mergeWrappedNestedRepeated=d,g.mergeList=function(j,a,b){for(var c=[],d=[],e=[],f=0,g=0;g<b.length;g++)if("function"==typeof b[g]){var h=b[g](j[f],a[f++]);c.push(h[0]),d.push(h[1]),e.push(h[2])}else!function(f){c.push(!1),d.push(!1),e.push(function(){return b[f]})}(g);return[c,d,function(d){for(var a="",b=0;b<d.length;b++)a+=e[b](d[b]);return a}]}}(c),function(l){function a(a){function f(a){var b=l.consumeToken(/^inset/i,a);if(b)return g.inset=!0,b;var b=l.consumeLengthOrPercent(a);if(b)return g.lengths.push(b[0]),b;var b=l.consumeColor(a);return b?(g.color=b[0],b):void 0}var g={inset:!1,lengths:[],color:null},c=l.consumeRepeated(f,/^/,a);if(c&&c[0].length)return[g,c[1]]}function b(b){var e=l.consumeRepeated(a,/^,/,b);if(e&&""==e[1])return e[0]}function c(k,a){for(;k.lengths.length<g(k.lengths.length,a.lengths.length);)k.lengths.push({px:0});for(;a.lengths.length<g(k.lengths.length,a.lengths.length);)a.lengths.push({px:0});if(k.inset==a.inset&&!!k.color==!!a.color){for(var b,c,i=[],e=[[],0],f=[[],0],m=0;m<k.lengths.length;m++)c=l.mergeDimensions(k.lengths[m],a.lengths[m],2==m),e[0].push(c[0]),f[0].push(c[1]),i.push(c[2]);if(k.color&&a.color){var h=l.mergeColors(k.color,a.color);e[1]=h[0],f[1]=h[1],b=h[2]}return[e,f,function(d){for(var a=k.inset?"inset ":" ",c=0;c<i.length;c++)a+=i[c](d[0][c])+" ";return b&&(a+=b(d[1])),a}]}}function d(a,b,c,d){function m(b){return{inset:b,color:[0,0,0,0],lengths:[{px:0},{px:0},{px:0},{px:0}]}}for(var f=[],g=[],h=0;h<c.length||h<d.length;h++){var i=c[h]||m(d[h].inset),j=d[h]||m(c[h].inset);f.push(i),g.push(j)}return l.mergeNestedRepeated(a,b,f,g)}var e=d.bind(null,c,", ");l.addPropertiesHandler(b,e,["box-shadow","text-shadow"])}(c),function(b){function f(b){return b.toFixed(3).replace(/0+$/,"").replace(/\.$/,"")}function c(d,a,b){return h(a,g(d,b))}function a(b){if(/^\s*[-+]?(\d*\.)?\d+\s*$/.test(b))return+b}function d(d,a){return function(b,e){return[b,e,function(b){return f(c(d,a,b))}]}}function i(e){var g=e.trim().split(/\s*[\s,]\s*/);if(0!==g.length){for(var b,f=[],c=0;c<g.length;c++){if(b=a(g[c]),void 0===b)return;f.push(b)}return f}}b.clamp=c,b.addPropertiesHandler(i,function(c,a){if(c.length==a.length)return[c,a,function(b){return b.map(f).join(" ")}]},["stroke-dasharray"]),b.addPropertiesHandler(a,d(0,1/0),["border-image-width","line-height"]),b.addPropertiesHandler(a,d(0,1),["opacity","shape-image-threshold"]),b.addPropertiesHandler(a,function(c,a){if(0!=c)return d(0,1/0)(c,a)},["flex-grow","flex-shrink"]),b.addPropertiesHandler(a,function(d,a){return[d,a,function(b){return e(c(1,1/0,b))}]},["orphans","widows"]),b.addPropertiesHandler(a,function(c,a){return[c,a,e]},["z-index"]),b.parseNumber=a,b.parseNumberList=i,b.mergeNumbers=function(c,a){return[c,a,f]},b.numberToString=f}(c),function(b){b.addPropertiesHandler(String,function(d,a){if("visible"==d||"visible"==a)return[0,1,function(b){return 0>=b?d:1<=b?a:"visible"}]},["visibility"])}(c),function(i){function a(e){e=e.trim(),j.fillStyle="#000",j.fillStyle=e;var a=j.fillStyle;if(j.fillStyle="#fff",j.fillStyle=e,a==j.fillStyle){j.fillRect(0,0,1,1);var b=j.getImageData(0,0,1,1).data;j.clearRect(0,0,1,1);var f=b[3]/255;return[b[0]*f,b[1]*f,b[2]*f,f]}}function b(a,b){return[a,b,function(a){function b(b){return g(0,h(255,b))}if(a[3])for(var c=0;3>c;c++)a[c]=e(b(a[c]/a[3]));return a[3]=i.numberToString(i.clamp(0,1,a[3])),"rgba("+a.join(",")+")"}]}var c=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");c.width=c.height=1;var j=c.getContext("2d");i.addPropertiesHandler(a,b,["background-color","border-bottom-color","border-left-color","border-right-color","border-top-color","color","fill","flood-color","lighting-color","outline-color","stop-color","stroke","text-decoration-color"]),i.consumeColor=i.consumeParenthesised.bind(null,a),i.mergeColors=b}(c),function(n){function a(i){function j(){var c=a.exec(i);f=c?c[0]:void 0}function b(){var b=+f;return j(),b}function k(){if("("!==f)return b();j();var c=d();return")"===f?(j(),c):NaN}function l(){for(var b,c=k();"*"===f||"/"===f;){b=f,j();var a=k();"*"===b?c*=a:c/=a}return c}function d(){for(var b,c=l();"+"===f||"-"===f;){b=f,j();var a=l();"+"===b?c+=a:c-=a}return c}var f,a=/([\+\-\w\.]+|[\(\)\*\/])/g;return j(),d()}function b(c,k){if("0"==(k=k.trim().toLowerCase())&&0<="px".search(c))return{px:0};if(/^[^(]*$|^calc/.test(k)){k=k.replace(/calc\(/g,"(");var b={};k=k.replace(c,function(c){return b[c]=null,"U"+c});for(var l="U("+c.source+")",e=k.replace(/[-+]?(\d*\.)?\d+([Ee][-+]?\d+)?/g,"N").replace(new RegExp("N"+l,"g"),"D").replace(/\s[+-]\s/g,"O").replace(/\s/g,""),f=[/N\*(D)/g,/(N|D)[*\/]N/g,/(N|D)O\1/g,/\((N|D)\)/g],g=0;g<f.length;)f[g].test(e)?(e=e.replace(f[g],"$1"),g=0):g++;if("D"==e){for(var h in b){var i=a(k.replace(new RegExp("U"+h,"g"),"").replace(new RegExp(l,"g"),"*0"));if(!isFinite(i))return;b[h]=i}return b}}}function c(c,a){return d(c,a,!0)}function d(h,b,a){var c,d=[];for(c in h)d.push(c);for(c in b)0>d.indexOf(c)&&d.push(c);return h=d.map(function(b){return h[b]||0}),b=d.map(function(c){return b[c]||0}),[h,b,function(f){var b=f.map(function(b,c){return 1==f.length&&a&&(b=g(b,0)),n.numberToString(b)+d[c]}).join(" + ");return 1<f.length?"calc("+b+")":b}]}var e=b.bind(null,/px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc/g),f=b.bind(null,/px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|%/g),h=b.bind(null,/deg|rad|grad|turn/g);n.parseLength=e,n.parseLengthOrPercent=f,n.consumeLengthOrPercent=n.consumeParenthesised.bind(null,f),n.parseAngle=h,n.mergeDimensions=d;var i=n.consumeParenthesised.bind(null,e),j=n.consumeRepeated.bind(void 0,i,/^/),k=n.consumeRepeated.bind(void 0,j,/^,/);n.consumeSizePairList=k;var l=n.mergeNestedRepeated.bind(void 0,c," "),m=n.mergeNestedRepeated.bind(void 0,l,",");n.mergeNonNegativeSizePair=l,n.addPropertiesHandler(function(c){var a=k(c);if(a&&""==a[1])return a[0]},m,["background-size"]),n.addPropertiesHandler(f,c,["border-bottom-width","border-image-width","border-left-width","border-right-width","border-top-width","flex-basis","font-size","height","line-height","max-height","max-width","outline-width","width"]),n.addPropertiesHandler(f,d,["border-bottom-left-radius","border-bottom-right-radius","border-top-left-radius","border-top-right-radius","bottom","left","letter-spacing","margin-bottom","margin-left","margin-right","margin-top","min-height","min-width","outline-offset","padding-bottom","padding-left","padding-right","padding-top","perspective","right","shape-margin","stroke-dashoffset","text-indent","top","vertical-align","word-spacing"])}(c),function(h){function a(a){return h.consumeLengthOrPercent(a)||h.consumeToken(/^auto/,a)}function b(c){var b=h.consumeList([h.ignore(h.consumeToken.bind(null,/^rect/)),h.ignore(h.consumeToken.bind(null,/^\(/)),h.consumeRepeated.bind(null,a,/^,/),h.ignore(h.consumeToken.bind(null,/^\)/))],c);if(b&&4==b[0].length)return b[0]}var c=h.mergeWrappedNestedRepeated.bind(null,function(b){return"rect("+b+")"},function(a,b){return"auto"==a||"auto"==b?[!0,!1,function(c){var d=c?a:b;if("auto"==d)return"auto";var e=h.mergeDimensions(d,d);return e[2](e[0])}]:h.mergeDimensions(a,b)},", ");h.parseBox=b,h.mergeBoxes=c,h.addPropertiesHandler(b,c,["clip"])}(c),function(E){function a(d){return function(e){var b=0;return d.map(function(c){return c===h?e[b++]:c})}}function b(b){return b}function d(a){if("none"==(a=a.toLowerCase().trim()))return[];for(var b,c=/\s*(\w+)\(([^)]*)\)/g,d=[],n=0;b=c.exec(a);){if(b.index!=n)return;n=b.index+b[0].length;var f=b[1],u=D[f];if(!u)return;var v=b[2].split(","),i=u[0];if(i.length<v.length)return;for(var j=[],w=0;w<i.length;w++){var o,p=v[w],q=i[w];if(void 0===(o=p?{A:function(a){return"0"==a.trim()?t:E.parseAngle(a)},N:E.parseNumber,T:E.parseLengthOrPercent,L:E.parseLength}[q.toUpperCase()](p):{a:t,n:j[0],t:s}[q]))return;j.push(o)}if(d.push({t:f,d:j}),c.lastIndex==a.length)return d}}function o(b){return b.toFixed(6).replace(".000000","")}function e(f,b){if(f.decompositionPair!==b){f.decompositionPair=b;var a=E.makeMatrixDecomposition(f)}if(b.decompositionPair!==f){b.decompositionPair=f;var d=E.makeMatrixDecomposition(b)}return null==a[0]||null==d[0]?[[!1],[!0],function(c){return c?b[0].d:f[0].d}]:(a[0].push(0),d[0].push(1),[a,d,function(e){var b=E.quat(a[0][3],d[0][3],e[5]);return E.composeMatrix(e[0],e[1],e[2],b,e[4]).map(o).join(",")}])}function f(b){return b.replace(/[xy]/,"")}function g(b){return b.replace(/(x|y|z|3d)?$/,"3d")}function c(a,b){var c=E.makeMatrixDecomposition&&!0,h=!1;if(!a.length||!b.length){a.length||(h=!0,a=b,b=[]);for(var i=0;i<a.length;i++){var n=a[i].t,F=a[i].d,k="scale"==n.substr(0,5)?1:0;b.push({t:n,d:F.map(function(d){if("number"==typeof d)return k;var e={};for(var b in d)e[b]=k;return e})})}}var l=function(c,a){return"perspective"==c&&"perspective"==a||("matrix"==c||"matrix3d"==c)&&("matrix"==a||"matrix3d"==a)},m=[],o=[],p=[];if(a.length!=b.length){if(!c)return;var q=e(a,b);m=[q[0]],o=[q[1]],p=[["matrix",[q[2]]]]}else for(var i=0;i<a.length;i++){var n,r=a[i].t,s=b[i].t,t=a[i].d,u=b[i].d,v=D[r],w=D[s];if(l(r,s)){if(!c)return;var q=e([a[i]],[b[i]]);m.push(q[0]),o.push(q[1]),p.push(["matrix",[q[2]]])}else{if(r==s)n=r;else if(v[2]&&w[2]&&f(r)==f(s))n=f(r),t=v[2](t),u=w[2](u);else{if(!v[1]||!w[1]||g(r)!=g(s)){if(!c)return;var q=e(a,b);m=[q[0]],o=[q[1]],p=[["matrix",[q[2]]]];break}n=g(r),t=v[1](t),u=w[1](u)}for(var x=[],y=[],z=[],A=0;A<t.length;A++){var B="number"==typeof t[A]?E.mergeNumbers:E.mergeDimensions,q=B(t[A],u[A]);x[A]=q[0],y[A]=q[1],z.push(q[2])}m.push(x),o.push(y),p.push([n,z])}}if(h){var C=m;m=o,o=C}return[m,o,function(b){return b.map(function(d,e){var a=d.map(function(b,a){return p[e][1][a](b)}).join(",");return"matrix"==p[e][0]&&16==a.split(",").length&&(p[e][0]="matrix3d"),p[e][0]+"("+a+")"}).join(" ")}]}var h=null,s={px:0},t={deg:0},D={matrix:["NNNNNN",[h,h,0,0,h,h,0,0,0,0,1,0,h,h,0,1],b],matrix3d:["NNNNNNNNNNNNNNNN",b],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",a([h,h,1]),b],scalex:["N",a([h,1,1]),a([h,1])],scaley:["N",a([1,h,1]),a([1,h])],scalez:["N",a([1,1,h])],scale3d:["NNN",b],skew:["Aa",null,b],skewx:["A",null,a([h,t])],skewy:["A",null,a([t,h])],translate:["Tt",a([h,h,s]),b],translatex:["T",a([h,s,s]),a([h,s])],translatey:["T",a([s,h,s]),a([s,h])],translatez:["L",a([s,s,h])],translate3d:["TTL",b]};E.addPropertiesHandler(d,c,["transform"]),E.transformToSvgMatrix=function(a){var b=E.transformListToMatrix(d(a));return"matrix("+o(b[0])+" "+o(b[1])+" "+o(b[4])+" "+o(b[5])+" "+o(b[12])+" "+o(b[13])+")"}}(c),function(b){function a(e,a){a.concat([e]).forEach(function(a){a in document.documentElement.style&&(c[e]=a),d[a]=e})}var c={},d={};a("transform",["webkitTransform","msTransform"]),a("transformOrigin",["webkitTransformOrigin"]),a("perspective",["webkitPerspective"]),a("perspectiveOrigin",["webkitPerspectiveOrigin"]),b.propertyName=function(b){return c[b]||b},b.unprefixedPropertyName=function(b){return d[b]||b}}(c)}(),function(){if(void 0===document.createElement("div").animate([]).oncancel){var e;if(window.performance&&performance.now)var e=function(){return performance.now()};else var e=function(){return Date.now()};var a=function(d,a,b){this.target=d,this.currentTime=a,this.timelineTime=b,this.type="cancel",this.bubbles=!1,this.cancelable=!1,this.currentTarget=d,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()},b=window.Element.prototype.animate;window.Element.prototype.animate=function(c,d){var j=b.call(this,c,d);j._cancelHandlers=[],j.oncancel=null;var f=j.cancel;j.cancel=function(){f.call(this);var b=new a(this,null,e()),c=this._cancelHandlers.concat(this.oncancel?[this.oncancel]:[]);setTimeout(function(){c.forEach(function(c){c.call(b.target,b)})},0)};var g=j.addEventListener;j.addEventListener=function(c,a){"function"==typeof a&&"cancel"==c?this._cancelHandlers.push(a):g.call(this,c,a)};var h=j.removeEventListener;return j.removeEventListener=function(d,a){if("cancel"==d){var b=this._cancelHandlers.indexOf(a);0<=b&&this._cancelHandlers.splice(b,1)}else h.call(this,d,a)},j}}}(),function(h){var a=document.documentElement,b=null,c=!1;try{var i=getComputedStyle(a).getPropertyValue("opacity"),e="0"==i?"1":"0";b=a.animate({opacity:[e,e]},{duration:1}),b.currentTime=0,c=getComputedStyle(a).getPropertyValue("opacity")==e}catch(b){}finally{b&&b.cancel()}if(!c){var f=window.Element.prototype.animate;window.Element.prototype.animate=function(a,b){return window.Symbol&&Symbol.iterator&&Array.prototype.from&&a[Symbol.iterator]&&(a=Array.from(a)),Array.isArray(a)||null===a||(a=h.convertToArrayForm(a)),f.call(this,a,b)}}}(i),function(c,h){function b(d){var a=h.timeline;a.currentTime=d,a._discardAnimations(),0==a._animations.length?e=!1:requestAnimationFrame(b)}var d=window.requestAnimationFrame;window.requestAnimationFrame=function(b){return d(function(a){h.timeline._updateAnimationsPromises(),b(a),h.timeline._updateAnimationsPromises()})},h.AnimationTimeline=function(){this._animations=[],this.currentTime=void 0},h.AnimationTimeline.prototype={getAnimations:function(){return this._discardAnimations(),this._animations.slice()},_updateAnimationsPromises:function(){h.animationsWithPromises=h.animationsWithPromises.filter(function(b){return b._updatePromises()})},_discardAnimations:function(){this._updateAnimationsPromises(),this._animations=this._animations.filter(function(b){return"finished"!=b.playState&&"idle"!=b.playState})},_play:function(b){var a=new h.Animation(b,this);return this._animations.push(a),h.restartWebAnimationsNextTick(),a._updatePromises(),a._animation.play(),a._updatePromises(),a},play:function(b){return b&&b.remove(),this._play(b)}};var e=!1;h.restartWebAnimationsNextTick=function(){e||(e=!0,requestAnimationFrame(b))};var a=new h.AnimationTimeline;h.timeline=a;try{Object.defineProperty(window.document,"timeline",{configurable:!0,get:function(){return a}})}catch(b){}try{window.document.timeline=a}catch(b){}}(0,b),function(f,g){var b=Number.MAX_VALUE,c=Math.sign;g.animationsWithPromises=[],g.Animation=function(a,b){if(this.id="",a&&a._id&&(this.id=a._id),this.effect=a,a&&(a._animation=this),!b)throw new Error("Animation with null timeline is not supported");this._timeline=b,this._sequenceNumber=f.sequenceNumber++,this._holdTime=0,this._paused=!1,this._isGroup=!1,this._animation=null,this._childAnimations=[],this._callback=null,this._oldPlayState="idle",this._rebuildUnderlyingAnimation(),this._animation.cancel(),this._updatePromises()},g.Animation.prototype={_updatePromises:function(){var c=this._oldPlayState,a=this.playState;return this._readyPromise&&a!==c&&("idle"==a?(this._rejectReadyPromise(),this._readyPromise=void 0):"pending"==c?this._resolveReadyPromise():"pending"==a&&(this._readyPromise=void 0)),this._finishedPromise&&a!==c&&("idle"==a?(this._rejectFinishedPromise(),this._finishedPromise=void 0):"finished"==a?this._resolveFinishedPromise():"finished"==c&&(this._finishedPromise=void 0)),this._oldPlayState=this.playState,this._readyPromise||this._finishedPromise},_rebuildUnderlyingAnimation:function(){this._updatePromises();var b,a,c,d,e=!!this._animation;e&&(b=this.playbackRate,a=this._paused,c=this.startTime,d=this.currentTime,this._animation.cancel(),this._animation._wrapper=null,this._animation=null),(!this.effect||this.effect instanceof window.KeyframeEffect)&&(this._animation=g.newUnderlyingAnimationForKeyframeEffect(this.effect),g.bindAnimationForKeyframeEffect(this)),(this.effect instanceof window.SequenceEffect||this.effect instanceof window.GroupEffect)&&(this._animation=g.newUnderlyingAnimationForGroup(this.effect),g.bindAnimationForGroup(this)),this.effect&&this.effect._onsample&&g.bindAnimationForCustomEffect(this),e&&(1!=b&&(this.playbackRate=b),null===c?null===d?null!==this._holdTime&&(this.currentTime=this._holdTime):this.currentTime=d:this.startTime=c,a&&this.pause()),this._updatePromises()},_updateChildren:function(){if(this.effect&&"idle"!=this.playState){var b=this.effect._timing.delay;this._childAnimations.forEach(function(a){this._arrangeChildren(a,b),this.effect instanceof window.SequenceEffect&&(b+=g.groupChildDuration(a.effect))}.bind(this))}},_setExternalAnimation:function(c){if(this.effect&&this._isGroup)for(var a=0;a<this.effect.children.length;a++)this.effect.children[a]._animation=c,this._childAnimations[a]._setExternalAnimation(c)},_constructChildAnimations:function(){if(this.effect&&this._isGroup){var b=this.effect._timing.delay;this._removeChildAnimations(),this.effect.children.forEach(function(a){var c=g.timeline._play(a);this._childAnimations.push(c),c.playbackRate=this.playbackRate,this._paused&&c.pause(),a._animation=this.effect._animation,this._arrangeChildren(c,b),this.effect instanceof window.SequenceEffect&&(b+=g.groupChildDuration(a))}.bind(this))}},_arrangeChildren:function(c,a){null===this.startTime?c.currentTime=this.currentTime-a/this.playbackRate:c.startTime!==this.startTime+a/this.playbackRate&&(c.startTime=this.startTime+a/this.playbackRate)},get timeline(){return this._timeline},get playState(){return this._animation?this._animation.playState:"idle"},get finished(){return window.Promise?(this._finishedPromise||(-1==g.animationsWithPromises.indexOf(this)&&g.animationsWithPromises.push(this),this._finishedPromise=new Promise(function(c,a){this._resolveFinishedPromise=function(){c(this)},this._rejectFinishedPromise=function(){a({type:DOMException.ABORT_ERR,name:"AbortError"})}}.bind(this)),"finished"==this.playState&&this._resolveFinishedPromise()),this._finishedPromise):(console.warn("Animation Promises require JavaScript Promise constructor"),null)},get ready(){return window.Promise?(this._readyPromise||(-1==g.animationsWithPromises.indexOf(this)&&g.animationsWithPromises.push(this),this._readyPromise=new Promise(function(c,a){this._resolveReadyPromise=function(){c(this)},this._rejectReadyPromise=function(){a({type:DOMException.ABORT_ERR,name:"AbortError"})}}.bind(this)),"pending"!==this.playState&&this._resolveReadyPromise()),this._readyPromise):(console.warn("Animation Promises require JavaScript Promise constructor"),null)},get onfinish(){return this._animation.onfinish},set onfinish(c){this._animation.onfinish="function"==typeof c?function(a){a.target=this,c.call(this,a)}.bind(this):c},get oncancel(){return this._animation.oncancel},set oncancel(c){this._animation.oncancel="function"==typeof c?function(a){a.target=this,c.call(this,a)}.bind(this):c},get currentTime(){this._updatePromises();var b=this._animation.currentTime;return this._updatePromises(),b},set currentTime(d){this._updatePromises(),this._animation.currentTime=isFinite(d)?d:c(d)*b,this._register(),this._forEachChild(function(a,b){a.currentTime=d-b}),this._updatePromises()},get startTime(){return this._animation.startTime},set startTime(d){this._updatePromises(),this._animation.startTime=isFinite(d)?d:c(d)*b,this._register(),this._forEachChild(function(a,b){a.startTime=d+b}),this._updatePromises()},get playbackRate(){return this._animation.playbackRate},set playbackRate(c){this._updatePromises();var a=this.currentTime;this._animation.playbackRate=c,this._forEachChild(function(a){a.playbackRate=c}),null!==a&&(this.currentTime=a),this._updatePromises()},play:function(){this._updatePromises(),this._paused=!1,this._animation.play(),-1==this._timeline._animations.indexOf(this)&&this._timeline._animations.push(this),this._register(),g.awaitStartTime(this),this._forEachChild(function(c){var a=c.currentTime;c.play(),c.currentTime=a}),this._updatePromises()},pause:function(){this._updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),this._animation.pause(),this._register(),this._forEachChild(function(b){b.pause()}),this._paused=!0,this._updatePromises()},finish:function(){this._updatePromises(),this._animation.finish(),this._register(),this._updatePromises()},cancel:function(){this._updatePromises(),this._animation.cancel(),this._register(),this._removeChildAnimations(),this._updatePromises()},reverse:function(){this._updatePromises();var b=this.currentTime;this._animation.reverse(),this._forEachChild(function(b){b.reverse()}),null!==b&&(this.currentTime=b),this._updatePromises()},addEventListener:function(d,e){var a=e;"function"==typeof e&&(a=function(b){b.target=this,e.call(this,b)}.bind(this),e._wrapper=a),this._animation.addEventListener(d,a)},removeEventListener:function(c,a){this._animation.removeEventListener(c,a&&a._wrapper||a)},_removeChildAnimations:function(){for(;this._childAnimations.length;)this._childAnimations.pop().cancel()},_forEachChild:function(g){var b=0;if(this.effect.children&&this._childAnimations.length<this.effect.children.length&&this._constructChildAnimations(),this._childAnimations.forEach(function(c){g.call(this,c,b),this.effect instanceof window.SequenceEffect&&(b+=c.effect.activeDuration)}.bind(this)),"pending"!=this.playState){var a=this.effect._timing,c=this.currentTime;null!==c&&(c=f.calculateIterationProgress(f.calculateActiveDuration(a),c,a)),(null==c||isNaN(c))&&this._removeChildAnimations()}}},window.Animation=g.Animation}(i,b),function(k,l){function a(a){this._frames=k.normalizeKeyframes(a)}function b(){for(var b=!1;c.length;)c.shift()._updateChildren(),b=!0;return b}var e=function(c){if(c._animation=void 0,c instanceof window.SequenceEffect||c instanceof window.GroupEffect)for(var a=0;a<c.children.length;a++)e(c.children[a])};l.removeMulti=function(f){for(var a,d=[],b=0;b<f.length;b++)a=f[b],a._parent?(-1==d.indexOf(a._parent)&&d.push(a._parent),a._parent.children.splice(a._parent.children.indexOf(a),1),a._parent=null,e(a)):a._animation&&a._animation.effect==a&&(a._animation.cancel(),a._animation.effect=new KeyframeEffect(null,[]),a._animation._callback&&(a._animation._callback._animation=null),a._animation._rebuildUnderlyingAnimation(),e(a));for(b=0;b<d.length;b++)d[b]._rebuild()},l.KeyframeEffect=function(d,b,g,e){return this.target=d,this._parent=null,g=k.numericTimingToObject(g),this._timingInput=k.cloneTimingInput(g),this._timing=k.normalizeTimingInput(g),this.timing=k.makeTiming(g,!1,this),this.timing._effect=this,"function"==typeof b?(k.deprecated("Custom KeyframeEffect","2015-06-22","Use KeyframeEffect.onsample instead."),this._normalizedKeyframes=b):this._normalizedKeyframes=new a(b),this._keyframes=b,this.activeDuration=k.calculateActiveDuration(this._timing),this._id=e,this},l.KeyframeEffect.prototype={getFrames:function(){return"function"==typeof this._normalizedKeyframes?this._normalizedKeyframes:this._normalizedKeyframes._frames},set onsample(b){if("function"==typeof this.getFrames())throw new Error("Setting onsample on custom effect KeyframeEffect is not supported.");this._onsample=b,this._animation&&this._animation._rebuildUnderlyingAnimation()},get parent(){return this._parent},clone:function(){if("function"==typeof this.getFrames())throw new Error("Cloning custom effects is not supported.");var a=new KeyframeEffect(this.target,[],k.cloneTimingInput(this._timingInput),this._id);return a._normalizedKeyframes=this._normalizedKeyframes,a._keyframes=this._keyframes,a},remove:function(){l.removeMulti([this])}};var f=Element.prototype.animate;Element.prototype.animate=function(b,a){var c="";return a&&a.id&&(c=a.id),l.timeline._play(new l.KeyframeEffect(this,b,a,c))};var g=document.createElementNS("http://www.w3.org/1999/xhtml","div");l.newUnderlyingAnimationForKeyframeEffect=function(e){if(e){var a=e.target||g,b=e._keyframes;"function"==typeof b&&(b=[]);var h=e._timingInput;h.id=e._id}else var a=g,b=[],h=0;return f.apply(a,[b,h])},l.bindAnimationForKeyframeEffect=function(b){b.effect&&"function"==typeof b.effect._normalizedKeyframes&&l.bindAnimationForCustomEffect(b)};var c=[];l.awaitStartTime=function(d){null===d.startTime&&d._isGroup&&(0==c.length&&requestAnimationFrame(b),c.push(d))};var d=window.getComputedStyle;Object.defineProperty(window,"getComputedStyle",{configurable:!0,enumerable:!0,value:function(){l.timeline._updateAnimationsPromises();var c=d.apply(this,arguments);return b()&&(c=d.apply(this,arguments)),l.timeline._updateAnimationsPromises(),c}}),window.KeyframeEffect=l.KeyframeEffect,window.Element.prototype.getAnimations=function(){return document.timeline.getAnimations().filter(function(b){return null!==b.effect&&b.effect.target==this}.bind(this))}}(i,b),function(k,a){function l(b){b._registered||(b._registered=!0,e.push(b),f||(f=!0,requestAnimationFrame(c)))}function c(){var a=e;e=[],a.sort(function(c,a){return c._sequenceNumber-a._sequenceNumber}),a=a.filter(function(c){c();var a=c._animation?c._animation.playState:"idle";return"running"!=a&&"pending"!=a&&(c._registered=!1),c._registered}),e.push.apply(e,a),e.length?(f=!0,requestAnimationFrame(c)):f=!1}var d=(document.createElementNS("http://www.w3.org/1999/xhtml","div"),0);a.bindAnimationForCustomEffect=function(a){var b,c=a.effect.target,e="function"==typeof a.effect.getFrames();b=e?a.effect.getFrames():a.effect._onsample;var f=a.effect.timing,g=null;f=k.normalizeTimingInput(f);var h=function(){var i=h._animation?h._animation.currentTime:null;null!==i&&(i=k.calculateIterationProgress(k.calculateActiveDuration(f),i,f),isNaN(i)&&(i=null)),i!==g&&(e?b(i,c,a.effect):b(i,a.effect,a.effect._animation)),g=i};h._animation=a,h._registered=!1,h._sequenceNumber=d++,a._callback=h,l(h)};var e=[],f=!1;a.Animation.prototype._register=function(){this._callback&&l(this._callback)}}(i,b),function(f,h){function c(b){return b._timing.delay+b.activeDuration+b._timing.endDelay}function a(a,b,c){this._id=c,this._parent=null,this.children=a||[],this._reparent(this.children),b=f.numericTimingToObject(b),this._timingInput=f.cloneTimingInput(b),this._timing=f.normalizeTimingInput(b,!0),this.timing=f.makeTiming(b,!0,this),this.timing._effect=this,"auto"===this._timing.duration&&(this._timing.duration=this.activeDuration)}window.SequenceEffect=function(){a.apply(this,arguments)},window.GroupEffect=function(){a.apply(this,arguments)},a.prototype={_isAncestor:function(c){for(var a=this;null!==a;){if(a==c)return!0;a=a._parent}return!1},_rebuild:function(){for(var b=this;b;)"auto"===b.timing.duration&&(b._timing.duration=b.activeDuration),b=b._parent;this._animation&&this._animation._rebuildUnderlyingAnimation()},_reparent:function(b){h.removeMulti(b);for(var a=0;a<b.length;a++)b[a]._parent=this},_putChild:function(e,a){for(var b=a?"Cannot append an ancestor or self":"Cannot prepend an ancestor or self",f=0;f<e.length;f++)if(this._isAncestor(e[f]))throw{type:DOMException.HIERARCHY_REQUEST_ERR,name:"HierarchyRequestError",message:b};for(var f=0;f<e.length;f++)a?this.children.push(e[f]):this.children.unshift(e[f]);this._reparent(e),this._rebuild()},append:function(){this._putChild(arguments,!0)},prepend:function(){this._putChild(arguments,!1)},get parent(){return this._parent},get firstChild(){return this.children.length?this.children[0]:null},get lastChild(){return this.children.length?this.children[this.children.length-1]:null},clone:function(){for(var a=f.cloneTimingInput(this._timingInput),b=[],c=0;c<this.children.length;c++)b.push(this.children[c].clone());return this instanceof GroupEffect?new GroupEffect(b,a):new SequenceEffect(b,a)},remove:function(){h.removeMulti([this])}},window.SequenceEffect.prototype=Object.create(a.prototype),Object.defineProperty(window.SequenceEffect.prototype,"activeDuration",{get:function(){var d=0;return this.children.forEach(function(a){d+=c(a)}),g(d,0)}}),window.GroupEffect.prototype=Object.create(a.prototype),Object.defineProperty(window.GroupEffect.prototype,"activeDuration",{get:function(){var d=0;return this.children.forEach(function(a){d=g(d,c(a))}),d}}),h.newUnderlyingAnimationForGroup=function(a){var i,d=null,b=new KeyframeEffect(null,[],a._timing,a._id);return b.onsample=function(a){var b=i._wrapper;if(b&&"pending"!=b.playState&&b.effect)return null==a?void b._removeChildAnimations():0==a&&0>b.playbackRate&&(d||(d=f.normalizeTimingInput(b.effect.timing)),a=f.calculateIterationProgress(f.calculateActiveDuration(d),-1,d),isNaN(a)||null==a)?(b._forEachChild(function(b){b.currentTime=-1}),void b._removeChildAnimations()):void 0},i=h.timeline._play(b)},h.bindAnimationForGroup=function(b){b._animation._wrapper=b,b._isGroup=!0,h.awaitStartTime(b),b._constructChildAnimations(),b._setExternalAnimation(b)},h.groupChildDuration=c}(i,b),a.true=f}({},function(){return this}());</script><dom-module id="menu-subtitle" assetpath="src/generic-elements/"><template><style>:host{display:flex;padding-left:16px;padding-right:8px}#subtitle{text-align:left;flex-grow:1;display:flex;align-items:center;@apply --paper-font-subhead;}</style><span id="subtitle">[[text]]</span><slot></slot></template></dom-module><script>class MenuSubtitle extends Polymer.Element{static get is(){return"menu-subtitle"}static get properties(){return{text:{type:String,reflectToAttribute:!0}}}}customElements.define(MenuSubtitle.is,MenuSubtitle);</script><dom-module id="dtile-layer-list" assetpath="src/dtile-map-editor/"><template><style>:host{display:block;position:relative;overflow:hidden;color:var(--primary-text-color)}#items{width:100%;height:25vh;position:relative;overflow-y:auto}.layerItem{user-select:none;padding-right:0;cursor:default;box-sizing:border-box;transition:background .2s,color .2s}.layerItem[selected]{background:var(--primary-color);color:var(--contrasting-text-color)}.layerItem[selected] paper-icon-button{color:var(--contrasting-text-color)}.layerItem>paper-ripple{color:var(--primary-color)}.layerName{text-align:left;flex-grow:1}#renameDialog>paper-input{text-align:left}paper-icon-button{color:var(--secondary-color)}</style><menu-subtitle text="Layers"><paper-icon-button icon="add" on-tap="_addLayer"></paper-icon-button></menu-subtitle><div id="items" role="listbox"><template is="dom-repeat" items="[[layers]]" sort="_reverseLayerOrder"><paper-item class="layerItem" on-tap="_selectLayer" selected$="{{_isLayerSelected(item.index, _selectedIndex)}}"><paper-ripple></paper-ripple><span class="layerName">[[item.name]]</span><paper-menu-button class="layerMenuButton" on-tap="_stopPropagation"><paper-icon-button icon="more-vert" slot="dropdown-trigger"></paper-icon-button><div slot="dropdown-content"><paper-item on-tap="_renameLayer">Rename</paper-item><paper-item on-tap="_removeLayer">Remove</paper-item><paper-item on-tap="_openMeta">Edit meta</paper-item></div></paper-menu-button></paper-item></template></div></template></dom-module><script>var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};function _objectWithoutProperties(a,b){var c={};for(var d in a)0<=b.indexOf(d)||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}class DTileLayerList extends DTile.ReduxMixin(Polymer.Element){static get is(){return"dtile-layer-list"}static get properties(){return{layers:{type:Array,statePath:(a)=>{if("undefined"!=typeof a.ui.currentMapId){const b=a.entities.maps[parseInt(a.ui.currentMapId)];return b?b.present.layers.map((a,b)=>_extends({},a,{index:b})):void 0}}},_selectedIndex:{type:Number,statePath:"ui.currentLayerIndex"}}}static get observers(){return["_layersUpdated(layers)"]}static get actions(){return{addLayer(a,b){return{type:"ADD_LAYER",payload:{mapId:a,name:b}}},removeLayer(a,b){return{type:"REMOVE_LAYER",payload:{mapId:a,layerIndex:b}}},renameLayer(a,b,c){return{type:"RENAME_LAYER",payload:{mapId:a,layerIndex:b,name:c}}},setCurrentLayer(a){return{type:"SET_CURRENT_LAYER_INDEX",payload:a}},modifyLayerMeta(a,b,c){return{type:"MODIFY_LAYER_META",payload:{mapId:a,layerIndex:b,meta:c}}}}}ready(){super.ready(),window.addEventListener("keydown",(a)=>{const b=this.getState();if("edit-map"===b.ui.currentPage){const b="0"===a.key?10:parseInt(a.key);isNaN(b)||0>=b||b>this.layers.length||this.dispatch("setCurrentLayer",b-1)}})}_stopPropagation(a){a.stopPropagation()}_reverseLayerOrder(a,b){return this.layers.indexOf(a)<this.layers.indexOf(b)}_isLayerSelected(a,b){return a===b}_layersUpdated(a){if(a){const a=this.getState().ui.currentLayerIndex;"number"!=typeof a&&this.dispatch("setCurrentLayer",0)}}_addLayer(){const a=this.getState(),b=a.ui.currentMapId,c=a.entities.maps[b].present.layers,d=c.map((a)=>a.name).filter((a)=>/Layer \d/.exec(a)).map((a)=>parseInt(/.*?(\d+)/.exec(a)[1])).reduce((a,b)=>Math.max(a,b+1),1);this.dispatch("addLayer",b,`Layer ${d}`),this.dispatch("setCurrentLayer",c.length)}_removeLayer(a){a.target.parentElement.parentElement.close();const b=this.getState(),c=b.ui.currentMapId,d=a.model.item.index;this.dispatch("removeLayer",c,d);const e=b.ui.currentLayerIndex;d<=e&&this.dispatch("setCurrentLayer",e-1)}_renameLayer(a){a.target.parentElement.parentElement.close(),this.dispatchEvent(new CustomEvent("rename",{composed:!0,bubbles:!0,detail:{itemType:"Layer",currentName:a.model.item.name,callback:({newName:b})=>{const c=this.getState();this.dispatch("renameLayer",c.ui.currentMapId,a.model.item.index,b)}}}))}_selectLayer(a){this.dispatch("setCurrentLayer",a.model.item.index)}_openMeta(a){const b=a.model.item,{index:c}=b,d=_objectWithoutProperties(b,["index"]),e=this.getState().ui.currentMapId;this.dispatchEvent(new CustomEvent("dtile-open-meta",{bubbles:!0,composed:!0,detail:{meta:d.meta,metaType:"layer",callback:(a)=>{a&&this.dispatch("modifyLayerMeta",e,c,a)}}}))}}customElements.define(DTileLayerList.is,DTileLayerList);</script><dom-module id="dtile-object-list" assetpath="src/dtile-map-editor/"><template><style>#items{max-height:50vh;overflow-x:hidden;overflow-y:auto}#items>paper-item{user-select:none;cursor:default;padding-right:0}#items>paper-item:focus::before{background:0 0}#items>paper-item>paper-ripple{color:var(--primary-color)}.objectName{flex-grow:1}</style><menu-subtitle text="Objects"><paper-icon-button icon="add" on-tap="_addObject"></paper-icon-button></menu-subtitle><div id="items" role="listbox"><template is="dom-repeat" id="object-repeater" items="[[objects]]"><paper-item><paper-ripple></paper-ripple><span class="objectName">[[item.name]]</span><paper-menu-button class="objectMenuButton"><paper-icon-button icon="more-vert" slot="dropdown-trigger"></paper-icon-button><div slot="dropdown-content"><paper-item on-tap="_renameObject">Rename</paper-item><paper-item on-tap="_removeObject">Remove</paper-item><paper-item on-tap="_openMeta">Edit meta</paper-item></div></paper-menu-button></paper-item></template></div></template></dom-module><script>class DTileObjectList extends DTile.ReduxMixin(Polymer.Element){static get is(){return"dtile-object-list"}static get properties(){return{objects:{type:Array,statePath(a){const b=a.entities.maps[a.ui.currentMapId];return b?b.present.objects:void 0}}}}static get actions(){return{addObject(a,b){return{type:"ADD_OBJECT",payload:{mapId:a,name:b}}},removeObject(a,b){return{type:"REMOVE_OBJECT",payload:{mapId:a,objectIndex:b}}},renameObject(a,b,c){return{type:"RENAME_OBJECT",payload:{mapId:a,objectIndex:b,name:c}}},modifyObjectMeta(a,b,c){return{type:"MODIFY_OBJECT_META",payload:{mapId:a,objectIndex:b,meta:c}}}}}highlightObject(a){const b=[...this.$.items.childNodes].filter((a)=>"PAPER-ITEM"===a.tagName),c=b[a].querySelector("paper-ripple");c.simulatedRipple()}_addObject(){const a=this.getState(),b=a.ui.currentMapId,c=a.entities.maps[b].present.objects,d=c.map((a)=>a.name).filter((a)=>/Object \d/.exec(a)).map((a)=>parseInt(/.*?(\d+)/.exec(a)[1])).reduce((a,b)=>Math.max(a,b+1),1);this.dispatch("addObject",b,`Object ${d}`)}_removeObject(a){a.target.parentElement.parentElement.close();const b=this.getState().ui.currentMapId,c=a.model.index;this.dispatch("removeObject",b,c)}_renameObject(a){a.target.parentElement.parentElement.close(),this.dispatchEvent(new CustomEvent("rename",{composed:!0,bubbles:!0,detail:{itemType:"Object",currentName:a.model.item.name,callback:({newName:b})=>{const c=this.getState();this.dispatch("renameObject",c.ui.currentMapId,a.model.index,b)}}}))}_openMeta(a){a.target.parentElement.parentElement.close();const b=this.getState().ui.currentMapId,{index:c,item:d}=a.model;this.dispatchEvent(new CustomEvent("dtile-open-meta",{bubbles:!0,composed:!0,detail:{meta:d.meta,metaType:"object",callback:(a)=>{a&&this.dispatch("modifyObjectMeta",b,c,a)}}}))}}customElements.define(DTileObjectList.is,DTileObjectList);</script><iron-iconset-svg name="tool" size="24"><svg><defs><g id="pen"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></g><g id="select"><path d="M2,4V7H4V4H2M7,4H4C4,4 4,4 4,4H2C2,2.89 2.9,2 4,2H7V4M22,4V7H20V4H22M17,4H20C20,4 20,4 20,4H22C22,2.89 21.1,2 20,2H17V4M22,20V17H20V20H22M17,20H20C20,20 20,20 20,20H22C22,21.11 21.1,22 20,22H17V20M2,20V17H4V20H2M7,20H4C4,20 4,20 4,20H2C2,21.11 2.9,22 4,22H7V20M10,2H14V4H10V2M10,20H14V22H10V20M20,10H22V14H20V10M2,10H4V14H2V10Z"></path></g><g id="bucket"><path d="m 21.34467,15.995233 c -1.194904,1.457942 -2.663685,3.021853 -2.659263,5.027001 0.198855,1.985344 2.948122,3.094535 4.409613,1.668944 1.071318,-0.921079 1.174729,-2.634225 0.368521,-3.75967 C 22.89866,17.859209 22.142664,16.901985 21.34467,15.995233 Z M 2.9527209,13.994658 C 5.0822215,11.865158 7.211722,9.7356574 9.3412226,7.6061571 11.470723,9.7356574 13.600224,11.865158 15.729724,13.994658 m 2.360678,-1.413739 C 14.115927,8.6064443 10.141452,4.6319695 6.1669773,0.65749478 5.5401306,1.2843415 4.9132839,1.9111882 4.2864372,2.5380349 5.344519,3.5961165 6.4026008,4.6541982 7.4606826,5.7122798 5.0863847,8.1165126 2.6515522,10.460933 0.31595194,12.903311 c -0.90748767,1.34664 0.33562302,2.78727 1.37404046,3.598182 2.1890014,2.170981 4.3262096,4.394716 6.5653482,6.514741 1.3442862,0.903174 2.7834224,-0.330452 3.5918454,-1.369188 2.163996,-2.180407 4.37646,-4.313165 6.493408,-6.53992 0.521031,-0.757653 0.439516,-1.89706 -0.250192,-2.526207 z"></path></g><g id="wireframe"><path d="M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 20H4v-4h4v4zm0-6H4v-4h4v4zm0-6H4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4z"></path></g><g id="object"><path d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"></path></g></defs></svg></iron-iconset-svg><dom-module id="dtile-map-editor" assetpath="src/dtile-map-editor/"><template><style>#container{width:100%;height:100%;position:relative}#object-info{position:absolute;top:0;left:0;display:none;align-items:center;justify-content:center;height:26px;min-width:80px;border-radius:13px;padding:0 15px;font-size:13px;color:#fff;background:var(--page-background-color);@apply --shadow-elevation-2dp;pointer-events:none}#mouse-info{position:absolute;bottom:10px;right:10px;color:rgba(255,255,255,.8)}#sheet{position:absolute;top:20px;left:20px;border-radius:2px;background:var(--header-color);@apply --shadow-elevation-8dp;color:var(--primary-text-color);width:300px;--paper-tabs-selection-bar-color:var(--primary-color);--paper-tab-ink:var(--primary-color)}#sheet-top-icons{--paper-icon-selected-color:rgba(255, 255, 255, 0.2);display:flex}#sheet-top-icons>*{margin:10px}#sheet-top-icons>paper-icon-radio-group{flex-grow:1}#sheet-top-icons>paper-icon-button{border-radius:50%;transition:background .2s}#sheet-top-icons>paper-icon-button[active]{background:var(--paper-icon-selected-color,rgba(255,255,255,.3))}paper-icon-radio-group>paper-icon-button{color:#fff}</style><dtile-map-exporter id="map-exporter"></dtile-map-exporter><div id="container"><dtile-tilemap-viewer id="viewer" map="[[_preivewObjectAndMap(map, _manipulatingObjectIndex, _manipulatingObjectRect, _mapPreviewInfo)]]" tilesets="[[tilesets]]" selection="[[_getSelection(mapSelection, _temporarySelection, _useTemporarySelection)]]" outline="[[showWireframe]]" camera-bound-offset-x1="340"></dtile-tilemap-viewer><div id="object-info"></div><div id="mouse-info">(x: [[mouseTileX]]; y: [[mouseTileY]])</div><div id="sheet"><paper-tabs selected="{{_modeSelection}}"><paper-tab>Tiles</paper-tab><paper-tab>Objects</paper-tab></paper-tabs><iron-pages selected="{{_modeSelection}}"><div><div id="sheet-top-icons"><paper-icon-radio-group selected="{{selectedTool}}"><template is="dom-repeat" items="[[_getTools()]]"><paper-icon-button icon="[[item.constructor.icon]]" name="[[item.constructor.toolName]]"></paper-icon-button></template></paper-icon-radio-group><paper-icon-button toggles="" icon="tool:wireframe" active="{{showWireframe}}"></paper-icon-button></div><dtile-layer-list></dtile-layer-list><dtile-dropdown-selector id="tileset-selector" itemtype="tileset" selected-id="[[currentTilesetId]]" items="[[tilesets]]"></dtile-dropdown-selector><dtile-tileset-viewer id="tileset-viewer" tileset-id="[[currentTilesetId]]" tilesets="[[tilesets]]" selection="[[tilesetSelection]]"></dtile-tileset-viewer></div><div><dtile-object-list id="object-list"></dtile-object-list></div></iron-pages></div></div></template></dom-module><script>(()=>{const a=[];DTile.Tool=class b{static register(){a.push(new this)}static get allTools(){return a}static get store(){return DTile.store}static get state(){return b.store.getState()}get currentMap(){const a=b.state;return a.entities.maps[a.ui.currentMapId].present}get currentLayerIndex(){return b.state.ui.currentLayerIndex}get currentLayer(){return this.currentMap.layers[this.currentLayerIndex]}get layerAsTileArea(){if(this.currentLayer){const a=this.currentMap;return{width:a.width,height:a.height,tiles:this.currentLayer.tiles}}}get tileArea(){return b.state.ui.currentTileArea||{width:0,height:0,tiles:[]}}getTileMeta(a,c){return 0>a||0>c?{}:b.state.entities.tilesets[a].tileMeta[c]||{}}onMove(){}onTap(){}onTrack(){}}})();</script><script>var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};(class extends DTile.Tool{static get toolName(){return"pen"}static get icon(){return"tool:pen"}onMove({tileX:a,tileY:b,shiftKey:c,button:d,previewTiles:e}){this.doTap(a,b,c,d),e(this._tiles),this._tiles={}}onTap({tileX:a,tileY:b,shiftKey:c,button:d,commitTiles:e}){this.doTap(a,b,c,d),e(this._tiles),this._tiles={}}doTap(a,b,c,d){this._paintOrigin={x:a,y:b},c&&this._lastPaintPosition||(this._lastPaintPosition={x:a,y:b}),this._paintTo(a,b,2===d),this._lastPaintPosition={x:a,y:b}}onTrack({tileX:a,tileY:b,state:c,button:d,previewTiles:e,commitTiles:f}){const g=2===d;"start"===c?(this._tiles={},this._paintOrigin=this._lastPaintPosition={x:a,y:b},this._paintTo(a,b,g)):"track"===c?(this._paintTo(a,b,g),this._lastPaintPosition={x:a,y:b},e(this._tiles)):"end"===c&&(f(this._tiles),this._tiles={})}_paintAt(a,b,c){const d=this.currentMap,e=this.tileArea,f=this.layerAsTileArea,g=_extends({},this._tiles);for(let h=0;h<(c?1:e.width);h++)for(let i=0;i<(c?1:e.height);i++){const j=a+h,k=b+i,l=c?{tileId:-1,tilesetId:-1}:TileTools.getTilingTileData(e,this._paintOrigin.x,this._paintOrigin.y,j,k);if(0>j||0>k||j>=d.width||k>=d.height||!c&&(-1===l.tileId||-1===l.tilesetId))continue;const m=this.getTileMeta(l.tilesetId,l.tileId);let n=m["@map-to-name"]?this.currentMap.layers.findIndex((a)=>a.name===m["@map-to-name"]):m["@map-to-index"]?m["@map-to-index"]:this.currentLayerIndex;const o=TileTools.getTileIndex(f,j,k);g[n]||(g[n]={}),g[n][o]=_extends({},l)}this._tiles=g}_paintTo(a,b,c){var d=Math.abs;let e=this._lastPaintPosition.x,f=this._lastPaintPosition.y,g=a,h=b;const i=d(g-e),j=d(h-f),k=e<g?1:-1,l=f<h?1:-1;for(let d=i-j;this._paintAt(e,f,c),e!==g||f!==h;){const a=2*d;a>-j&&(d-=j,e+=k),a<i&&(d+=i,f+=l)}}}).register();</script><script>(class extends DTile.Tool{static get toolName(){return"bucket"}static get icon(){return"tool:bucket"}onMove(a){this._preview(a)}onTap(a){this._fill(a)}onTrack(a){"end"===a.state?this._fill(a):this._preview(a)}_preview({tileX:a,tileY:b,previewTiles:c}){const d=this.layerAsTileArea,e=this.tileArea;if(d&&e)if(this._isOutside(a,b,d))c({});else{const f=TileTools.fillTileAreaAt(d,a,b,e).tiles;c({[this.currentLayerIndex]:f})}}_fill({tileX:a,tileY:b,button:c,commitTiles:d}){const e=this.layerAsTileArea;if(!(c||this._isOutside(a,b,e))){const c=TileTools.fillTileAreaAt(e,a,b,this.tileArea);d({[this.currentLayerIndex]:c.tiles})}}_isOutside(a,b,c){return 0>a||0>b||a>=c.width||b>=c.height}}).register();</script><script>(class extends DTile.Tool{static get toolName(){return"select"}static get icon(){return"tool:select"}onTap({tileX:a,tileY:b,commitSelection:c,button:d}){d||c([])}onTrack({tileX:a,tileY:b,startTileX:c,startTileY:d,state:e,shiftKey:f,ctrlKey:g,previewSelection:h,commitSelection:i,button:j}){var k=Math.max,l=Math.min;if(!j){const f=this.currentMap,g=this.currentLayerIndex,j=[],m=[a,c],n=[b,d];for(let a=l(...m);a<=k(...m);a++)for(let b=l(...n);b<=k(...n);b++)0>a||0>b||a>=f.width||b>=f.height||j.push({x:a,y:b,layer:g});"end"===e?i(j):h(j)}}}).register();</script><script>(()=>{const a=[];DTile.Filter=class{static register(){a.push(new this)}static get allFilters(){return a}}})();</script><script>(class extends DTile.Filter{filter(a,{map:b,getTileset:c}){const d=parseInt(b.width),e=(c,d)=>0>d?{tilesetId:-1,tileId:-1}:a[c]&&void 0!==a[c][d]?a[c][d]:b.layers[c].tiles[d],f={},g=(a,b)=>{a=parseInt(a),b=parseInt(b),f[a]=f[a]||{},[2*-d-2,2*-d-1,2*-d,2*-d+1,2*-d+2,-d-2,-d-1,-d,-d+1,-d+2,-2,-1,0,1,2,d-2,d-1,d,d+1,d+2,2*d-2,2*d-1,2*d,2*d+1,2*d+2].forEach((d)=>{if(void 0!==f[a][b+d])return;const g=e(a,b+d);if(!g||void 0===g.tilesetId||void 0===g.tileId)return;const h=parseInt(g.tilesetId),i=parseInt(g.tileId);if(!(0>h||0>i)){const e=c(h).meta["@*autotile-groups"];if(e){const c=e.find(({tiles:a})=>Object.values(a).find((a)=>a===i));f[a][b+d]=c}}})},h=[];Object.entries(a).forEach(([a,b])=>{a=parseInt(a),Object.entries(b).forEach(([b,{tilesetId:c,tileId:e}])=>{b=parseInt(b),c=parseInt(c),e=parseInt(e),g(a,b),[-d-1,-d,-d+1,-1,0,1,d-1,d,d+1].forEach((c)=>{h.push({layer:a,id:b+c})})})});const i=(c,g)=>{const h=f[c][g];if(h){const i=0==g%d,j=g%d==d-1,k=!i&&f[c][g-d-1]===h,m=!j&&f[c][g-d+1]===h,n=!i&&f[c][g+d-1]===h,o=!j&&f[c][g+d+1]===h,p=f[c][g-d]===h,q=!j&&f[c][g+1]===h,r=f[c][g+d]===h,b=!i&&f[c][g-1]===h,l=DTile.utils.autotiles.getId(k,m,n,o,p,q,r,b)-1;a[c][g]={tilesetId:e(c,g).tilesetId,tileId:h.tiles[l]}}};return h.forEach(({id:a,layer:b})=>{i(b,a)}),a}}).register();</script><script>var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};const OBJECT_EDGE_SIZE=0.2;class DTileMapEditor extends DTile.ReduxMixin(Polymer.Element){static get is(){return"dtile-map-editor"}static get properties(){return{map:{type:Object,statePath(a){const b=a.entities.maps[a.ui.currentMapId];if(b)return b.present}},tilesets:{type:Object,statePath(a){const b=a.ui.currentProjectId,c={};if(b)return a.entities.projects[b].tilesetIds.forEach((b)=>{c[b]=a.entities.tilesets[b]}),c}},currentTilesetId:{type:String,statePath:"ui.currentTilesetId"},mapSelection:{type:Array,statePath:"ui.mapSelection"},tilesetSelection:{type:Array,statePath:"ui.tilesetSelection"},currentTileArea:{type:Object,statePath:"ui.currentTileArea"},selectedTool:{type:String,value:"pen"},mouseTileX:Number,mouseTileY:Number,showWireframe:Boolean,_ghostData:Object,_temporarySelection:Array,_useTemporarySelection:Boolean,_modeSelection:{type:String,value:"0"},_manipulatingObjectIndex:{type:Number,value:-1},_manipulatingObjectRect:Object,_mapPreviewInfo:Object}}static get observers(){return["_tilesetsUpdated(tilesets)","_toolUpdated(selectedTool)","_ghostDataChanged(_ghostData)"]}static get actions(){return{setCurrentMapSelection(a){return{type:"SET_MAP_SELECTION",payload:a}},setCurrentTilesetId(a){return{type:"SET_CURRENT_TILESET_ID",payload:a}},setTilesetSelection(a){return{type:"SET_TILESET_SELECTION",payload:a}},setCurrentTileArea(a){return{type:"SET_CURRENT_TILE_AREA",payload:a}},modifyTiles(a,b){return{type:"MODIFY_TILE_LAYERS",payload:{mapId:a,layerTiles:b}}},setObjectBounds(a,b,c){return{type:"SET_BOUNDS_FOR_OBJECT",payload:_extends({mapId:a,objectIndex:b},c)}},changeMapSize(a,b,c,d,e){return{type:"CHANGE_MAP_SIZE",payload:{mapId:a,width:b,height:c,layers:d,objects:e}}}}}get tileMode(){return 0==this._modeSelection}get objectMode(){return 1==this._modeSelection}ready(){super.ready(),this.addEventListener("dtile-page-to",()=>{this.$.viewer.renderer.resetView(),this.$.viewer.updateSize(),this.$["tileset-viewer"].resetView()}),this.$.viewer.addEventListener("tile-tap",(a)=>{this.tileMode?this._sendEventToTools(a):this.objectMode&&this._onObjectTap(a)}),this.$.viewer.addEventListener("tile-track",(a)=>{this.tileMode?this._sendEventToTools(a):this.objectMode&&this._onObjectTrack(a)}),this.$.viewer.addEventListener("tile-move",(a)=>{this.mouseTileX=a.detail.perciseTileX.toFixed(2),this.mouseTileY=a.detail.perciseTileY.toFixed(2),this.tileMode?this._sendEventToTools(a):this.objectMode&&this._onObjectMove(a)}),this.$["tileset-selector"].addEventListener("tileset-selected",(a)=>{a.stopPropagation(),this.dispatch("setCurrentTilesetId",a.detail)}),this.$["tileset-viewer"].addEventListener("tileset-selection",(a)=>{a.stopPropagation(),this.dispatch("setTilesetSelection",a.detail);const b={x:a.detail[0].x,y:a.detail[0].y},c=_extends({},b);a.detail.forEach((a)=>{var d=Math.max,e=Math.min;c.x=e(c.x,a.x),c.y=e(c.y,a.y),b.x=d(b.x,a.x),b.y=d(b.y,a.y)});const d={width:b.x-c.x+1,height:b.y-c.y+1,tiles:[]},e=this.$["tileset-viewer"].tilesetTileWidth;for(let b=0;b<d.height;b++)for(let f=0;f<d.width;f++){const g=f+c.x,h=b+c.y,i=a.detail.find((a)=>a.x===g&&a.y===h);d.tiles.push({tileId:parseInt(i?h*e+g:-1),tilesetId:parseInt(this.currentTilesetId)})}this.dispatch("setCurrentTileArea",d)}),window.addEventListener("keydown",(a)=>{const b=document.querySelector("iron-overlay-backdrop");if(!(b&&b.opened)&&this.classList.contains("iron-selected")&&this.tileMode){const b=(b)=>{a.stopPropagation(),a.preventDefault(),this.selectedTool=b};if("a"===a.key?b("pen"):"s"===a.key?b("bucket"):"d"===a.key&&b("select"),"Delete"===a.key){const a={},b=this.getState();this.mapSelection.forEach(({x:b,y:c,layer:d})=>{a[d]=a[d]||{},a[d][b+c*this.map.width]={tileId:-1,tilesetId:-1}}),this.dispatch("modifyTiles",b.ui.currentMapId,a)}}}),window.addEventListener("dtile-map-export-request",()=>{this.$["map-exporter"].open()})}_tilesetsUpdated(a){if("undefined"==typeof this.getState().ui.currentTilesetId){const b=Object.keys(a);b.length&&this.dispatch("setCurrentTilesetId",b[0])}}_getTools(){return DTile.Tool.allTools}_toolUpdated(a){this._ghostData&&(this._ghostData={layer:this._ghostData.layer}),this._toolInstance=DTile.Tool.allTools.find((b)=>b.constructor.toolName===a)}_getFilters(){return DTile.Filter.allFilters}_getSelection(a,b,c){return c?b:a}_ghostDataChanged(a){const b=[];Object.entries(a).forEach(([a,c])=>{b[a]=c}),this.$.viewer.renderer.setGhosts(b),this.$.viewer.render()}_sendEventToTools(a){if(this._toolInstance){this._pointerEventTemplate||(this._pointerEventTemplate={previewTiles:(a)=>{this._ghostData=a},commitTiles:(a)=>{const b=this.getState(),c=this._runFilters(a);this.dispatch("modifyTiles",b.ui.currentMapId,c),this._ghostData={}},previewSelection:(a)=>{this._useTemporarySelection=!0,this._temporarySelection=a},cancelSelectionPreview:()=>this._useTemporarySelection=!1,commitSelection:(a)=>{this._useTemporarySelection=!1,this.dispatch("setCurrentMapSelection",a)},tileSize:this.$.viewer.renderer.tileSize});const b=this._toolInstance[(()=>{switch(a.type){case"tile-tap":return"onTap";case"tile-track":return"onTrack";case"tile-move":return"onMove";}})()].bind(this._toolInstance);b(_extends({},this._pointerEventTemplate,a.detail))}}_runFilters(a){return this._getFilters().forEach((b)=>{a=b.filter(a,{map:this.map,getTileset:(a)=>this.tilesets[a]})}),a}_preivewObjectAndMap(a,b,c,d){return 0<=b?_extends({},a,{objects:a.objects.map((a,d)=>d===b?_extends({},a,c):a)}):d?_extends({},a,d,{objects:a.objects.map((a)=>_extends({},a,{x:a.x-c.x,y:a.y-c.y}))}):a}_getObjectIndexAt(a,b){return this.map.objects.findIndex(({x:c,y:d,width:e,height:f})=>!(c-OBJECT_EDGE_SIZE>a||d-OBJECT_EDGE_SIZE>b||c+e+OBJECT_EDGE_SIZE<a||d+f+OBJECT_EDGE_SIZE<b))}_mouseOnRectEdge(a,b,{x:c,y:d,width:e,height:f}){const g=OBJECT_EDGE_SIZE;return{top:b>=d-g&&b<d+g,right:a<=c+e+g&&a>c+e-g,bottom:b<=d+f+g&&b>d+f-g,left:a>=c-g&&a<c+g}}_onObjectTap(a){const b=this._getObjectIndexAt(a.detail.perciseTileX,a.detail.perciseTileY);0>b||this.$["object-list"].highlightObject(b)}_onObjectTrack(a){var b=Math.floor,c=Math.round;this.$["object-info"].style.display="none";const{perciseTileX:d,perciseTileY:e,tileX:f,tileY:g}=a.detail;if("start"===a.detail.state){const a=this._getObjectIndexAt(d,e);if(0<=a){const b=this.map.objects[a];this._objectEdgesMoving=this._mouseOnRectEdge(d,e,b),this._manipulatingObjectIndex=a,this._startTilePos={perciseTileX:d,perciseTileY:e,tileX:f,tileY:g},this._initialObjectRect={x:b.x,y:b.y,width:b.width,height:b.height}}else{const a={x:0,y:0,width:parseInt(this.map.width),height:parseInt(this.map.height)},{top:b,right:c,bottom:h,left:i}=this._mouseOnRectEdge(d,e,a);(b||c||h||i)&&(this._objectEdgesMoving={top:b,right:c,bottom:h,left:i},this._manipulatingObjectIndex="map",this._startTilePos={perciseTileX:d,perciseTileY:e,tileX:f,tileY:g},this._initialObjectRect=a)}}else if("track"===a.detail.state&&0<=this._manipulatingObjectIndex){const{top:h,right:i,bottom:j,left:k}=this._objectEdgesMoving,l=d-this._startTilePos.perciseTileX,m=e-this._startTilePos.perciseTileY;if(h||i||j||k){const b=a.detail.shift?(a)=>a:c;let{x:d,y:e,width:f,height:g}=this._initialObjectRect;i?f=b(f)+b(l):k&&(d=b(d)+b(l),f=this._initialObjectRect.x-d+f),j?g=b(g)+b(m):h&&(e=b(e)+b(m),g=this._initialObjectRect.y-e+g),this._manipulatingObjectRect={x:d,y:e,width:f,height:g}}else{const c=a.detail.shift?this._initialObjectRect.x+l:b(this._initialObjectRect.x-this._startTilePos.perciseTileX)+f+1,d=a.detail.shift?this._initialObjectRect.y+m:b(this._initialObjectRect.y-this._startTilePos.perciseTileY)+g+1;this._manipulatingObjectRect=_extends({},this._initialObjectRect,{x:c,y:d})}}else if("track"===a.detail.state&&"map"===this._manipulatingObjectIndex){const{top:a,right:b,bottom:f,left:g}=this._objectEdgesMoving;let{x:h,y:i,width:j,height:k}=this._initialObjectRect;const l=d-this._startTilePos.perciseTileX,m=e-this._startTilePos.perciseTileY;b?j=c(j)+c(l):g&&(h=c(h)+c(l),j=this._initialObjectRect.x-h+j),f?k=c(k)+c(m):a&&(i=c(i)+c(m),k=this._initialObjectRect.y-i+k),this._manipulatingObjectRect={x:h,y:i,width:j,height:k},this._mapPreviewInfo={layers:this.map.layers.map((a)=>{const b=TileTools.getTileAreaSlice(_extends({},a,{width:this.map.width,height:this.map.height}),h,i,j,k).tiles;return _extends({},a,{tiles:b})}),width:j,height:k}}else if("end"===a.detail.state&&0<=this._manipulatingObjectIndex){const a=this.getState();this.dispatch("setObjectBounds",a.ui.currentMapId,this._manipulatingObjectIndex,this._manipulatingObjectRect)}else if("end"===a.detail.state&&"map"===this._manipulatingObjectIndex){const a=this.getState();this.dispatch("changeMapSize",a.ui.currentMapId,this._mapPreviewInfo.width,this._mapPreviewInfo.height,this._mapPreviewInfo.layers,this.map.objects.map((a)=>_extends({},a,{x:a.x-this._manipulatingObjectRect.x,y:a.y-this._manipulatingObjectRect.y})))}"end"===a.detail.state&&(this._mapPreviewInfo=null,this._objectEdgesMoving=null,this._manipulatingObjectIndex=-1,this._manipulatingObjectRect=null,this._startTilePos=null,this._initialObjectRect=null)}_onObjectMove(a){const{perciseTileX:b,perciseTileY:c}=a.detail,d=this.$["object-info"],e=this._getObjectIndexAt(b,c);if(0<=e){const f=this.map.objects[e];d.textContent=f.name,d.style.transform=`translate(calc(${a.detail.x}px - 50%), ${a.detail.y+25}px)`,d.style.display="flex";const{top:g,right:h,bottom:i,left:j}=this._mouseOnRectEdge(b,c,f);this._setCursor(!0,g,h,i,j)}else{const a={x:0,y:0,width:this.map.width,height:this.map.height},{top:e,right:f,bottom:g,left:h}=this._mouseOnRectEdge(b,c,a);e||f||g||h?this._setCursor(!0,e,f,g,h):(this._setCursor(),d.style.display="")}}_setCursor(a,b,c,d,e){if(!a)this.style.cursor="";else if(b||c||d||e){const a=b?"n":d?"s":"",f=e?"w":c?"e":"";this.style.cursor=a+f+"-resize"}else this.style.cursor="move"}}customElements.define(DTileMapEditor.is,DTileMapEditor);</script><iron-iconset-svg name="image" size="24"><svg><defs><g id="add-a-photo"><path d="M3 4V1h2v3h3v2H5v3H3V6H0V4h3zm3 6V7h3V4h7l1.83 2H21c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V10h3zm7 9c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-3.2-5c0 1.77 1.43 3.2 3.2 3.2s3.2-1.43 3.2-3.2-1.43-3.2-3.2-3.2-3.2 1.43-3.2 3.2z"></path></g><g id="add-to-photos"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9h-4v4h-2v-4H9V9h4V5h2v4h4v2z"></path></g><g id="adjust"><path d="M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3-8c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3z"></path></g><g id="assistant"><path d="M19 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h4l3 3 3-3h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-5.12 10.88L12 17l-1.88-4.12L6 11l4.12-1.88L12 5l1.88 4.12L18 11l-4.12 1.88z"></path></g><g id="assistant-photo"><path d="M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z"></path></g><g id="audiotrack"><path d="M12 3v9.28c-.47-.17-.97-.28-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3h-7z"></path></g><g id="blur-circular"><path d="M10 9c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zM7 9.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm3 7c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm-3-3c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm3-6c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM14 9c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-1.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm3 6c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm0-4c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm2-3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm0-3.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"></path></g><g id="blur-linear"><path d="M5 17.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zM9 13c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zM3 21h18v-2H3v2zM5 9.5c.83 0 1.5-.67 1.5-1.5S5.83 6.5 5 6.5 3.5 7.17 3.5 8 4.17 9.5 5 9.5zm0 4c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zM9 17c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm8-.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM3 3v2h18V3H3zm14 5.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm0 4c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM13 9c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1z"></path></g><g id="blur-off"><path d="M14 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm-.2 4.48l.2.02c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5l.02.2c.09.67.61 1.19 1.28 1.28zM14 3.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm-4 0c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm11 7c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM10 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm8 8c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm-4 13.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM2.5 5.27l3.78 3.78L6 9c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1c0-.1-.03-.19-.06-.28l2.81 2.81c-.71.11-1.25.73-1.25 1.47 0 .83.67 1.5 1.5 1.5.74 0 1.36-.54 1.47-1.25l2.81 2.81c-.09-.03-.18-.06-.28-.06-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1c0-.1-.03-.19-.06-.28l3.78 3.78L20 20.23 3.77 4 2.5 5.27zM10 17c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm11-3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM6 13c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zM3 9.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm7 11c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM6 17c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm-3-3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5z"></path></g><g id="blur-on"><path d="M6 13c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm-3 .5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM6 5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm15 5.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM14 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-3.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm-11 10c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm7 7c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm0-17c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM10 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 5.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm8 .5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm3 8.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM14 17c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm-4-12c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0 8.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm4-4.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-4c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"></path></g><g id="brightness-1"><circle cx="12" cy="12" r="10"></circle></g><g id="brightness-2"><path d="M10 2c-1.82 0-3.53.5-5 1.35C7.99 5.08 10 8.3 10 12s-2.01 6.92-5 8.65C6.47 21.5 8.18 22 10 22c5.52 0 10-4.48 10-10S15.52 2 10 2z"></path></g><g id="brightness-3"><path d="M9 2c-1.05 0-2.05.16-3 .46 4.06 1.27 7 5.06 7 9.54 0 4.48-2.94 8.27-7 9.54.95.3 1.95.46 3 .46 5.52 0 10-4.48 10-10S14.52 2 9 2z"></path></g><g id="brightness-4"><path d="M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6z"></path></g><g id="brightness-5"><path d="M20 15.31L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"></path></g><g id="brightness-6"><path d="M20 15.31L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69zM12 18V6c3.31 0 6 2.69 6 6s-2.69 6-6 6z"></path></g><g id="brightness-7"><path d="M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zm0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4z"></path></g><g id="broken-image"><path d="M21 5v6.59l-3-3.01-4 4.01-4-4-4 4-3-3.01V5c0-1.1.9-2 2-2h14c1.1 0 2 .9 2 2zm-3 6.42l3 3.01V19c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2v-6.58l3 2.99 4-4 4 4 4-3.99z"></path></g><g id="brush"><path d="M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3zm13.71-9.37l-1.34-1.34c-.39-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41z"></path></g><g id="burst-mode"><path d="M1 5h2v14H1zm4 0h2v14H5zm17 0H10c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zM11 17l2.5-3.15L15.29 16l2.5-3.22L21 17H11z"></path></g><g id="camera"><path d="M9.4 10.5l4.77-8.26C13.47 2.09 12.75 2 12 2c-2.4 0-4.6.85-6.32 2.25l3.66 6.35.06-.1zM21.54 9c-.92-2.92-3.15-5.26-6-6.34L11.88 9h9.66zm.26 1h-7.49l.29.5 4.76 8.25C21 16.97 22 14.61 22 12c0-.69-.07-1.35-.2-2zM8.54 12l-3.9-6.75C3.01 7.03 2 9.39 2 12c0 .69.07 1.35.2 2h7.49l-1.15-2zm-6.08 3c.92 2.92 3.15 5.26 6 6.34L12.12 15H2.46zm11.27 0l-3.9 6.76c.7.15 1.42.24 2.17.24 2.4 0 4.6-.85 6.32-2.25l-3.66-6.35-.93 1.6z"></path></g><g id="camera-alt"><circle cx="12" cy="12" r="3.2"></circle><path d="M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"></path></g><g id="camera-front"><path d="M10 20H5v2h5v2l3-3-3-3v2zm4 0v2h5v-2h-5zM12 8c1.1 0 2-.9 2-2s-.9-2-2-2-1.99.9-1.99 2S10.9 8 12 8zm5-8H7C5.9 0 5 .9 5 2v14c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2zM7 2h10v10.5c0-1.67-3.33-2.5-5-2.5s-5 .83-5 2.5V2z"></path></g><g id="camera-rear"><path d="M10 20H5v2h5v2l3-3-3-3v2zm4 0v2h5v-2h-5zm3-20H7C5.9 0 5 .9 5 2v14c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2zm-5 6c-1.11 0-2-.9-2-2s.89-2 1.99-2 2 .9 2 2C14 5.1 13.1 6 12 6z"></path></g><g id="camera-roll"><path d="M14 5c0-1.1-.9-2-2-2h-1V2c0-.55-.45-1-1-1H6c-.55 0-1 .45-1 1v1H4c-1.1 0-2 .9-2 2v15c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2h8V5h-8zm-2 13h-2v-2h2v2zm0-9h-2V7h2v2zm4 9h-2v-2h2v2zm0-9h-2V7h2v2zm4 9h-2v-2h2v2zm0-9h-2V7h2v2z"></path></g><g id="center-focus-strong"><path d="M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm-7 7H3v4c0 1.1.9 2 2 2h4v-2H5v-4zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2V5zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2zm0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4z"></path></g><g id="center-focus-weak"><path d="M5 15H3v4c0 1.1.9 2 2 2h4v-2H5v-4zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2V5zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2zm0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></path></g><g id="collections"><path d="M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2zm-11-4l2.03 2.71L16 11l4 5H8l3-4zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6H2z"></path></g><g id="collections-bookmark"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 10l-2.5-1.5L15 12V4h5v8z"></path></g><g id="color-lens"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path></g><g id="colorize"><path d="M20.71 5.63l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z"></path></g><g id="compare"><path d="M10 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h5v2h2V1h-2v2zm0 15H5l5-6v6zm9-15h-5v2h5v13l-5-6v9h5c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path></g><g id="control-point"><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g><g id="control-point-duplicate"><path d="M16 8h-2v3h-3v2h3v3h2v-3h3v-2h-3zM2 12c0-2.79 1.64-5.2 4.01-6.32V3.52C2.52 4.76 0 8.09 0 12s2.52 7.24 6.01 8.48v-2.16C3.64 17.2 2 14.79 2 12zm13-9c-4.96 0-9 4.04-9 9s4.04 9 9 9 9-4.04 9-9-4.04-9-9-9zm0 16c-3.86 0-7-3.14-7-7s3.14-7 7-7 7 3.14 7 7-3.14 7-7 7z"></path></g><g id="crop"><path d="M17 15h2V7c0-1.1-.9-2-2-2H9v2h8v8zM7 17V1H5v4H1v2h4v10c0 1.1.9 2 2 2h10v4h2v-4h4v-2H7z"></path></g><g id="crop-16-9"><path d="M19 6H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 10H5V8h14v8z"></path></g><g id="crop-3-2"><path d="M19 4H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H5V6h14v12z"></path></g><g id="crop-5-4"><path d="M19 5H5c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 12H5V7h14v10z"></path></g><g id="crop-7-5"><path d="M19 7H5c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm0 8H5V9h14v6z"></path></g><g id="crop-din"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z"></path></g><g id="crop-free"><path d="M3 5v4h2V5h4V3H5c-1.1 0-2 .9-2 2zm2 10H3v4c0 1.1.9 2 2 2h4v-2H5v-4zm14 4h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4zm0-16h-4v2h4v4h2V5c0-1.1-.9-2-2-2z"></path></g><g id="crop-landscape"><path d="M19 5H5c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 12H5V7h14v10z"></path></g><g id="crop-original"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-5.04-6.71l-2.75 3.54-1.96-2.36L6.5 17h11l-3.54-4.71z"></path></g><g id="crop-portrait"><path d="M17 3H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H7V5h10v14z"></path></g><g id="crop-rotate"><path d="M7.47 21.49C4.2 19.93 1.86 16.76 1.5 13H0c.51 6.16 5.66 11 11.95 11 .23 0 .44-.02.66-.03L8.8 20.15l-1.33 1.34zM12.05 0c-.23 0-.44.02-.66.04l3.81 3.81 1.33-1.33C19.8 4.07 22.14 7.24 22.5 11H24c-.51-6.16-5.66-11-11.95-11zM16 14h2V8c0-1.11-.9-2-2-2h-6v2h6v6zm-8 2V4H6v2H4v2h2v8c0 1.1.89 2 2 2h8v2h2v-2h2v-2H8z"></path></g><g id="crop-square"><path d="M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H6V6h12v12z"></path></g><g id="dehaze"><path d="M2 15.5v2h20v-2H2zm0-5v2h20v-2H2zm0-5v2h20v-2H2z"></path></g><g id="details"><path d="M3 4l9 16 9-16H3zm3.38 2h11.25L12 16 6.38 6z"></path></g><g id="edit"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></g><g id="exposure"><path d="M15 17v2h2v-2h2v-2h-2v-2h-2v2h-2v2h2zm5-15H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM5 5h6v2H5V5zm15 15H4L20 4v16z"></path></g><g id="exposure-neg-1"><path d="M4 11v2h8v-2H4zm15 7h-2V7.38L14 8.4V6.7L18.7 5h.3v13z"></path></g><g id="exposure-neg-2"><path d="M15.05 16.29l2.86-3.07c.38-.39.72-.79 1.04-1.18.32-.39.59-.78.82-1.17.23-.39.41-.78.54-1.17s.19-.79.19-1.18c0-.53-.09-1.02-.27-1.46-.18-.44-.44-.81-.78-1.11-.34-.31-.77-.54-1.26-.71-.51-.16-1.08-.24-1.72-.24-.69 0-1.31.11-1.85.32-.54.21-1 .51-1.36.88-.37.37-.65.8-.84 1.3-.18.47-.27.97-.28 1.5h2.14c.01-.31.05-.6.13-.87.09-.29.23-.54.4-.75.18-.21.41-.37.68-.49.27-.12.6-.18.96-.18.31 0 .58.05.81.15.23.1.43.25.59.43.16.18.28.4.37.65.08.25.13.52.13.81 0 .22-.03.43-.08.65-.06.22-.15.45-.29.7-.14.25-.32.53-.56.83-.23.3-.52.65-.88 1.03l-4.17 4.55V18H21v-1.71h-5.95zM2 11v2h8v-2H2z"></path></g><g id="exposure-plus-1"><path d="M10 7H8v4H4v2h4v4h2v-4h4v-2h-4V7zm10 11h-2V7.38L15 8.4V6.7L19.7 5h.3v13z"></path></g><g id="exposure-plus-2"><path d="M16.05 16.29l2.86-3.07c.38-.39.72-.79 1.04-1.18.32-.39.59-.78.82-1.17.23-.39.41-.78.54-1.17.13-.39.19-.79.19-1.18 0-.53-.09-1.02-.27-1.46-.18-.44-.44-.81-.78-1.11-.34-.31-.77-.54-1.26-.71-.51-.16-1.08-.24-1.72-.24-.69 0-1.31.11-1.85.32-.54.21-1 .51-1.36.88-.37.37-.65.8-.84 1.3-.18.47-.27.97-.28 1.5h2.14c.01-.31.05-.6.13-.87.09-.29.23-.54.4-.75.18-.21.41-.37.68-.49.27-.12.6-.18.96-.18.31 0 .58.05.81.15.23.1.43.25.59.43.16.18.28.4.37.65.08.25.13.52.13.81 0 .22-.03.43-.08.65-.06.22-.15.45-.29.7-.14.25-.32.53-.56.83-.23.3-.52.65-.88 1.03l-4.17 4.55V18H22v-1.71h-5.95zM8 7H6v4H2v2h4v4h2v-4h4v-2H8V7z"></path></g><g id="exposure-zero"><path d="M16.14 12.5c0 1-.1 1.85-.3 2.55-.2.7-.48 1.27-.83 1.7-.36.44-.79.75-1.3.95-.51.2-1.07.3-1.7.3-.62 0-1.18-.1-1.69-.3-.51-.2-.95-.51-1.31-.95-.36-.44-.65-1.01-.85-1.7-.2-.7-.3-1.55-.3-2.55v-2.04c0-1 .1-1.85.3-2.55.2-.7.48-1.26.84-1.69.36-.43.8-.74 1.31-.93C10.81 5.1 11.38 5 12 5c.63 0 1.19.1 1.7.29.51.19.95.5 1.31.93.36.43.64.99.84 1.69.2.7.3 1.54.3 2.55v2.04zm-2.11-2.36c0-.64-.05-1.18-.13-1.62-.09-.44-.22-.79-.4-1.06-.17-.27-.39-.46-.64-.58-.25-.13-.54-.19-.86-.19-.32 0-.61.06-.86.18s-.47.31-.64.58c-.17.27-.31.62-.4 1.06s-.13.98-.13 1.62v2.67c0 .64.05 1.18.14 1.62.09.45.23.81.4 1.09s.39.48.64.61.54.19.87.19c.33 0 .62-.06.87-.19s.46-.33.63-.61c.17-.28.3-.64.39-1.09.09-.45.13-.99.13-1.62v-2.66z"></path></g><g id="filter"><path d="M15.96 10.29l-2.75 3.54-1.96-2.36L8.5 15h11l-3.54-4.71zM3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"></path></g><g id="filter-1"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm11 10h2V5h-4v2h2v8zm7-14H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"></path></g><g id="filter-2"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zm-4-4h-4v-2h2c1.1 0 2-.89 2-2V7c0-1.11-.9-2-2-2h-4v2h4v2h-2c-1.1 0-2 .89-2 2v4h6v-2z"></path></g><g id="filter-3"><path d="M21 1H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zM3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm14 8v-1.5c0-.83-.67-1.5-1.5-1.5.83 0 1.5-.67 1.5-1.5V7c0-1.11-.9-2-2-2h-4v2h4v2h-2v2h2v2h-4v2h4c1.1 0 2-.89 2-2z"></path></g><g id="filter-4"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm12 10h2V5h-2v4h-2V5h-2v6h4v4zm6-14H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"></path></g><g id="filter-5"><path d="M21 1H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zM3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm14 8v-2c0-1.11-.9-2-2-2h-2V7h4V5h-6v6h4v2h-4v2h4c1.1 0 2-.89 2-2z"></path></g><g id="filter-6"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zm-8-2h2c1.1 0 2-.89 2-2v-2c0-1.11-.9-2-2-2h-2V7h4V5h-4c-1.1 0-2 .89-2 2v6c0 1.11.9 2 2 2zm0-4h2v2h-2v-2z"></path></g><g id="filter-7"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zm-8-2l4-8V5h-6v2h4l-4 8h2z"></path></g><g id="filter-8"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zm-8-2h2c1.1 0 2-.89 2-2v-1.5c0-.83-.67-1.5-1.5-1.5.83 0 1.5-.67 1.5-1.5V7c0-1.11-.9-2-2-2h-2c-1.1 0-2 .89-2 2v1.5c0 .83.67 1.5 1.5 1.5-.83 0-1.5.67-1.5 1.5V13c0 1.11.9 2 2 2zm0-8h2v2h-2V7zm0 4h2v2h-2v-2z"></path></g><g id="filter-9"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zM15 5h-2c-1.1 0-2 .89-2 2v2c0 1.11.9 2 2 2h2v2h-4v2h4c1.1 0 2-.89 2-2V7c0-1.11-.9-2-2-2zm0 4h-2V7h2v2z"></path></g><g id="filter-9-plus"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm11 7V8c0-1.11-.9-2-2-2h-1c-1.1 0-2 .89-2 2v1c0 1.11.9 2 2 2h1v1H9v2h3c1.1 0 2-.89 2-2zm-3-3V8h1v1h-1zm10-8H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 8h-2V7h-2v2h-2v2h2v2h2v-2h2v6H7V3h14v6z"></path></g><g id="filter-b-and-w"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16l-7-8v8H5l7-8V5h7v14z"></path></g><g id="filter-center-focus"><path d="M5 15H3v4c0 1.1.9 2 2 2h4v-2H5v-4zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2V5zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2zm0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4zM12 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></g><g id="filter-drama"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.61 5.64 5.36 8.04 2.35 8.36 0 10.9 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4h2c0-2.76-1.86-5.08-4.4-5.78C8.61 6.88 10.2 6 12 6c3.03 0 5.5 2.47 5.5 5.5v.5H19c1.65 0 3 1.35 3 3s-1.35 3-3 3z"></path></g><g id="filter-frames"><path d="M20 4h-4l-4-4-4 4H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H4V6h4.52l3.52-3.5L15.52 6H20v14zM18 8H6v10h12"></path></g><g id="filter-hdr"><path d="M14 6l-3.75 5 2.85 3.8-1.6 1.2C9.81 13.75 7 10 7 10l-6 8h22L14 6z"></path></g><g id="filter-none"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"></path></g><g id="filter-tilt-shift"><path d="M11 4.07V2.05c-2.01.2-3.84 1-5.32 2.21L7.1 5.69c1.11-.86 2.44-1.44 3.9-1.62zm7.32.19C16.84 3.05 15.01 2.25 13 2.05v2.02c1.46.18 2.79.76 3.9 1.62l1.42-1.43zM19.93 11h2.02c-.2-2.01-1-3.84-2.21-5.32L18.31 7.1c.86 1.11 1.44 2.44 1.62 3.9zM5.69 7.1L4.26 5.68C3.05 7.16 2.25 8.99 2.05 11h2.02c.18-1.46.76-2.79 1.62-3.9zM4.07 13H2.05c.2 2.01 1 3.84 2.21 5.32l1.43-1.43c-.86-1.1-1.44-2.43-1.62-3.89zM15 12c0-1.66-1.34-3-3-3s-3 1.34-3 3 1.34 3 3 3 3-1.34 3-3zm3.31 4.9l1.43 1.43c1.21-1.48 2.01-3.32 2.21-5.32h-2.02c-.18 1.45-.76 2.78-1.62 3.89zM13 19.93v2.02c2.01-.2 3.84-1 5.32-2.21l-1.43-1.43c-1.1.86-2.43 1.44-3.89 1.62zm-7.32-.19C7.16 20.95 9 21.75 11 21.95v-2.02c-1.46-.18-2.79-.76-3.9-1.62l-1.42 1.43z"></path></g><g id="filter-vintage"><path d="M18.7 12.4c-.28-.16-.57-.29-.86-.4.29-.11.58-.24.86-.4 1.92-1.11 2.99-3.12 3-5.19-1.79-1.03-4.07-1.11-6 0-.28.16-.54.35-.78.54.05-.31.08-.63.08-.95 0-2.22-1.21-4.15-3-5.19C10.21 1.85 9 3.78 9 6c0 .32.03.64.08.95-.24-.2-.5-.39-.78-.55-1.92-1.11-4.2-1.03-6 0 0 2.07 1.07 4.08 3 5.19.28.16.57.29.86.4-.29.11-.58.24-.86.4-1.92 1.11-2.99 3.12-3 5.19 1.79 1.03 4.07 1.11 6 0 .28-.16.54-.35.78-.54-.05.32-.08.64-.08.96 0 2.22 1.21 4.15 3 5.19 1.79-1.04 3-2.97 3-5.19 0-.32-.03-.64-.08-.95.24.2.5.38.78.54 1.92 1.11 4.2 1.03 6 0-.01-2.07-1.08-4.08-3-5.19zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"></path></g><g id="flare"><path d="M7 11H1v2h6v-2zm2.17-3.24L7.05 5.64 5.64 7.05l2.12 2.12 1.41-1.41zM13 1h-2v6h2V1zm5.36 6.05l-1.41-1.41-2.12 2.12 1.41 1.41 2.12-2.12zM17 11v2h6v-2h-6zm-5-2c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zm2.83 7.24l2.12 2.12 1.41-1.41-2.12-2.12-1.41 1.41zm-9.19.71l1.41 1.41 2.12-2.12-1.41-1.41-2.12 2.12zM11 23h2v-6h-2v6z"></path></g><g id="flash-auto"><path d="M3 2v12h3v9l7-12H9l4-9H3zm16 0h-2l-3.2 9h1.9l.7-2h3.2l.7 2h1.9L19 2zm-2.15 5.65L18 4l1.15 3.65h-2.3z"></path></g><g id="flash-off"><path d="M3.27 3L2 4.27l5 5V13h3v9l3.58-6.14L17.73 20 19 18.73 3.27 3zM17 10h-4l4-8H7v2.18l8.46 8.46L17 10z"></path></g><g id="flash-on"><path d="M7 2v11h3v9l7-12h-4l4-8z"></path></g><g id="flip"><path d="M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"></path></g><g id="gradient"><path d="M11 9h2v2h-2zm-2 2h2v2H9zm4 0h2v2h-2zm2-2h2v2h-2zM7 9h2v2H7zm12-6H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 18H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm2-7h-2v2h2v2h-2v-2h-2v2h-2v-2h-2v2H9v-2H7v2H5v-2h2v-2H5V5h14v6z"></path></g><g id="grain"><path d="M10 12c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM6 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12-8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-4 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm4-4c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-4-4c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-4-4c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></g><g id="grid-off"><path d="M8 4v1.45l2 2V4h4v4h-3.45l2 2H14v1.45l2 2V10h4v4h-3.45l2 2H20v1.45l2 2V4c0-1.1-.9-2-2-2H4.55l2 2H8zm8 0h4v4h-4V4zM1.27 1.27L0 2.55l2 2V20c0 1.1.9 2 2 2h15.46l2 2 1.27-1.27L1.27 1.27zM10 12.55L11.45 14H10v-1.45zm-6-6L5.45 8H4V6.55zM8 20H4v-4h4v4zm0-6H4v-4h3.45l.55.55V14zm6 6h-4v-4h3.45l.55.54V20zm2 0v-1.46L17.46 20H16z"></path></g><g id="grid-on"><path d="M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 20H4v-4h4v4zm0-6H4v-4h4v4zm0-6H4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4z"></path></g><g id="hdr-off"><path d="M17.5 15v-2h1.1l.9 2H21l-.9-2.1c.5-.2.9-.8.9-1.4v-1c0-.8-.7-1.5-1.5-1.5H16v4.9l1.1 1.1h.4zm0-4.5h2v1h-2v-1zm-4.5 0v.4l1.5 1.5v-1.9c0-.8-.7-1.5-1.5-1.5h-1.9l1.5 1.5h.4zm-3.5-1l-7-7-1.1 1L6.9 9h-.4v2h-2V9H3v6h1.5v-2.5h2V15H8v-4.9l1.5 1.5V15h3.4l7.6 7.6 1.1-1.1-12.1-12z"></path></g><g id="hdr-on"><path d="M21 11.5v-1c0-.8-.7-1.5-1.5-1.5H16v6h1.5v-2h1.1l.9 2H21l-.9-2.1c.5-.3.9-.8.9-1.4zm-1.5 0h-2v-1h2v1zm-13-.5h-2V9H3v6h1.5v-2.5h2V15H8V9H6.5v2zM13 9H9.5v6H13c.8 0 1.5-.7 1.5-1.5v-3c0-.8-.7-1.5-1.5-1.5zm0 4.5h-2v-3h2v3z"></path></g><g id="hdr-strong"><path d="M17 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zM5 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></path></g><g id="hdr-weak"><path d="M5 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm12-2c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"></path></g><g id="healing"><path d="M17.73 12.02l3.98-3.98c.39-.39.39-1.02 0-1.41l-4.34-4.34c-.39-.39-1.02-.39-1.41 0l-3.98 3.98L8 2.29C7.8 2.1 7.55 2 7.29 2c-.25 0-.51.1-.7.29L2.25 6.63c-.39.39-.39 1.02 0 1.41l3.98 3.98L2.25 16c-.39.39-.39 1.02 0 1.41l4.34 4.34c.39.39 1.02.39 1.41 0l3.98-3.98 3.98 3.98c.2.2.45.29.71.29.26 0 .51-.1.71-.29l4.34-4.34c.39-.39.39-1.02 0-1.41l-3.99-3.98zM12 9c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-4.71 1.96L3.66 7.34l3.63-3.63 3.62 3.62-3.62 3.63zM10 13c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm2 2c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm2-4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2.66 9.34l-3.63-3.62 3.63-3.63 3.62 3.62-3.62 3.63z"></path></g><g id="image"><path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"></path></g><g id="image-aspect-ratio"><path d="M16 10h-2v2h2v-2zm0 4h-2v2h2v-2zm-8-4H6v2h2v-2zm4 0h-2v2h2v-2zm8-6H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V6h16v12z"></path></g><g id="iso"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5.5 7.5h2v-2H9v2h2V9H9v2H7.5V9h-2V7.5zM19 19H5L19 5v14zm-2-2v-1.5h-5V17h5z"></path></g><g id="landscape"><path d="M14 6l-3.75 5 2.85 3.8-1.6 1.2C9.81 13.75 7 10 7 10l-6 8h22L14 6z"></path></g><g id="leak-add"><path d="M6 3H3v3c1.66 0 3-1.34 3-3zm8 0h-2c0 4.97-4.03 9-9 9v2c6.08 0 11-4.93 11-11zm-4 0H8c0 2.76-2.24 5-5 5v2c3.87 0 7-3.13 7-7zm0 18h2c0-4.97 4.03-9 9-9v-2c-6.07 0-11 4.93-11 11zm8 0h3v-3c-1.66 0-3 1.34-3 3zm-4 0h2c0-2.76 2.24-5 5-5v-2c-3.87 0-7 3.13-7 7z"></path></g><g id="leak-remove"><path d="M10 3H8c0 .37-.04.72-.12 1.06l1.59 1.59C9.81 4.84 10 3.94 10 3zM3 4.27l2.84 2.84C5.03 7.67 4.06 8 3 8v2c1.61 0 3.09-.55 4.27-1.46L8.7 9.97C7.14 11.24 5.16 12 3 12v2c2.71 0 5.19-.99 7.11-2.62l2.5 2.5C10.99 15.81 10 18.29 10 21h2c0-2.16.76-4.14 2.03-5.69l1.43 1.43C14.55 17.91 14 19.39 14 21h2c0-1.06.33-2.03.89-2.84L19.73 21 21 19.73 4.27 3 3 4.27zM14 3h-2c0 1.5-.37 2.91-1.02 4.16l1.46 1.46C13.42 6.98 14 5.06 14 3zm5.94 13.12c.34-.08.69-.12 1.06-.12v-2c-.94 0-1.84.19-2.66.52l1.6 1.6zm-4.56-4.56l1.46 1.46C18.09 12.37 19.5 12 21 12v-2c-2.06 0-3.98.58-5.62 1.56z"></path></g><g id="lens"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"></path></g><g id="linked-camera"><circle cx="12" cy="14" r="3.2"></circle><path d="M16 3.33c2.58 0 4.67 2.09 4.67 4.67H22c0-3.31-2.69-6-6-6v1.33M16 6c1.11 0 2 .89 2 2h1.33c0-1.84-1.49-3.33-3.33-3.33V6"></path><path d="M17 9c0-1.11-.89-2-2-2V4H9L7.17 6H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9h-5zm-5 10c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"></path></g><g id="looks"><path d="M12 10c-3.86 0-7 3.14-7 7h2c0-2.76 2.24-5 5-5s5 2.24 5 5h2c0-3.86-3.14-7-7-7zm0-4C5.93 6 1 10.93 1 17h2c0-4.96 4.04-9 9-9s9 4.04 9 9h2c0-6.07-4.93-11-11-11z"></path></g><g id="looks-3"><path d="M19.01 3h-14c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 7.5c0 .83-.67 1.5-1.5 1.5.83 0 1.5.67 1.5 1.5V15c0 1.11-.9 2-2 2h-4v-2h4v-2h-2v-2h2V9h-4V7h4c1.1 0 2 .89 2 2v1.5z"></path></g><g id="looks-4"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 14h-2v-4H9V7h2v4h2V7h2v10z"></path></g><g id="looks-5"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 6h-4v2h2c1.1 0 2 .89 2 2v2c0 1.11-.9 2-2 2H9v-2h4v-2H9V7h6v2z"></path></g><g id="looks-6"><path d="M11 15h2v-2h-2v2zm8-12H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 6h-4v2h2c1.1 0 2 .89 2 2v2c0 1.11-.9 2-2 2h-2c-1.1 0-2-.89-2-2V9c0-1.11.9-2 2-2h4v2z"></path></g><g id="looks-one"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14h-2V9h-2V7h4v10z"></path></g><g id="looks-two"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 8c0 1.11-.9 2-2 2h-2v2h4v2H9v-4c0-1.11.9-2 2-2h2V9H9V7h4c1.1 0 2 .89 2 2v2z"></path></g><g id="loupe"><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.49 2 2 6.49 2 12s4.49 10 10 10h8c1.1 0 2-.9 2-2v-8c0-5.51-4.49-10-10-10zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g><g id="monochrome-photos"><path d="M20 5h-3.2L15 3H9L7.2 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 14h-8v-1c-2.8 0-5-2.2-5-5s2.2-5 5-5V7h8v12zm-3-6c0-2.8-2.2-5-5-5v1.8c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2V18c2.8 0 5-2.2 5-5zm-8.2 0c0 1.8 1.4 3.2 3.2 3.2V9.8c-1.8 0-3.2 1.4-3.2 3.2z"></path></g><g id="movie-creation"><path d="M18 4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4z"></path></g><g id="movie-filter"><path d="M18 4l2 3h-3l-2-3h-2l2 3h-3l-2-3H8l2 3H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4zm-6.75 11.25L10 18l-1.25-2.75L6 14l2.75-1.25L10 10l1.25 2.75L14 14l-2.75 1.25zm5.69-3.31L16 14l-.94-2.06L13 11l2.06-.94L16 8l.94 2.06L19 11l-2.06.94z"></path></g><g id="music-note"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"></path></g><g id="nature"><path d="M13 16.12c3.47-.41 6.17-3.36 6.17-6.95 0-3.87-3.13-7-7-7s-7 3.13-7 7c0 3.47 2.52 6.34 5.83 6.89V20H5v2h14v-2h-6v-3.88z"></path></g><g id="nature-people"><path d="M22.17 9.17c0-3.87-3.13-7-7-7s-7 3.13-7 7c0 3.47 2.52 6.34 5.83 6.89V20H6v-3h1v-4c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v4h1v5h16v-2h-3v-3.88c3.47-.41 6.17-3.36 6.17-6.95zM4.5 11c.83 0 1.5-.67 1.5-1.5S5.33 8 4.5 8 3 8.67 3 9.5 3.67 11 4.5 11z"></path></g><g id="navigate-before"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></g><g id="navigate-next"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></g><g id="palette"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path></g><g id="panorama"><path d="M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"></path></g><g id="panorama-fish-eye"><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g><g id="panorama-horizontal"><path d="M20 6.54v10.91c-2.6-.77-5.28-1.16-8-1.16-2.72 0-5.4.39-8 1.16V6.54c2.6.77 5.28 1.16 8 1.16 2.72.01 5.4-.38 8-1.16M21.43 4c-.1 0-.2.02-.31.06C18.18 5.16 15.09 5.7 12 5.7c-3.09 0-6.18-.55-9.12-1.64-.11-.04-.22-.06-.31-.06-.34 0-.57.23-.57.63v14.75c0 .39.23.62.57.62.1 0 .2-.02.31-.06 2.94-1.1 6.03-1.64 9.12-1.64 3.09 0 6.18.55 9.12 1.64.11.04.21.06.31.06.33 0 .57-.23.57-.63V4.63c0-.4-.24-.63-.57-.63z"></path></g><g id="panorama-vertical"><path d="M19.94 21.12c-1.1-2.94-1.64-6.03-1.64-9.12 0-3.09.55-6.18 1.64-9.12.04-.11.06-.22.06-.31 0-.34-.23-.57-.63-.57H4.63c-.4 0-.63.23-.63.57 0 .1.02.2.06.31C5.16 5.82 5.71 8.91 5.71 12c0 3.09-.55 6.18-1.64 9.12-.05.11-.07.22-.07.31 0 .33.23.57.63.57h14.75c.39 0 .63-.24.63-.57-.01-.1-.03-.2-.07-.31zM6.54 20c.77-2.6 1.16-5.28 1.16-8 0-2.72-.39-5.4-1.16-8h10.91c-.77 2.6-1.16 5.28-1.16 8 0 2.72.39 5.4 1.16 8H6.54z"></path></g><g id="panorama-wide-angle"><path d="M12 6c2.45 0 4.71.2 7.29.64.47 1.78.71 3.58.71 5.36 0 1.78-.24 3.58-.71 5.36-2.58.44-4.84.64-7.29.64s-4.71-.2-7.29-.64C4.24 15.58 4 13.78 4 12c0-1.78.24-3.58.71-5.36C7.29 6.2 9.55 6 12 6m0-2c-2.73 0-5.22.24-7.95.72l-.93.16-.25.9C2.29 7.85 2 9.93 2 12s.29 4.15.87 6.22l.25.89.93.16c2.73.49 5.22.73 7.95.73s5.22-.24 7.95-.72l.93-.16.25-.89c.58-2.08.87-4.16.87-6.23s-.29-4.15-.87-6.22l-.25-.89-.93-.16C17.22 4.24 14.73 4 12 4z"></path></g><g id="photo"><path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"></path></g><g id="photo-album"><path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4zm0 15l3-3.86 2.14 2.58 3-3.86L18 19H6z"></path></g><g id="photo-camera"><circle cx="12" cy="12" r="3.2"></circle><path d="M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"></path></g><g id="photo-filter"><path d="M19.02 10v9H5V5h9V3H5.02c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-9h-2zM17 10l.94-2.06L20 7l-2.06-.94L17 4l-.94 2.06L14 7l2.06.94zm-3.75.75L12 8l-1.25 2.75L8 12l2.75 1.25L12 16l1.25-2.75L16 12z"></path></g><g id="photo-library"><path d="M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2zm-11-4l2.03 2.71L16 11l4 5H8l3-4zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6H2z"></path></g><g id="photo-size-select-actual"><path d="M21 3H3C2 3 1 4 1 5v14c0 1.1.9 2 2 2h18c1 0 2-1 2-2V5c0-1-1-2-2-2zM5 17l3.5-4.5 2.5 3.01L14.5 11l4.5 6H5z"></path></g><g id="photo-size-select-large"><path d="M21 15h2v2h-2v-2zm0-4h2v2h-2v-2zm2 8h-2v2c1 0 2-1 2-2zM13 3h2v2h-2V3zm8 4h2v2h-2V7zm0-4v2h2c0-1-1-2-2-2zM1 7h2v2H1V7zm16-4h2v2h-2V3zm0 16h2v2h-2v-2zM3 3C2 3 1 4 1 5h2V3zm6 0h2v2H9V3zM5 3h2v2H5V3zm-4 8v8c0 1.1.9 2 2 2h12V11H1zm2 8l2.5-3.21 1.79 2.15 2.5-3.22L13 19H3z"></path></g><g id="photo-size-select-small"><path d="M23 15h-2v2h2v-2zm0-4h-2v2h2v-2zm0 8h-2v2c1 0 2-1 2-2zM15 3h-2v2h2V3zm8 4h-2v2h2V7zm-2-4v2h2c0-1-1-2-2-2zM3 21h8v-6H1v4c0 1.1.9 2 2 2zM3 7H1v2h2V7zm12 12h-2v2h2v-2zm4-16h-2v2h2V3zm0 16h-2v2h2v-2zM3 3C2 3 1 4 1 5h2V3zm0 8H1v2h2v-2zm8-8H9v2h2V3zM7 3H5v2h2V3z"></path></g><g id="picture-as-pdf"><path d="M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5v1zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5v3zm4-3H19v1h1.5V11H19v2h-1.5V7h3v1.5zM9 9.5h1v-1H9v1zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm10 5.5h1v-3h-1v3z"></path></g><g id="portrait"><path d="M12 12.25c1.24 0 2.25-1.01 2.25-2.25S13.24 7.75 12 7.75 9.75 8.76 9.75 10s1.01 2.25 2.25 2.25zm4.5 4c0-1.5-3-2.25-4.5-2.25s-4.5.75-4.5 2.25V17h9v-.75zM19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z"></path></g><g id="remove-red-eye"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></g><g id="rotate-90-degrees-ccw"><path d="M7.34 6.41L.86 12.9l6.49 6.48 6.49-6.48-6.5-6.49zM3.69 12.9l3.66-3.66L11 12.9l-3.66 3.66-3.65-3.66zm15.67-6.26C17.61 4.88 15.3 4 13 4V.76L8.76 5 13 9.24V6c1.79 0 3.58.68 4.95 2.05 2.73 2.73 2.73 7.17 0 9.9C16.58 19.32 14.79 20 13 20c-.97 0-1.94-.21-2.84-.61l-1.49 1.49C10.02 21.62 11.51 22 13 22c2.3 0 4.61-.88 6.36-2.64 3.52-3.51 3.52-9.21 0-12.72z"></path></g><g id="rotate-left"><path d="M7.11 8.53L5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47zM6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47zm1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03L7.1 18.32zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93z"></path></g><g id="rotate-right"><path d="M15.55 5.55L11 1v3.07C7.06 4.56 4 7.92 4 12s3.05 7.44 7 7.93v-2.02c-2.84-.48-5-2.94-5-5.91s2.16-5.43 5-5.91V10l4.55-4.45zM19.93 11c-.17-1.39-.72-2.73-1.62-3.89l-1.42 1.42c.54.75.88 1.6 1.02 2.47h2.02zM13 17.9v2.02c1.39-.17 2.74-.71 3.9-1.61l-1.44-1.44c-.75.54-1.59.89-2.46 1.03zm3.89-2.42l1.42 1.41c.9-1.16 1.45-2.5 1.62-3.89h-2.02c-.14.87-.48 1.72-1.02 2.48z"></path></g><g id="slideshow"><path d="M10 8v8l5-4-5-4zm9-5H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z"></path></g><g id="straighten"><path d="M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 10H3V8h2v4h2V8h2v4h2V8h2v4h2V8h2v4h2V8h2v8z"></path></g><g id="style"><path d="M2.53 19.65l1.34.56v-9.03l-2.43 5.86c-.41 1.02.08 2.19 1.09 2.61zm19.5-3.7L17.07 3.98c-.31-.75-1.04-1.21-1.81-1.23-.26 0-.53.04-.79.15L7.1 5.95c-.75.31-1.21 1.03-1.23 1.8-.01.27.04.54.15.8l4.96 11.97c.31.76 1.05 1.22 1.83 1.23.26 0 .52-.05.77-.15l7.36-3.05c1.02-.42 1.51-1.59 1.09-2.6zM7.88 8.75c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-2 11c0 1.1.9 2 2 2h1.45l-3.45-8.34v6.34z"></path></g><g id="switch-camera"><path d="M20 4h-3.17L15 2H9L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 11.5V13H9v2.5L5.5 12 9 8.5V11h6V8.5l3.5 3.5-3.5 3.5z"></path></g><g id="switch-video"><path d="M18 9.5V6c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-3.5l4 4v-13l-4 4zm-5 6V13H7v2.5L3.5 12 7 8.5V11h6V8.5l3.5 3.5-3.5 3.5z"></path></g><g id="tag-faces"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"></path></g><g id="texture"><path d="M19.51 3.08L3.08 19.51c.09.34.27.65.51.9.25.24.56.42.9.51L20.93 4.49c-.19-.69-.73-1.23-1.42-1.41zM11.88 3L3 11.88v2.83L14.71 3h-2.83zM5 3c-1.1 0-2 .9-2 2v2l4-4H5zm14 18c.55 0 1.05-.22 1.41-.59.37-.36.59-.86.59-1.41v-2l-4 4h2zm-9.71 0h2.83L21 12.12V9.29L9.29 21z"></path></g><g id="timelapse"><path d="M16.24 7.76C15.07 6.59 13.54 6 12 6v6l-4.24 4.24c2.34 2.34 6.14 2.34 8.49 0 2.34-2.34 2.34-6.14-.01-8.48zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g><g id="timer"><path d="M15 1H9v2h6V1zm-4 13h2V8h-2v6zm8.03-6.61l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61zM12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path></g><g id="timer-10"><path d="M0 7.72V9.4l3-1V18h2V6h-.25L0 7.72zm23.78 6.65c-.14-.28-.35-.53-.63-.74-.28-.21-.61-.39-1.01-.53s-.85-.27-1.35-.38c-.35-.07-.64-.15-.87-.23-.23-.08-.41-.16-.55-.25-.14-.09-.23-.19-.28-.3-.05-.11-.08-.24-.08-.39 0-.14.03-.28.09-.41.06-.13.15-.25.27-.34.12-.1.27-.18.45-.24s.4-.09.64-.09c.25 0 .47.04.66.11.19.07.35.17.48.29.13.12.22.26.29.42.06.16.1.32.1.49h1.95c0-.39-.08-.75-.24-1.09-.16-.34-.39-.63-.69-.88-.3-.25-.66-.44-1.09-.59C21.49 9.07 21 9 20.46 9c-.51 0-.98.07-1.39.21-.41.14-.77.33-1.06.57-.29.24-.51.52-.67.84-.16.32-.23.65-.23 1.01s.08.69.23.96c.15.28.36.52.64.73.27.21.6.38.98.53.38.14.81.26 1.27.36.39.08.71.17.95.26s.43.19.57.29c.13.1.22.22.27.34.05.12.07.25.07.39 0 .32-.13.57-.4.77-.27.2-.66.29-1.17.29-.22 0-.43-.02-.64-.08-.21-.05-.4-.13-.56-.24-.17-.11-.3-.26-.41-.44-.11-.18-.17-.41-.18-.67h-1.89c0 .36.08.71.24 1.05.16.34.39.65.7.93.31.27.69.49 1.15.66.46.17.98.25 1.58.25.53 0 1.01-.06 1.44-.19.43-.13.8-.31 1.11-.54.31-.23.54-.51.71-.83.17-.32.25-.67.25-1.06-.02-.4-.09-.74-.24-1.02zm-9.96-7.32c-.34-.4-.75-.7-1.23-.88-.47-.18-1.01-.27-1.59-.27-.58 0-1.11.09-1.59.27-.48.18-.89.47-1.23.88-.34.41-.6.93-.79 1.59-.18.65-.28 1.45-.28 2.39v1.92c0 .94.09 1.74.28 2.39.19.66.45 1.19.8 1.6.34.41.75.71 1.23.89.48.18 1.01.28 1.59.28.59 0 1.12-.09 1.59-.28.48-.18.88-.48 1.22-.89.34-.41.6-.94.78-1.6.18-.65.28-1.45.28-2.39v-1.92c0-.94-.09-1.74-.28-2.39-.18-.66-.44-1.19-.78-1.59zm-.92 6.17c0 .6-.04 1.11-.12 1.53-.08.42-.2.76-.36 1.02-.16.26-.36.45-.59.57-.23.12-.51.18-.82.18-.3 0-.58-.06-.82-.18s-.44-.31-.6-.57c-.16-.26-.29-.6-.38-1.02-.09-.42-.13-.93-.13-1.53v-2.5c0-.6.04-1.11.13-1.52.09-.41.21-.74.38-1 .16-.25.36-.43.6-.55.24-.11.51-.17.81-.17.31 0 .58.06.81.17.24.11.44.29.6.55.16.25.29.58.37.99.08.41.13.92.13 1.52v2.51z"></path></g><g id="timer-3"><path d="M11.61 12.97c-.16-.24-.36-.46-.62-.65-.25-.19-.56-.35-.93-.48.3-.14.57-.3.8-.5.23-.2.42-.41.57-.64.15-.23.27-.46.34-.71.08-.24.11-.49.11-.73 0-.55-.09-1.04-.28-1.46-.18-.42-.44-.77-.78-1.06-.33-.28-.73-.5-1.2-.64-.45-.13-.97-.2-1.53-.2-.55 0-1.06.08-1.52.24-.47.17-.87.4-1.2.69-.33.29-.6.63-.78 1.03-.2.39-.29.83-.29 1.29h1.98c0-.26.05-.49.14-.69.09-.2.22-.38.38-.52.17-.14.36-.25.58-.33.22-.08.46-.12.73-.12.61 0 1.06.16 1.36.47.3.31.44.75.44 1.32 0 .27-.04.52-.12.74-.08.22-.21.41-.38.57-.17.16-.38.28-.63.37-.25.09-.55.13-.89.13H6.72v1.57H7.9c.34 0 .64.04.91.11.27.08.5.19.69.35.19.16.34.36.44.61.1.24.16.54.16.87 0 .62-.18 1.09-.53 1.42-.35.33-.84.49-1.45.49-.29 0-.56-.04-.8-.13-.24-.08-.44-.2-.61-.36-.17-.16-.3-.34-.39-.56-.09-.22-.14-.46-.14-.72H4.19c0 .55.11 1.03.32 1.45.21.42.5.77.86 1.05s.77.49 1.24.63.96.21 1.48.21c.57 0 1.09-.08 1.58-.23.49-.15.91-.38 1.26-.68.36-.3.64-.66.84-1.1.2-.43.3-.93.3-1.48 0-.29-.04-.58-.11-.86-.08-.25-.19-.51-.35-.76zm9.26 1.4c-.14-.28-.35-.53-.63-.74-.28-.21-.61-.39-1.01-.53s-.85-.27-1.35-.38c-.35-.07-.64-.15-.87-.23-.23-.08-.41-.16-.55-.25-.14-.09-.23-.19-.28-.3-.05-.11-.08-.24-.08-.39s.03-.28.09-.41c.06-.13.15-.25.27-.34.12-.1.27-.18.45-.24s.4-.09.64-.09c.25 0 .47.04.66.11.19.07.35.17.48.29.13.12.22.26.29.42.06.16.1.32.1.49h1.95c0-.39-.08-.75-.24-1.09-.16-.34-.39-.63-.69-.88-.3-.25-.66-.44-1.09-.59-.43-.15-.92-.22-1.46-.22-.51 0-.98.07-1.39.21-.41.14-.77.33-1.06.57-.29.24-.51.52-.67.84-.16.32-.23.65-.23 1.01s.08.68.23.96c.15.28.37.52.64.73.27.21.6.38.98.53.38.14.81.26 1.27.36.39.08.71.17.95.26s.43.19.57.29c.13.1.22.22.27.34.05.12.07.25.07.39 0 .32-.13.57-.4.77-.27.2-.66.29-1.17.29-.22 0-.43-.02-.64-.08-.21-.05-.4-.13-.56-.24-.17-.11-.3-.26-.41-.44-.11-.18-.17-.41-.18-.67h-1.89c0 .36.08.71.24 1.05.16.34.39.65.7.93.31.27.69.49 1.15.66.46.17.98.25 1.58.25.53 0 1.01-.06 1.44-.19.43-.13.8-.31 1.11-.54.31-.23.54-.51.71-.83.17-.32.25-.67.25-1.06-.02-.4-.09-.74-.24-1.02z"></path></g><g id="timer-off"><path d="M19.04 4.55l-1.42 1.42C16.07 4.74 14.12 4 12 4c-1.83 0-3.53.55-4.95 1.48l1.46 1.46C9.53 6.35 10.73 6 12 6c3.87 0 7 3.13 7 7 0 1.27-.35 2.47-.94 3.49l1.45 1.45C20.45 16.53 21 14.83 21 13c0-2.12-.74-4.07-1.97-5.61l1.42-1.42-1.41-1.42zM15 1H9v2h6V1zm-4 8.44l2 2V8h-2v1.44zM3.02 4L1.75 5.27 4.5 8.03C3.55 9.45 3 11.16 3 13c0 4.97 4.02 9 9 9 1.84 0 3.55-.55 4.98-1.5l2.5 2.5 1.27-1.27-7.71-7.71L3.02 4zM12 20c-3.87 0-7-3.13-7-7 0-1.28.35-2.48.95-3.52l9.56 9.56c-1.03.61-2.23.96-3.51.96z"></path></g><g id="tonality"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93s3.05-7.44 7-7.93v15.86zm2-15.86c1.03.13 2 .45 2.87.93H13v-.93zM13 7h5.24c.25.31.48.65.68 1H13V7zm0 3h6.74c.08.33.15.66.19 1H13v-1zm0 9.93V19h2.87c-.87.48-1.84.8-2.87.93zM18.24 17H13v-1h5.92c-.2.35-.43.69-.68 1zm1.5-3H13v-1h6.93c-.04.34-.11.67-.19 1z"></path></g><g id="transform"><path d="M22 18v-2H8V4h2L7 1 4 4h2v2H2v2h4v8c0 1.1.9 2 2 2h8v2h-2l3 3 3-3h-2v-2h4zM10 8h6v6h2V8c0-1.1-.9-2-2-2h-6v2z"></path></g><g id="tune"><path d="M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"></path></g><g id="view-comfy"><path d="M3 9h4V5H3v4zm0 5h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zM8 9h4V5H8v4zm5-4v4h4V5h-4zm5 9h4v-4h-4v4zM3 19h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zm5 0h4v-4h-4v4zm0-14v4h4V5h-4z"></path></g><g id="view-compact"><path d="M3 19h6v-7H3v7zm7 0h12v-7H10v7zM3 5v6h19V5H3z"></path></g><g id="vignette"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-9 15c-4.42 0-8-2.69-8-6s3.58-6 8-6 8 2.69 8 6-3.58 6-8 6z"></path></g><g id="wb-auto"><path d="M6.85 12.65h2.3L8 9l-1.15 3.65zM22 7l-1.2 6.29L19.3 7h-1.6l-1.49 6.29L15 7h-.76C12.77 5.17 10.53 4 8 4c-4.42 0-8 3.58-8 8s3.58 8 8 8c3.13 0 5.84-1.81 7.15-4.43l.1.43H17l1.5-6.1L20 16h1.75l2.05-9H22zm-11.7 9l-.7-2H6.4l-.7 2H3.8L7 7h2l3.2 9h-1.9z"></path></g><g id="wb-cloudy"><path d="M19.36 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.64-4.96z"></path></g><g id="wb-incandescent"><path d="M3.55 18.54l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8zM11 22.45h2V19.5h-2v2.95zM4 10.5H1v2h3v-2zm11-4.19V1.5H9v4.81C7.21 7.35 6 9.28 6 11.5c0 3.31 2.69 6 6 6s6-2.69 6-6c0-2.22-1.21-4.15-3-5.19zm5 4.19v2h3v-2h-3zm-2.76 7.66l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4z"></path></g><g id="wb-iridescent"><path d="M5 14.5h14v-6H5v6zM11 .55V3.5h2V.55h-2zm8.04 2.5l-1.79 1.79 1.41 1.41 1.8-1.79-1.42-1.41zM13 22.45V19.5h-2v2.95h2zm7.45-3.91l-1.8-1.79-1.41 1.41 1.79 1.8 1.42-1.42zM3.55 4.46l1.79 1.79 1.41-1.41-1.79-1.79-1.41 1.41zm1.41 15.49l1.79-1.8-1.41-1.41-1.79 1.79 1.41 1.42z"></path></g><g id="wb-sunny"><path d="M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91l-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z"></path></g></defs></svg></iron-iconset-svg><dom-module id="dtile-simple-tile-selector" assetpath="src/dtile-simple-tile-selector/"><template><style>#backdrop{z-index:100000;background-color:rgba(0,0,0,.5);display:block;width:100vw;height:100vh;position:fixed;top:0;right:0;bottom:0;left:0}#container{z-index:100001;position:fixed;top:0;right:0;bottom:0;left:0;margin:auto;background:var(--page-background-color)}</style><span id="backdrop"></span><div id="container"><img id="tiles" src="[[tileset.url]]"></div></template></dom-module><script>class DTileSimpleTileSelector extends Polymer.Element{static get is(){return"dtile-simple-tile-selector"}static get properties(){return{tileset:Object,open:{type:Boolean,value:!1},tileId:Number}}static get observers(){return["_setOpen(open)"]}ready(){super.ready(),this.$.tiles.addEventListener("load",()=>{const{naturalWidth:a,naturalHeight:b}=this.$.tiles;this.$.container.style.width=`${a}px`,this.$.container.style.height=`${b}px`}),this.$.tiles.addEventListener("click",(a)=>{const b=Math.floor,{top:c,left:d}=this.$.tiles.getBoundingClientRect(),e=b((b(a.clientX)-b(d))/this.tileset.tileWidth),f=b((b(a.clientY)-b(c))/this.tileset.tileHeight);this.tileId=e+f*b(this.$.tiles.naturalWidth/this.tileset.tileWidth),this.dispatchEvent(new CustomEvent("simpleselectorselectedtile",{composed:!0,bubbles:!0,detail:{tileId:this.tileId}}))}),this.$.backdrop.addEventListener("click",()=>{this.open=!1})}_setOpen(a){this.style.display=a?"block":"none"}}customElements.define(DTileSimpleTileSelector.is,DTileSimpleTileSelector);</script><dom-module id="dtile-autotiles-manager" assetpath="src/dtile-tileset-editor/"><template><style>#manager{height:50vh;overflow-y:scroll}#build-hint{max-width:50vw;text-align:center}.row{display:flex;align-items:center}#from-selection-button{background:var(--default-primary-color);color:#000}#dropdown{flex-grow:1;margin:0 10px}.padding{padding:0 24px}</style><dtile-simple-tile-selector id="selector" tileset="[[tileset]]"></dtile-simple-tile-selector><div id="header"><div id="build-hint" class="padding"><template is="dom-if" if="[[hasSelection]]"><p>You can try building an autotile group from the current selection. This feature is mostly a preview and such requires your tiles to be made in a way where there are transparent areas that the detector can detect.</p><paper-button id="from-selection-button" on-tap="_buildFromSelection" raised="">Try building from selection</paper-button></template></div><div class="row padding"><paper-icon-button icon="add" on-tap="_createGroup">Create group</paper-icon-button><paper-dropdown-menu id="dropdown" label="Autotile Group" selected-item-label="_getCurrentGroupName(groups.*, _selectedGroupIndex)"><paper-listbox slot="dropdown-content" selected="{{_selectedGroupIndex}}"><template id="groups" is="dom-repeat" items="[[groups]]"><paper-item>[[item.name]]</paper-item></template></paper-listbox></paper-dropdown-menu><paper-icon-button icon="delete" on-tap="_removeGroup">Remove group</paper-icon-button><paper-icon-button icon="create" on-tap="_renameGroup">Rename group</paper-icon-button></div></div><template is="dom-if" if="[[_hasGroup(groups.*, _selectedGroupIndex)]]"><div id="manager" class="padding"><template is="dom-repeat" items="[[_tileCombinations]]"><h4>Connecting to [[item]]</h4><dtile-tile-viewer tileset="[[tileset]]" tile-id="[[_getTileId(index, _selectedGroupIndex, gourps, groups.*)]]" on-tap="_openSelector"></dtile-tile-viewer></template></div></template></template></dom-module><script>class DTileAutotilesManager extends Polymer.Element{static get is(){return"dtile-autotiles-manager"}static get properties(){return{tileset:Object,selection:Array,hasSelection:{computed:"_computeSelection(selection)"},groups:{type:Array,value:()=>[]},_selectingId:Number,_selectedGroupIndex:{type:Number,value:0},_tileCombinations:{type:Array,readOnly:!0,value:["right","left, right, bottom and bottom-right","left, bottom and bottom-left","none","right, bottom and bottom-right","left, right, bottom and bottom-left","left","right and bottom","left, right and bottom","top, left, right, bottom and top-right","top, left, right, bottom, top-left and bottom-right","left, right, bottom, bottom-left and bottom-right","top, left, right, bottom, top-right, bottom-left and bottom-right","top, left, right, bottom, top-left, bottom-left and bottom-right","left and bottom","top, right, bottom and bottom-right","top, left, right, bottom and bottom-left","top, left, right and bottom","top, left, right, bottom, top-right and bottom-right","top, left, right, bottom, top-left, top-right and bottom-left","top, left, right, bottom, top-left and top-right","top, left, bottom and top-left","top","top, right, bottom and top-right","top, left, right, bottom and top-left","top, left and bottom","top, right, bottom, top-right and bottom-right","top, left, right, bottom, top-left, bottom-left and bottom-right","top, left, right, bottom, bottom-left and bottom-right","top, left, bottom and bottom-left","bottom","top, right and bottom","top, left and right","top, left, right, bottom and bottom-right","top, left, right, bottom, top-right and bottom-left","top, left, right, top-left, top-right and bottom-right","all","top, left, bottom, top-left and bottom-right","top and bottom","top and right","left and right","top, left, right and top-right","top, left and top-left","top, right and top-right","top, left, right, top-left and top-right","top, left, right and top-left","top and left"]}}}get group(){return this.groups[this._selectedGroupIndex]}ready(){super.ready(),this.$.selector.addEventListener("simpleselectorselectedtile",(a)=>{this.$.selector.open=!1,this.set(`groups.${this._selectedGroupIndex}.tiles.${this._selectingId}`,a.detail.tileId)})}setGroups(a=[]){this.groups=a}getGroups(){return this.groups}reset(){this.groups=[]}_computeSelection(a=[]){return 0<a.length}_createGroup(a={}){a instanceof Event&&(a={});const b=this.groups.reduce((a,b)=>{const c=b.name.match(/Group ([0-9]+)/);if(c){const b=parseInt(c[1]);return Math.max(a,b+1)}return a},1);this.push("groups",{name:`Group ${b}`,tiles:a}),this._selectedGroupIndex=this.groups.length-1}_removeGroup(){const a=this._selectedGroupIndex;this.splice("groups",a,1),this._selectedGroupIndex=Math.min(a,this.groups.length-1),this._selectedGroupIndex--,requestAnimationFrame(()=>{this._selectedGroupIndex++})}_renameGroup(){this.dispatchEvent(new CustomEvent("rename",{composed:!0,bubbles:!0,detail:{itemType:"Autotile Group",currentName:this.group.name,callback:({newName:a})=>{this.set(`groups.${this._selectedGroupIndex}.name`,a);const b=this._selectedGroupIndex;this._selectedGroupIndex=void 0,this._selectedGroupIndex=b}}}))}_openSelector(a){this.$.selector.open=!0,this._selectingId=a.model.index}_buildFromSelection(){const a={},b=new Image;b.src=this.tileset.url,b.onload=()=>{const d=b.naturalWidth,e=b.naturalHeight,f=parseInt(this.tileset.tileWidth),g=parseInt(this.tileset.tileHeight),h=f/2,i=g/2,j=Math.floor(d/f),k=document.createElement("canvas");k.width=d,k.height=e;const l=k.getContext("2d");l.drawImage(b,0,0,d,e);const c=(a,b,c,d)=>{const e=l.getImageData(a,b,c,d).data;for(let f=0;f<e.length/4;f++){const a=4*f+3;if(0!==e[a])return!1}return!0};this.selection.forEach(({x:b,y:d})=>{const e=b*f,k=d*g,m=e+f-1,n=k+g-1,l=c(e,k,f,g);let o;if(!l){const a=!c(e,k,1,1),d=!c(m,k,1,1),f=!c(e,n,1,1),g=!c(m,n,1,1),j=!c(e+h,k,1,1),p=!c(m,k+i,1,1),q=!c(e+h,n,1,1),b=!c(e,k+i,1,1);o=DTile.utils.autotiles.getId(a,d,f,g,j,p,q,b)-1}o!==void 0&&(a[o]=b+d*j)});const m=this.groups.length;this._createGroup(a),this._selectedGroupIndex=m}}_getTileId(a){if(!this.group)return-1;const b=this.group.tiles[a];return b===void 0?-1:b}_hasGroup(){return this.parentElement.notifyResize&&this.parentElement.notifyResize(),0<this.groups.length&&this.groups[this._selectedGroupIndex]}_getCurrentGroupName(){return this.group.name}}customElements.define(DTileAutotilesManager.is,DTileAutotilesManager);</script><dom-module id="dtile-tileset-editor" assetpath="src/dtile-tileset-editor/"><template><style>:host{width:100%;height:100%;display:block}#action-buttons{display:flex}#action-buttons>span{flex-grow:1}#action-buttons>paper-button{margin:20px;color:#fff}paper-button>iron-icon{margin-right:10px}#container{width:100%;height:100%;display:flex;flex-direction:column}#tileset-viewer{flex-grow:1}</style><paper-dialog id="autotiles-dialog"><h2>Manage autotiles</h2><dtile-autotiles-manager id="autotiles" tileset="[[_currentTileset]]" selection="[[_selection]]"></dtile-autotiles-manager><div class="buttons"><paper-button dialog-dismiss="" on-tap="_closeAutotiles">Cancel</paper-button><paper-button dialog-confirm="" on-tap="_applyAutotiles">Apply</paper-button></div></paper-dialog><div id="container"><div id="action-buttons"><paper-button on-tap="_openTileMeta"><iron-icon icon="create"></iron-icon>Edit Tile Meta</paper-button><span></span><paper-button on-tap="_manageAutoTiles"><iron-icon icon="create"></iron-icon>Manage Auto Tiles</paper-button><paper-button on-tap="_openTilesetMeta"><iron-icon icon="create"></iron-icon>Edit Tileset Meta</paper-button></div><dtile-tileset-viewer id="tileset-viewer" tilesets="[[tilesets]]" tileset-id="[[tilesetId]]" selection="[[_selection]]"></dtile-tileset-viewer></div></template></dom-module><script>var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};class DTileTilesetEditor extends DTile.ReduxMixin(Polymer.Element){static get is(){return"dtile-tileset-editor"}static get properties(){return{tilesets:{type:Array,statePath:"entities.tilesets"},tilesetId:{type:String,statePath:"ui.currentTilesetId"},_currentTileset:{type:Object,computed:"_getCurrentTileset(tilesets, tilesetId)"},_selection:Array}}static get actions(){return{modifyTilesetMeta(a,b){return{type:"MODIFY_TILESET_META",payload:{tilesetId:a,meta:b}}},modifyTilesetTileMeta(a,b,c){return{type:"MODIFY_TILESET_TILE_META",payload:{tilesetId:a,tileIds:b,meta:c}}}}}ready(){super.ready(),this.addEventListener("dtile-page-to",()=>{this.$["tileset-viewer"].resetView()}),this.$["tileset-viewer"].addEventListener("tileset-selection",(a)=>{this._selection=a.detail})}_openTileMeta(){const a=this.$["tileset-viewer"].tilesetMap.width,b=this._selection.map(({x:b,y:c})=>c*a+b),c=1<b.length?{}:this.tilesets[this.tilesetId].tileMeta[b[0]];this.dispatchEvent(new CustomEvent("dtile-open-meta",{bubbles:!0,composed:!0,detail:{meta:c,metaType:"tilesetTile",context:{tileset:this.tilesets[this.tilesetId],tilesetId:this.tilesetId,tileIds:b},callback:(a)=>{a&&this.dispatch("modifyTilesetTileMeta",this.tilesetId,b,a)}}}))}_openTilesetMeta(){this.dispatchEvent(new CustomEvent("dtile-open-meta",{bubbles:!0,composed:!0,detail:{meta:this.tilesets[this.tilesetId].meta,metaType:"tileset",context:{tileset:this.tilesets[this.tilesetId],tilesetId:this.tilesetId},callback:(a)=>{a&&this.dispatch("modifyTilesetMeta",this.tilesetId,a)}}}))}_getCurrentTileset(a,b){return a[b]}_manageAutoTiles(){const a=this.tilesets[this.tilesetId].meta["@*autotile-groups"];this.$.autotiles.setGroups(a),this.$["autotiles-dialog"].open()}_closeAutotiles(){this.$.autotiles.reset()}_applyAutotiles(){const a=_extends({},this.tilesets[this.tilesetId].meta,{"@*autotile-groups":this.$.autotiles.getGroups()});this.dispatch("modifyTilesetMeta",this.tilesetId,a),this.$.autotiles.reset()}}customElements.define(DTileTilesetEditor.is,DTileTilesetEditor);</script><dom-module id="iron-collapse" assetpath="bower_components/iron-collapse/"><template><style>:host{display:block;transition-duration:var(--iron-collapse-transition-duration,300ms);-webkit-transition-duration:var(--iron-collapse-transition-duration,300ms);overflow:visible}:host(.iron-collapse-closed){display:none}:host(:not(.iron-collapse-opened)){overflow:hidden}</style><slot></slot></template></dom-module><script>Polymer({is:'iron-collapse',behaviors:[Polymer.IronResizableBehavior],properties:{horizontal:{type:Boolean,value:!1,observer:'_horizontalChanged'},opened:{type:Boolean,value:!1,notify:!0,observer:'_openedChanged'},transitioning:{type:Boolean,notify:!0,readOnly:!0},noAnimation:{type:Boolean},_desiredSize:{type:String,value:''}},get dimension(){return this.horizontal?'width':'height'},get _dimensionMax(){return this.horizontal?'maxWidth':'maxHeight'},get _dimensionMaxCss(){return this.horizontal?'max-width':'max-height'},hostAttributes:{role:'group',"aria-hidden":'true'},listeners:{transitionend:'_onTransitionEnd'},toggle:function(){this.opened=!this.opened},show:function(){this.opened=!0},hide:function(){this.opened=!1},updateSize:function(a,b){a='auto'===a?'':a;var c=b&&!this.noAnimation&&this.isAttached&&this._desiredSize!==a;if(this._desiredSize=a,this._updateTransition(!1),c){var d=this._calcSize();''===a&&(this.style[this._dimensionMax]='',a=this._calcSize()),this.style[this._dimensionMax]=d,this.scrollTop=this.scrollTop,this._updateTransition(!0),c=a!==d}this.style[this._dimensionMax]=a,c||this._transitionEnd()},enableTransition:function(a){Polymer.Base._warn('`enableTransition()` is deprecated, use `noAnimation` instead.'),this.noAnimation=!a},_updateTransition:function(a){this.style.transitionDuration=a&&!this.noAnimation?'':'0s'},_horizontalChanged:function(){this.style.transitionProperty=this._dimensionMaxCss;var a='maxWidth'===this._dimensionMax?'maxHeight':'maxWidth';this.style[a]='',this.updateSize(this.opened?'auto':'0px',!1)},_openedChanged:function(){this.setAttribute('aria-hidden',!this.opened),this._setTransitioning(!0),this.toggleClass('iron-collapse-closed',!1),this.toggleClass('iron-collapse-opened',!1),this.updateSize(this.opened?'auto':'0px',!0),this.opened&&this.focus()},_transitionEnd:function(){this.style[this._dimensionMax]=this._desiredSize,this.toggleClass('iron-collapse-closed',!this.opened),this.toggleClass('iron-collapse-opened',this.opened),this._updateTransition(!1),this.notifyResize(),this._setTransitioning(!1)},_onTransitionEnd:function(a){Polymer.dom(a).rootTarget===this&&this._transitionEnd()},_calcSize:function(){return this.getBoundingClientRect()[this.dimension]+'px'}});</script><dom-module id="paper-expansion-panel" assetpath="bower_components/paper-expansion-panel/"><template><style>.header{min-height:48px;color:var(--primary-text-color);@apply --layout-center;@apply --layout-justified;@apply --paper-font-subhead;@apply --paper-expansion-panel-header;}.toggle{color:var(--disabled-text-color)}.content{@apply --paper-font-body1;@apply --paper-expansion-panel-content;}.summary{@apply --paper-expansion-panel-summary;color:var(--secondary-text-color)}.flex{@apply --layout-flex;}</style><paper-item class="header" on-tap="_toggleOpened"><template is="dom-if" if="[[header]]"><div class="flex">[[header]]</div><template is="dom-if" if="[[summary]]"><div hidden$="[[opened]]" class="flex summary">[[summary]]</div></template></template><template is="dom-if" if="[[!header]]"><slot name="header"><div class="flex">&nbsp;</div></slot></template><paper-icon-button class="toggle" icon="[[_toggleIcon]]"></paper-icon-button></paper-item><iron-collapse class="content" opened="{{opened}}"><slot></slot></iron-collapse></template></dom-module><script>(function(){Polymer({is:'paper-expansion-panel',properties:{header:{type:String,value:''},summary:String,opened:{type:Boolean,reflectToAttribute:!0,notify:!0},_toggleIcon:{type:String,computed:'_computeToggleIcon(opened)'}},_toggleOpened:function(){this.opened=!this.opened,this.fire('toggle',this)},_computeToggleIcon:function(a){return a?'icons:expand-less':'icons:expand-more'}})})();</script><dom-module id="vaadin-grid-active-item-themability-styles" assetpath="bower_components/vaadin-grid/"><template><style>vaadin-grid-table .vaadin-grid-row[active] .vaadin-grid-cell:not([detailscell]) ::slotted(vaadin-grid-cell-content){@apply(--vaadin-grid-body-row-active-cell);}</style></template></dom-module><script>window.vaadin=window.vaadin||{},vaadin.elements=vaadin.elements||{},vaadin.elements.grid=vaadin.elements.grid||{},vaadin.elements.grid.ActiveItemBehavior={properties:{activeItem:{type:Object,notify:!0,value:null}},listeners:{"cell-activate":'_activateItem'},observers:['_activeItemChanged(activeItem)'],_activateItem:function(a){var b=a.detail.model.item;this.activeItem=this.activeItem===b?null:b,a.stopImmediatePropagation()},_activeItemChanged:function(){this.$.scroller._physicalItems&&this.$.scroller._physicalItems.forEach(function(a){this._updateItem(a,a.item)}.bind(this))}};</script><dom-module id="vaadin-grid-table-table-scroll-styles" assetpath="bower_components/vaadin-grid/"><template><style>#table{position:relative;overflow:auto;-webkit-overflow-scrolling:touch;z-index:-2}vaadin-grid-table[ios] #table{transform:none}vaadin-grid-table[fixed-sections] #table{transform:none}</style></template></dom-module><dom-module id="vaadin-grid-table-scroll-styles" assetpath="bower_components/vaadin-grid/"><template><style>vaadin-grid-table{transform:translateZ(0)}vaadin-grid-table-header{position:absolute;top:0;width:100%}vaadin-grid-table-footer{position:absolute;bottom:0;width:100%}vaadin-grid-table-body{z-index:-1}vaadin-grid-table[fixed-sections]{transform:translateZ(0);overflow:hidden}vaadin-grid-table[fixed-sections] vaadin-grid-table-footer,vaadin-grid-table[fixed-sections] vaadin-grid-table-header{position:fixed}vaadin-grid-table[fixed-sections] vaadin-grid-table-body#items{position:fixed;width:100%;will-change:transform}</style></template></dom-module><script>window.vaadin=window.vaadin||{},vaadin.elements=vaadin.elements||{},vaadin.elements.grid=vaadin.elements.grid||{},vaadin.elements.grid.TableScrollBehaviorImpl={properties:{_vidxOffset:{type:Number,value:0},ios:{type:Boolean,value:navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/),reflectToAttribute:!0},fixedSections:{type:Boolean,reflectToAttribute:!0,computed:'_hasFixedSections(scrollbarWidth)'},_frozenCells:{type:Array,value:function(){return[]}},scrolling:{type:Boolean,reflectToAttribute:!0}},ready:function(){this.scrollTarget=this.$.table},attached:function(){this.listen(this.scrollTarget,'wheel','_onWheel')},detached:function(){this.unlisten(this.scrollTarget,'wheel','_onWheel')},scrollToScaledIndex:function(a){this._pendingScrollToScaledIndex=null,this.$.items.style.borderTopWidth||(this._pendingScrollToScaledIndex=a),a=Math.min(Math.max(a,0),this.size-1),this.$.table.scrollTop=a/this.size*this.$.table.scrollHeight,this._scrollHandler(),this.scrollToIndex(a-this._vidxOffset),this._resetScrollPosition(this._scrollPosition),this._scrollHandler(),this._vidxOffset+this.lastVisibleIndex===this.size-1&&(this.$.table.scrollTop=this.$.table.scrollHeight-this.$.table.offsetHeight,this._scrollHandler())},_hasFixedSections:function(a){return navigator.userAgent.match(/Edge/)&&0===a},_onWheel:function(a){var b=Math.abs;if(!(a.ctrlKey||this._hasScrolledAncestor(a.target,a.deltaX,a.deltaY))){var c=this.$.table,d=a.deltaY;1===a.deltaMode&&(d*=this._physicalAverage);var e=b(a.deltaX)+b(d);this._canScroll(c,a.deltaX,d)?(a.preventDefault(),c.scrollTop+=d,c.scrollLeft+=a.deltaX,this._scrollHandler(),this._hasResidualMomentum=!0,this._ignoreNewWheel=this.debounce('ignore-new-wheel',function(){this._ignoreNewWheel=null},500)):this._hasResidualMomentum&&e<=this._previousMomentum||this._ignoreNewWheel?a.preventDefault():e>this._previousMomentum&&(this._hasResidualMomentum=!1),this._previousMomentum=e}},_hasScrolledAncestor:function(a,b,c){if(this._canScroll(a,b,c))return!0;return'vaadin-grid-cell-content'!==a.localName&&a!==this&&a.parentElement?this._hasScrolledAncestor(a.parentElement,b,c):void 0},_canScroll:function(a,b,c){return 0<c&&a.scrollTop<a.scrollHeight-a.offsetHeight||0>c&&0<a.scrollTop||0<b&&a.scrollLeft<a.scrollWidth-a.offsetWidth||0>b&&0<a.scrollLeft},_scrollHandler:function(){var a,b,c,d,e,f=Math.max(0,Math.min(this._maxScrollTop,this._scrollTop)),g=f-this._scrollPosition,h=this._ratio,i=0,j=this._hiddenContentSize,k=h,l=[];if(this._scrollPosition=f,this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,d=this._scrollBottom,e=this._physicalBottom,Math.abs(g)>this._physicalSize)this._physicalTop+=g,i=Math.round(g/this._physicalAverage);else if(0>g){var m=f-this._physicalTop,n=this._virtualStart;for(c=[],b=this._physicalEnd,k=m/j;k<h&&i<this._physicalCount&&0<n-i&&e-this._getPhysicalSizeIncrement(b)>d;)a=this._getPhysicalSizeIncrement(b),k+=a/j,e-=a,c.push(b),i++,b=0===b?this._physicalCount-1:b-1;l=c,i=-i}else if(0<g){var o=e-d,p=this._virtualEnd,q=this._virtualCount-1;for(c=[],b=this._physicalStart,k=o/j;k<h&&i<this._physicalCount&&p+i<q&&this._physicalTop+this._getPhysicalSizeIncrement(b)<f;)a=this._getPhysicalSizeIncrement(b),k+=a/j,this._physicalTop+=a,c.push(b),i++,b=(b+1)%this._physicalCount}this._virtualCount<this.size&&this._adjustVirtualIndexOffset(g),0===i?(e<d||this._physicalTop>f)&&this._increasePoolIfNeeded():(this._virtualStart+=i,this._physicalStart+=i,this._update(c,l)),this._translateStationaryElements(),this.hasAttribute('reordering')||(this.scrolling=!0),this.debounce('vaadin-grid-scrolling',function(){this.scrolling=!1,this._reorderRows()},100)},_adjustVirtualIndexOffset:function(a){var b=Math.round,c=Math.min;if(1e4<Math.abs(a)){if(this._noScale)return void(this._noScale=!1);var d=b(1e3*(this._scrollPosition/this._scrollHeight))/1e3,e=d*this.size;this._vidxOffset=b(e-d*this._virtualCount),0===this._scrollTop&&this.scrollToIndex(0)}else{var f=this._vidxOffset||0,g=1e3,h=100;0===this._scrollTop?(this._vidxOffset=0,f!==this._vidxOffset&&this.scrollToIndex(0)):this.firstVisibleIndex<g&&0<this._vidxOffset&&(this._vidxOffset-=c(this._vidxOffset,h),this.scrollToIndex(this.firstVisibleIndex+(f-this._vidxOffset)+1),this._noScale=!0);var i=this.size-this._virtualCount;this._scrollTop>=this._maxScrollTop?(this._vidxOffset=i,f!==this._vidxOffset&&this.scrollToIndex(this._virtualCount)):this.firstVisibleIndex>this._virtualCount-g&&this._vidxOffset<i&&(this._vidxOffset+=c(i-this._vidxOffset,h),this.scrollToIndex(this.firstVisibleIndex-(this._vidxOffset-f)),this._noScale=!0)}},_reorderRows:function(){var a=Polymer.dom(this.$.items),b=a.querySelectorAll('.vaadin-grid-row'),c=this._virtualStart+this._vidxOffset,d=b.length-(b[0].index-c);if(d<b.length/2)for(var e=0;e<d;e++)a.appendChild(b[e]);else for(var f=d;f<b.length;f++)a.insertBefore(b[f],b[0])},_frozenCellsChanged:function(){this.debounce('cache-elements',function(){Polymer.dom(this.domHost.root).querySelectorAll('.vaadin-grid-cell').forEach(function(a){a.style.transform=''}),this._frozenCells=Array.prototype.slice.call(Polymer.dom(this.domHost.root).querySelectorAll('[frozen]')),this._translateStationaryElements()}),this._updateLastFrozen()},_updateLastFrozen:function(){if(this.columnTree){var a=this.columnTree[this.columnTree.length-1].slice(0);a.sort(function(c,a){return c._order-a._order});var b=a.reduce(function(a,b,c){return b._lastFrozen=!1,b.frozen&&!b.hidden?c:a},void 0);void 0!==b&&(a[b]._lastFrozen=!0)}},_translateStationaryElements:function(){this.fixedSections?(this.$.items.style.transform=this._getTranslate(-this._scrollLeft||0,-this._scrollTop||0),this.$.footer.style.transform=this.$.header.style.transform=this._getTranslate(-this._scrollLeft||0,0)):this.$.footer.style.transform=this.$.header.style.transform=this._getTranslate(0,this._scrollTop);for(var a=this._getTranslate(this._scrollLeft,0),b=0;b<this._frozenCells.length;b++)this._frozenCells[b].style.transform=a},_getTranslate:function(a,b){return'translate('+a+'px,'+b+'px)'}},vaadin.elements.grid.TableScrollBehavior=[Polymer.IronScrollTargetBehavior,vaadin.elements.grid.TableScrollBehaviorImpl];</script><script>window.vaadin=window.vaadin||{},vaadin.elements=vaadin.elements||{},vaadin.elements.grid=vaadin.elements.grid||{},vaadin.elements.grid.CellClickBehavior={listeners:{click:'_onClick'},attached:function(){this._cellContentFocusHandler=function(a){a.target!==this._cellContent&&this.fire('cell-content-focus',{cell:this})}.bind(this),this.addEventListener('focus',this._cellContentFocusHandler,!0)},detached:function(){this.removeEventListener('focus',this._cellContentFocusHandler,!0)},_onClick:function(a){if('vaadin-grid-sorter'!==this.localName&&this.fire('cell-focus',{cell:this}),this._cellClick){var b=Polymer.dom(a).localTarget;b.getDistributedNodes&&(b=Polymer.dom(b).getDistributedNodes()[0]);var c=Polymer.dom(a).path,d=Array.prototype.slice.call(c,0,c.indexOf(b)+1);b.contains(this.target&&this.target.root.activeElement||document.activeElement)||d.some(this._isFocusable)||this._cellClick(a)}},_isFocusable:function(a){var b=Polymer.dom(a).parentNode,c=-1!==Array.prototype.indexOf.call(Polymer.dom(b).querySelectorAll('[tabindex], button, input, select, textarea, object, iframe, label, a[href], area[href]'),a);return!a.disabled&&c}};</script><dom-module id="vaadin-grid-table-cell" assetpath="bower_components/vaadin-grid/"></dom-module><dom-module id="vaadin-grid-table-header-cell" assetpath="bower_components/vaadin-grid/"></dom-module><dom-module id="vaadin-grid-table-footer-cell" assetpath="bower_components/vaadin-grid/"></dom-module><dom-module id="vaadin-grid-sizer-cell" assetpath="bower_components/vaadin-grid/"></dom-module><script>(function(){var a={properties:{column:Object,expanded:Boolean,flexGrow:Number,colSpan:Number,focused:{type:Boolean,reflectToAttribute:!0},frozen:{type:Boolean,reflectToAttribute:!0},lastFrozen:{type:Boolean,reflectToAttribute:!0},hidden:{type:Boolean,reflectToAttribute:!0},instance:Object,index:Number,item:Object,selected:Boolean,template:Object,target:Object,width:String,order:Number,reorderStatus:{type:String,reflectToAttribute:!0},_childColumns:Array,_cellContent:Object,_insertionPoint:Object,_templatizer:Object},observers:['_columnChanged(column)','_cellAttached(column, isAttached)','_expandedChanged(expanded, instance)','_flexGrowChanged(flexGrow)','_indexChanged(index, instance)','_itemChanged(item, instance)','_instanceChanged(instance, target)','_selectedChanged(selected, instance)','_toggleContent(isAttached, _cellContent, _insertionPoint)','_toggleInstance(isAttached, _templatizer, instance)','_widthChanged(width)','_orderChanged(order)','_visibleChildColumnsChanged(_visibleChildColumns)','_childColumnsChanged(_childColumns)'],ready:function(){this.classList.add('vaadin-grid-cell'),!1===Polymer.Settings.useShadow&&(this.classList.add('style-scope'),this.classList.add('vaadin-grid'))},_columnChanged:function(a){this.flexGrow=a.flexGrow,this.frozen=a.frozen,this.lastFrozen=a._lastFrozen,this.headerTemplate=a.headerTemplate,this.footerTemplate=a.footerTemplate,this.template=a.template,this.width=a.width,this.hidden=a.hidden,this.resizable=a.resizable,this._childColumns=a._childColumns,this.order=a._order,a.colSpan&&(this.colSpan=a.colSpan),this.listen(a,'property-changed','_columnPropChanged')},_cellAttached:function(a,b){void 0===a||void 0===b||(b?this.listen(a,'property-changed','_columnPropChanged'):this.async(function(){this.isAttached||this.unlisten(a,'property-changed','_columnPropChanged')}))},_columnPropChanged:function(a){a.target==this.column&&(this[a.detail.path]=a.detail.value)},_expandedChanged:function(a,b){void 0===a||void 0===b||(b.__expanded__=a,b.expanded=a)},_flexGrowChanged:function(a){this.style.flexGrow=a},_indexChanged:function(a,b){void 0===a||void 0===b||(b.index=a)},_itemChanged:function(a,b){void 0===a||void 0===b||(b.item=a)},_selectedChanged:function(a,b){void 0===a||void 0===b||(b.__selected__=a,b.selected=a)},_childColumnsChanged:function(a){this.colSpan=a.length},_toggleContent:function(a,b,c){void 0===a||void 0===b||void 0===c||(a?(Polymer.dom(b).parentNode!==this.target&&Polymer.dom(this.target).appendChild(b),Polymer.dom(this).appendChild(c)):this.async(function(){this.isAttached||Polymer.dom(b).parentNode!==this.target||Polymer.dom(this.target).removeChild(b)}))},_toggleInstance:function(a,b,c){void 0===a||void 0===b||void 0===c||(a?b.addInstance(c):b.removeInstance(c))},_widthChanged:function(a){this.style.width=a},_orderChanged:function(a){this.style.order=a},_templateChanged:function(a){this.instance=a.templatizer.createInstance(),this._templatizer=a.templatizer},_instanceChanged:function(a,b){if(void 0!==a&&void 0!==b){this.style.height='',this._cellContent=this._cellContent||document.createElement('vaadin-grid-cell-content');var c=vaadin.elements.grid._contentIndex=vaadin.elements.grid._contentIndex+1||0,d='vaadin-grid-cell-content-'+c;this._cellContent.innerHTML='',Polymer.dom(this._cellContent).appendChild(this.instance.root),this._cellContent.setAttribute('id',d),Polymer.Element?(this._cellContent.setAttribute('slot',d),this._insertionPoint=this._insertionPoint||document.createElement('slot'),this._insertionPoint.setAttribute('name',d)):(this._insertionPoint=this._insertionPoint||document.createElement('content'),this._insertionPoint.setAttribute('select','#'+d))}}};Polymer({is:'vaadin-grid-table-cell',behaviors:[a,vaadin.elements.grid.CellClickBehavior],observers:['_templateChanged(template)'],_cellClick:function(a){a.defaultPrevented||this.fire('cell-activate',{model:this.instance})}}),Polymer({is:'vaadin-grid-table-header-cell',properties:{headerTemplate:Object,resizable:Boolean,columnResizing:{type:Boolean,reflectToAttribute:!0}},behaviors:[a,vaadin.elements.grid.CellClickBehavior],observers:['_headerTemplateChanged(headerTemplate)','_isEmptyChanged(_isEmpty, isAttached)','_resizableChanged(resizable)'],listeners:{mousedown:'_cancelMouseDownOnResize',mousemove:'_enableDrag',mouseout:'_disableDrag',touchstart:'_onTouchStart',touchmove:'_onTouchMove',touchend:'_onTouchEnd',contextmenu:'_onContextMenu'},_onContextMenu:function(a){this._reorderGhost&&a.preventDefault()},_onTouchStart:function(a){a.target!==this._resizeHandle&&this.target.columnReorderingAllowed&&(this._startReorderTimeout=setTimeout(this._startReorder.bind(this,a),100))},_startReorder:function(a){this._reorderGhost=this._getGhost(),this._reorderGhost.style.visibility='visible';var b=new CustomEvent('dragstart',{bubbles:!0});this._cellContent.dispatchEvent(b),this._reorderXY={x:a.touches[0].clientX-this.getBoundingClientRect().left,y:a.touches[0].clientY-this.getBoundingClientRect().top},this._updateGhostPosition(a.touches[0].clientX,a.touches[0].clientY)},_onTouchMove:function(a){if(this._reorderGhost){a.preventDefault();var b=new CustomEvent('dragover',{bubbles:!0});b.clientX=a.touches[0].clientX,b.clientY=a.touches[0].clientY;var c=this._contentFromPoint(b.clientX,b.clientY);c&&c.dispatchEvent(b),this._updateGhostPosition(a.touches[0].clientX,a.touches[0].clientY)}else clearTimeout(this._startReorderTimeout)},_updateGhostPosition:function(a,b){var c=a-this._reorderXY.x,d=b-this._reorderXY.y-50,e=parseInt(this._reorderGhost.style.left||0),f=parseInt(this._reorderGhost.style.top||0),g=this._reorderGhost.getBoundingClientRect();this._reorderGhost.style.left=e-(g.left-c)+'px',this._reorderGhost.style.top=f-(g.top-d)+'px'},_onTouchEnd:function(a){if(clearTimeout(this._startReorderTimeout),this._reorderGhost){a.preventDefault();var b=new CustomEvent('dragend',{bubbles:!0});this.dispatchEvent(b),this._reorderGhost.style.visibility='hidden',this._reorderGhost=null}},_contentFromPoint:function(a,b){if(Polymer.Settings.useShadow){var c=this.target.$.scroller;c.toggleAttribute('no-content-pointer-events',!0);var d=this.domHost.root.elementFromPoint(a,b);if(c.toggleAttribute('no-content-pointer-events',!1),d&&d.getContentChildren)return d.getContentChildren(Polymer.Element?'slot':'content')[0]}else return document.elementFromPoint(a,b)},_getGhost:function(){var a=this.target.$.scroller.$.reorderghost;a.innerText=this._cellContent.innerText;var b=window.getComputedStyle(this._cellContent);return['boxSizing','display','width','height','background','alignItems','padding','border','flex-direction','overflow'].forEach(function(c){a.style[c]=b[c]},this),a},_enableDrag:function(){this._cellContent.draggable=this.target.columnReorderingAllowed&&!window.getSelection().toString()},_disableDrag:function(){this._cellContent.draggable=!1},_cancelMouseDownOnResize:function(a){a.target===this._resizeHandle&&a.preventDefault()},_resizableChanged:function(a){a?(this._resizeHandle=document.createElement('div'),this._resizeHandle.classList.add('vaadin-grid-column-resize-handle'),this.listen(this._resizeHandle,'track','_onTrack'),Polymer.dom(this).appendChild(this._resizeHandle)):this._resizeHandle&&(this.unlisten(this._resizeHandle,'track','_onTrack'),Polymer.dom(this).removeChild(this._resizeHandle))},_onTrack:function(a){this.columnResizing=!0;var b=this.column;'vaadin-grid-column-group'===b.localName&&(b=Array.prototype.slice.call(b._childColumns,0).sort(function(c,a){return c._order-a._order}).filter(function(a){return!a.hidden}).pop());var c=this._getHeaderCellByColumn(b);if(c.offsetWidth){var d=window.getComputedStyle(c._cellContent),e=10+parseInt(d.paddingLeft)+parseInt(d.paddingRight);b.width=Math.max(e,c.offsetWidth+a.detail.x-c.getBoundingClientRect().right)+'px',b.flexGrow=0}var f=this.parentElement.parentElement;Array.prototype.slice.call(Polymer.dom(f).querySelectorAll('.vaadin-grid-row:last-child .vaadin-grid-cell')).sort(function(c,a){return c.column._order-a.column._order}).forEach(function(a,b,d){b<d.indexOf(c)&&(a.column.width=a.offsetWidth+'px',a.column.flexGrow=0)}),this.columnResizing&&'end'===a.detail.state&&(this.columnResizing=!1),this.fire('column-resizing')},_getHeaderCellByColumn:function(a){var b=this.parentElement.parentElement;return Array.prototype.filter.call(Polymer.dom(b).querySelectorAll('.vaadin-grid-row:last-child .vaadin-grid-cell'),function(b){return b.column===a})[0]},_headerTemplateChanged:function(a){void 0===a||(null!==a&&(this._isColumnRow||'vaadin-grid-column-group'===this.column.localName)?(this.instance=a.templatizer.createInstance(),this._templatizer=a.templatizer,this._isEmpty=!1):(this.instance={root:document.createElement('div')},this._isEmpty=!0))},_isEmptyChanged:function(a,b){b&&this.fire('cell-empty-changed')}}),Polymer({is:'vaadin-grid-table-footer-cell',properties:{footerTemplate:Object},behaviors:[a,vaadin.elements.grid.CellClickBehavior],observers:['_footerTemplateChanged(footerTemplate)','_isEmptyChanged(_isEmpty, isAttached)'],_footerTemplateChanged:function(a){void 0===a||(null!==a&&(this._isColumnRow||'vaadin-grid-column-group'===this.column.localName)?(this.instance=a.templatizer.createInstance(),this._templatizer=a.templatizer,this._isEmpty=!1):(this.instance={root:document.createElement('div')},this._isEmpty=!0))},_isEmptyChanged:function(a,b){b&&this.fire('cell-empty-changed')}}),Polymer({is:'vaadin-grid-sizer-cell',behaviors:[a]})})();</script><dom-module id="vaadin-grid-sizer" assetpath="bower_components/vaadin-grid/"><template><style>:host{display:flex;visibility:hidden}.cell{display:block;flex-shrink:0;line-height:0;font-size:1px;margin-top:-1em}.cell[hidden]{display:none}</style><template is="dom-repeat" items="[[_columns]]" as="column"><vaadin-grid-sizer-cell class="cell" column="[[column]]">&nbsp;</vaadin-grid-sizer-cell></template></template><script>Polymer({is:'vaadin-grid-sizer',properties:{columnTree:Array,top:Number,_columns:Array},observers:['_columnTreeChanged(columnTree)','_topChanged(top)'],_columnTreeChanged:function(a){this._columns=a[a.length-1]},_topChanged:function(a){this.style.top=a+'px'}});</script></dom-module><dom-module id="vaadin-grid-table-outer-scroller" assetpath="bower_components/vaadin-grid/"><template><style>:host{display:block;height:100%;width:100%;position:absolute;top:0;box-sizing:border-box;overflow:auto}:host([passthrough]){pointer-events:none}:host([ios]){pointer-events:all;z-index:-3}:host([ios][scrolling]){z-index:0}</style><slot></slot></template><script>Polymer({is:'vaadin-grid-table-outer-scroller',properties:{scrollTarget:{type:Object,observer:'_scrollTargetChanged'},passthrough:{type:Boolean,reflectToAttribute:!0,value:!0}},listeners:{scroll:'_syncScrollTarget'},attached:function(){this.listen(this.domHost,'mousemove','_onMouseMove'),this.style.webkitOverflowScrolling='touch'},detached:function(){this.unlisten(this.domHost,'mousemove','_onMouseMove')},_scrollTargetChanged:function(a,b){b&&this.unlisten(b,'scroll','_syncOuterScroller'),this.listen(a,'scroll','_syncOuterScroller')},_onMouseMove:function(a){this.passthrough=a.offsetY<=this.clientHeight&&a.offsetX<=this.clientWidth},_syncOuterScroller:function(){this._syncingScrollTarget||(this._syncingOuterScroller=!0,this.scrollTop=this.domHost._scrollTop,this.scrollLeft=this.domHost._scrollLeft),this._syncingScrollTarget=!1},_syncScrollTarget:function(){this._syncingOuterScroller||(this._syncingScrollTarget=!0,this.scrollTarget.scrollTop=this.scrollTop,this.scrollTarget.scrollLeft=this.scrollLeft,this.domHost._scrollHandler()),this._syncingOuterScroller=!1}});</script></dom-module><script>window.vaadin=window.vaadin||{},vaadin.elements=vaadin.elements||{},vaadin.elements.grid=vaadin.elements.grid||{},vaadin.elements.grid.FocusableCellContainerBehavior={properties:{focused:{type:Boolean,reflectToAttribute:!0},_focusedRow:Object,_focusedRowIndex:Number,_focusedCell:Object,_focusedCellIndex:Number,_lastFocusedCell:Object},observers:['_announceFocusedCell(_focusedCell, focused)','_dispatchEvents(_focusedCell, focused)','_focusedCellChanged(_focusedRowIndex, _focusedCellIndex)'],_announceFocusedCell:function(a,b){if(void 0!==a&&void 0!==b&&this.domHost.navigating&&b){var c=Polymer.Element?a._cellContent.getAttribute('slot'):a._cellContent.id;if('vaadin-grid-table-body'===this.is&&!a.hasAttribute('detailscell')){var d=Array.prototype.indexOf.call(Polymer.dom(a.parentElement).querySelectorAll('.vaadin-grid-cell'),a),e=this.domHost.$.header.lastElementChild,f=e.children[d];c=f._cellContent.id+' '+c}this.domHost.$.footerFocusTrap.activeTarget=c}},_dispatchEvents:function(a,b){void 0===a||void 0===b||(this._lastFocusedCell&&(this._lastFocusedCell._cellContent.dispatchEvent(new CustomEvent('cell-focusout')),this._lastFocusedCell=void 0),b&&(a._cellContent.dispatchEvent(new CustomEvent('cell-focusin')),this._lastFocusedCell=a))},_focusedCellChanged:function(a,b){void 0===a||void 0===b||Array.prototype.forEach.call(Polymer.dom(this).children,function(c,d){c.focused=d===a,c.focused&&(this._focusedRow=c,this._focusedCellIndex=Math.min(b,c.children.length-1),this._focusedCell=c.children[this._focusedCellIndex]),c.cells.forEach(function(a,b){a.focused=b===this._focusedCellIndex}.bind(this))}.bind(this))},focusLeft:function(){if(!this._focusedCell.hasAttribute('detailscell')){var a=this._visibleCellIndexes();if(0<a.length){var b=a.indexOf(this._focusedCellIndex);this._focusedCellIndex=a[Math.max(0,b-1)]}}},focusDown:function(){this._focusedRowIndex=Math.min(this._focusedRowIndex+1,this.children.length-1)},_visibleCellIndexes:function(){var a=[];if(this._focusedRow&&this._focusedRow.children){for(var b=this._focusedRow.children,c=0;c<b.length;c++)b[c].hidden||b[c]===this._focusedRow._rowDetailsCell||a.push(c);a.sort(function(a,c){return b[a].column._order<b[c].column._order?-1:1})}return a},focusPageDown:function(){this._focusedRowIndex=Math.min(this._focusedRowIndex+10,this.children.length-1)},focusPageUp:function(){this._focusedRowIndex=Math.max(0,this._focusedRowIndex-10)},focusRight:function(){if(!this._focusedCell.hasAttribute('detailscell')){var a=this._visibleCellIndexes();if(0<a.length){var b=a.indexOf(this._focusedCellIndex);this._focusedCellIndex=a[Math.min(b+1,a.length-1)]}}},focusUp:function(){this._focusedRowIndex=Math.max(0,this._focusedRowIndex-1)},focusHome:function(){if(!this._focusedCell.hasAttribute('detailscell')){var a=this._visibleCellIndexes();0<a.length&&(this._focusedCellIndex=a[0])}},focusEnd:function(){if(!this._focusedCell.hasAttribute('detailscell')){var a=this._visibleCellIndexes();0<a.length&&(this._focusedCellIndex=a[a.length-1])}},focusFirst:function(){this._focusedRowIndex=0,this.focusHome()},focusLast:function(){this._focusedRowIndex=this.children.length-1,this.focusEnd()}};</script><script>(function(){var a={properties:{columnTree:Array,target:Object,_rows:Array},observers:['_columnTreeChanged(columnTree, target)','_rowsChanged(_rows)'],_columnTreeChanged:function(a,b){if(void 0!==a&&void 0!==b){this._rows&&this._rows.forEach(function(a){Polymer.dom(a).innerHTML=''});for(var c,d=[],e=0;e<a.length;e++)c=this._createRow(),c.target=b,c._isColumnRow=e==a.length-1,c.columns=a[e],d.push(c);this._rows='vaadin-grid-table-header'===this.localName?d:d.reverse()}},_rowsChanged:function(a){Polymer.dom(this).innerHTML='',a.forEach(function(a){Polymer.dom(this).appendChild(a)}.bind(this))}};Polymer({is:'vaadin-grid-table-header',behaviors:[a,vaadin.elements.grid.FocusableCellContainerBehavior],_createRow:function(){return document.createElement('vaadin-grid-table-header-row')}}),Polymer({is:'vaadin-grid-table-body',behaviors:[vaadin.elements.grid.FocusableCellContainerBehavior],observers:['_announceFocusedRow(_focusedRow)'],_announceFocusedRow:function(a){this.fire('iron-announce',{text:'Row '+(a.index+1)+' of '+this.domHost.size})},_moveFocusToDetailsCell:function(){this._focusedCell.focused=!1,this._focusedRow._rowDetailsCell.focused=!0,this._focusedCell=this._focusedRow._rowDetailsCell},_focusedRowHasDetailsCell:function(){return this._focusedRow&&this._focusedRow._rowDetailsCell&&this._focusedCell!==this._focusedRow._rowDetailsCell},focusDown:function(){this._focusedRowHasDetailsCell()?this._moveFocusToDetailsCell():this._focusedRowIndex=Math.min(this._focusedRowIndex+1,this.domHost.size-1)},focusUp:function(){this._focusedRow&&this._focusedCell===this._focusedRow._rowDetailsCell?this._focusedCellChanged(this._focusedRowIndex,this._focusedCellIndex):(this._focusedRowIndex=Math.max(0,this._focusedRowIndex-1),this._focusedRowHasDetailsCell()&&this._moveFocusToDetailsCell())},focusLast:function(){this._focusedRowIndex=this.domHost.size-1,this.focusEnd()},_focusedCellChanged:function(a,b){void 0===a||void 0===b||Array.prototype.forEach.call(Polymer.dom(this).children,function(c){c.focused=c.index===a,c.index===a&&(this._focusedRow=c,this._focusedCell=c.children[b]),c.iterateCells(function(a,c){a.focused=c===b})}.bind(this))}}),Polymer({is:'vaadin-grid-table-footer',behaviors:[a,vaadin.elements.grid.FocusableCellContainerBehavior],_createRow:function(){return document.createElement('vaadin-grid-table-footer-row')}})})();</script><dom-module id="vaadin-grid-table-focus-trap" assetpath="bower_components/vaadin-grid/"><template><style>:host{position:absolute;z-index:-3;height:0;overflow:hidden}.primary:focus,.secondary:focus,::slotted(.primary:focus),::slotted(.secondary:focus),:host(:focus){outline:0}</style><div class="primary" tabindex="0" role="gridcell" on-focus="_onBaitFocus" on-blur="_onBaitBlur"><div aria-hidden="true">&nbsp;</div></div><div class="secondary" tabindex="-1" role="gridcell" on-focus="_onBaitFocus" on-blur="_onBaitBlur"><div aria-hidden="true">&nbsp;</div></div><slot></slot></template><script>Polymer({is:'vaadin-grid-table-focus-trap',hostAttributes:{role:'gridcell'},properties:{activeTarget:{type:String,observer:'_activeTargetChanged'}},ready:function(){this._primary=Polymer.dom(this.root).querySelector('.primary'),this._secondary=Polymer.dom(this.root).querySelector('.secondary'),(Polymer.Settings.useNativeShadow||Polymer.Settings.useShadow)&&(Polymer.dom(this).appendChild(this._secondary),Polymer.dom(this).appendChild(this._primary))},focus:function(){this._focused===this._primary?this._secondary.focus():this._primary.focus()},_onBaitFocus:function(a){this._focused=a.target,this._movingFocusInternally||(this.fire('focus-gained'),this._primary.tabIndex=-1)},_onBaitBlur:function(){this._movingFocusInternally||(this.fire('focus-lost'),this._primary.tabIndex=0)},_activeTargetChanged:function(a){this._movingFocusInternally=!0,this._focused===this._primary?(this._secondary.setAttribute('aria-labelledby',a),this._secondary.focus()):(this._primary.setAttribute('aria-labelledby',a),this._primary.focus()),this._movingFocusInternally=!1},_reannounce:function(){this._movingFocusInternally=!0,this._focused===this._primary?(this._secondary.setAttribute('aria-labelledby',this.activeTarget),this._secondary.focus()):(this._primary.setAttribute('aria-labelledby',this.activeTarget),this._primary.focus()),this._movingFocusInternally=!1}});</script></dom-module><dom-module id="vaadin-grid-table-row" assetpath="bower_components/vaadin-grid/"></dom-module><dom-module id="vaadin-grid-table-header-row" assetpath="bower_components/vaadin-grid/"></dom-module><script>(function(){var a={properties:{active:{type:Boolean,reflectToAttribute:!0,value:!1},columns:Array,index:Number,cells:{value:[]},target:Object,expanded:{value:!1},focused:{type:Boolean,reflectToAttribute:!0},item:Object,selected:{reflectToAttribute:!0},_rowDetailsCell:Object,rowDetailsTemplate:Object},observers:['_columnsChanged(columns, target)','_indexChanged(index, cells)','_itemChanged(item, cells)','_itemChangedForDetails(item, _rowDetailsCell)','_rowDetailsChanged(expanded, rowDetailsTemplate, target)','_rowDetailsCellIndexChanged(_rowDetailsCell, index)','_rowDetailsCellChanged(_rowDetailsCell, target)','_selectedChanged(selected, cells)','_selectedChangedForDetails(selected, _rowDetailsCell)'],ready:function(){this.classList.add('vaadin-grid-row'),!1===Polymer.Settings.useShadow&&(this.classList.add('style-scope'),this.classList.add('vaadin-grid'))},iterateCells:function(a){this.cells.forEach(a),this._rowDetailsCell&&a(this._rowDetailsCell)},_rowDetailsChanged:function(a,b,c){if(void 0!==a&&void 0!==b&&void 0!==c){if(a){var d=document.createElement('vaadin-grid-table-cell');d.setAttribute('detailscell',!0),d.frozen=!0,d.target=c,d.template=b,d.toggleAttribute('lastcolumn',!0),Polymer.dom(this.root).appendChild(d),Polymer.dom.flush(),this._rowDetailsCell=d}else this._rowDetailsCell&&(Polymer.dom(this.root).removeChild(this._rowDetailsCell),this._rowDetailsCell=null);this.iterateCells(function(b){b.expanded=a}),this.target.$.scroller._frozenCellsChanged()}},_updateRowVisibility:function(){this.hidden=this.cells.every(function(a){return a._isEmpty})},_rowDetailsCellChanged:function(a,b){void 0===a||void 0===b||b.$.scroller._update()},_rowDetailsCellIndexChanged:function(a,b){void 0===a||void 0===b||(a?(a.index=b,Polymer.dom.flush(),this.updateRowDetailsCellMetrics()):this.style.paddingBottom='')},updateRowDetailsCellMetrics:function(){this._rowDetailsCell&&(this.target&&this.target._observer&&this.target._observer.flush&&this.target._observer.flush(),this._rowDetailsCell.style.height='',this.style.paddingBottom=this._rowDetailsCell.style.height=this._rowDetailsCell.clientHeight+'px')},_columnsChanged:function(a,b){if(void 0!==a&&void 0!==b){Polymer.dom(this).innerHTML='';var c=[];a.forEach(function(a){var b='_'+this.is.replace(/-/g,'_')+'_cells',d=a[b]=a[b]||[],e=d.filter(function(a){return!Polymer.dom(a).parentNode})[0];if(!e){e=this._createCell();var f=Array.prototype.some.call(this.target.querySelectorAll('dom-repeat'),function(a){return!a.restamp});f=f||'vaadin-grid-table-header-row'===this.is||'vaadin-grid-table-footer-row'===this.is,f||d.push(e)}e.index=this.index,e.target=this.target,e._isColumnRow=this._isColumnRow,e.column=a,e.expanded=this.expanded,Polymer.dom(this).appendChild(e),c.push(e)}.bind(this)),this.cells=c}},_indexChanged:function(a,b){void 0===a||void 0===b||b.forEach(function(b){b.index=a})},_itemChanged:function(a,b){void 0===a||void 0===b||b.forEach(function(b){b.item=a})},_itemChangedForDetails:function(a,b){void 0===a||void 0===b||b&&(b.item=a)},_selectedChanged:function(a,b){void 0===a||void 0===b||b.forEach(function(b){b.selected=a})},_selectedChangedForDetails:function(a,b){void 0===a||void 0===b||b&&(b.selected=a)},updateLastColumn:function(){this.cells.slice(0).sort(function(c,a){return c.column._order-a.column._order}).forEach(function(a,b,c){a.toggleAttribute('lastcolumn',b===c.length-1)})}};Polymer({is:'vaadin-grid-table-row',behaviors:[a],_createCell:function(){return document.createElement('vaadin-grid-table-cell')}}),Polymer({is:'vaadin-grid-table-header-row',behaviors:[a],observers:['_updateRowVisibility(columns)'],listeners:{"cell-empty-changed":'_updateRowVisibility'},_createCell:function(){return document.createElement('vaadin-grid-table-header-cell')}}),Polymer({is:'vaadin-grid-table-footer-row',behaviors:[a],observers:['_updateRowVisibility(columns)'],listeners:{"cell-empty-changed":'_updateRowVisibility'},_createCell:function(){return document.createElement('vaadin-grid-table-footer-cell')}})})();</script><script>window.vaadin=window.vaadin||{},vaadin.elements=vaadin.elements||{},vaadin.elements.grid=vaadin.elements.grid||{},vaadin.elements.grid.Templatizer=Polymer({is:'vaadin-grid-templatizer',behaviors:[Polymer.Templatizer],properties:{dataHost:Object,template:Object,_templateInstances:{type:Array,value:function(){return[]}},_parentPathValues:{value:function(){return{}}}},observers:['_templateInstancesChanged(_templateInstances.*, _parentPathValues.*)'],created:function(){this._parentModel=!0,this._instanceProps={expanded:!0,index:!0,item:!0,selected:!0}},createInstance:function(){this._ensureTemplatized();var a=this.stamp({});return this.addInstance(a),a},addInstance:function(a){-1===this._templateInstances.indexOf(a)&&this.push('_templateInstances',a)},removeInstance:function(a){var b=this._templateInstances.indexOf(a);this.splice('_templateInstances',b,1)},_ensureTemplatized:function(){this.template._templatized||(this.template._templatized=!0,this.templatize(this.template),this._parentProps=this._parentProps||{},!Polymer.Element&&Object.keys(this._parentProps).forEach(function(a){this._parentProps[a]},this))},_forwardInstanceProp:function(a,b,c){a['__'+b+'__']!==void 0&&a['__'+b+'__']!==c&&this.fire('template-instance-changed',{prop:b,value:c,inst:a})},_forwardInstancePath:function(a,b,c){0!==b.indexOf('item.')||this._suppressItemChangeEvent||this.fire('item-changed',{item:a.item,path:b.substring(5),value:c})},_notifyInstancePropV2:function(a,b,c){this._forwardInstanceProp(a,b,c),this._forwardInstancePath(a,b,c)},_forwardParentProp:function(a,b){this._parentPathValues[a]=b,this._templateInstances.forEach(function(c){c.set(a,b)},this)},_forwardParentPath:function(a,b){this.set(['_parentPathValues',a],b),this._templateInstances.forEach(function(c){c.notifyPath(a,b)},this)},_forwardHostPropV2:function(a,b){this._forwardParentProp(a,b),this._templateInstances&&this._templateInstances.forEach(function(c){c.notifyPath(a,b)},this)},_templateInstancesChanged:function(a){var b,c;if('_templateInstances'===a.path)b=0,c=this._templateInstances.length;else if('_templateInstances.splices'===a.path)b=a.value.index,c=a.value.addedCount;else return;Object.keys(this._parentPathValues||{}).forEach(function(a){for(var d=b;d<b+c;d++)this._templateInstances[d].set(a,this._parentPathValues[a])},this)}});</script><dom-module id="vaadin-grid-row-details-styles" assetpath="bower_components/vaadin-grid/"><template><style>[detailscell]{position:absolute;bottom:0;left:0;width:100%}</style></template></dom-module><dom-module id="vaadin-grid-row-details-themability-styles" assetpath="bower_components/vaadin-grid/"><template><style>.vaadin-grid-cell[detailscell] ::slotted(vaadin-grid-cell-content){background:#fff;@apply(--vaadin-grid-body-row-details-cell);}</style></template></dom-module><script>window.vaadin=window.vaadin||{},vaadin.elements=vaadin.elements||{},vaadin.elements.grid=vaadin.elements.grid||{},vaadin.elements.grid.RowDetailsBehavior={properties:{expandedItems:{type:Array,value:function(){return[]}}},listeners:{"template-instance-changed":'_templateInstanceChangedExpanded'},observers:['_expandedItemsChanged(expandedItems.*, dataProvider)','_rowDetailsTemplateChanged(_rowDetailsTemplate)'],_expandedItemsChanged:function(a,b){void 0===a||void 0===b||(this._flushItemsDebouncer(),this.$.scroller._physicalItems&&this.$.scroller._physicalItems.forEach(function(a){a.expanded=this._isExpanded(a.item)}.bind(this)))},_rowDetailsTemplateChanged:function(a){var b=new vaadin.elements.grid.Templatizer;b.dataHost=this.dataHost,b._instanceProps={expanded:!0,index:!0,item:!0,selected:!0},Polymer.dom(this.root).appendChild(b),b.template=a,a.templatizer=b},_isExpanded:function(a){return this.expandedItems&&-1!==this.expandedItems.indexOf(a)},expandItem:function(a){this._isExpanded(a)||this.push('expandedItems',a)},collapseItem:function(a){this._isExpanded(a)&&this.splice('expandedItems',this.expandedItems.indexOf(a),1)},_templateInstanceChangedExpanded:function(a){'expanded'===a.detail.prop&&(a.detail.value?this.expandItem(a.detail.inst.item):this.collapseItem(a.detail.inst.item),a.stopPropagation())}};</script><dom-module id="vaadin-grid-data-provider-themability-styles" assetpath="bower_components/vaadin-grid/"><template><style>@keyframes vaadin-grid-spin-360{100%{transform:rotate(360deg)}}@-webkit-keyframes vaadin-grid-spin-360{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}#spinner{border:2px solid var(--primary-color,#03a9f4);border-radius:50%;border-right-color:transparent;border-top-color:transparent;content:"";height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px;pointer-events:none;opacity:0;@apply(--vaadin-grid-loading-spinner);}:host([loading]) #spinner{opacity:1;-webkit-animation:vaadin-grid-spin-360 .4s linear infinite;animation:vaadin-grid-spin-360 .4s linear infinite}:host([loading]) #items{opacity:.5}</style></template></dom-module><script>window.vaadin=window.vaadin||{},vaadin.elements=vaadin.elements||{},vaadin.elements.grid=vaadin.elements.grid||{},vaadin.elements.grid.DataProviderBehavior={listeners:{"item-changed":'_templateItemChanged'},properties:{pageSize:{type:Number,value:50,observer:'_pageSizeChanged'},dataProvider:{type:Object,notify:!0,observer:'_dataProviderChanged'},_loading:Boolean,_cache:{type:Object,value:function(){return{}}},_pendingRequests:{type:Object,value:function(){return{}}}},_templateItemChanged:function(a){var b=a.detail.item;Array.prototype.forEach.call(Polymer.dom(this.$.items).children,function(c){c.item===b&&c.iterateCells(function(b){b._templatizer._suppressItemChangeEvent=!0,b.instance.notifyPath('item.'+a.detail.path,a.detail.value),b._templatizer._suppressItemChangeEvent=!1})})},_getCachedItem:function(a){var b=this._getPageForIndex(a),c=this._cache&&this._cache[b];return c?c[a-b*this.pageSize]:null},_getItem:function(a,b){this._updateItem(b,this._getCachedItem(a)),this._eagerlyLoadPages();var c=this._uncachedPagesForPhysicalItems();0<c.length&&(this._loading=!0,this.debounce('load',function(){c.forEach(function(a){this._loadPage(a)}.bind(this))},100))},_cachedPagesForPhysicalItems:function(){return this._pagesForPhysicalItems().filter(function(a){return this._cache!==void 0&&this._cache[a]!==void 0}.bind(this))},_uncachedPagesForPhysicalItems:function(){return this._pagesForPhysicalItems().filter(function(a){return this._cache!==void 0&&this._cache[a]===void 0}.bind(this))},_eagerlyLoadPages:function(){var a=Math.max,b=this._cachedPagesForPhysicalItems().slice(0);if(0<b.length){b.sort(function(c,a){return c>a});var c=a(0,b[0]-1),d=Math.min(b[b.length-1]+1,a(0,Math.floor(this.size/this.pageSize)-1));this._loadPage(c),this._loadPage(d)}},_pagesForPhysicalItems:function(){var a=this._getPageForIndex(this.$.scroller.firstVisibleIndex+this.$.scroller._vidxOffset);return[a].concat(this.$.scroller._physicalItems.filter(function(a){return a.index}).map(function(a){return this._getPageForIndex(a.index)}.bind(this))).reduce(function(a,b){return-1===a.indexOf(b)&&a.push(b),a},[])},_updateItems:function(a,b){for(var c=0;c<this.pageSize;c++){var d=a*this.pageSize+c,e=this.$.scroller._virtualIndexToItem[d];e&&(this._updateItem(e,b[c]),this.debounce('update-heights',function(){this.$.scroller._updateMetrics(),this.$.scroller._positionItems(),this.$.scroller._updateScrollerSize()},1))}},_loadPage:function(a,b){if(b=b||this._updateItems.bind(this),!this._cache[a]&&!this._pendingRequests[a]&&this.dataProvider){this._pendingRequests[a]=!0;var c={page:a,pageSize:this.pageSize,sortOrders:this._mapSorters(),filters:this._mapFilters()};this.dataProvider(c,function(c){this._cache[a]=c,delete this._pendingRequests[a],b(a,c),this._loading=0<this._pendingRequests.length,this.debounce('check-size',this._checkSize,2e3)}.bind(this))}},_getPageForIndex:function(a){return Math.floor(a/this.pageSize)},clearCache:function(){this._cache={},this._pendingRequests={},this.$.scroller.hasData&&this.$.scroller._update(),this._flushItemsDebouncer()},_flushItemsDebouncer:function(){this.flushDebouncer('load')},_pageSizeChanged:function(a,b){b!==void 0&&a!==b&&this.clearCache()},_checkSize:function(){this.size===void 0&&console.warn('The <vaadin-grid> needs a value for "size" property in order to display rows.')},_dataProviderChanged:function(a,b){b!==void 0&&this.clearCache(),this.$.scroller.hasData||(this._loading=!0,this._loadPage(0,function(){this.$.scroller.hasData=!0}.bind(this)))}};</script><script>window.vaadin=window.vaadin||{},vaadin.elements=vaadin.elements||{},vaadin.elements.grid=vaadin.elements.grid||{},vaadin.elements.grid.SelectionBehavior={properties:{selectedItems:{type:Object,notify:!0,value:function(){return[]}}},observers:['_selectedItemsChanged(selectedItems.*)'],listeners:{"template-instance-changed":'_templateInstanceChangedSelection'},_templateInstanceChangedSelection:function(a){if('selected'===a.detail.prop){var b=a.detail.inst.item;(this._isSelected(b)?this.deselectItem:this.selectItem).bind(this)(b),this.fire('iron-announce',{text:(this._isSelected(b)?'Selected':'Deselected')+' Row '+(a.detail.inst.index+1)+' of '+this.size}),a.stopPropagation()}},_isSelected:function(a){return this.selectedItems&&-1<this.selectedItems.indexOf(a)},selectItem:function(a){a=this._takeItem(a),this._isSelected(a)||this.push('selectedItems',a)},deselectItem:function(a){a=this._takeItem(a);var b=this.selectedItems.indexOf(a);-1<b&&this.splice('selectedItems',b,1)},_toggleItem:function(a){a=this._takeItem(a);var b=this.selectedItems.indexOf(a);-1===b?this.selectItem(a):this.deselectItem(a)},_takeItem:function(a){return'number'==typeof a&&0<=a&&this.items&&this.items.length>a?this.items[a]:a},_selectedItemsChanged:function(a){this.$.scroller._physicalItems&&('selectedItems'===a.path||'selectedItems.splices'===a.path)&&this.$.scroller._physicalItems.forEach(function(a){a.selected=this._isSelected(a.item)}.bind(this))}};</script><dom-module id="vaadin-grid-selection-themability-styles" assetpath="bower_components/vaadin-grid/"><template><style>vaadin-grid-table .vaadin-grid-row[selected] .vaadin-grid-cell:not([detailscell]) ::slotted(vaadin-grid-cell-content){background-color:var(--paper-grey-100,#f3f3f3);@apply(--vaadin-grid-body-row-selected-cell);}</style></template></dom-module><dom-module id="vaadin-grid-navigation-themability-styles" assetpath="bower_components/vaadin-grid/"><template><style>#table:focus,:host(:focus){outline:0}:host([navigating]:not([interacting])) [focused]>.vaadin-grid-row[focused]>[focused] ::slotted(vaadin-grid-cell-content){box-shadow:inset 0 0 0 3px rgba(0,0,0,.3);@apply(--vaadin-grid-focused-cell);}</style></template></dom-module><script>window.vaadin=window.vaadin||{},vaadin.elements=vaadin.elements||{},vaadin.elements.grid=vaadin.elements.grid||{},vaadin.elements.grid.TableKeyboardBehaviorImpl={hostAttributes:{role:'application',tabindex:0},keyBindings:{"ctrl+home":'_onCtrlHome',"ctrl+end":'_onCtrlEnd',down:'_onArrowDown',end:'_onEnd',enter:'_onEnter',esc:'_onEscape',f2:'_onF2',home:'_onHome',left:'_onArrowLeft',pagedown:'_onPageDown',pageup:'_onPageUp',right:'_onArrowRight',space:'_onSpace',tab:'_onTab',up:'_onArrowUp'},attached:function(){Polymer.IronA11yAnnouncer.requestAvailability()},properties:{_virtualFocus:{type:Object,observer:'_virtualFocusChanged'},interacting:{type:Boolean,reflectToAttribute:!0,value:!1},navigating:{type:Boolean,reflectToAttribute:!0,value:!1}},listeners:{focus:'_onFocus',"cell-focus":'_onCellFocus',"cell-content-focus":'_onCellContentFocus'},ready:function(){document.addEventListener('keydown',function(a){9===a.keyCode&&(this._tabbed=!0),9===a.keyCode&&a.shiftKey&&(this._shiftTabbed=!0)}.bind(this),!0),document.addEventListener('keyup',function(a){9===a.keyCode&&(this._tabbed=!1),9===a.keyCode&&a.shiftKey&&(this._shiftTabbed=!1)}.bind(this),!0)},_isFooterVisible:function(){return 0<this.$.footer._rows.filter(function(a){return!a.hidden}).length},_onFocus:function(){this._tabbed&&!this._shiftTabbed&&this._activateNavigation()},_activateNavigation:function(){this.$.footerFocusTrap.focus()},_onFocusout:function(){this.navigating=!1,this.interacting=!1},_onFooterFocus:function(){this.navigating=!0,this.interacting=!1,this._virtualFocus=this._virtualFocus||(this._shiftTabbed?this._isFooterVisible()?this.$.footer:this.$.items:this.$.header)},_virtualFocusChanged:function(a,b){b&&(b.focused=!1),a&&(a._focusedCellIndex=a._focusedCellIndex||0,a._focusedRowIndex=a._focusedRowIndex||0,a.focused=!0,a===this.$.items&&this._ensureVirtualFocusInViewport())},_onTab:function(a){if(!this.interacting&&this._virtualFocus)if(!this.navigating)this._activateNavigation(),a.preventDefault();else if(a.detail.keyboardEvent.shiftKey)switch(this._virtualFocus){case this.$.footer:this._virtualFocus=this.$.items,a.preventDefault();break;case this.$.items:this._virtualFocus=this.$.header,a.preventDefault();break;case this.$.header:this.focus(),this._virtualFocus=null;}else switch(this._virtualFocus){case this.$.header:this._virtualFocus=this.$.items,a.preventDefault();break;case this.$.items:this._isFooterVisible()?(this._virtualFocus=this.$.footer,a.preventDefault()):this.async(function(){this._virtualFocus=null},1);break;case this.$.footer:this._virtualFocus=null;}},_isAboveViewport:function(a){return this.firstVisibleIndex>a},_onArrowDown:function(a){this.interacting||(a.preventDefault(),this.navigating=!0,this._virtualFocus.focusDown(),this._ensureVirtualFocusInViewport())},_scrollPageDown:function(){var a=this.$.header.getBoundingClientRect(),b=this.$.footer.getBoundingClientRect();this.$.scroller.$.table.scrollTop+=b.top-a.bottom,this.$.scroller._scrollHandler()},_onPageDown:function(a){if(!this.interacting)if(a.preventDefault(),this.navigating=!0,this._virtualFocus===this.$.items){var b=this.$.scroller.lastVisibleIndex;this._scrollPageDown(),this._virtualFocus._focusedRowIndex+=this.$.scroller.lastVisibleIndex-b||this.$.scroller.lastVisibleIndex-this._virtualFocus._focusedRowIndex,this._ensureVirtualFocusInViewport()}else this._virtualFocus.focusPageDown()},_scrollPageUp:function(){var a=this.$.header.getBoundingClientRect(),b=this.$.footer.getBoundingClientRect();this.$.scroller.$.table.scrollTop-=b.top-a.bottom,this.$.scroller._scrollHandler()},_onPageUp:function(a){if(!this.interacting)if(a.preventDefault(),this.navigating=!0,this._virtualFocus===this.$.items){var b=this.$.scroller.lastVisibleIndex;this._scrollPageUp(),this._virtualFocus._focusedRowIndex-=b-this.$.scroller.lastVisibleIndex||this._virtualFocus._focusedRowIndex,this._ensureVirtualFocusInViewport()}else this._virtualFocus.focusPageUp()},_onArrowUp:function(a){this.interacting||(a.preventDefault(),this.navigating=!0,this._virtualFocus.focusUp(),this._ensureVirtualFocusInViewport())},_onArrowRight:function(a){this.interacting||(a.preventDefault(),this.navigating=!0,this._virtualFocus.focusRight(),this._ensureVirtualFocusInViewport())},_onArrowLeft:function(a){this.interacting||(a.preventDefault(),this.navigating=!0,this._virtualFocus.focusLeft(),this._ensureVirtualFocusInViewport())},_onHome:function(a){this.interacting||(a.preventDefault(),this.navigating=!0,this._virtualFocus.focusHome(),this._ensureVirtualFocusInViewport())},_onEnd:function(a){this.interacting||(a.preventDefault(),this.navigating=!0,this._virtualFocus.focusEnd(),this._ensureVirtualFocusInViewport())},_moveFocusToFocusTarget:function(){var a=this._virtualFocus._focusedCell._cellContent,b=a.querySelector('[focus-target]')||a.firstElementChild;b&&b.focus()},_onEnter:function(a){this.interacting?'input'===a.detail.keyboardEvent.target.localName&&'text'===a.detail.keyboardEvent.target.type&&this.$.footerFocusTrap.focus():(a.preventDefault(),this._moveFocusToFocusTarget())},_onEscape:function(){this.interacting?this.$.footerFocusTrap.focus():this.navigating&&(this.navigating=!1)},_onF2:function(a){a.preventDefault(),this.interacting?this.$.footerFocusTrap.focus():this._moveFocusToFocusTarget()},_onCtrlHome:function(a){this.interacting||(a.preventDefault(),this.navigating=!0,this._virtualFocus.focusFirst(),this._ensureVirtualFocusInViewport())},_onCtrlEnd:function(a){this.interacting||(a.preventDefault(),this.navigating=!0,this._virtualFocus.focusLast(),this._ensureVirtualFocusInViewport())},_onSpace:function(a){if(!this.interacting){a.preventDefault();var b=this._virtualFocus._focusedCell,c=b.getContentChildren(Polymer.Element?'slot':'content')[0].firstElementChild;c?c.click():this.navigating&&this.fire('cell-activate',{model:b.instance})}},_onCellContentFocus:function(a){this.interacting=!0,this._onCellFocus(a)},_onCellFocus:function(a){var b=a.detail.cell,c=b.parentElement,d=c.parentElement,e=Array.prototype.indexOf.call(Polymer.dom(d).children,c);d===this.$.items&&(e=c.index),d._focusedRowIndex=e,d._focusedCellIndex=Array.prototype.indexOf.call(Polymer.dom(c).children,b),this._virtualFocus=d,b.hasAttribute('detailscell')&&(d._focusedCellIndex=0,d._moveFocusToDetailsCell())},_ensureVirtualFocusInViewport:function(){var a=this.$.scroller._vidxOffset+this.$.scroller._virtualStart,b=this._virtualFocus._focusedRowIndex;this._virtualFocus===this.$.items&&(b<a||b>a+this.$.scroller._physicalCount)&&(this.$.scroller.scrollToScaledIndex(b),this._virtualFocus._focusedCellChanged(b,this._virtualFocus._focusedCellIndex)),this._ensureElementInViewport(this._virtualFocus._focusedCell)},_ensureElementInViewport:function(a){var b=a.getBoundingClientRect();if(this._virtualFocus===this.$.items){var c=this.$.footer.getBoundingClientRect().top,d=this.$.header.getBoundingClientRect().bottom;b.bottom>c?this.$.scroller.$.table.scrollTop+=b.bottom-c:b.top<d&&(this.$.scroller.$.table.scrollTop+=b.top-d)}if(!a.hasAttribute('detailscell')){var e=this.$.scroller.$.table.getBoundingClientRect().right,f=this.$.scroller.$.table.getBoundingClientRect().left,g=this._virtualFocus._focusedRow.querySelector('[last-frozen]');g&&(f=g.getBoundingClientRect().right),b.right>e?this.$.scroller.$.table.scrollLeft+=b.right-e:b.left<f&&(this.$.scroller.$.table.scrollLeft+=b.left-f)}}},vaadin.elements.grid.TableKeyboardBehavior=[vaadin.elements.grid.TableKeyboardBehaviorImpl,Polymer.IronA11yKeysBehavior];</script><dom-module id="vaadin-grid-column-reordering-themability-styles" assetpath="bower_components/vaadin-grid/"><template><style>vaadin-grid-table[reordering] .vaadin-grid-cell{background:#000}:host([reordering]) .vaadin-grid-cell[reorder-status=dragging]{background:var(--primary-color,#000)}vaadin-grid-table[reordering] .vaadin-grid-cell:not([detailscell]) ::slotted(vaadin-grid-cell-content){transition:opacity .3s;transform:translateZ(0);opacity:.8}#scroller .vaadin-grid-cell[reorder-status=allowed] ::slotted(vaadin-grid-cell-content){opacity:1}#scroller .vaadin-grid-cell[reorder-status=dragging]{background:var(--primary-color,#000)}#scroller .vaadin-grid-cell[reorder-status=dragging] ::slotted(vaadin-grid-cell-content){opacity:.95}</style></template></dom-module><script>window.vaadin=window.vaadin||{},vaadin.elements=vaadin.elements||{},vaadin.elements.grid=vaadin.elements.grid||{},vaadin.elements.grid.ColumnReorderingBehavior={properties:{columnReorderingAllowed:{type:Boolean,value:!1}}},vaadin.elements.grid.TableColumnReorderingBehavior={properties:{_orderBaseScope:{type:Number,value:1e7}},listeners:{dragstart:'_onDragStart',dragover:'_onDragOver',dragend:'_onDragEnd'},observers:['_updateOrders(columnTree, columnTree.*)'],_updateOrders:function(a,b){void 0===a||void 0===b||a[0].forEach(function(a,b){a._order=(b+1)*this._orderBaseScope},this)},_onDragStart:function(a){if('vaadin-grid-cell-content'===a.target.localName){var b=this._getCellByCellContent(a.target);b&&(this.toggleAttribute('reordering',!0),this._draggedColumn=b.column,this._setSiblingsReorderStatus(this._draggedColumn,'allowed'),this._draggedColumn._reorderStatus='dragging',a.dataTransfer&&(a.dataTransfer.setData('text',''),a.dataTransfer.effectAllowed='move'),this._autoScroller())}},_setSiblingsReorderStatus:function(a,b){Array.prototype.filter.call(Polymer.dom(Polymer.dom(a).parentNode).children,function(b){return /column/.test(b.localName)&&this._isSwapAllowed(b,a)},this).forEach(function(a){a._reorderStatus=b})},_onDragOver:function(a){if(this._draggedColumn){var b=Polymer.Element?a.composedPath():Polymer.dom(a).path,c=b.filter(function(a){return'vaadin-grid-cell-content'===a.localName})[0];if(c){a.preventDefault();var d=this._getCellByCellContent(c),e=this._getTargetColumn(d,this._draggedColumn);e&&this._isSwapAllowed(this._draggedColumn,e)&&this._isSwappableByPosition(e,a.clientX)&&this._swapColumnOrders(this._draggedColumn,e),this._lastDragClientX=a.clientX}}},_autoScroller:function(){if(this._lastDragClientX){var a=this._lastDragClientX-this.getBoundingClientRect().right+50,b=this.getBoundingClientRect().left-this._lastDragClientX+50;0<a?this.$.table.scrollLeft+=a/10:0<b&&(this.$.table.scrollLeft-=b/10),this._scrollHandler()}this._draggedColumn&&this.async(this._autoScroller,10)},_onDragEnd:function(){this._draggedColumn&&(this.toggleAttribute('reordering',!1),this._draggedColumn._reorderStatus='',this._setSiblingsReorderStatus(this._draggedColumn,''),this._draggedColumn=null,this._lastDragClientX=null)},_isSwapAllowed:function(a,b){if(a&&b){var c=a.parentElement===b.parentElement,d=a.frozen===b.frozen;return a!==b&&c&&d}},_isSwappableByPosition:function(a,b){var c=Array.prototype.filter.call(Polymer.dom(this.$.header).querySelectorAll('.vaadin-grid-cell'),function(b){return b.column===a})[0],d=this.$.header.querySelector('[reorder-status=dragging]').getBoundingClientRect();return c.getBoundingClientRect().left>d.left?b>c.getBoundingClientRect().right-d.width:b<c.getBoundingClientRect().left+d.width},_getCellByCellContent:function(a){if(Polymer.Element)return a.assignedSlot.parentNode;var b=Polymer.dom(a).getDestinationInsertionPoints()[0];return Polymer.dom(b).parentNode},_swapColumnOrders:function(a,b){var c=a._order;a._order=b._order,b._order=c,this._updateLastFrozen(),this._updateLastColumn()},_getTargetColumn:function(a,b){if(a&&b){for(var c=a.column;c.parentElement!==b.parentElement&&c!==this.target;)c=c.parentElement;return c.parentElement===b.parentElement?c:a.column}}};</script><script>window.vaadin=window.vaadin||{},vaadin.elements=vaadin.elements||{},vaadin.elements.grid=vaadin.elements.grid||{},vaadin.elements.grid.IronListBehaviorImpl=function(){var a=Math.abs,b=Math.round,c=Math.ceil,d=Math.floor,e=Math.min,f=Math.max,g=navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/),h=g&&8<=g[1];return{is:'iron-list',properties:{maxPhysicalCount:{type:Number,value:500},as:{type:String,value:'item'},indexAs:{type:String,value:'index'}},_ratio:0.5,_scrollerPaddingTop:0,_scrollPosition:0,_physicalSize:0,_physicalAverage:0,_physicalAverageCount:0,_physicalTop:0,_virtualCount:0,_physicalIndexForKey:null,_estScrollHeight:0,_scrollHeight:0,_viewportHeight:0,_viewportWidth:0,_physicalItems:null,_physicalSizes:null,_firstVisibleIndexVal:null,_lastVisibleIndexVal:null,_collection:null,_itemsRendered:!1,_lastPage:null,_maxPages:3,_itemsPerRow:1,_itemWidth:0,_rowHeight:0,get _physicalBottom(){return this._physicalTop+this._physicalSize},get _scrollBottom(){return this._scrollPosition+this._viewportHeight},get _virtualEnd(){return this._virtualStart+this._physicalCount-1},get _hiddenContentSize(){return this._physicalSize-this._viewportHeight},get _maxScrollTop(){return this._estScrollHeight-this._viewportHeight+this._scrollerPaddingTop},_minVirtualStart:0,get _maxVirtualStart(){return f(0,this._virtualCount-this._physicalCount)},_virtualStartVal:0,set _virtualStart(a){this._virtualStartVal=e(this._maxVirtualStart,f(this._minVirtualStart,a))},get _virtualStart(){return this._virtualStartVal||0},_physicalStartVal:0,set _physicalStart(a){this._physicalStartVal=a%this._physicalCount,0>this._physicalStartVal&&(this._physicalStartVal=this._physicalCount+this._physicalStartVal),this._physicalEnd=(this._physicalStart+this._physicalCount-1)%this._physicalCount},get _physicalStart(){return this._physicalStartVal||0},_physicalCountVal:0,set _physicalCount(a){this._physicalCountVal=a,this._physicalEnd=(this._physicalStart+this._physicalCount-1)%this._physicalCount},get _physicalCount(){return this._physicalCountVal},_physicalEnd:0,get _optPhysicalSize(){return this._viewportHeight*this._maxPages},get _optPhysicalCount(){return this._estRowsInView*this._itemsPerRow*this._maxPages},get _isVisible(){return this.scrollTarget&&!!(this.scrollTarget.offsetWidth||this.scrollTarget.offsetHeight)},get firstVisibleIndex(){if(null===this._firstVisibleIndexVal){var a=d(this._physicalTop+this._scrollerPaddingTop);this._firstVisibleIndexVal=this._iterateItems(function(b,c){if(a+=this._getPhysicalSizeIncrement(b),a>this._scrollPosition)return c})||0}return this._firstVisibleIndexVal},get lastVisibleIndex(){if(null===this._lastVisibleIndexVal){var a=this._physicalTop;this._iterateItems(function(b,c){if(a<this._scrollBottom)this._lastVisibleIndexVal=c;else return!0;a+=this._getPhysicalSizeIncrement(b)})}return this._lastVisibleIndexVal},get _defaultScrollTarget(){return this},get _virtualRowCount(){return c(this._virtualCount/this._itemsPerRow)},get _estRowsInView(){return c(this._viewportHeight/this._rowHeight)},get _physicalRows(){return c(this._physicalCount/this._itemsPerRow)},attached:function(){this.updateViewportBoundaries(),this._render(),this.listen(this,'iron-resize','_resizeHandler')},detached:function(){this._itemsRendered=!1,this.unlisten(this,'iron-resize','_resizeHandler')},updateViewportBoundaries:function(){this._scrollerPaddingTop=this.scrollTarget===this?0:parseInt(window.getComputedStyle(this)['padding-top']||0,10),this._viewportHeight=this._scrollTargetHeight},_update:function(a,b){if(this._assignModels(a),this._updateMetrics(a),b)for(;b.length;){var c=b.pop();this._physicalTop-=this._getPhysicalSizeIncrement(c)}this._positionItems(),this._updateScrollerSize(),this._increasePoolIfNeeded()},_increasePoolIfNeeded:function(){if(0===this._viewportHeight)return!1;var a=this._physicalSizes.reduce(function(a,b){return a+(b||100)},0),e=a>this._viewportHeight;if(a>=this._optPhysicalSize&&e)return!1;var f=d(this._physicalSize/this._viewportHeight);if(0===f)this._debounceTemplate(this._increasePool.bind(this,b(0.5*this._physicalCount)));else if(this._lastPage!==f&&e)Polymer.dom.addDebouncer(this.debounce('_debounceTemplate',this._increasePool.bind(this,this._itemsPerRow),16));else{var g=this._physicalSize/this._physicalCount,h=this._viewportHeight/g,i=this._maxPages*h,j=c(i-this._physicalCount);this._debounceTemplate(this._increasePool.bind(this,j||1))}return this._lastPage=f,!0},_debounceTemplate:function(a){Polymer.dom.addDebouncer(this.debounce('_debounceTemplate',a))},_increasePool:function(a){var b=e(this._physicalCount+a,this._virtualCount-this._virtualStart,f(this.maxPhysicalCount,25)),c=this._physicalCount,d=b-c;0>=d||([].push.apply(this._physicalItems,this._createPool(d)),[].push.apply(this._physicalSizes,Array(d)),this._physicalCount=c+d,this._update())},_render:function(){var a=0<this._virtualCount||0<this._physicalCount;this.isAttached&&!this._itemsRendered&&this._isVisible&&a&&(this._lastPage=0,this._update(),this._itemsRendered=!0)},_iterateItems:function(a,b){var c,d,e,f;if(2===arguments.length&&b){for(f=0;f<b.length;f++)if(c=b[f],d=this._computeVidx(c),null!=(e=a.call(this,c,d)))return e;}else{for(c=this._physicalStart,d=this._virtualStart;c<this._physicalCount;c++,d++)if(null!=(e=a.call(this,c,d)))return e;for(c=0;c<this._physicalStart;c++,d++)if(null!=(e=a.call(this,c,d)))return e}},_computeVidx:function(a){return a>=this._physicalStart?this._virtualStart+(a-this._physicalStart):this._virtualStart+(this._physicalCount-this._physicalStart)+a},_updateMetrics:function(a){this.scrolling&&Polymer.dom.flush();var c=0,d=0,e=this._physicalAverageCount,f=this._physicalAverage;this._iterateItems(function(a){d+=this._physicalSizes[a]||0,this._physicalSizes[a]=this._physicalItems[a].offsetHeight,c+=this._physicalSizes[a],this._physicalAverageCount+=this._physicalSizes[a]?1:0},a),this._viewportHeight=this._scrollTargetHeight,this._physicalSize=this._physicalSize+c-d,this._physicalAverageCount!==e&&(this._physicalAverage=b((f*e+c)/this._physicalAverageCount))},_positionItems:function(){this._adjustScrollPosition();var a=this._physicalTop;this._iterateItems(function(b){this._physicalItems[b].style.transform=this._getTranslate(0,a),a+=this._physicalSizes[b]})},_getPhysicalSizeIncrement:function(a){return this._physicalSizes[a]},_shouldRenderNextRow:function(a){return a%this._itemsPerRow==this._itemsPerRow-1},_adjustScrollPosition:function(){var a=0===this._virtualStart?this._physicalTop:e(this._scrollPosition+this._physicalTop,0);a&&(this._physicalTop-=a,!h&&0!==this._physicalTop&&this._resetScrollPosition(this._scrollTop-a))},_resetScrollPosition:function(a){this.scrollTarget&&(this._scrollTop=a,this._scrollPosition=this._scrollTop)},_updateScrollerSize:function(b){this._estScrollHeight=this._physicalBottom+f(this._virtualCount-this._physicalCount-this._virtualStart,0)*this._physicalAverage,b=b||0===this._scrollHeight,b=b||this._scrollPosition>=this._estScrollHeight-this._physicalSize,(b||a(this._estScrollHeight-this._scrollHeight)>=this._optPhysicalSize)&&(this.$.items.style.height=this._estScrollHeight+'px',this._scrollHeight=this._estScrollHeight)},scrollToIndex:function(a){Polymer.dom.flush(),a=e(f(a,0),this._virtualCount-1),(!this._isIndexRendered(a)||a>=this._maxVirtualStart)&&(this._virtualStart=a-1),this._assignModels(),this._updateMetrics();var b=d(this._virtualStart/this._itemsPerRow)*this._physicalAverage;this._physicalTop=b;for(var c=this._physicalStart,g=this._virtualStart,h=0,i=this._hiddenContentSize;g<a&&h<=i;)h+=this._getPhysicalSizeIncrement(c),c=(c+1)%this._physicalCount,g++;this._updateScrollerSize(!0),this._positionItems(),this._resetScrollPosition(this._physicalTop+this._scrollerPaddingTop+h),this._increasePoolIfNeeded(),this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null},_resetAverage:function(){this._physicalAverage=0,this._physicalAverageCount=0},_resizeHandler:function(){g&&100>a(this._viewportHeight-this._scrollTargetHeight),Polymer.dom.addDebouncer(this.debounce('_debounceTemplate',function(){this.updateViewportBoundaries(),this._render(),this._itemsRendered&&this._physicalItems&&this._isVisible&&(this._resetAverage(),this.scrollToIndex(this.firstVisibleIndex))}.bind(this),1))},updateSizeForItem:function(a){var b=this._physicalIndexForKey[a];null!=b&&(this._updateMetrics([b]),this._positionItems())},_isIndexRendered:function(a){return a>=this._virtualStart&&a<=this._virtualEnd},_isIndexVisible:function(a){return a>=this.firstVisibleIndex&&a<=this.lastVisibleIndex}}}(),vaadin.elements.grid.IronListBehavior=[Polymer.Templatizer,Polymer.IronScrollTargetBehavior,vaadin.elements.grid.IronListBehaviorImpl];</script><dom-module id="vaadin-grid-table-styles" assetpath="bower_components/vaadin-grid/"><template><style>@keyframes appear{to{opacity:1}}vaadin-grid-table{display:block;position:relative;animation:1ms appear}@media only screen and (-webkit-max-device-pixel-ratio:1){:host{will-change:transform}}#items{position:relative}#items{border-top:0 solid transparent;border-bottom:0 solid transparent}#items>.vaadin-grid-row{box-sizing:border-box;margin:0;position:absolute}vaadin-grid-table-body{display:block}vaadin-grid-table-footer .vaadin-grid-cell,vaadin-grid-table-header .vaadin-grid-cell{top:0}.vaadin-grid-cell{padding:0;flex-shrink:0;flex-grow:1;box-sizing:border-box;display:flex}.vaadin-grid-cell:not([detailscell]){position:relative}.vaadin-grid-cell ::slotted(vaadin-grid-cell-content){width:100%;display:inline-flex;justify-content:center;flex-direction:column;white-space:nowrap;overflow:hidden}.vaadin-grid-column-resize-handle{position:absolute;right:0;height:100%;cursor:col-resize;z-index:1}.vaadin-grid-column-resize-handle::before{position:absolute;content:"";height:100%;width:35px;transform:translateX(-50%)}[last-frozen] .vaadin-grid-column-resize-handle::before,[lastcolumn] .vaadin-grid-column-resize-handle::before{width:18px;transform:translateX(-100%)}vaadin-grid-table[column-reordering-allowed] #header,vaadin-grid-table[column-resizing]{-ms-user-select:none;-moz-user-select:none;-webkit-user-select:none;user-select:none}vaadin-grid-table[column-resizing]{cursor:col-resize}.vaadin-grid-row:not([hidden]){display:flex;width:100%}[frozen]{z-index:2}[hidden]{display:none}vaadin-grid-table[no-content-pointer-events] .vaadin-grid-cell ::slotted(vaadin-grid-cell-content){pointer-events:none}</style></template></dom-module><dom-module id="vaadin-grid-table-table-styles" assetpath="bower_components/vaadin-grid/"><template><style>:host([ios][column-resizing]) #outerscroller{overflow:hidden}#fixedsizer,#outersizer{border-top:0 solid transparent;border-bottom:0 solid transparent}#table{height:100%;width:100%;display:block;overflow:auto;box-sizing:border-box}#outerscroller[overflow-hidden],#table[overflow-hidden]{overflow:hidden}vaadin-grid-sizer{position:relative;width:100%}#sizerwrapper{position:absolute;width:100%;z-index:-100}#reorderghost{visibility:hidden;position:fixed;opacity:.5;pointer-events:none}::slotted(vaadin-grid-column),::slotted(vaadin-grid-column-group),::slotted(vaadin-grid-selection-column){display:none}</style></template></dom-module><dom-module id="vaadin-grid-table-themability-styles" assetpath="bower_components/vaadin-grid/"><template><style>vaadin-grid-table-header .vaadin-grid-row:last-child .vaadin-grid-cell ::slotted(vaadin-grid-cell-content){border-bottom:1px solid var(--divider-color,rgba(0,0,0,.08))}vaadin-grid-table-footer .vaadin-grid-row:first-child .vaadin-grid-cell ::slotted(vaadin-grid-cell-content){border-top:1px solid var(--divider-color,rgba(0,0,0,.08))}vaadin-grid-table-body .vaadin-grid-row:not([lastrow]) .vaadin-grid-cell ::slotted(vaadin-grid-cell-content){border-bottom:1px solid var(--divider-color,rgba(0,0,0,.08))}[last-frozen] ::slotted(vaadin-grid-cell-content){border-right:1px solid var(--divider-color,rgba(0,0,0,.08))}.vaadin-grid-column-resize-handle{border-right:1px solid var(--divider-color,rgba(0,0,0,.08));@apply(--vaadin-grid-column-resize-handle);}vaadin-grid-table .vaadin-grid-row .vaadin-grid-cell:not([detailscell]) ::slotted(vaadin-grid-cell-content){background:#fff;text-align:left;padding:8px;box-sizing:border-box;@apply(--vaadin-grid-cell);}vaadin-grid-table-header .vaadin-grid-row .vaadin-grid-cell:not([detailscell]) ::slotted(vaadin-grid-cell-content){font-weight:500;@apply(--vaadin-grid-header-cell);}vaadin-grid-table-footer .vaadin-grid-row .vaadin-grid-cell:not([detailscell]) ::slotted(vaadin-grid-cell-content){font-weight:500;@apply(--vaadin-grid-footer-cell);}vaadin-grid-table-body .vaadin-grid-row .vaadin-grid-cell:not([detailscell]) ::slotted(vaadin-grid-cell-content){@apply(--vaadin-grid-body-cell);}vaadin-grid-table-body [odd] .vaadin-grid-cell:not([detailscell]) ::slotted(vaadin-grid-cell-content){@apply(--vaadin-grid-body-row-odd-cell);}vaadin-grid-table .vaadin-grid-row .vaadin-grid-cell:not([detailscell])[last-frozen] ::slotted(vaadin-grid-cell-content){@apply(--vaadin-grid-cell-last-frozen);}vaadin-grid-table:not([scrolling]) vaadin-grid-table-body .vaadin-grid-row:hover .vaadin-grid-cell ::slotted(vaadin-grid-cell-content){@apply(--vaadin-grid-body-row-hover-cell);}vaadin-grid-table .vaadin-grid-row .vaadin-grid-cell.vaadin-grid-cell[lastcolumn] ::slotted(vaadin-grid-cell-content){border-right:none}</style></template></dom-module><dom-module id="vaadin-grid-table" assetpath="bower_components/vaadin-grid/"><template><style include="vaadin-grid-table-table-scroll-styles"></style><style include="vaadin-grid-table-table-styles"></style><style include="vaadin-grid-data-provider-themability-styles"></style><div id="spinner"></div><div id="table" tabindex="-1" overflow-hidden$="[[_hideTableOverflow(scrollbarWidth, safari)]]"><div id="sizerwrapper"><vaadin-grid-sizer id="fixedsizer" top="[[_estScrollHeight]]" column-tree="[[columnTree]]"></vaadin-grid-sizer></div><slot name="header"></slot><slot name="items"></slot><slot name="footer"></slot></div><div id="reorderghost"></div><vaadin-grid-table-outer-scroller id="outerscroller" scroll-target="[[scrollTarget]]" overflow-hidden$="[[_hideOuterScroller(scrollbarWidth, safari)]]" ios$="[[ios]]" scrolling$="[[scrolling]]"><vaadin-grid-sizer id="outersizer" top="[[_estScrollHeight]]" column-tree="[[columnTree]]"></vaadin-grid-sizer></vaadin-grid-table-outer-scroller><slot></slot><slot name="footerFocusTrap"></slot></template></dom-module><script>Polymer({is:'vaadin-grid-table',behaviors:[vaadin.elements.grid.IronListBehavior,vaadin.elements.grid.TableScrollBehavior,vaadin.elements.grid.TableColumnReorderingBehavior,Polymer.Templatizer],properties:{size:Number,columnTree:Array,bindData:Function,rowDetailsTemplate:Object,columnReorderingAllowed:{type:Boolean,reflectToAttribute:!0},safari:{type:Boolean,value:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},scrollbarWidth:{type:Number,value:function(){var a=document.createElement('div');a.style.width='100px',a.style.height='100px',a.style.overflow='scroll',a.style.position='absolute',a.style.top='-9999px',document.body.appendChild(a);var b=a.offsetWidth-a.clientWidth;return document.body.removeChild(a),b}},target:Object,hasData:Boolean},observers:['_columnTreeChanged(columnTree, _physicalItems, _physicalCountVal)','_sizeChanged(size, bindData, hasData)','_rowDetailsTemplateChanged(rowDetailsTemplate, _physicalItems, _physicalCountVal)'],listeners:{"property-changed":'_columnPropChanged',animationend:'_onAnimationEnd',"column-resizing":'_onColumnResize'},ready:function(){this.$=this.$||{},this.$.header=this.domHost.$.header,this.$.items=this.domHost.$.items,this.$.footer=this.domHost.$.footer},_onColumnResize:function(){this.toggleAttribute('column-resizing',this.$.header.querySelector('[column-resizing]')),this._gridResizeHandler()},_onAnimationEnd:function(a){/appear/.test(a.animationName)&&(this._render(),this._updateHeaderFooterMetrics(),a.stopPropagation())},_columnPropChanged:function(a){'headerTemplate'===a.detail.path&&this.toggleAttribute('has-templates',!0,this.$.header),'footerTemplate'===a.detail.path&&this.toggleAttribute('has-templates',!0,this.$.footer),/frozen|hidden/.test(a.detail.path)&&this._frozenCellsChanged(),'hidden'===a.detail.path&&this._gridResizeHandler()},_hideOuterScroller:function(a,b){return 0===a&&!b},_hideTableOverflow:function(a,b){return 0===a&&b},_rowDetailsTemplateChanged:function(a,b,c){void 0!==a&&b&&void 0!==c&&Array.prototype.forEach.call(b,function(b){b.rowDetailsTemplate=a})},_columnTreeChanged:function(a,b,c){void 0!==a&&b&&void 0!==c&&(Polymer.RenderStatus.afterNextRender(this,this._update),this._frozenCellsChanged(),this._hasTemplatesChanged(a),Array.prototype.forEach.call(b,function(b){b.columns=a[a.length-1]}),this._gridResizeHandler(),Polymer.dom.flush(this),this._updateLastColumn())},_updateLastColumn:function(){Array.prototype.forEach.call(Polymer.dom(this.domHost.root).querySelectorAll('.vaadin-grid-row'),function(a){a.updateLastColumn()})},_updateHeaderFooterMetrics:function(){this._physicalSizes&&Polymer.dom.flush(),this._updateHeaderFooterMetricsSync(),Polymer.RenderStatus.afterNextRender(this.$.header,function(){this._updateHeaderFooterMetricsSync(),this._pendingScrollToScaledIndex&&this.scrollToScaledIndex(this._pendingScrollToScaledIndex)}.bind(this))},_updateHeaderFooterMetricsSync:function(){var a=this.$.header.clientHeight+'px',b=this.$.footer.clientHeight+'px';[this.$.outersizer,this.$.fixedsizer,this.$.items].forEach(function(c){c.style.borderTopWidth=a,c.style.borderBottomWidth=b})},_hasTemplatesChanged:function(a){var b=!1,c=!1;a.forEach(function(a){return a.forEach(function(a){b=b||a.headerTemplate,c=c||a.footerTemplate})}),this.toggleAttribute('has-templates',b,this.$.header),this.toggleAttribute('has-templates',c,this.$.footer)},_createPool:function(a){for(var b,c=Array(a),d=0;d<a;d++)b=document.createElement('vaadin-grid-table-row'),b.target=this.domHost,c[d]=b,b.setAttribute('hidden',''),Polymer.dom(this.$.items).appendChild(b);return c},_sizeChanged:function(a,b,c){var d=Math.min;if(void 0!==a&&void 0!==b&&void 0!==c){var e=this._scrollTop,f=this.firstVisibleIndex+this._vidxOffset;if(this._virtualCount=d(a,1e5),this._physicalIndexForKey={},this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,this._vidxOffset=0,!this._physicalItems){this._physicalCount=Math.max(1,d(25,this._virtualCount)),this._physicalItems=this._createPool(this._physicalCount),this._physicalSizes=Array(this._physicalCount)}this._itemsRendered=!1,this._debounceTemplate(function(){this._render(),this._viewportHeight&&(this.scrollToScaledIndex(d(f,this.size)),this._scrollTop=e,this._scrollHandler(),this.flushDebouncer('vaadin-grid-scrolling'))})}},_assignModels:function(a){this._virtualIndexToItem=this._virtualIndexToItem||{},this._iterateItems(function(a,b){var c=this._physicalItems[a];c.index&&delete this._virtualIndexToItem[c.index],c.index=b+this._vidxOffset,this._virtualIndexToItem[c.index]=c,c.toggleAttribute('odd',c.index%2),c.toggleAttribute('lastrow',c.index===this.size-1),c.toggleAttribute('hidden',c.index>=this.size),this.bindData(c.index,c)},a)},_gridResizeHandler:function(){this._updateHeaderFooterMetrics(),this._physicalSizes&&(this._physicalItems.forEach(function(a){a.updateRowDetailsCellMetrics()}),this.debounce('vaadin-grid-resizing',function(){this._update()}.bind(this),1))}});</script><script>window.vaadin=window.vaadin||{},vaadin.elements=vaadin.elements||{},vaadin.elements.grid=vaadin.elements.grid||{},vaadin.elements.grid.ColumnBaseBehavior={properties:{resizable:{type:Boolean,value:function(){if('vaadin-grid-column-group'!==this.localName){var a=Polymer.dom(this).parentNode;return a&&'vaadin-grid-column-group'===a.localName&&(a.resizable||!1)}}},headerTemplate:{type:Object},footerTemplate:{type:Object},frozen:{type:Boolean,notify:!0,value:!1},hidden:{type:Boolean,notify:!0},_lastFrozen:{type:Boolean,notify:!0,value:!1},_order:Number,_reorderStatus:Boolean},observers:['_footerTemplateChanged(footerTemplate)','_headerTemplateChanged(headerTemplate)','_lastFrozenChanged(_lastFrozen)'],created:function(){var a=function(a){0<=a.addedNodes.length&&(this.headerTemplate=this._prepareHeaderTemplate(),this.footerTemplate=this._prepareFooterTemplate(),this.template=this._prepareBodyTemplate())};this._templateObserver=Polymer.Element?new Polymer.FlattenedNodesObserver(this,a):Polymer.dom(this).observeNodes(a)},_prepareHeaderTemplate:function(){return this._prepareTemplatizer(this._findTemplate('template.header')||null,{})},_prepareFooterTemplate:function(){return this._prepareTemplatizer(this._findTemplate('template.footer')||null,{})},_prepareBodyTemplate:function(){return this._prepareTemplatizer(this._findTemplate('template:not(.header):not(.footer)',{}))},_prepareTemplatizer:function(a,b){if(a&&!a.templatizer){var c=new vaadin.elements.grid.Templatizer;c.dataHost=this.dataHost,c._instanceProps=b||c._instanceProps,c.template=a,a.templatizer=c}return a},_selectFirstTemplate:function(a){return Array.prototype.filter.call(Polymer.dom(this).querySelectorAll(a),function(a){return Polymer.dom(a).parentNode===this}.bind(this))[0]},_findTemplate:function(a){var b=this._selectFirstTemplate(a);return b&&this.dataHost&&(b._rootDataHost=this.dataHost._rootDataHost||this.dataHost),b},_headerTemplateChanged:function(a){this.fire('property-changed',{path:'headerTemplate',value:a})},_footerTemplateChanged:function(a){this.fire('property-changed',{path:'footerTemplate',value:a})},_flexGrowChanged:function(a){this.fire('property-changed',{path:'flexGrow',value:a})},_widthChanged:function(a){this.fire('property-changed',{path:'width',value:a})},_lastFrozenChanged:function(a){this.fire('property-changed',{path:'lastFrozen',value:a})}},vaadin.elements.grid.ColumnBehaviorImpl={properties:{width:{type:String,value:'100px'},flexGrow:{type:Number,value:1},template:{type:Object}},observers:['_flexGrowChanged(flexGrow)','_widthChanged(width)','_templateChanged(template)','_frozenChanged(frozen, isAttached)','_hiddenChanged(hidden)','_orderChanged(_order)','_reorderStatusChanged(_reorderStatus)','_resizableChanged(resizable)'],_frozenChanged:function(a,b){void 0===a||void 0===b||((this._oldFrozen!==void 0||!1!==a)&&this.fire('property-changed',{path:'frozen',value:a}),this._oldFrozen=a)},_templateChanged:function(a){a&&a.templatizer&&Polymer.dom(this.root).appendChild(a.templatizer),this.fire('property-changed',{path:'template',value:a},{bubbles:!1})},_hiddenChanged:function(a){this.fire('property-changed',{path:'hidden',value:a})},_orderChanged:function(a){this.fire('property-changed',{path:'order',value:a})},_reorderStatusChanged:function(a){this.fire('property-changed',{path:'reorderStatus',value:a})},_resizableChanged:function(a){this.fire('property-changed',{path:'resizable',value:a})}},vaadin.elements.grid.ColumnBehavior=[vaadin.elements.grid.ColumnBaseBehavior,vaadin.elements.grid.ColumnBehaviorImpl];</script><dom-module id="vaadin-grid-column" assetpath="bower_components/vaadin-grid/"><script>Polymer({is:'vaadin-grid-column',behaviors:[vaadin.elements.grid.ColumnBehavior]});</script></dom-module><script>window.vaadin=window.vaadin||{},vaadin.elements=vaadin.elements||{},vaadin.elements.grid=vaadin.elements.grid||{},vaadin.elements.grid.ArrayDataProviderBehavior={properties:{items:Array},observers:['_itemsChanged(items, items.*)'],_itemsChanged:function(a,b){void 0===a||void 0===b||(this.size=(a||[]).length,this.dataProvider=this.dataProvider||this._arrayDataProvider,this.clearCache())},_arrayDataProvider:function(a,b){var c=(this.items||[]).slice(0);this._checkPaths(this._filters,'filtering',c)&&(c=this._filter(c)),this.size=c.length,a.sortOrders.length&&this._checkPaths(this._sorters,'sorting',c)&&(c=c.sort(this._multiSort.bind(this)));var d=a.page*a.pageSize,e=d+a.pageSize,f=c.slice(d,e);b(f,c.length)},_checkPaths:function(a,b,c){if(!c.length)return!1;var d=!0;for(var e in a){var f=a[e].path;if(f&&-1!==f.indexOf('.')){var g=f.replace(/\.[^\.]*$/,'');void 0===Polymer.Base.get(g,c[0])&&(console.warn('Path "'+f+'" used for '+b+' does not exist in all of the items, '+b+' is disabled.'),d=!1)}}return d},_multiSort:function(c,a){return this._sorters.map(function(b){if('asc'===b.direction)return this._compare(Polymer.Base.get(b.path,c),Polymer.Base.get(b.path,a));return'desc'===b.direction?this._compare(Polymer.Base.get(b.path,a),Polymer.Base.get(b.path,c)):0},this).reduce(function(a,b){return a?a:b},0)},_normalizeEmptyValue:function(a){return 0<=[void 0,null].indexOf(a)?'':isNaN(a)?a.toString():a},_compare:function(c,a){return c=this._normalizeEmptyValue(c),a=this._normalizeEmptyValue(a),c<a?-1:c>a?1:0},_filter:function(a){return a.filter(function(a){return 0===this._filters.filter(function(b){var c=this._normalizeEmptyValue(Polymer.Base.get(b.path,a));return-1===c.toString().toLowerCase().indexOf(b.value.toString().toLowerCase())}.bind(this)).length},this)}};</script><script>window.vaadin=window.vaadin||{},vaadin.elements=vaadin.elements||{},vaadin.elements.grid=vaadin.elements.grid||{},vaadin.elements.grid.DynamicColumnsBehavior={ready:function(){this._addNodeObserver()},_hasColumnGroups:function(a){for(var b=0;b<a.length;b++)if('vaadin-grid-column-group'===a[b].localName)return!0;return!1},_getChildColumns:function(a){return Polymer.dom(a).queryDistributedElements('vaadin-grid-column, vaadin-grid-column-group, vaadin-grid-selection-column')},_flattenColumnGroups:function(a){return a.map(function(a){return'vaadin-grid-column-group'===a.localName?this._getChildColumns(a):[a]},this).reduce(function(a,b){return a.concat(b)},[])},_getColumnTree:function(){for(var a=this.queryAllEffectiveChildren('vaadin-grid-column, vaadin-grid-column-group, vaadin-grid-selection-column'),b=[],d=a;;){if(b.push(d),!this._hasColumnGroups(d))break;d=this._flattenColumnGroups(d)}return b},_updateColumnTree:function(){var a=this._getColumnTree();this._arrayEquals(a,this._columnTree)||(this._columnTree=a)},_addNodeObserver:function(){this._observer=Polymer.dom(this).observeNodes(function(a){var b=function(a){return a.nodeType===Node.ELEMENT_NODE&&/^vaadin-grid-(column|selection)/i.test(a.localName)};(0<a.addedNodes.filter(b).length||0<a.removedNodes.filter(b).length)&&this._updateColumnTree(),(Polymer.Settings.useNativeShadow||Polymer.Settings.useShadow)&&Polymer.dom(this).appendChild(this.$.footerFocusTrap),this.debounce('check-imports',this._checkImports,2e3)}.bind(this))},_arrayEquals:function(a,b){if(!a||!b||a.length!=b.length)return!1;for(var c=0,d=a.length;c<d;c++)if(a[c]instanceof Array&&b[c]instanceof Array){if(!this._arrayEquals(a[c],b[c]))return!1;}else if(a[c]!=b[c])return!1;return!0},_checkImports:function(){['vaadin-grid-column-group','vaadin-grid-sorter','vaadin-grid-filter','vaadin-grid-selection-column'].forEach(function(a){var b=Polymer.dom(this).querySelector(a);b&&(Polymer.isInstance?!Polymer.isInstance(b):!(b instanceof Polymer.Element))&&console.warn('Make sure you have imported the required module for <'+a+'> element.')},this)}};</script><script>window.vaadin=window.vaadin||{},vaadin.elements=vaadin.elements||{},vaadin.elements.grid=vaadin.elements.grid||{},vaadin.elements.grid.SortBehavior={properties:{multiSort:{type:Boolean,value:!1},_sorters:{type:Array,value:function(){return[]}},_previousSorters:{type:Array,value:function(){return[]}}},listeners:{"sorter-changed":'_onSorterChanged'},ready:function(){Polymer.Element&&!Polymer.Settings.useNativeShadow&&this.async(function(){var a=Polymer.dom(this).querySelectorAll('vaadin-grid-sorter');Array.prototype.forEach.call(a,function(a){a.fire&&a.fire('sorter-changed')})})},_onSorterChanged:function(a){var b=a.target;this._removeArrayItem(this._sorters,b),b._order=null,this.multiSort?(b.direction&&this._sorters.unshift(b),this._sorters.forEach(function(a,b){a._order=1<this._sorters.length?b:null},this)):(this._sorters.forEach(function(a){a._order=null,a.direction=null}),b.direction&&(this._sorters=[b])),a.stopPropagation(),this.dataProvider&&JSON.stringify(this._previousSorters)!==JSON.stringify(this._mapSorters())&&this.clearCache(),this._previousSorters=this._mapSorters()},_mapSorters:function(){return this._sorters.map(function(a){return{path:a.path,direction:a.direction}})},_removeArrayItem:function(a,b){var c=a.indexOf(b);-1<c&&a.splice(c,1)}};</script><script>window.vaadin=window.vaadin||{},vaadin.elements=vaadin.elements||{},vaadin.elements.grid=vaadin.elements.grid||{},vaadin.elements.grid.FilterBehavior={properties:{_filters:{type:Array,value:function(){return[]}}},listeners:{"filter-changed":'_filterChanged'},_filterChanged:function(a){-1===this._filters.indexOf(a.target)&&this._filters.push(a.target),a.stopPropagation(),this.dataProvider&&this.clearCache()},_mapFilters:function(){return this._filters.map(function(a){return{path:a.path,value:a.value}})}};</script><dom-module id="vaadin-grid" assetpath="bower_components/vaadin-grid/"><template><style>:host{display:block;height:400px;background:var(--primary-background-color,#fff);box-sizing:border-box;border:1px solid var(--divider-color,rgba(0,0,0,.08))}:host(:focus){-webkit-tap-highlight-color:transparent}:host(:focus){outline:0}#scroller{height:100%;width:100%}</style><style include="vaadin-grid-table-scroll-styles"></style><style include="vaadin-grid-row-details-styles"></style><style include="vaadin-grid-table-styles"></style><style include="vaadin-grid-table-themability-styles"></style><style include="vaadin-grid-selection-themability-styles"></style><style include="vaadin-grid-navigation-themability-styles"></style><style include="vaadin-grid-active-item-themability-styles"></style><style include="vaadin-grid-row-details-themability-styles"></style><style include="vaadin-grid-column-reordering-themability-styles"></style><vaadin-grid-table id="scroller" loading$="[[_loading]]" bind-data="[[_bindData]]" size="[[size]]" column-tree="[[_columnTree]]" row-details-template="[[_rowDetailsTemplate]]" column-reordering-allowed="[[columnReorderingAllowed]]"><vaadin-grid-table-header id="header" slot="header" target="[[_getContentTarget()]]" column-tree="[[_columnTree]]"></vaadin-grid-table-header><vaadin-grid-table-body id="items" slot="items"></vaadin-grid-table-body><vaadin-grid-table-footer id="footer" slot="footer" target="[[_getContentTarget()]]" column-tree="[[_columnTree]]"></vaadin-grid-table-footer><slot name="footerFocusTrap"></slot><slot></slot><vaadin-grid-table-focus-trap id="footerFocusTrap" slot="footerFocusTrap" on-focus-gained="_onFooterFocus" on-focus-lost="_onFocusout"></vaadin-grid-table-focus-trap></vaadin-grid-table></template></dom-module><script>Polymer({is:'vaadin-grid',properties:{_columnTree:{type:Array,notify:!0},size:Number,_rowDetailsTemplate:Object,_bindData:{type:Object,value:function(){return this._getItem.bind(this)}}},behaviors:[Polymer.IronA11yKeysBehavior,Polymer.IronResizableBehavior,vaadin.elements.grid.ActiveItemBehavior,vaadin.elements.grid.RowDetailsBehavior,vaadin.elements.grid.DataProviderBehavior,vaadin.elements.grid.DynamicColumnsBehavior,vaadin.elements.grid.ArrayDataProviderBehavior,vaadin.elements.grid.SelectionBehavior,vaadin.elements.grid.SortBehavior,vaadin.elements.grid.FilterBehavior,vaadin.elements.grid.ColumnReorderingBehavior,vaadin.elements.grid.TableKeyboardBehavior],listeners:{"property-changed":'_columnPropChanged',"iron-resize":'_gridResizeHandler'},_updateItem:function(a,b){a.style.minHeight=b?'':this.$.scroller._physicalAverage+'px',a.item=b,a.selected=this._isSelected(b),a.expanded=this._isExpanded(b),a.active=null!==b&&b==this.activeItem,a.focused=a.index===this.$.items._focusedRowIndex},_getContentTarget:function(){return this},ready:function(){this._updateColumnTree(),this._rowDetailsTemplate=Polymer.dom(this).querySelector('template.row-details')||void 0,this.$.scroller.target=this,null===document.doctype&&console.warn('<vaadin-grid> requires the "standards mode" declaration. Please add <!DOCTYPE html> to the HTML document.')},_columnPropChanged:function(a){'_childColumns'===a.detail.path&&this._updateColumnTree(),a.stopPropagation()},_gridResizeHandler:function(){this.$.scroller._gridResizeHandler()}});</script><dom-module id="dtile-meta-editor" assetpath="src/dtile-meta-editor/"><template><style>:host{display:block;min-width:50vw}vaadin-grid,vaadin-grid *{background:var(--primary-background-color);color:#fff;border:none!important;--vaadin-grid-cell:{padding:8px 16px};}paper-expansion-panel[hidden]{display:none}paper-expansion-panel>*{height:50vh;display:block}</style><paper-expansion-panel header="Public properties" opened=""><vaadin-grid id="public-meta-grid" items="[[_publicMeta]]"><vaadin-grid-column><template class="header">Key</template><template><paper-input value="{{item.key}}" no-label-float=""></paper-input></template><template class="footer"><paper-input id="new-key" no-label-float="" label="Key" on-keydown="_checkEntryEnter"></paper-input></template></vaadin-grid-column><vaadin-grid-column><template class="header">Value</template><template><paper-input value="{{item.value}}" no-label-float=""></paper-input></template><template class="footer"><paper-input id="new-value" no-label-float="" label="Value" on-keydown="_checkEntryEnter"></paper-input></template></vaadin-grid-column><vaadin-grid-column width="72px" flex-grow="0"><template><paper-icon-button icon="clear" on-tap="_removeTapped"></paper-icon-button></template><template class="footer"><paper-icon-button icon="add" on-tap="_addPublicEntry"></paper-icon-button></template></vaadin-grid-column></vaadin-grid></paper-expansion-panel><div id="plugin-meta"></div></template></dom-module><script>window.DTile=window.DTile||{},DTile.metaPlugins=DTile.metaPlugins||[];class DTileMetaEditor extends Polymer.Element{static get is(){return"dtile-meta-editor"}static get properties(){return{meta:Object,metaType:String,context:Object,_publicMeta:Array,_metaPlugins:Array}}static get observers(){return["_setPublicMeta(meta)","_setPluginMeta(meta)"]}ready(){super.ready();const a=customElements.get("paper-expansion-panel");this._metaPlugins=DTile.metaPlugins.map((b)=>{const c=new a;c.header=b.pluginName;const d=new b;return c.appendChild(d),this.$["plugin-meta"].appendChild(c),d}),this.addEventListener("toggle",(a)=>{if("PAPER-EXPANSION-PANEL"===a.detail.tagName&&a.detail.opened){const b=[...this.shadowRoot.querySelectorAll("paper-expansion-panel")];b.forEach((b)=>{b!==a.detail&&(b.opened=!1)})}})}prepare(){"undefined"==typeof this.meta&&(this._setPublicMeta(),this._setPluginMeta()),this._metaPlugins.forEach((a)=>{if(a.typeMatch){const b=a.typeMatch(this.metaType);b?a.parentElement.removeAttribute("hidden"):a.parentElement.setAttribute("hidden",!0)}})}_setPublicMeta(a={}){this._publicMeta=Object.keys(a).filter((a)=>!a.startsWith("@")).map((b)=>({key:b,value:a[b]}))}_setPluginMeta(a={}){const b={};Object.entries(a).filter(([a])=>a.startsWith("@")).forEach(([a,c])=>b[a]=c),this._metaPlugins.forEach((a)=>{a.typeMatch&&!a.typeMatch(this.metaType)||a.parentElement.hasAttribute("hidden")||(a.context=this.context,a.meta=b)})}_checkEntryEnter(a){"Enter"===a.key&&this._addPublicEntry()}_addPublicEntry(){const a=this.shadowRoot.querySelector("#new-key"),b=this.shadowRoot.querySelector("#new-value"),c=a.value,d=b.value;c&&d&&(this._publicMeta.push({key:c,value:d}),a.value=b.value="",this.$["public-meta-grid"].clearCache(),a.focus())}_removeTapped(a){this._publicMeta.splice(a.model.index,1),this.$["public-meta-grid"].clearCache()}buildMeta(){const a=this.meta||{};return this._publicMeta.forEach(({key:b,value:c})=>{a[b]=c}),this._metaPlugins.forEach((b)=>{if(!b.typeMatch||b.typeMatch(this.metaType)){const c=b.buildMeta();Object.entries(c).forEach(([b,c])=>{a[b]=c})}}),Object.entries(a).forEach(([b,c])=>{(null===c||void 0===c)&&delete a[b]}),a}}customElements.define(DTileMetaEditor.is,DTileMetaEditor);</script><dom-module id="rename-dialog" assetpath="src/generic-elements/"><template><paper-dialog id="dialog" with-backdrop=""><h2>Rename [[itemType]]</h2><paper-input id="input" value="{{name}}" no-label-float=""></paper-input><div class="buttons"><paper-button dialog-dismiss="">Close</paper-button><paper-button dialog-confirm="" on-tap="_rename">Rename</paper-button></div></paper-dialog></template></dom-module><script>class RenameDialog extends Polymer.Element{static get is(){return"rename-dialog"}static get properties(){return{itemType:String,name:String}}ready(){super.ready(),window.addEventListener("rename",(a)=>{this.itemType=a.detail.itemType,this.name=a.detail.currentName,this._callback=a.detail.callback,this.open()}),this.addEventListener("keydown",(a)=>{"Enter"===a.key&&this._rename()})}open(){this.$.dialog.open();const a=this.$.input.inputElement.inputElement;requestAnimationFrame(()=>{a.focus(),a.select()})}_rename(){this._callback&&(this._callback({newName:this.name}),this.$.dialog.close())}}customElements.define(RenameDialog.is,RenameDialog);</script><script>DTile.status=new class{constructor(){this.actionsRunning=0,this.failedAction=!1,this.subscribers=[]}actionInitiated(){this.actionsRunning++,this._updateSubscribers()}actionFinished(){this.actionsRunning--,this._updateSubscribers()}actionFailed(a){this.failedAction=a,this.actionsRunning--,this._updateSubscribers()}subscribe(a){this.subscribers.push(a),this._updateSubscribers()}_updateSubscribers(){this.subscribers.forEach((a)=>a(this.actionsRunning,this.failedAction))}};</script><script>!function(c){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=c();else if("function"==typeof define&&define.amd)define([],c);else{var a;a="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window,a.localforage=c()}}(function(){return function l(m,a,b){function d(e,f){if(!a[e]){if(!m[e]){var g="function"==typeof require&&require;if(!f&&g)return g(e,!0);if(c)return c(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var j=a[e]={exports:{}};m[e][0].call(j.exports,function(b){var a=m[e][1][b];return d(a?a:b)},j,j.exports,l,m,a,b)}return a[e].exports}for(var c="function"==typeof require&&require,e=0;e<b.length;e++)d(b[e]);return d}({1:[function(c,d){(function(m){"use strict";function a(){i=!0;for(var d,a,b=j.length;b;){for(a=j,j=[],d=-1;++d<b;)a[d]();b=j.length}i=!1}var b,c=m.MutationObserver||m.WebKitMutationObserver;if(c){var e=0,f=new c(a),g=m.document.createTextNode("");f.observe(g,{characterData:!0}),b=function(){g.data=e=++e%2}}else if(m.setImmediate||"undefined"==typeof m.MessageChannel)b="document"in m&&"onreadystatechange"in m.document.createElement("script")?function(){var c=m.document.createElement("script");c.onreadystatechange=function(){a(),c.onreadystatechange=null,c.parentNode.removeChild(c),c=null},m.document.documentElement.appendChild(c)}:function(){setTimeout(a,0)};else{var h=new m.MessageChannel;h.port1.onmessage=a,b=function(){h.port2.postMessage(0)}}var i,j=[];d.exports=function(c){1!==j.push(c)||i||b()}}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],2:[function(k,a,b){"use strict";function l(){}function c(b){if("function"!=typeof b)throw new TypeError("resolver must be a function");this.state=o,this.queue=[],this.outcome=void 0,b!==l&&h(this,b)}function d(d,a,e){this.promise=d,"function"==typeof a&&(this.onFulfilled=a,this.callFulfilled=this.otherCallFulfilled),"function"==typeof e&&(this.onRejected=e,this.callRejected=this.otherCallRejected)}function f(f,a,b){e(function(){var c;try{c=a(b)}catch(a){return m.reject(f,a)}c===f?m.reject(f,new TypeError("Cannot resolve promise with itself")):m.resolve(f,c)})}function g(c){var d=c&&c.then;if(c&&"object"==typeof c&&"function"==typeof d)return function(){d.apply(c,arguments)}}function h(e,a){function b(a){d||(d=!0,m.reject(e,a))}function c(a){d||(d=!0,m.resolve(e,a))}var d=!1,f=i(function(){a(c,b)});"error"===f.status&&b(f.value)}function i(d,a){var b={};try{b.value=d(a),b.status="success"}catch(c){b.status="error",b.value=c}return b}var e=k(1),m={},j=["REJECTED"],n=["FULFILLED"],o=["PENDING"];a.exports=b=c,c.prototype.catch=function(b){return this.then(null,b)},c.prototype.then=function(g,h){if("function"!=typeof g&&this.state===n||"function"!=typeof h&&this.state===j)return this;var i=new this.constructor(l);if(this.state!==o){var c=this.state===n?g:h;f(i,c,this.outcome)}else this.queue.push(new d(i,g,h));return i},d.prototype.callFulfilled=function(b){m.resolve(this.promise,b)},d.prototype.otherCallFulfilled=function(b){f(this.promise,this.onFulfilled,b)},d.prototype.callRejected=function(b){m.reject(this.promise,b)},d.prototype.otherCallRejected=function(b){f(this.promise,this.onRejected,b)},m.resolve=function(j,a){var b=i(g,a);if("error"===b.status)return m.reject(j,b.value);var c=b.value;if(c)h(j,c);else{j.state=n,j.outcome=a;for(var d=-1,e=j.queue.length;++d<e;)j.queue[d].callFulfilled(a)}return j},m.reject=function(e,a){e.state=j,e.outcome=a;for(var b=-1,c=e.queue.length;++b<c;)e.queue[b].callRejected(a);return e},b.resolve=function(b){return b instanceof this?b:m.resolve(new this(l),b)},b.reject=function(c){var a=new this(l);return m.reject(a,c)},b.all=function(d){function a(d,e){k.resolve(d).then(function(b){f[e]=b,++g!==c||n||(n=!0,m.resolve(h,f))},function(b){n||(n=!0,m.reject(h,b))})}var k=this;if("[object Array]"!==Object.prototype.toString.call(d))return this.reject(new TypeError("must be an array"));var c=d.length,n=!1;if(!c)return this.resolve([]);for(var f=Array(c),g=0,b=-1,h=new this(l);++b<c;)a(d[b],b);return h},b.race=function(d){function a(c){b.resolve(c).then(function(b){i||(i=!0,m.resolve(g,b))},function(b){i||(i=!0,m.reject(g,b))})}var b=this;if("[object Array]"!==Object.prototype.toString.call(d))return this.reject(new TypeError("must be an array"));var c=d.length,i=!1;if(!c)return this.resolve([]);for(var f=-1,g=new this(l);++f<c;)a(d[f]);return g}},{1:1}],3:[function(c){(function(a){"use strict";"function"!=typeof a.Promise&&(a.Promise=c(2))}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{2:2}],4:[function(c,a){"use strict";function e(c,a){if(!(c instanceof a))throw new TypeError("Cannot call a class as a function")}function g(f,a){f=f||[],a=a||{};try{return new Blob(f,a)}catch(e){if("TypeError"!==e.name)throw e;for(var b="undefined"==typeof BlobBuilder?"undefined"==typeof MSBlobBuilder?"undefined"==typeof MozBlobBuilder?WebKitBlobBuilder:MozBlobBuilder:MSBlobBuilder:BlobBuilder,c=new b,d=0;d<f.length;d+=1)c.append(f[d]);return c.getBlob(a.type)}}function h(c,d){d&&c.then(function(b){d(null,b)},function(b){d(b)})}function j(d,a,e){"function"==typeof a&&d.then(a),"function"==typeof e&&d.catch(e)}function d(f){for(var a=f.length,b=new ArrayBuffer(a),c=new Uint8Array(b),d=0;d<a;d++)c[d]=f.charCodeAt(d);return b}function b(e){return new D(function(f){var a=e.transaction(E,"readwrite"),b=g([""]);a.objectStore(E).put(b,"key"),a.onabort=function(b){b.preventDefault(),b.stopPropagation(),f(!1)},a.oncomplete=function(){var b=navigator.userAgent.match(/Chrome\/(\d+)/),d=navigator.userAgent.match(/Edge\//);f(d||!b||43<=parseInt(b[1],10))}}).catch(function(){return!1})}function i(c){return"boolean"==typeof B?D.resolve(B):b(c).then(function(b){return B=b})}function f(d){var a=C[d.name],b={};b.promise=new D(function(c){b.resolve=c}),a.deferredOperations.push(b),a.dbReady=a.dbReady?a.dbReady.then(function(){return b.promise}):b.promise}function k(d){var a=C[d.name],b=a.deferredOperations.pop();b&&b.resolve()}function l(g,a){return new D(function(h,c){if(g.db){if(!a)return h(g.db);f(g),g.db.close()}var d=[g.name];a&&d.push(g.version);var e=A.open.apply(A,d);a&&(e.onupgradeneeded=function(a){var b=e.result;try{b.createObjectStore(g.storeName),1>=a.oldVersion&&b.createObjectStore(E)}catch(b){if("ConstraintError"!==b.name)throw b;console.warn("The database \""+g.name+"\" has been upgraded from version "+a.oldVersion+" to version "+a.newVersion+", but the storage \""+g.storeName+"\" already exists.")}}),e.onerror=function(b){b.preventDefault(),c(e.error)},e.onsuccess=function(){h(e.result),k(g)}})}function m(b){return l(b,!1)}function n(b){return l(b,!0)}function o(g,a){if(!g.db)return!0;var b=!g.db.objectStoreNames.contains(g.storeName),c=g.version<g.db.version,d=g.version>g.db.version;if(c&&(g.version!==a&&console.warn("The database \""+g.name+"\" can't be downgraded from version "+g.db.version+" to version "+g.version+"."),g.version=g.db.version),d||b){if(b){var e=g.db.version+1;e>g.version&&(g.version=e)}return!0}return!1}function p(e){return new D(function(a,b){var c=new FileReader;c.onerror=b,c.onloadend=function(b){var c=btoa(b.target.result||"");a({__local_forage_encoded_blob:!0,data:c,type:e.type})},c.readAsBinaryString(e)})}function q(c){var a=d(atob(c.data));return g([a],{type:c.type})}function r(b){return b&&b.__local_forage_encoded_blob}function s(d){var e=this,a=e._initReady().then(function(){var b=C[e._dbInfo.name];if(b&&b.dbReady)return b.dbReady});return j(a,d,d),a}function t(l){var a,b,c,d,e,f=.75*l.length,g=l.length,h=0;"="===l[l.length-1]&&(f--,"="===l[l.length-2]&&f--);var i=new ArrayBuffer(f),j=new Uint8Array(i);for(a=0;a<g;a+=4)b=J.indexOf(l[a]),c=J.indexOf(l[a+1]),d=J.indexOf(l[a+2]),e=J.indexOf(l[a+3]),j[h++]=b<<2|c>>4,j[h++]=(15&c)<<4|d>>2,j[h++]=(3&d)<<6|63&e;return i}function u(e){var a,b=new Uint8Array(e),c="";for(a=0;a<b.length;a+=3)c+=J[b[a]>>2],c+=J[(3&b[a])<<4|b[a+1]>>4],c+=J[(15&b[a+1])<<2|b[a+2]>>6],c+=J[63&b[a+2]];return 2==b.length%3?c=c.substring(0,c.length-1)+"=":1==b.length%3&&(c=c.substring(0,c.length-2)+"=="),c}function v(j,k,i,c){var d=this;"string"!=typeof j&&(console.warn(j+" used as a key, but it is not a string."),j=j+"");var b=new D(function(a,e){d.ready().then(function(){void 0===k&&(k=null);var f=k,g=d._dbInfo;g.serializer.serialize(k,function(h,b){b?e(b):g.db.transaction(function(b){b.executeSql("INSERT OR REPLACE INTO "+g.storeName+" (key, value) VALUES (?, ?)",[j,h],function(){a(f)},function(c,a){e(a)})},function(g){if(g.code===g.QUOTA_ERR){if(0<c)return void a(v.apply(d,[j,f,i,c-1]));e(g)}})})}).catch(e)});return h(b,i),b}function w(d,a){d[a]=function(){var b=arguments;return d.ready().then(function(){return d[a].apply(d,b)})}}function x(){for(var d,b=1;b<arguments.length;b++)if(d=arguments[b],d)for(var a in d)d.hasOwnProperty(a)&&(ja(d[a])?arguments[0][a]=d[a].slice():arguments[0][a]=d[a]);return arguments[0]}function y(c){for(var a in ca)if(ca.hasOwnProperty(a)&&ca[a]===c)return!0;return!1}var z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},A=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(b){}}();"undefined"==typeof Promise&&c(3);var B,C,D=Promise,E="local-forage-detect-blob-support",F=Object.prototype.toString,G={_driver:"asyncStorage",_initStorage:function(k){function a(){return D.resolve()}var l=this,c={db:null};if(k)for(var b in k)c[b]=k[b];C||(C={});var d=C[c.name];d||(d={forages:[],db:null,dbReady:null,deferredOperations:[]},C[c.name]=d),d.forages.push(l),l._initReady||(l._initReady=l.ready,l.ready=s);for(var e,f=[],g=0;g<d.forages.length;g++)e=d.forages[g],e!==l&&f.push(e._initReady().catch(a));var h=d.forages.slice(0);return D.all(f).then(function(){return c.db=d.db,m(c)}).then(function(b){return c.db=b,o(c,l._defaultConfig.version)?n(c):b}).then(function(f){c.db=d.db=f,l._dbInfo=c;for(var a,e=0;e<h.length;e++)a=h[e],a!==l&&(a._dbInfo.db=c.db,a._dbInfo.version=c.version)})},iterate:function(f,a){var i=this,b=new D(function(a,b){i.ready().then(function(){var c=i._dbInfo,d=c.db.transaction(c.storeName,"readonly").objectStore(c.storeName),j=d.openCursor(),g=1;j.onsuccess=function(){var b=j.result;if(b){var c=b.value;r(c)&&(c=q(c));var d=f(c,b.key,g++);void 0===d?b.continue():a(d)}else a()},j.onerror=function(){b(j.error)}}).catch(b)});return h(b,a),b},getItem:function(i,e){var j=this;"string"!=typeof i&&(console.warn(i+" used as a key, but it is not a string."),i=i+"");var b=new D(function(c,a){j.ready().then(function(){var b=j._dbInfo,d=b.db.transaction(b.storeName,"readonly").objectStore(b.storeName),e=d.get(i);e.onsuccess=function(){var b=e.result;void 0===b&&(b=null),r(b)&&(b=q(b)),c(b)},e.onerror=function(){a(e.error)}}).catch(a)});return h(b,e),b},setItem:function(j,g,b){var k=this;"string"!=typeof j&&(console.warn(j+" used as a key, but it is not a string."),j=j+"");var c=new D(function(a,b){var c;k.ready().then(function(){return c=k._dbInfo,"[object Blob]"===F.call(g)?i(c.db).then(function(b){return b?g:p(g)}):g}).then(function(e){var f=c.db.transaction(c.storeName,"readwrite"),d=f.objectStore(c.storeName),g=d.put(e,j);null===e&&(e=void 0),f.oncomplete=function(){void 0===e&&(e=null),a(e)},f.onabort=f.onerror=function(){var c=g.error?g.error:g.transaction.error;b(c)}}).catch(b)});return h(c,b),c},removeItem:function(i,e){var j=this;"string"!=typeof i&&(console.warn(i+" used as a key, but it is not a string."),i=i+"");var b=new D(function(a,b){j.ready().then(function(){var c=j._dbInfo,d=c.db.transaction(c.storeName,"readwrite"),e=d.objectStore(c.storeName),f=e.delete(i);d.oncomplete=function(){a()},d.onerror=function(){b(f.error)},d.onabort=function(){var c=f.error?f.error:f.transaction.error;b(c)}}).catch(b)});return h(b,e),b},clear:function(d){var i=this,a=new D(function(b,d){i.ready().then(function(){var a=i._dbInfo,c=a.db.transaction(a.storeName,"readwrite"),e=c.objectStore(a.storeName),f=e.clear();c.oncomplete=function(){b()},c.onabort=c.onerror=function(){var b=f.error?f.error:f.transaction.error;d(b)}}).catch(d)});return h(a,d),a},length:function(d){var g=this,a=new D(function(b,a){g.ready().then(function(){var c=g._dbInfo,d=c.db.transaction(c.storeName,"readonly").objectStore(c.storeName),e=d.count();e.onsuccess=function(){b(e.result)},e.onerror=function(){a(e.error)}}).catch(a)});return h(a,d),a},key:function(e,a){var i=this,b=new D(function(a,b){return 0>e?void a(null):void i.ready().then(function(){var c=i._dbInfo,d=c.db.transaction(c.storeName,"readonly").objectStore(c.storeName),f=!1,g=d.openCursor();g.onsuccess=function(){var b=g.result;return b?void(0===e?a(b.key):f?a(b.key):(f=!0,b.advance(e))):void a(null)},g.onerror=function(){b(g.error)}}).catch(b)});return h(b,a),b},keys:function(d){var i=this,a=new D(function(d,a){i.ready().then(function(){var b=i._dbInfo,c=b.db.transaction(b.storeName,"readonly").objectStore(b.storeName),e=c.openCursor(),f=[];e.onsuccess=function(){var a=e.result;return a?(f.push(a.key),void a.continue()):void d(f)},e.onerror=function(){a(e.error)}}).catch(a)});return h(a,d),a}},J="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",K=/^~~local_forage_type~([^~]+)~/,L="__lfsc__:",M=L.length,N="arbf",O="blob",P="si08",Q="ui08",R="uic8",S="si16",T="si32",U="ur16",V="ui32",W="fl32",X="fl64",Y=M+N.length,Z=Object.prototype.toString,$={serialize:function(g,a){var b="";if(g&&(b=Z.call(g)),g&&("[object ArrayBuffer]"===b||g.buffer&&"[object ArrayBuffer]"===Z.call(g.buffer))){var c,d=L;g instanceof ArrayBuffer?(c=g,d+=N):(c=g.buffer,"[object Int8Array]"==b?d+=P:"[object Uint8Array]"==b?d+=Q:"[object Uint8ClampedArray]"==b?d+=R:"[object Int16Array]"==b?d+=S:"[object Uint16Array]"==b?d+=U:"[object Int32Array]"==b?d+=T:"[object Uint32Array]"==b?d+=V:"[object Float32Array]"==b?d+=W:"[object Float64Array]"==b?d+=X:a(new Error("Failed to get type for BinaryArray"))),a(d+u(c))}else if("[object Blob]"===b){var e=new FileReader;e.onload=function(){var b="~~local_forage_type~"+g.type+"~"+u(this.result);a(L+O+b)},e.readAsArrayBuffer(g)}else try{a(JSON.stringify(g))}catch(b){console.error("Couldn't convert value into a JSON string: ",g),a(null,b)}},deserialize:function(h){if(h.substring(0,M)!==L)return JSON.parse(h);var a,i=h.substring(Y),c=h.substring(M,Y);if(c===O&&K.test(i)){var d=i.match(K);a=d[1],i=i.substring(d[0].length)}var e=t(i);switch(c){case N:return e;case O:return g([e],{type:a});case P:return new Int8Array(e);case Q:return new Uint8Array(e);case R:return new Uint8ClampedArray(e);case S:return new Int16Array(e);case U:return new Uint16Array(e);case T:return new Int32Array(e);case V:return new Uint32Array(e);case W:return new Float32Array(e);case X:return new Float64Array(e);default:throw new Error("Unkown type: "+c);}},stringToBuffer:t,bufferToString:u},_={_driver:"webSQLStorage",_initStorage:function(f){var g=this,b={db:null};if(f)for(var a in f)b[a]="string"==typeof f[a]?f[a]:f[a].toString();var c=new D(function(c,e){try{b.db=openDatabase(b.name,b.version+"",b.description,b.size)}catch(b){return e(b)}b.db.transaction(function(a){a.executeSql("CREATE TABLE IF NOT EXISTS "+b.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){g._dbInfo=b,c()},function(c,a){e(a)})})});return b.serializer=$,c},iterate:function(g,a){var f=this,b=new D(function(a,c){f.ready().then(function(){var b=f._dbInfo;b.db.transaction(function(d){d.executeSql("SELECT * FROM "+b.storeName,[],function(e,c){for(var d=c.rows,f=d.length,k=0;k<f;k++){var h=d.item(k),i=h.value;if(i&&(i=b.serializer.deserialize(i)),i=g(i,h.key,k+1),void 0!==i)return void a(i)}a()},function(d,a){c(a)})})}).catch(c)});return h(b,a),b},getItem:function(f,e){var g=this;"string"!=typeof f&&(console.warn(f+" used as a key, but it is not a string."),f=f+"");var b=new D(function(h,c){g.ready().then(function(){var b=g._dbInfo;b.db.transaction(function(a){a.executeSql("SELECT * FROM "+b.storeName+" WHERE key = ? LIMIT 1",[f],function(e,a){var c=a.rows.length?a.rows.item(0).value:null;c&&(c=b.serializer.deserialize(c)),h(c)},function(d,a){c(a)})})}).catch(c)});return h(b,e),b},setItem:function(d,a,b){return v.apply(this,[d,a,b,1])},removeItem:function(f,e){var g=this;"string"!=typeof f&&(console.warn(f+" used as a key, but it is not a string."),f=f+"");var b=new D(function(a,c){g.ready().then(function(){var b=g._dbInfo;b.db.transaction(function(d){d.executeSql("DELETE FROM "+b.storeName+" WHERE key = ?",[f],function(){a()},function(d,a){c(a)})})}).catch(c)});return h(b,e),b},clear:function(d){var e=this,a=new D(function(b,d){e.ready().then(function(){var a=e._dbInfo;a.db.transaction(function(c){c.executeSql("DELETE FROM "+a.storeName,[],function(){b()},function(c,a){d(a)})})}).catch(d)});return h(a,d),a},length:function(d){var e=this,a=new D(function(f,d){e.ready().then(function(){var a=e._dbInfo;a.db.transaction(function(c){c.executeSql("SELECT COUNT(key) as c FROM "+a.storeName,[],function(a,b){var c=b.rows.item(0).c;f(c)},function(c,a){d(a)})})}).catch(d)});return h(a,d),a},key:function(f,a){var g=this,b=new D(function(e,c){g.ready().then(function(){var a=g._dbInfo;a.db.transaction(function(b){b.executeSql("SELECT key FROM "+a.storeName+" WHERE id = ? LIMIT 1",[f+1],function(b,a){var c=a.rows.length?a.rows.item(0).key:null;e(c)},function(d,a){c(a)})})}).catch(c)});return h(b,a),b},keys:function(d){var e=this,a=new D(function(f,d){e.ready().then(function(){var a=e._dbInfo;a.db.transaction(function(c){c.executeSql("SELECT key FROM "+a.storeName,[],function(a,b){for(var c=[],d=0;d<b.rows.length;d++)c.push(b.rows.item(d).key);f(c)},function(c,a){d(a)})})}).catch(d)});return h(a,d),a}},aa={_driver:"localStorageWrapper",_initStorage:function(e){var a=this,b={};if(e)for(var c in e)b[c]=e[c];return b.keyPrefix=b.name+"/",b.storeName!==a._defaultConfig.storeName&&(b.keyPrefix+=b.storeName+"/"),a._dbInfo=b,b.serializer=$,D.resolve()},iterate:function(f,a){var k=this,b=k.ready().then(function(){for(var a,c=k._dbInfo,b=c.keyPrefix,d=b.length,e=localStorage.length,i=1,g=0;g<e;g++)if(a=localStorage.key(g),0===a.indexOf(b)){var h=localStorage.getItem(a);if(h&&(h=c.serializer.deserialize(h)),h=f(h,a.substring(d),i++),void 0!==h)return h}});return h(b,a),b},getItem:function(e,f){var g=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=e+"");var b=g.ready().then(function(){var a=g._dbInfo,b=localStorage.getItem(a.keyPrefix+e);return b&&(b=a.serializer.deserialize(b)),b});return h(b,f),b},setItem:function(f,i,b){var j=this;"string"!=typeof f&&(console.warn(f+" used as a key, but it is not a string."),f=f+"");var c=j.ready().then(function(){void 0===i&&(i=null);var a=i;return new D(function(c,e){var d=j._dbInfo;d.serializer.serialize(i,function(g,b){if(b)e(b);else try{localStorage.setItem(d.keyPrefix+f,g),c(a)}catch(b){"QuotaExceededError"!==b.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==b.name||e(b),e(b)}})})});return h(c,b),c},removeItem:function(e,f){var g=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=e+"");var b=g.ready().then(function(){var a=g._dbInfo;localStorage.removeItem(a.keyPrefix+e)});return h(b,f),b},clear:function(d){var e=this,a=e.ready().then(function(){for(var b,d=e._dbInfo.keyPrefix,a=localStorage.length-1;0<=a;a--)b=localStorage.key(a),0===b.indexOf(d)&&localStorage.removeItem(b)});return h(a,d),a},length:function(d){var a=this,b=a.keys().then(function(b){return b.length});return h(b,d),b},key:function(e,a){var f=this,b=f.ready().then(function(){var a,b=f._dbInfo;try{a=localStorage.key(e)}catch(b){a=null}return a&&(a=a.substring(b.keyPrefix.length)),a});return h(b,a),b},keys:function(d){var f=this,a=f.ready().then(function(){for(var b=f._dbInfo,a=localStorage.length,c=[],d=0;d<a;d++)0===localStorage.key(d).indexOf(b.keyPrefix)&&c.push(localStorage.key(d).substring(b.keyPrefix.length));return c});return h(a,d),a}},ba={},ca={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},da=[ca.INDEXEDDB,ca.WEBSQL,ca.LOCALSTORAGE],ea=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],fa={description:"",driver:da.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},ia={};ia[ca.INDEXEDDB]=function(){try{if(!A)return!1;var c="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),d="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!c||d)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(b){return!1}}(),ia[ca.WEBSQL]=function(){return"function"==typeof openDatabase}(),ia[ca.LOCALSTORAGE]=function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&localStorage.setItem}catch(b){return!1}}();var ja=Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)},ka=function(){function c(a){e(this,c),this.INDEXEDDB=ca.INDEXEDDB,this.LOCALSTORAGE=ca.LOCALSTORAGE,this.WEBSQL=ca.WEBSQL,this._defaultConfig=x({},fa),this._config=x({},this._defaultConfig,a),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return c.prototype.config=function(c){if("object"===("undefined"==typeof c?"undefined":z(c))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var d in c){if("storeName"==d&&(c[d]=c[d].replace(/\W/g,"_")),"version"==d&&"number"!=typeof c[d])return new Error("Database version must be a number.");this._config[d]=c[d]}return!("driver"in c&&c.driver)||this.setDriver(this._config.driver)}return"string"==typeof c?this._config[c]:this._config},c.prototype.defineDriver=function(k,a,b){var c=new D(function(a,b){try{var l=k._driver,c=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),d=new Error("Custom driver name already in use: "+k._driver);if(!k._driver)return void b(c);if(y(k._driver))return void b(d);for(var e,f=ea.concat("_initStorage"),g=0;g<f.length;g++)if(e=f[g],!e||!k[e]||"function"!=typeof k[e])return void b(c);var h=D.resolve(!0);"_support"in k&&(h=k._support&&"function"==typeof k._support?k._support():D.resolve(!!k._support)),h.then(function(b){ia[l]=b,ba[l]=k,a()},b)}catch(c){b(c)}});return j(c,a,b),c},c.prototype.driver=function(){return this._driver||null},c.prototype.getDriver=function(f,a,b){var c=this,d=D.resolve().then(function(){if(!y(f)){if(ba[f])return ba[f];throw new Error("Driver not found.")}return f===c.INDEXEDDB?G:f===c.LOCALSTORAGE?aa:f===c.WEBSQL?_:void 0});return j(d,a,b),d},c.prototype.getSerializer=function(c){var a=D.resolve($);return j(a,c),a},c.prototype.ready=function(d){var a=this,b=a._driverSet.then(function(){return null===a._ready&&(a._ready=a._initDriver()),a._ready});return j(b,d,d),b},c.prototype.setDriver=function(k,a,b){function l(){e._config.driver=e.driver()}function d(b){return e._extend(b),l(),e._ready=e._initStorage(e._config),e._ready}function c(g){return function(){function a(){for(;b<g.length;){var c=g[b];return b++,e._dbInfo=null,e._ready=null,e.getDriver(c).then(d).catch(a)}l();var f=new Error("No available storage method found.");return e._driverSet=D.reject(f),e._driverSet}var b=0;return a()}}var e=this;ja(k)||(k=[k]);var f=this._getSupportedDrivers(k),g=null===this._driverSet?D.resolve():this._driverSet.catch(function(){return D.resolve()});return this._driverSet=g.then(function(){var b=f[0];return e._dbInfo=null,e._ready=null,e.getDriver(b).then(function(b){e._driver=b._driver,l(),e._wrapLibraryMethodsWithReady(),e._initDriver=c(f)})}).catch(function(){l();var b=new Error("No available storage method found.");return e._driverSet=D.reject(b),e._driverSet}),j(this._driverSet,a,b),this._driverSet},c.prototype.supports=function(b){return!!ia[b]},c.prototype._extend=function(b){x(this,b)},c.prototype._getSupportedDrivers=function(f){for(var a,e=[],b=0,c=f.length;b<c;b++)a=f[b],this.supports(a)&&e.push(a);return e},c.prototype._wrapLibraryMethodsWithReady=function(){for(var b=0;b<ea.length;b++)w(this,ea[b])},c.prototype.createInstance=function(a){return new c(a)},c}(),la=new ka;a.exports=la},{3:3}]},{},[4])(4)});</script><script>(()=>{var a=Math.max;const b=(a)=>`project-${a}`,c=(a)=>`map-${a}`,d=(a)=>`tileset-${a}`,e=(a)=>`image-${a}`,f=()=>"ui";DTile.buildStorage=DTile.buildStorage||((a)=>a);const g=DTile.buildStorage(class{constructor(a){this.unsavedChanges=!1,this.debug=a,(async()=>{DTile.status.actionInitiated(),await this.migrate(),await this.restore(),DTile.status.actionFinished()})(),window.onbeforeunload=()=>{if(this.unsavedChanges)return!0};let b=DTile.store.getState();DTile.store.subscribe(()=>{this.unsavedChanges=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(async()=>{DTile.status.actionInitiated();try{const a=DTile.store.getState();await this.update(b,a),setTimeout(()=>{b=a,this.unsavedChanges=!1,DTile.status.actionFinished()},200),this.timeout=null}catch(a){DTile.status.actionFailed(a)}},1e3)})}log(a){this.debug&&console.log(`[DTile storage]: ${a}`)}async migrate(){try{const a=await localforage.getItem("state");if(!a)return;console.warn("start migration");const g=Object.entries(a.entities.projects).map(([a,c])=>localforage.setItem(b(a),c)),h=Object.entries(a.entities.maps).map(([a,b])=>localforage.setItem(c(a),b)),i=Object.entries(a.entities.tilesets).map(([a,b])=>localforage.setItem(d(a),b));await Promise.all([...g,...h,...i,localforage.setItem(f(),a.ui)]);const j=[],k=[];await localforage.iterate((a,b)=>{const c=b.match(/tilesetImage-(\d+)/);if(c){const b=c[1];k.push(b),a.imageId=b,j.push(localforage.setItem(e(b),a))}}),await Promise.all(j),await localforage.removeItem("state"),await Promise.all(k.map((a)=>localforage.removeItem(`tilesetImage-${a}`)))}catch(a){}}async restore(){try{DTile.status.actionInitiated(),this.log("Restoring projects..."),await localforage.iterate((a,b)=>{const c=b.match(/project-(\d+)/);c&&this.syncProject(c[1])}),this.log("Restoring UI..."),await this.syncUI(),DTile.status.actionFinished()}catch(a){throw DTile.status.actionFailed(a),a}}async update(a,b){const c=a.entities,d=b.entities,e=[];c.projects!==d.projects&&Object.keys(c.projects).filter((a)=>!d.projects[a]).forEach((a)=>e.push(this.removeProject(a))),Object.entries(d.projects).forEach(([a,b])=>{c.projects[a]!==b&&e.push(this.saveProject(a))}),c.maps!==d.maps&&Object.keys(c.maps).filter((a)=>!d.maps[a]).forEach((a)=>e.push(this.removeProject(a))),Object.entries(d.maps).forEach(([a,b])=>{c.maps[a]&&c.maps[a].present===b.present||e.push(this.saveMap(a))}),c.tilesets!==d.tilesets&&Object.keys(c.tilesets).filter((a)=>!d.tilesets[a]).forEach((a)=>e.push(this.removeProject(a))),Object.entries(d.tilesets).forEach(([a,b])=>{c.tilesets[a]!==b&&e.push(this.saveTileset(a))}),a.ui!==b.ui&&e.push(this.saveUI()),await Promise.all(e)}async removeProject(a){const c=b(a);this.log(`Remove ${c}`),await localforage.removeItem(c)}async removeMap(a){const b=c(a);this.log(`Remove ${b}`),await localforage.removeItem(b)}async removeTileset(a){const b=d(a);this.log(`Remove ${b}`),await localforage.removeItem(b)}async saveProject(a){const c=b(a),d=DTile.store.getState().entities.projects[a];this.log(`Save ${c}`),await localforage.setItem(c,d)}async saveMap(a){const b=c(a),d=DTile.store.getState().entities.maps[a].present;this.log(`Save ${b}`),await localforage.setItem(b,d)}async saveTileset(a){const b=d(a),c=DTile.store.getState().entities.tilesets[a];this.log(`Save ${b}`),await localforage.setItem(b,c)}async saveUI(){const a=f(),b=DTile.store.getState().ui;this.log(`Save ${a}`),await localforage.setItem(a,b)}async addImage(a,b){DTile.status.actionInitiated();const c=await fetch(b),d=await c.blob(),f=e(a);this.log(`Add image ${f}`),await localforage.setItem(f,d),DTile.status.actionFinished()}async syncProject(a){try{if(DTile.store.getState().entities.projects[a])return;DTile.status.actionInitiated();const c=b(a);this.log(`Sync ${c}`);const d=await localforage.getItem(c);DTile.store.dispatch({type:"SYNC_PROJECT",payload:{projectId:a,project:d}}),DTile.status.actionFinished()}catch(a){throw DTile.status.actionFailed(a),a}}async syncMap(a){try{if(DTile.store.getState().entities.maps[a])return;DTile.status.actionInitiated();const b=c(a);this.log(`Sync ${b}`);const d=await localforage.getItem(b);DTile.store.dispatch({type:"SYNC_MAP",payload:{mapId:a,map:d}}),DTile.status.actionFinished()}catch(a){throw DTile.status.actionFailed(a),a}}async syncTileset(a){try{if(DTile.store.getState().entities.tilesets[a])return;DTile.status.actionInitiated();const b=d(a);this.log(`Sync ${b}`);const c=await localforage.getItem(b);c.imageId!==void 0&&(c.url=await this.getImageUrl(c.imageId)),DTile.store.dispatch({type:"SYNC_TILESET",payload:{tilesetId:a,tileset:c}}),DTile.status.actionFinished()}catch(a){throw DTile.status.actionFailed(a),a}}async syncUI(){try{if(1<Object.keys(DTile.store.getState().ui).length)return;DTile.status.actionInitiated();const a=f();this.log(`Sync ${a}`);const b=await localforage.getItem(a);if(!b)return void DTile.status.actionFinished();DTile.store.dispatch({type:"SYNC_UI",payload:{ui:b}}),DTile.status.actionFinished()}catch(a){throw DTile.status.actionFailed(a),a}}async getImageUrl(a){return URL.createObjectURL((await localforage.getItem(e(a))))}async getAvailableProjectId(){let b=0;return await localforage.iterate((c,d)=>{const e=d.match(/project-(\d+)/);e&&(b=a(b,parseInt(e[1])+1))}),b}async getAvailableMapId(){let b=0;return await localforage.iterate((c,d)=>{const e=d.match(/map-(\d+)/);e&&(b=a(b,parseInt(e[1])+1))}),b}async getAvailableTilesetId(){let b=0;return await localforage.iterate((c,d)=>{const e=d.match(/tileset-(\d+)/);e&&(b=a(b,parseInt(e[1])+1))}),b}async getAvailableImageId(){let b=0;return await localforage.iterate((c,d)=>{const e=d.match(/image-(\d+)/);e&&(b=a(b,parseInt(e[1])+1))}),b}});DTile.storage=new g})(!0);</script><dom-module id="dtile-app" assetpath="src/dtile-app/"><template><style>:host,dtile-shell,iron-pages,iron-pages>*{display:block;width:100%;height:100%}#file-drop-zone{position:fixed;top:0;right:0;bottom:0;left:0;width:100vw;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;background:rgba(255,255,255,.8);opacity:0;transition:opacity .2s}#file-drop-zone>iron-icon{--iron-icon-height:72px;--iron-icon-width:72px;margin:30px}</style><div id="file-drop-zone"><iron-icon icon="file-upload"></iron-icon>Drop file to import it</div><app-location id="location" route="{{route}}"></app-location><paper-dialog id="meta-editor-dialog" with-backdrop=""><h2>Edit meta data</h2><dtile-meta-editor id="meta-editor"></dtile-meta-editor><div class="buttons"><paper-button dialog-dismiss="" on-tap="_metaDialogClose">Cancel</paper-button><paper-button dialog-confirm="" on-tap="_metaDialogClose">Apply</paper-button></div></paper-dialog><rename-dialog></rename-dialog><dtile-shell><iron-pages id="pages" selected="[[pageView]]" attr-for-selected="page"><dtile-projects-view page="projects"></dtile-projects-view><dtile-project-view page="project"></dtile-project-view><dtile-tileset-editor page="edit-tileset"></dtile-tileset-editor><dtile-map-editor page="edit-map"></dtile-map-editor><dtile-tileset-importer page="import-tileset"></dtile-tileset-importer><dtile-new-map-page page="new-map"></dtile-new-map-page></iron-pages></dtile-shell></template></dom-module><script>window.DTile=window.DTile||{};class DTileApp extends DTile.ReduxMixin(Polymer.Element){static get is(){return"dtile-app"}static get properties(){return{route:String,page:{type:String,statePath:"ui.currentPage"},pageView:String,uiState:{type:Object,statePath:"ui"},pageId:{type:String,computed:"_getIdForPage(page, uiState)"},isReady:Boolean}}static get observers(){return["_pageStateUpdated(page, pageId)","_pathUpdated(route.path)"]}ready(){super.ready();const a=(a,b)=>{b&&(b.stopPropagation(),b.preventDefault(),b.dataTransfer.dropEffect="copy"),this.$["file-drop-zone"].style.opacity=a?1:0};this.addEventListener("dragover",(b)=>a(!0,b)),this.addEventListener("dragleave",(b)=>a(!1,b)),this.addEventListener("drop",(b)=>{b.stopPropagation(),b.preventDefault(),a(!1);const c=this.shadowRoot.querySelector(".iron-selected");c.dispatchEvent(new CustomEvent("dtile-file-import",{bubbles:!0,detail:{files:[...b.dataTransfer.files]}}))}),this.addEventListener("dtile-open-meta",(a)=>{const b=this.$["meta-editor-dialog"];this._metaCallback=a.detail.callback,this.$["meta-editor"].context=a.detail.context,this.$["meta-editor"].metaType=a.detail.metaType,this.$["meta-editor"].meta=a.detail.meta,this.$["meta-editor"].prepare(),b.open()}),"#r"===location.hash&&window.history.back()}_metaDialogClose(a){a.target.hasAttribute("dialog-confirm")?this._metaCallback(this.$["meta-editor"].buildMeta()):this._metaCallback()}_pageStateUpdated(a,b){if(!a)return;let c;if(this._previousPage!==a)this._previousPage=a,c=!0;else if(this._previousPageId!==b)this._previousPageId=b;else return;if(c){this._previousView&&this._previousView.dispatchEvent(new CustomEvent("dtile-page-away"));const b={iterations:1,duration:200};this.$.pages.animate([{opacity:1,transform:"translate(0, 0)"},{opacity:0,transform:"translate(0, 40px)"}],b).onfinish=()=>{this.pageView=a,this.$.pages.animate([{opacity:0,transform:"translate(0, -40px)"},{opacity:1,transform:"translate(0, 0)"}],b),requestAnimationFrame(()=>{const a=this.shadowRoot.querySelector(".iron-selected");a&&(a.dispatchEvent(new CustomEvent("dtile-page-to")),this._previousView=a)})}}const d=`/${a}${null===b?"":`/${b}`}`;d!==location.pathname&&(history.pushState(null,null,d),window.dispatchEvent(new CustomEvent("location-changed")))}_pathUpdated(a){const b=!DTile.disablePrefix&&"/DTile"===a;if("/"===a||b)return history.replaceState(null,null,(b?"/DTile":"")+"/projects"),void window.dispatchEvent(new CustomEvent("location-changed"));if(this._previousPathname!==a){const b=new RegExp((DTile.disablePrefix?"":"(?:\\/DTile)?")+"\\/([\\w-]+)(?:\\/(\\d+))?"),[c,d,e]=a.match(b);if(this.page!=d||this._getIdForPage(d)!=e){const a={page:d};if(e){const b=("edit-map"===d?"map":d)+"Id";a[b]=e}this.dispatch("setCurrentPage",a)}this._previousPathname=a}}_getIdForPage(a){if("project"===a)return this.getState().ui.currentProjectId;return"edit-map"===a?this.getState().ui.currentMapId:"edit-tileset"===a?this.getState().ui.currentTilesetId:null}}customElements.define(DTileApp.is,DTileApp);function r(){window.location.href="/#r"}</script><style is="custom-style" include="iron-positioning"></style></div><dtile-app></dtile-app><noscript><style>#container{display:flex;justify-content:center;align-items:center;flex-direction:column;position:fixed;width:100%;height:100%;font-family:Tahoma,Geneva,sans-serif}h1{font-size:40px;display:block}</style><div id="container"><h1>Uh-oh!</h1><span>JavaScript is disabled. Enable JavaScript / scripts in your browser settings to use DTile.</span></div></noscript></body></html>